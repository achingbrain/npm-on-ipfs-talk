<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="Alex Potsides">
    <meta name="description" content="A brief primer on IPFS, then a look at a use case">
    <title>npm on IPFS</title>
    <link rel="stylesheet" type="text/css" href="css/slides.css">
  </head>
  <body>
    <article>
      <section data-bespoke-backdrop="nebula">
        <h1>npm on IPFS</h1>
        <aside style="font-size: 50px">
          <li>Hello world</li>
        </aside>
      </section>
      <section>
        <h2>Alex Potsides</h2>
        <p class="bullet">JavaScript Developer at Protocol Labs</p>
        <p class="bullet">Working on IPFS</p>
        <p class="bullet">@achingbrain on GitHub and Twitter</p>
        <aside style="font-size: 50px">
          <li>Who am I</li>
        </aside>
      </section>
      <section><img src="images/npm-on-ipfs.jpg">
        <aside style="font-size: 50px">
          <li>A way to install your dependencies using the power of the distributed web</li>
        </aside>
      </section>
      <section><img src="images/npm-logo.svg">
        <aside style="font-size: 50px">
          <li>npm</li>
          <li>largest package registry in the world</li>
          <li>over 850k packages</li>
          <li>over 36 billion downloads a month</li>
        </aside>
      </section>
      <section><img src="images/ipfs.svg">
        <aside style="font-size: 50px">
          <li>What is IPFS</li>
          <li>Content addressed</li>
          <li>Distributed File System</li>
          <li>Used to build distributed applications</li>
        </aside>
      </section>
      <section data-bespoke-backdrop="sunrise">
        <p>
          <pre><code>npm install --registry=https://registry.js.ipfs.io</code></pre>
          <pre><code>yarn --registry=https://registry.js.ipfs.io</code></pre>
        </p>
        <aside style="font-size: 50px">
          <li>IPFS</li>
          <li>How does it work</li>
        </aside>
      </section>
      <section><img src="images/registry-proxy-3.png">
        <aside style="font-size: 50px">
          <li>we stuck an nginx on it</li>
          <li>load balances to IPFS nodes</li>
          <li>nodes keep content available on the network</li>
        </aside>
      </section>
      <section>
        <h2>ipfs-npm</h2>
        <pre>npm install -g ipfs-npm</pre>
        <pre class="bullet">ipfs-npm install</pre>
        <p class="bullet">or</p>
        <pre class="bullet">ipfs-yarn</pre>
        <aside style="font-size: 50px">
          <li>Supports yarn too</li>
        </aside>
      </section>
      <section>
        <h1>Demo</h1>
        <aside style="font-size: 50px">
          <li>ipfs-npm init</li>
          <li>ipfs-npm install --save bignumber</li>
          <li>offline</li>
          <li>turn off wifi</li>
          <li>ipfs-npm install --save bignumber --request-retries=1</li>
        </aside>
      </section>
      <section><img src="images/ipfs-npm-internals.png">
        <aside style="font-size: 50px">
          <li>starts a webserver and an IPFS node</li>
          <li>stores module to hash mappings in mfs</li>
          <li>uses IPFS node to serve content with hashes</li>
          <li>fetches non-hashed content from npm and hashes it</li>
          <li>proxies all other requests to public npm registry (publishing etc)</li>
        </aside>
      </section>
      <section><img src="images/ipfs-npm-replication.png">
        <aside style="font-size: 50px">
          <li>replication nodes seeding IPFS with content</li>
          <li>running 24x7</li>
          <li>what next?</li>
          <li>add ipfs as a transport to npm</li>
          <li>add ipfs hashes to npm registry</li>
          <li>publishing to IPFS?</li>
          <li>no central registry?</li>
        </aside>
      </section>
      <section>
        <h1>Next</h1>
        <aside style="font-size: 50px"></aside>
      </section>
      <section>
        <h2>Distributed publishing</h2>
        <li class="bullet">https://github.com/zkat/pacote/pull/173</li>
        <li class="bullet">Publish a packument over IPNS</li>
        <pre class="bullet">"my-module": "ipns://Qmfoo#^1.0.0"</pre>
      </section>
      <section>
        <h2>npm-in-a-box</h2>
        <li class="bullet">A local-network npm proxy on a Raspberry Pi</li>
        <li class="bullet">Cache npm modules for you</li>
        <li class="bullet">Connected to the IPFS network</li>
        <li class="bullet">Publish IPNS names for your published modules</li>
      </section>
      <section>
        <h2>Thanks!</h2>
        <p>
          <pre>https://github.com/ipfs/js-ipfs</pre>
          <pre>https://github.com/ipfs-shipyard/npm-on-ipfs</pre>
          <pre>https://github.com/ipfs-shipyard/ipfs-npm-registry-mirror</pre>
        </p>
        <p>Alex Potsides</p><small>@achingbrain</small>
      </section>
      <section>
        <h2>Q&amp;A</h2>
        <p>
          <pre>https://github.com/ipfs/js-ipfs</pre>
          <pre>https://github.com/ipfs-shipyard/npm-on-ipfs</pre>
          <pre>https://github.com/ipfs-shipyard/ipfs-npm-registry-mirror</pre>
        </p>
        <p>Alex Potsides</p><small>@achingbrain</small>
      </section>
    </article>
    <script src="js/slides.js"></script>
  </body>
</html>