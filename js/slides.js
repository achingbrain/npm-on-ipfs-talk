"use strict";function _typeof(e){function t(e){return n.apply(this,arguments)}var n,r;function i(e){return r.apply(this,arguments)}return(_typeof="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?(r=function(e){return void 0===e?"undefined":_typeof(e)},i.toString=function(){return r.toString()},i):(n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)},t.toString=function(){return n.toString()},t))(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}i.m=n,i.c=r,i.p="",i(0)}([function(e,t,n){n(1);var r=n(2),i=n(3),o=n(4),a=n(5),s=n(6),c=n(7),l=n(8),u=n(9),d=n(10),f=n(11),p=n(13),g=[i(),o(),a(),s(".delayed, .bullet"),c(),l(),u(),d(),f(),p()];try{n(!function(){var e=new Error('Cannot find module "plugins"');throw e.code="MODULE_NOT_FOUND",e}())(g)}catch(e){}var h=r.from("article",g);try{n(14)(h)}catch(e){}},function(t,e){(function(e){var l=function(l){var u=/\blang(?:uage)?-([\w-]+)\b/i,t=0,C={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof L?new L(e.type,C.util.encode(e.content),e.alias):Array.isArray(e)?e.map(C.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function n(e,r){var i,t,o=C.util.type(e);switch(r=r||{},o){case"Object":if(t=C.util.objId(e),r[t])return r[t];for(var a in i={},r[t]=i,e)e.hasOwnProperty(a)&&(i[a]=n(e[a],r));return i;case"Array":return t=C.util.objId(e),r[t]?r[t]:(i=[],r[t]=i,e.forEach(function(e,t){i[t]=n(e,r)}),i);default:return e}}},languages:{extend:function(e,t){var n=C.util.clone(C.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(n,e,t,r){var i=(r=r||C.languages)[n],o={};for(var a in i)if(i.hasOwnProperty(a)){if(a==e)for(var s in t)t.hasOwnProperty(s)&&(o[s]=t[s]);t.hasOwnProperty(a)||(o[a]=i[a])}var c=r[n];return r[n]=o,C.languages.DFS(C.languages,function(e,t){t===c&&e!=n&&(this[e]=o)}),o},DFS:function e(t,n,r,i){i=i||{};var o=C.util.objId;for(var a in t)if(t.hasOwnProperty(a)){n.call(t,a,t[a],r||a);var s=t[a],c=C.util.type(s);"Object"!==c||i[o(s)]?"Array"!==c||i[o(s)]||(i[o(s)]=!0,e(s,n,a,i)):(i[o(s)]=!0,e(s,n,null,i))}}},plugins:{},highlightAll:function(e,t){C.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};C.hooks.run("before-highlightall",r);for(var i,o=r.elements||e.querySelectorAll(r.selector),a=0;i=o[a++];)C.highlightElement(i,!0===t,r.callback)},highlightElement:function(e,t,n){for(var r,i,o=e;o&&!u.test(o.className);)o=o.parentNode;o&&(r=(o.className.match(u)||[,""])[1].toLowerCase(),i=C.languages[r]),e.className=e.className.replace(u,"").replace(/\s+/g," ")+" language-"+r,e.parentNode&&(o=e.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(u,"").replace(/\s+/g," ")+" language-"+r));function a(e){s.highlightedCode=e,C.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,C.hooks.run("after-highlight",s),C.hooks.run("complete",s),n&&n.call(s.element)}var s={element:e,language:r,grammar:i,code:e.textContent};if(C.hooks.run("before-sanity-check",s),s.code)if(C.hooks.run("before-highlight",s),s.grammar)if(t&&l.Worker){var c=new Worker(C.filename);c.onmessage=function(e){a(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else a(C.highlight(s.code,s.grammar,s.language));else a(C.util.encode(s.code));else C.hooks.run("complete",s)},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};return C.hooks.run("before-tokenize",r),r.tokens=C.tokenize(r.code,r.grammar),C.hooks.run("after-tokenize",r),L.stringify(C.util.encode(r.tokens),r.language)},matchGrammar:function(e,t,n,r,i,o,a){for(var s in n)if(n.hasOwnProperty(s)&&n[s]){if(s==a)return;var c=n[s];c="Array"===C.util.type(c)?c:[c];for(var l=0;l<c.length;++l){var u=c[l],d=u.inside,f=!!u.lookbehind,p=!!u.greedy,g=0,h=u.alias;if(p&&!u.pattern.global){var m=u.pattern.toString().match(/[imuy]*$/)[0];u.pattern=RegExp(u.pattern.source,m+"g")}u=u.pattern||u;for(var v=r,b=i;v<t.length;b+=t[v].length,++v){var y=t[v];if(t.length>e.length)return;if(!(y instanceof L)){if(p&&v!=t.length-1){if(u.lastIndex=b,!(j=u.exec(e)))break;for(var w=j.index+(f?j[1].length:0),k=j.index+j[0].length,x=v,E=b,A=t.length;x<A&&(E<k||!t[x].type&&!t[x-1].greedy);++x)(E+=t[x].length)<=w&&(++v,b=E);if(t[v]instanceof L)continue;S=x-v,y=e.slice(b,E),j.index-=b}else{u.lastIndex=0;var j=u.exec(y),S=1}if(j){f&&(g=j[1]?j[1].length:0);k=(w=j.index+g)+(j=j[0].slice(g)).length;var O=y.slice(0,w),N=y.slice(k),F=[v,S];O&&(++v,b+=O.length,F.push(O));var _=new L(s,d?C.tokenize(j,d):j,h,j,p);if(F.push(_),N&&F.push(N),Array.prototype.splice.apply(t,F),1!=S&&C.matchGrammar(e,t,n,v,b,!0,s),o)break}else if(o)break}}}}},tokenize:function(e,t){var n=[e],r=t.rest;if(r){for(var i in r)t[i]=r[i];delete t.rest}return C.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=C.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=C.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:L};function L(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}if(l.Prism=C,L.stringify=function(t,n,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map(function(e){return L.stringify(e,n,t)}).join("");var r={type:t.type,content:L.stringify(t.content,n,e),tag:"span",classes:["token",t.type],attributes:{},language:n,parent:e};if(t.alias){var i=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(r.classes,i)}C.hooks.run("wrap",r);var o=Object.keys(r.attributes).map(function(e){return e+'="'+(r.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+(o?" "+o:"")+">"+r.content+"</"+r.tag+">"},!l.document)return l.addEventListener&&(C.disableWorkerMessageHandler||l.addEventListener("message",function(e){var t=JSON.parse(e.data),n=t.language,r=t.code,i=t.immediateClose;l.postMessage(C.highlight(r,C.languages[n],n)),i&&l.close()},!1)),C;var e=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return e&&(C.filename=e.src,C.manual||e.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(C.highlightAll):window.setTimeout(C.highlightAll,16):document.addEventListener("DOMContentLoaded",C.highlightAll))),C}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});void 0!==t&&t.exports&&(t.exports=l),void 0!==e&&(e.Prism=l),l.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},l.languages.markup.tag.inside["attr-value"].inside.entity=l.languages.markup.entity,l.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(l.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:l.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:l.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:r},l.languages.insertBefore("markup","cdata",i)}}),l.languages.xml=l.languages.extend("markup",{}),l.languages.html=l.languages.markup,l.languages.mathml=l.languages.markup,l.languages.svg=l.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+t.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(l),l.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},l.languages.javascript=l.languages.extend("clike",{"class-name":[l.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),l.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,l.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:l.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:l.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:l.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:l.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),l.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:l.languages.javascript}},string:/[\s\S]+/}}}),l.languages.markup&&l.languages.markup.tag.addInlined("script","javascript"),l.languages.js=l.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(e){e=e||document;var c={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(e.querySelectorAll("pre[data-src]")).forEach(function(e){if(!e.hasAttribute("data-src-loaded")){for(var t,n=e.getAttribute("data-src"),r=e,i=/\blang(?:uage)?-([\w-]+)\b/i;r&&!i.test(r.className);)r=r.parentNode;if(r&&(t=(e.className.match(i)||[,""])[1]),!t){var o=(n.match(/\.(\w+)$/)||[,""])[1];t=c[o]||o}var a=document.createElement("code");a.className="language-"+t,e.textContent="",a.textContent="Loading…",e.appendChild(a);var s=new XMLHttpRequest;s.open("GET",n,!0),s.onreadystatechange=function(){4==s.readyState&&(s.status<400&&s.responseText?(a.textContent=s.responseText,l.highlightElement(a),e.setAttribute("data-src-loaded","")):400<=s.status?a.textContent="✖ Error "+s.status+" while fetching file: "+s.statusText:a.textContent="✖ Error: File does not exist or is empty")},s.send(null)}}),l.plugins.toolbar&&l.plugins.toolbar.registerButton("download-file",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var n=t.getAttribute("data-src"),r=document.createElement("a");return r.textContent=t.getAttribute("data-download-link-label")||"Download",r.setAttribute("download",""),r.href=n,r}})},document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()}))}).call(e,function(){return this}())},function(e,t){e.exports={from:function(e,t){function r(e,t){o[e]&&(l("deactivate",u(a,t)),a=o[e],l("activate",u(a,t)))}function n(e,t){var n=o.indexOf(a)+e;l(0<e?"next":"prev",u(a,t))&&r(n,t)}var i=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),o=[].filter.call("string"==typeof e.slides?i.querySelectorAll(e.slides):e.slides||i.children,function(e){return"SCRIPT"!==e.nodeName}),a=o[0],s={},c=function(e,t){s[e]=(s[e]||[]).filter(function(e){return e!==t})},l=function(e,n){return(s[e]||[]).reduce(function(e,t){return e&&!1!==t(n)},!0)},u=function(e,t){return(t=t||{}).index=o.indexOf(e),t.slide=e,t},d={on:function(e,t){return(s[e]||(s[e]=[])).push(t),c.bind(null,e,t)},off:c,fire:l,slide:function(e,t){if(!arguments.length)return o.indexOf(a);l("slide",u(o[e],t))&&r(e,t)},next:n.bind(null,1),prev:n.bind(null,-1),parent:i,slides:o};return(t||[]).forEach(function(e){e(d)}),r(0),d}}},function(e,t,n){var r;r=function(){return function r(i,o,a){function s(n,e){if(!o[n]){if(!i[n]){if(c)return c(n,!0);throw new Error("Cannot find module '"+n+"'")}var t=o[n]={exports:{}};i[n][0].call(t.exports,function(e){var t=i[n][1][e];return s(t||e)},t,t.exports,r,i,o,a)}return o[n].exports}for(var c=!1,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){var r=e("bespoke-classes"),i=e("insert-css");t.exports=function(){return i('/*! normalize.css v3.0.0 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:0 0}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b{font-weight:700}dfn{font-style:italic}h1{font-size:2em}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-size:1em}kbd,pre,samp{font-family:monospace,monospace}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th,*{padding:0}*{margin:0}html{-webkit-text-size-adjust:auto;-ms-text-size-adjust:auto;text-size-adjust:auto}.bespoke-parent{font-size:1.5em;background:#111;color:#ddd;font-family:futura,helvetica,arial,arial,sans-serif;overflow:hidden;text-align:center;-webkit-transition:background 1s ease;transition:background 1s ease;background-position:50% 50%}.bespoke-parent,.bespoke-scale-parent{position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-scale-parent{pointer-events:none;z-index:1}.bespoke-scale-parent .bespoke-active{pointer-events:auto}.bespoke-slide{-webkit-transition:opacity .5s ease;transition:opacity .5s ease;width:940px;height:480px;position:absolute;top:50%;left:50%;margin-left:-470px;margin-top:-240px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:1}.bespoke-active{-webkit-transition-delay:.5s;transition-delay:.5s}.bespoke-active[data-bespoke-backdrop]{-webkit-transition-delay:.75s;transition-delay:.75s}.bespoke-inactive{opacity:0;pointer-events:none}.bespoke-backdrop{-webkit-transition:opacity 1s ease;position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-progress-parent{position:absolute;top:0;left:0;right:0;height:.3vw;z-index:1}.bespoke-progress-bar{background:#ddd;position:absolute;top:0;left:0;height:100%;-webkit-transition:width 1s ease;transition:width 1s ease}.bespoke-bullet{-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.bespoke-bullet-inactive{opacity:0}strong{font-weight:400}hr{width:50%;margin:1rem auto;height:1px;border:0;background:#ddd}h3,p,li{padding-left:20px;padding-right:20px}h3,h4,p,li,pre{font-weight:200}h1{line-height:1.4em;padding:1em;border:1px solid #ddd;border-left-width:0;border-right-width:0;min-width:8em}h1,h2{letter-spacing:.3em;text-transform:uppercase;font-weight:400;margin:.17em 0;position:relative}h2{line-height:1.1em;padding:0 0 0 .3em}h3{font-family:didot,times new roman,serif;font-style:italic;font-size:1.2em;line-height:1.6em;margin:.5em 0}h4{text-transform:uppercase;font-size:.8em;line-height:1.8em;letter-spacing:.3em;margin:1em 0}ul,ol{padding:0;margin:0;text-align:left}li{list-style:none;margin:.2em;font-style:normal;-webkit-transform:translateX(-6px);-ms-transform:translateX(-6px);transform:translateX(-6px)}li:before{content:\'\\2014\';margin-right:4px}pre{background:none!important}code{font-family:prestige elite std,consolas,courier new,monospace!important;font-style:normal;font-weight:200!important;text-align:left}a{padding-left:.3em;color:currentColor;text-decoration:none;border-bottom:1px solid currentColor}.emphatic{background:#f30}.single-words{word-spacing:9999px;line-height:2.9em;overflow:hidden}.bespoke-backdrop{opacity:0;-webkit-transition:opacity 1s ease,-webkit-transform 6s ease;transition:opacity 1s ease,transform 6s ease;background-size:cover;background-position:50% 50%;-webkit-transform:translateZ(0)scale(1.3);transform:translateZ(0)scale(1.3)}.bespoke-backdrop-active,.bespoke-backdrop-before{-webkit-transform:translateZ(0);transform:translateZ(0)}.bespoke-backdrop-before{-webkit-transition-delay:.2s;transition-delay:.2s}.bespoke-backdrop-active{opacity:.5}',{prepend:!0}),function(e){r()(e)}}},{"bespoke-classes":2,"insert-css":3}],2:[function(e,t,n){t.exports=function(){return function(o){function a(e,t){e.classList.add("bespoke-"+t)}function s(e,t){e.className=e.className.replace(new RegExp("bespoke-"+t+"(\\s|$)","g")," ").trim()}function t(e,t){var n=o.slides[o.slide()],r=t-o.slide(),i=0<r?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(s.bind(null,e)),e!==n&&["inactive",i,i+"-"+Math.abs(r)].map(a.bind(null,e))}a(o.parent,"parent"),o.slides.map(function(e){a(e,"slide")}),o.on("activate",function(e){o.slides.map(t),a(e.slide,"active"),s(e.slide,"inactive")})}}},{}],3:[function(e,t,n){var i={};t.exports=function(e,t){if(!i[e]){i[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var r=document.getElementsByTagName("head")[0];t&&t.prepend?r.insertBefore(n,r.childNodes[0]):r.appendChild(n)}}},{}]},{},[1])(1)},e.exports=r()},function(e,t){e.exports=function(e){return function(t){var n="vertical"!==e;document.addEventListener("keydown",function(e){(34==e.which||32==e.which&&!e.shiftKey||n&&39==e.which||!n&&40==e.which)&&t.next(),(33==e.which||32==e.which&&e.shiftKey||n&&37==e.which||!n&&38==e.which)&&t.prev()})}}},function(e,t){e.exports=function(i){return function(e){var t,n,r="vertical"==i?"Y":"X";e.parent.addEventListener("touchstart",function(e){1==e.touches.length&&(t=e.touches[0]["page"+r],n=0)}),e.parent.addEventListener("touchmove",function(e){1==e.touches.length&&(e.preventDefault(),n=e.touches[0]["page"+r]-t)}),e.parent.addEventListener("touchend",function(){50<Math.abs(n)&&e[0<n?"prev":"next"]()})}}},function(e,t){e.exports=function(a){return function(e){var t,n,o=e.slides.map(function(e){return[].slice.call(e.querySelectorAll("string"==typeof a?a:"[data-bespoke-bullet]"),0)}),r=function(r,i){t=r,n=i,o.forEach(function(e,n){e.forEach(function(e,t){e.classList.add("bespoke-bullet"),n<r||n===r&&t<=i?(e.classList.add("bespoke-bullet-active"),e.classList.remove("bespoke-bullet-inactive")):(e.classList.add("bespoke-bullet-inactive"),e.classList.remove("bespoke-bullet-active")),n===r&&t===i?e.classList.add("bespoke-bullet-current"):e.classList.remove("bespoke-bullet-current")})})},i=function(e){return void 0!==o[t][n+e]};e.on("next",function(){var e=t+1;if(i(1))return r(t,n+1),!1;o[e]&&r(e,0)}),e.on("prev",function(){var e=t-1;if(i(-1))return r(t,n-1),!1;o[e]&&r(e,o[e].length-1)}),e.on("slide",function(e){r(e.index,0)}),r(0,0)}}},function(e,t){e.exports=function(){return function(r){var i;function e(e){if(e){var t=i.indexOf(e),n=r.slide();o(e,"active"),o(e,"inactive"),o(e,"before"),o(e,"after"),t!==n?(a(e,"inactive"),a(e,t<n?"before":"after")):a(e,"active")}}function o(e,t){e.classList.remove("bespoke-backdrop-"+t)}function a(e,t){e.classList.add("bespoke-backdrop-"+t)}i=r.slides.map(function(e){var t=e.getAttribute("data-bespoke-backdrop");if(t){var n=document.createElement("div");return n.className=t,n.classList.add("bespoke-backdrop"),r.parent.appendChild(n),n}}),r.on("activate",function(){i.forEach(e)})}}},function(e,t){e.exports=function(d){return function(e){function t(){var e=r.offsetWidth/a,t=r.offsetHeight/o;c.forEach(u.bind(null,Math.min(e,t)))}var n,r=e.parent,i=e.slides[0],o=i.offsetHeight,a=i.offsetWidth,s="zoom"===d||"zoom"in r.style&&"transform"!==d,c=s?e.slides:e.slides.map(function(e){var t=document.createElement("div");return t.className="bespoke-scale-parent",e.parentNode.insertBefore(t,e),t.appendChild(e),t}),l=(n="Transform","Moz Webkit O ms".split(" ").reduce(function(e,t){return t+n in r.style?t+n:e},n.toLowerCase())),u=s?function(e,t){t.style.zoom=e}:function(e,t){t.style[l]="scale("+e+")"};window.addEventListener("resize",t),t()}}},function(e,t){e.exports=function(){return function(r){function i(e){var t=-1<e&&e<r.slides.length?e:0;t!==r.slide()&&r.slide(t)}function e(){var n=window.location.hash.slice(1),e=parseInt(n,10);n&&(e?i(e-1):r.slides.forEach(function(e,t){e.getAttribute("data-bespoke-hash")!==n&&e.id!==n||i(t)}))}setTimeout(function(){e(),r.on("activate",function(e){var t=e.slide.getAttribute("data-bespoke-hash")||e.slide.id;window.location.hash=t||e.index+1}),window.addEventListener("hashchange",e)},0)}}},function(e,t){e.exports=function(i){return function(t){var e=document.createElement("div"),n=document.createElement("div"),r="vertical"===i?"height":"width";e.className="bespoke-progress-parent",n.className="bespoke-progress-bar",e.appendChild(n),t.parent.appendChild(e),t.on("activate",function(e){n.style[r]=100*e.index/(t.slides.length-1)+"%"})}}},function(e,t,n){var r=Function("return this")(),o=(r.bespoke&&r.bespoke.plugins&&r.bespoke.plugins.convenient||n(12)).builder("indexfinger");e.exports=function(e){return function(e){o.activateDeck(e);var t={},n=null,r=-1,i={enableActiveSlideListener:function(){t.saveActiveSlide=this.on("activate",i.saveActiveSlide.bind(this))},saveActiveSlide:function(e){n=e.slide,r=e.index},getActiveSlide:function(){return n},getActiveSlideIndex:function(){return r}};e.getActiveSlide=i.getActiveSlide.bind(e),e.getActiveSlideIndex=i.getActiveSlideIndex.bind(e),i.enableActiveSlideListener.call(e)}}},function(e,t){function c(e){!function(t){if(!t)throw l.generateErrorObject("deck must be defined.");return i.some(function(e){return e.deck===t})}(e)&&i.push({deck:e,storage:{}})}var l,n,u=Function("return this")(),r={logger:{log:function(){console.log.apply(console,arguments)}}},d={},i=[];d.builder=function(t){if(!t)throw l.generateErrorObject("The plugin options were not properly defined.");if("string"==typeof t&&(t={pluginName:t}),"string"!=typeof t.pluginName)throw l.generateErrorObject("The plugin name was not properly defined.");function o(e,t,n,r,i,o){return d.createEventData.call(e,t,n,r,i,o)}function e(e,t,n,r,i){return e.fire(function(e){return s+"."+e}(t),o(e,s,t,n,r,i))}function n(e){if(function(e,t){if(!e)throw l.generateErrorObject("pluginName must be defined.");if(!t)throw l.generateErrorObject("deck must be defined.");var n=d.getDeckStorage(t);return!(!n||!n[e])}(t.pluginName,e))throw l.generateErrorObject("The '"+t.pluginName+"' plugin has already been activated for this deck, can't activate it twice.")}function r(e){return n(e),function(e,t){if(!e)throw l.generateErrorObject("pluginName must be defined.");if(!t)throw l.generateErrorObject("deck must be defined.");var n=d.getDeckStorage(t);n||(c(t),n=d.getDeckStorage(t)),n[e]={}}(t.pluginName,e),function(e){var t={};return t.createEventData=i.createEventData.bind(this,e),t.fire=i.fire.bind(this,e),t.getStorage=i.getStorage.bind(this,e),t.log=i.log.bind(this,e),t}(e)}var i={},a="bespoke."+t.pluginName,s=t.pluginName;return function(){i.createEventData=o.bind(this),i.generateErrorObject=function(e){return new Error(a+": "+e)}.bind(this),i.fire=e.bind(this),i.log=function(){var e=[a];u.convenientOptions.logger.log.apply(u.convenientOptions.logger.log,e.concat(d.copyArray(arguments)))}.bind(this),i.activateDeck=r.bind(this),i.getStorage=d.getDeckPluginStorage.bind(this,t.pluginName)}(),i},d.getDeckStorage=function(t){if(!t)throw l.generateErrorObject("deck must be defined.");var n=null;return i.some(function(e){return e.deck===t&&(n=e.storage,!0)}),n},d.getDeckPluginStorage=function(e,t){if(!e)throw l.generateErrorObject("pluginName must be defined.");if(!t)throw l.generateErrorObject("deck must be defined.");var n=d.getDeckStorage(t);if(!n)throw l.generateErrorObject("storage was not initiated for this deck.");return n[e]},d.createEventData=function(e,t,n,r,i){return(i=i||{}).eventNamespace=e||null,i.eventName=t||null,i.innerEvent=n||null,!function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(r)?(i.index=this.slides.indexOf(r),i.slide=r):(i.index=r,i.slide=this.slides[r]),i},d.copyArray=function(e){return[].slice.call(e,0)},l=d.builder("convenient"),(n={logger:{}}).logger.log=u.convenientOptions&&u.convenientOptions.logger&&u.convenientOptions.logger.log||r.logger.log,u.convenientOptions=n,e.exports=d},function(e,t,n){function l(){return"secondary-window-"+function(e,t){var n;return void 0===t&&(t=e,e=0),n=t-e,e+Math.floor(Math.random()*n)}(1e3,1e4)}var r="secondary",i=Function("return this")(),u=i.bespoke&&i.bespoke.plugins&&i.bespoke.plugins.convenient||n(12),d=u.builder(r),f=(i.bespoke&&i.bespoke.plugins&&i.bespoke.plugins.indexfinger||n(11),{notes:"aside",keys:{toggle:83}});e.exports=function(c){return function(n){function e(e){var t=!1;return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||(t=t||e.which===c.keys.toggle&&o.fire("toggle",e)&&n.secondary.toggle()&&n.secondary.synchronize()),t&&e.preventDefault(),!t}function t(){return n.secondary.close(),null}function r(){n.secondary.synchronize()}var i,o=d.activateDeck(n),a={},s={getNotesElement:function(){return this.secondary.window&&this.secondary.window.document&&this.secondary.window.document.getElementById("notes")},isOpen:function(){var e=this.secondary,t=e.window;return!(void 0===e||null===t||!0===t.closed||t.opener!==window||null===this.secondary.getNotesElement())},open:function(){return this.secondary.isOpen()||(this.secondary.window=window.open(),function(e){e.body.innerHTML="<h1>Notes</h1><div id='notes'></div>"}(this.secondary.window.document)),this.secondary.isOpen()},close:function(){return this.secondary.isOpen()&&this.secondary.window.close(),!this.secondary.isOpen()},focus:function(){return this.secondary.isOpen()&&this.secondary.window.focus(),this.secondary.isOpen()},toggle:function(){return this.secondary.isOpen()?this.secondary.close():this.secondary.open(),this.secondary.isOpen()},synchronize:function(){var e,t,n;return!!this.secondary.isOpen()&&(e=this.secondary.getNotesElement(),t=this.getActiveSlide(),n=u.copyArray(t.querySelectorAll(c.notes)).reduce(function(e,t){return e+t.outerHTML},""),e.innerHTML=n,this.secondary.isOpen())}};c=c||{},(i={}).keys={},i.keys.toggle=c.keys&&c.keys.toggle||f.keys.toggle,i.notes=c.notes||f.notes,c=i,n.secondary={window:null,secondaryWindowName:l(),getNotesElement:s.getNotesElement.bind(n),isOpen:s.isOpen.bind(n),open:s.open.bind(n),close:s.close.bind(n),focus:s.focus.bind(n),toggle:s.toggle.bind(n),synchronize:s.synchronize.bind(n)},window.onbeforeunload=t,document.addEventListener("keydown",e,!1),a.activate=n.on("activate",r)}}},function(e,t,n){var r=n(15),o=n(16),a=n(28),s={ls:n(32),pwd:n(33),mkdir:n(34),touch:n(35),cat:n(36),cd:n(37),rm:n(38),clear:n(39),theme:n(40),version:n(41),npm:n(42),"ipfs-npm":n(45)};s.help={handler:function(e,t){return"Commands: "+Object.keys(s).sort(function(e,t){return e.localeCompare(t)})+'<br>More help available <a class="external" href="http://github.com/sasadjolic/dom-terminal" target="_blank">here</a>'}},e.exports=function(e){try{var i=new r("terminal",{},{execute:function(e,t){var n=s[e];if(!n)return!1;try{t=o(t,n.args);var r=n.handler(i,t);return null==r&&(r=""),"string"==typeof r&&(r=r.replace(/\t/g,"")),r}catch(e){return console.error(e),e.message}}});a()}catch(e){console.error(e)}}},function(r,e){!function(e){var t=t||function(e,t){if(e){var n={welcome:"",prompt:"",separator:"&gt;",theme:"interlaced"};(t=t||n).welcome=t.welcome||n.welcome,t.prompt=t.prompt||n.prompt,t.separator=t.separator||n.separator,t.theme=t.theme||n.theme;var l=Array.prototype.slice.call(arguments,2),u=localStorage.history?JSON.parse(localStorage.history):[],d=u.length,r="",i=document.getElementById(e);i.classList.add("terminal"),i.classList.add("terminal-"+t.theme),i.insertAdjacentHTML("beforeEnd",['<div class="background"><div class="interlace"></div></div>','<div class="container">',"<output></output>",'<table class="input-line">','<tr><td nowrap><div class="prompt">'+t.prompt+t.separator+'</div></td><td width="100%"><input class="cmdline" spellcheck="false" autofocus /></td></tr>',"</table>","</div>"].join(""));var o=i.querySelector(".container"),f=o.querySelector(".input-line"),p=o.querySelector(".input-line .cmdline"),g=o.querySelector("output"),a=o.querySelector(".prompt"),s=document.querySelector(".background");return g.addEventListener("DOMSubtreeModified",function(e){setTimeout(function(){p.scrollIntoView()},0)},!1),t.welcome&&h(t.welcome),i.addEventListener("click",function(e){p.focus()},!1),g.addEventListener("click",function(e){e.stopPropagation()},!1),p.addEventListener("click",function(e){this.value=this.value},!1),f.addEventListener("click",function(e){p.focus()},!1),p.addEventListener("keyup",function(e){27==e.keyCode&&(this.value="",e.stopPropagation(),e.preventDefault());!u.length||38!=e.keyCode&&40!=e.keyCode||(u[d]?u[d]=this.value:r=this.value,38==e.keyCode?--d<0&&(d=0):40==e.keyCode&&++d>u.length&&(d=u.length),this.value=u[d]?u[d]:r,this.value=this.value)},!1),p.addEventListener("keydown",function(e){!function(){var e=p.parentElement;for(;e;){if((e.className||"").includes("active"))return!0;e=e.parentElement}}()||e.stopPropagation();if(13!=e.keyCode)return;var t=this.value;t&&(u[u.length]=t,localStorage.history=JSON.stringify(u),d=u.length);var n=this.parentNode.parentNode.parentNode.parentNode.cloneNode(!0);n.removeAttribute("id"),n.classList.add("line");var r=n.querySelector("input.cmdline");if(r.autofocus=!1,r.readOnly=!0,r.insertAdjacentHTML("beforebegin",r.value),r.parentNode.removeChild(r),g.appendChild(n),f.classList.add("hidden"),this.value="",t&&t.trim()){var i=t.split(" ").filter(function(e,t){return e}),o=i[0];i=i.splice(1)}if(o){var a=!1;for(var s in l){var c=l[s];if(c.execute&&(a=c.execute(o,i)),!1!==a)break}!1===a&&(a=o+": command not found"),h(a||"")}f.classList.remove("hidden")},!0),{clear:function(){g.innerHTML="",p.value="",s.style.minHeight=""},setPrompt:function(e){a.innerHTML=e+t.separator},getPrompt:function(){return a.innerHTML.replace(new RegExp(t.separator+"$"),"")},setTheme:function(e){i.classList.remove("terminal-"+t.theme),t.theme=e,i.classList.add("terminal-"+t.theme)},getTheme:function(){return t.theme},print:h}}function h(e){g.insertAdjacentHTML("beforeEnd",e),p.scrollIntoView()}};if(void 0!==r&&r.exports)r.exports=t;else{var n=e.Terminal;t.noConflict=function(){return e.Terminal=n,t},e.Terminal=t}}(this)},function(t,e,ee){(function(Z){var Y=ee(18),Q=ee(19),V=ee(20),J=ee(21),X=ee(22);function n(e,t){t=t||{},e=J(e);var r=function(t){var n=[],e=!0,r={};Object.keys(t).forEach(function(e){n.push([].concat(t[e],e))});for(;e;){e=!1;for(var i=0;i<n.length;i++)for(var o=i+1;o<n.length;o++){if(n[i].filter(function(e){return-1!==n[o].indexOf(e)}).length){n[i]=n[i].concat(n[o]),n.splice(o,1),e=!0;break}}}return n.forEach(function(e){e=e.filter(function(e,t,n){return n.indexOf(e)===t}),r[e.pop()]=e}),r}(t.alias||{}),c=Object.assign({"short-option-groups":!0,"camel-case-expansion":!0,"dot-notation":!0,"parse-numbers":!0,"boolean-negation":!0,"negation-prefix":"no-","duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"populate--":!1,"combine-arrays":!1,"set-placeholder-key":!1,"halt-at-non-option":!1,"strip-aliased":!1,"strip-dashed":!1},t.configuration),n=t.default||{},i=t.configObjects||[],o=t.envPrefix,a=c["populate--"],s=a?"--":"_",l={},u=t.__||X.format,d=null,f={aliases:{},arrays:{},bools:{},strings:{},numbers:{},counts:{},normalize:{},configs:{},defaulted:{},nargs:{},coercions:{},keys:[]},p=/^-[0-9]+(\.[0-9]+)?/,g=new RegExp("^--"+c["negation-prefix"]+"(.+)");[].concat(t.array).filter(Boolean).forEach(function(e){var t=e.key||e,n=Object.keys(e).map(function(e){return{boolean:"bools",string:"strings",number:"numbers"}[e]}).filter(Boolean).pop();n&&(f[n][t]=!0),f.arrays[t]=!0,f.keys.push(t)}),[].concat(t.boolean).filter(Boolean).forEach(function(e){f.bools[e]=!0,f.keys.push(e)}),[].concat(t.string).filter(Boolean).forEach(function(e){f.strings[e]=!0,f.keys.push(e)}),[].concat(t.number).filter(Boolean).forEach(function(e){f.numbers[e]=!0,f.keys.push(e)}),[].concat(t.count).filter(Boolean).forEach(function(e){f.counts[e]=!0,f.keys.push(e)}),[].concat(t.normalize).filter(Boolean).forEach(function(e){f.normalize[e]=!0,f.keys.push(e)}),Object.keys(t.narg||{}).forEach(function(e){f.nargs[e]=t.narg[e],f.keys.push(e)}),Object.keys(t.coerce||{}).forEach(function(e){f.coercions[e]=t.coerce[e],f.keys.push(e)}),Array.isArray(t.config)||"string"==typeof t.config?[].concat(t.config).filter(Boolean).forEach(function(e){f.configs[e]=!0}):Object.keys(t.config||{}).forEach(function(e){f.configs[e]=t.config[e]}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){Object.keys(e||{}).forEach(function(n){f.aliases[n]||(f.aliases[n]=[].concat(r[n]||[]),f.aliases[n].concat(n).forEach(function(e){if(/-/.test(e)&&c["camel-case-expansion"]){var t=Y(e);t!==n&&-1===f.aliases[n].indexOf(t)&&(f.aliases[n].push(t),l[t]=!0)}}),f.aliases[n].concat(n).forEach(function(e){if(1<e.length&&/[A-Z]/.test(e)&&c["camel-case-expansion"]){var t=Q(e,"-");t!==n&&-1===f.aliases[n].indexOf(t)&&(f.aliases[n].push(t),l[t]=!0)}}),f.aliases[n].forEach(function(t){f.aliases[t]=[n].concat(f.aliases[n].filter(function(e){return t!==e}))}))})})}(t.key,r,t.default,f.arrays),Object.keys(n).forEach(function(t){(f.aliases[t]||[]).forEach(function(e){n[e]=n[t]})});var h={_:[]};Object.keys(f.bools).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&($(e,n[e]),function(e){[].concat(f.aliases[e]||[],e).forEach(function(e){f.defaulted[e]=!0})}(e))});for(var m,v,b,y,w,k,x,E=[],A=0;A<e.length;A++){var j,S,O,N,F,_,C=e[A];if(C.match(/^--.+=/)||!c["short-option-groups"]&&C.match(/^-.+=/))W((N=C.match(/^--?([^=]+)=([\s\S]*)$/))[1],f.nargs)?(e.splice(A+1,0,N[2]),A=T(A,N[1],e)):W(N[1],f.arrays)&&e.length>A+1?(e.splice(A+1,0,N[2]),A=z(A,N[1],e)):$(N[1],N[2]);else if(C.match(g)&&c["boolean-negation"])$(S=C.match(g)[1],!1);else if(C.match(/^--.+/)||!c["short-option-groups"]&&C.match(/^-[^-]+/))W(S=C.match(/^--?(.+)/)[1],f.nargs)?A=T(A,S,e):W(S,f.arrays)&&e.length>A+1?A=z(A,S,e):void 0===(F=0===f.nargs[S]?void 0:e[A+1])||F.match(/^-/)&&!F.match(p)||W(S,f.bools)||W(S,f.counts)?/^(true|false)$/.test(F)?($(S,F),A++):$(S,R(S)):($(S,F),A++);else if(C.match(/^-.\..+=/))$((N=C.match(/^-([^=]+)=([\s\S]*)$/))[1],N[2]);else if(C.match(/^-.\..+/))F=e[A+1],S=C.match(/^-(.\..+)/)[1],void 0===F||F.match(/^-/)||W(S,f.bools)||W(S,f.counts)?$(S,R(S)):($(S,F),A++);else if(C.match(/^-[^-]+/)&&!C.match(p)){O=C.slice(1,-1).split(""),j=!1;for(var L=0;L<O.length;L++){if(F=C.slice(L+2),O[L+1]&&"="===O[L+1]){_=C.slice(L+3),W(S=O[L],f.nargs)?(e.splice(A+1,0,_),A=T(A,S,e)):W(S,f.arrays)&&e.length>A+1?(e.splice(A+1,0,_),A=z(A,S,e)):$(S,_),j=!0;break}if("-"!==F){if(/[A-Za-z]/.test(O[L])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(F)){$(O[L],F),j=!0;break}if(O[L+1]&&O[L+1].match(/\W/)){$(O[L],F),j=!0;break}$(O[L],R(O[L]))}else $(O[L],F)}S=C.slice(-1)[0],j||"-"===S||(W(S,f.nargs)?A=T(A,S,e):W(S,f.arrays)&&e.length>A+1?A=z(A,S,e):void 0===(F=e[A+1])||/^(-|--)[^-]/.test(F)&&!F.match(p)||W(S,f.bools)||W(S,f.counts)?/^(true|false)$/.test(F)?($(S,F),A++):$(S,R(S)):($(S,F),A++))}else{if("--"===C){E=e.slice(A+1);break}if(c["halt-at-non-option"]){E=e.slice(A);break}h._.push(M("_",C))}}P(h,!0),P(h,!1),m=h,B(v={},f.aliases,n),Object.keys(f.configs).forEach(function(t){var n=m[t]||v[t];if(n)try{var r=null,e=V.resolve(Z.cwd(),n);if("function"==typeof f.configs[t]){try{r=f.configs[t](e)}catch(e){r=e}if(r instanceof Error)return void(d=r)}else r=ee(23)(e);I(r)}catch(e){m[t]&&(d=Error(u("Invalid JSON config file: %s",n)))}}),function(){if(void 0===i)return;i.forEach(function(e){I(e)})}(),B(h,f.aliases,n),b=h,w={},Object.keys(b).forEach(function(e){if(!w.hasOwnProperty(e)&&"function"==typeof(y=W(e,f.coercions)))try{var t=y(b[e]);[].concat(f.aliases[e]||[],e).forEach(function(e){w[e]=b[e]=t})}catch(e){d=e}}),c["set-placeholder-key"]&&(k=h,f.keys.forEach(function(e){~e.indexOf(".")||void 0===k[e]&&(k[e]=void 0)})),Object.keys(f.counts).forEach(function(e){H(h,e.split("."))||$(e,0)}),a&&E.length&&(h[s]=[]),E.forEach(function(e){h[s].push(e)}),c["camel-case-expansion"]&&c["strip-dashed"]&&Object.keys(h).filter(function(e){return"--"!==e&&e.includes("-")}).forEach(function(e){delete h[e]}),c["strip-aliased"]&&(x=[]).concat.apply(x,_toConsumableArray(Object.keys(r).map(function(e){return r[e]}))).forEach(function(e){c["camel-case-expansion"]&&delete h[e.split(".").map(function(e){return Y(e)}).join(".")],delete h[e]});function T(e,t,n){var r,i=W(t,f.nargs),o=0;for(r=e+1;r<n.length&&!n[r].match(/^-[^0-9]/);r++)o++;o<i&&(d=Error(u("Not enough arguments following: %s",t)));var a=Math.min(o,i);for(r=e+1;r<a+e+1;r++)$(t,n[r]);return e+a}function z(e,t,n){for(var r=e+1,i=[],o=0<e,a=e+1;a<n.length;a++){if(/^-/.test(n[a])&&!p.test(n[a])){a===r&&$(t,U("array")),o=!0;break}e=a,i.push(n[a])}return o?$(t,i.map(function(e){return D(t,e)})):i.forEach(function(e){$(t,e)}),e}function $(e,t){if(function(e){[].concat(f.aliases[e]||[],e).forEach(function(e){delete f.defaulted[e]})}(e),/-/.test(e)&&c["camel-case-expansion"]){var n=e.split(".").map(function(e){return Y(e)}).join(".");!function e(t,n){f.aliases[t]&&f.aliases[t].length||(f.aliases[t]=[n],l[n]=!0);f.aliases[n]&&f.aliases[n].length||e(n,t)}(e,n)}var r=D(e,t),i=e.split(".");q(h,i,r),f.aliases[e]&&f.aliases[e].forEach(function(e){e=e.split("."),q(h,e,r)}),1<i.length&&c["dot-notation"]&&(f.aliases[i[0]]||[]).forEach(function(e){e=e.split(".");var t=[].concat(i);t.shift(),e=e.concat(t),q(h,e,r)}),W(e,f.normalize)&&!W(e,f.arrays)&&[e].concat(f.aliases[e]||[]).forEach(function(e){h.__defineSetter__(e,function(e){t=V.normalize(e)}),h.__defineGetter__(e,function(){return"string"==typeof t?V.normalize(t):t})})}function D(e,t){"string"!=typeof t||"'"!==t[0]&&'"'!==t[0]||t[t.length-1]!==t[0]||(t=t.substring(1,t.length-1)),(W(e,f.bools)||W(e,f.counts))&&"string"==typeof t&&(t="true"===t);var n=M(e,t);return W(e,f.counts)&&(G(n)||"boolean"==typeof n)&&(n=K),W(e,f.normalize)&&W(e,f.arrays)&&(n=Array.isArray(t)?t.map(V.normalize):V.normalize(t)),n}function M(e,t){W(e,f.strings)||W(e,f.coercions)||(function(e){return null!=e&&("number"==typeof e||(!!/^0x[0-9a-f]+$/i.test(e)||!(1<e.length&&"0"===e[0])&&/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)))}(t)&&c["parse-numbers"]&&Number.isSafeInteger(Math.floor(t))||!G(t)&&W(e,f.numbers))&&(t=Number(t));return t}function I(r,i){Object.keys(r).forEach(function(e){var t=r[e],n=i?i+"."+e:e;"object"===(void 0===t?"undefined":_typeof(t))&&null!==t&&!Array.isArray(t)&&c["dot-notation"]?I(t,n):(!H(h,n.split("."))||f.defaulted[n]||f.arrays[n]&&c["combine-arrays"])&&$(n,t)})}function P(n,r){if(void 0!==o){var i="string"==typeof o?o:"";Object.keys(Z.env).forEach(function(e){if(""===i||0===e.lastIndexOf(i,0)){var t=e.split("__").map(function(e,t){return 0===t&&(e=e.substring(i.length)),Y(e)});!(r&&f.configs[t.join(".")]||!r)||H(n,t)&&!f.defaulted[t.join(".")]||$(t.join("."),Z.env[e])}})}}function B(n,e,r){Object.keys(r).forEach(function(t){H(n,t.split("."))||(q(n,t.split("."),r[t]),(e[t]||[]).forEach(function(e){H(n,e.split("."))||q(n,e.split("."),r[t])}))})}function H(e,t){var n=e;c["dot-notation"]||(t=[t.join(".")]),t.slice(0,-1).forEach(function(e){n=n[e]||{}});var r=t[t.length-1];return"object"===(void 0===n?"undefined":_typeof(n))&&r in n}function q(e,t,n){var r=e;c["dot-notation"]||(t=[t.join(".")]),t.slice(0,-1).forEach(function(e,t){"object"===(void 0===r?"undefined":_typeof(r))&&void 0===r[e]&&(r[e]={}),r="object"!==_typeof(r[e])||Array.isArray(r[e])?(Array.isArray(r[e])?r[e].push({}):r[e]=[r[e],{}],r[e][r[e].length-1]):r[e]});var i=t[t.length-1],o=W(t.join("."),f.arrays),a=Array.isArray(n),s=c["duplicate-arguments-array"];!s&&W(i,f.nargs)&&(s=!0,(!G(r[i])&&1===f.nargs[i]||Array.isArray(r[i])&&r[i].length===f.nargs[i])&&(r[i]=void 0)),n===K?r[i]=K(r[i]):Array.isArray(r[i])?s&&o&&a?r[i]=c["flatten-duplicate-arrays"]?r[i].concat(n):(Array.isArray(r[i][0])?r[i]:[r[i]]).concat([n]):s||Boolean(o)!==Boolean(a)?r[i]=r[i].concat([n]):r[i]=n:void 0===r[i]&&o?r[i]=a?n:[n]:s&&!(void 0===r[i]||W(i,f.bools)||W(t.join("."),f.bools)||W(i,f.counts))?r[i]=[r[i],n]:r[i]=n}function W(e,t){var n=!1;return[].concat(f.aliases[e]||[],e).forEach(function(e){t[e]&&(n=t[e])}),n}function R(e){return!W(e,f.bools)&&!W(e,f.counts)&&""+e in n?n[e]:U(function(e){var t="boolean";W(e,f.strings)?t="string":W(e,f.numbers)?t="number":W(e,f.arrays)&&(t="array");return t}(e))}function U(e){return{boolean:!0,string:"",number:void 0,array:[]}[e]}function G(e){return void 0===e}return{argv:h,error:d,aliases:f.aliases,newAliases:l,configuration:c}}function K(e){return void 0!==e?e+1:1}function e(e,t){return n(e.slice(),t).argv}e.detailed=function(e,t){return n(e.slice(),t)},t.exports=e}).call(e,ee(17))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||u||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){function n(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");var n;return t=Object.assign({pascalCase:!1},t),0===(e=Array.isArray(e)?e.map(function(e){return e.trim()}).filter(function(e){return e.length}).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=function(e){for(var t=!1,n=!1,r=!1,i=0;i<e.length;i++){var o=e[i];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,i)+"-"+e.slice(i),r=n,n=!(t=!1),i++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,t=!(n=!1)):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,r=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e}(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()}).replace(/\d+(\w|$)/g,function(e){return e.toUpperCase()}),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n)}e.exports=n,e.exports.default=n},function(e,t){e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");return t=void 0===t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},function(e,l,t){(function(i){function o(e,t){for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function a(e){return t.exec(e).slice(1)}var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function s(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}l.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:i.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},l.normalize=function(e){var t=l.isAbsolute(e),n="/"===r(e,-1);return(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var c=[];for(s=a;s<r.length;s++)c.push("..");return(c=c.concat(i.slice(a))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){var t=a(e),n=t[0],r=t[1];return n||r?n+(r=r&&r.substr(0,r.length-1)):"."},l.basename=function(e,t){var n=a(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},l.extname=function(e){return a(e)[3]};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(l,t(17))},function(e,t){e.exports=function(e){if(Array.isArray(e))return e.map(function(e){return"string"!=typeof e?e+"":e});e=e.trim();for(var t=0,n=null,r=null,i=null,o=[],a=0;a<e.length;a++)n=r," "!==(r=e.charAt(a))||i?(r===i?i=null:"'"!==r&&'"'!==r||i||(i=r),o[t]||(o[t]=""),o[t]+=r):" "!==n&&t++;return o}},function(e,t){function s(e,t){return Math.random()*(t-e)+e}e.exports={slowLog:function e(t,n,r,i,o){var a=n.next();if(null==a)return o();t.print(a.replace(/\t/g,"")+"<br/>");setTimeout(function(){e(t,n,r,i,o)},s(r,i))},series:function n(r,i){var e=r.shift();e(function(e,t){return e?i(e):r.length?n(r,i):i(null,t)})},randomNumber:s}},function(e,t,n){var r={"./index":16,"./index.js":16,"./lib/tokenize-arg-string":21,"./lib/tokenize-arg-string.js":21};function i(e){return n(o(e))}function o(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=23},,,,,function(e,t,n){var r=n(29),i=n(30),o=n(31);function a(e,t){var n="/home/"+e;"root"===e&&(n="/root"),r.add(e,n,e,t),"root"===e?o.mkdir(n,r.ids("root")):(o.mkdir("/home",r.ids("root")),o.mkdir(n,r.ids(e))),o.mkdir(n+"/Documents",r.ids(e)),o.mkdir(n+"/Code",r.ids(e)),o.write(n+"/.bash_history","ls\n\t  ls\n\t  mkdir\n\t  rm -rf /",r.ids(e)),o.write(n+"/.bash_profile",'source /etc/profile\n\t\n\t  export NVM_DIR="/'+n+'}/.nvm"\n\t  [ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"  # This loads nvm\n\t\n\t  nvm use 10',r.ids(e))}e.exports=function(){i.add("root"),i.add("wheel"),i.add("staff"),i.add("alex"),a("root",[]),a("alex",["wheel","staff"]),o.cd("/home/alex")}},function(e,t,n){var i=n(30),o=0,a={},r={add:function(e,t,n,r){a[o]={uid:o,gid:i.find(n).gid,name:e,home:t,groups:r.map(function(e){return i.find(e).gid})},o++},find:function(t){return"string"==typeof t||t instanceof String?Object.values(a).find(function(e){return e.name===t}):a[t]},ids:function(e){var t=r.find(e);if(t)return{uid:t.uid,gid:t.gid}}};e.exports=r},function(e,t){var n=0,r={},i={add:function(e){r[n]={gid:n,name:e},n++},find:function(t){return"string"==typeof t||t instanceof String?Object.values(r).find(function(e){return e.name===t}):r[t]}};e.exports=i},function(e,t,n){function l(e){var t=0<arguments.length&&void 0!==e?e:{};return{uid:t.uid||0,gid:t.gid||0,size:function(){var n=this;return Object.keys(this.children).reduce(function(e,t){return e+n.children[t].size()},0)},mtime:new Date,children:{}}}var r=n(20).resolve,i="/home/alex",u=l({uid:0,gid:0}),o={pwd:function(){return i},getNode:function(e){var t=d(e);if("/"===t)return u;for(var n=(t=t.replace(/^\/+/g,"").replace(/\/+$/g,"")).split("/"),r=u.children[n[0]],i=1;i<n.length;i++){if(!r.children[n[i]])return null;r=r.children[n[i]]}return r},mkdir:function(e,t){for(var n=d(e),r=(n=n.replace(/^\/+/g,"").replace(/\/+$/g,"")).split("/"),i=u,o=0;o<r.length;o++){var a=i.children[r[o]];if(a)i=a;else{if(!t.p&&o!==r.length-1)throw new Error("mkdir: "+e+": No such file or directory");i=i.children[r[o]]=l(t)}}},write:function(e,t,n){for(var r=d(e),i=(r=r.replace(/^\/+/g,"").replace(/\/+$/g,"")).split("/"),o=u,a=i.pop(),s=0;s<i.length;s++){var c=o.children[i[s]];if(c)o=c;else{if(!n.p)throw new Error("touch: "+e+": No such file or directory");o=o.children[i[s]]=l(n)}}o.children[a]=function(e,t){var n=0<arguments.length&&void 0!==e?e:"",r=1<arguments.length&&void 0!==t?t:{};return{uid:r.uid||0,gid:r.gid||0,size:function(){return this.content.length},mtime:new Date,content:n}}(t,n)},read:function(e){var t=d(e),n=o.getNode(t);if(!n)throw new Error("read: "+e+": No such file or directory");return n.content},rm:function(e,t){for(var n=d(e),r=(n=n.replace(/^\/+/g,"").replace(/\/+$/g,"")).split("/"),i=u,o=r.pop(),a=0;a<r.length;a++){var s=i.children[r[a]];if(!s)throw new Error("rm: "+e+": No such file or directory");i=s}if(!i.children[o])throw new Error("rm: "+e+": No such file or directory");if(i.children[o].children&&!t.r)throw new Error("rm: "+e+": is a directory");delete i.children[o]},cd:function(e){var t=d(e);if(!o.getNode(t))throw new Error("-bash: cd: "+e+": No such file or directory");i=t},ls:function(e){var t=d(e||i),n=o.getNode(t);if(!n)throw new Error("read: "+e+": No such file or directory");return n.content?[{name:t.split("/").pop(),node:n}]:Object.keys(n.children).map(function(e){return{name:e,node:n.children[e]}})}};function d(e){var t=e;return"/"!==t.substring(0,1)&&(t=i+"/"+t),t=(t=t.replace(/\/+/g,"/")).replace(/^\/+/g,"").replace(/\/+$/g,""),t=r(t="/"+t)}e.exports=o},function(e,t,n){var r=n(31),i=n(29),o=n(30);e.exports={handler:function(e,t){var n=r.ls(t._[0]);return n=n.sort(function(e,t){return e.name.localeCompare(t.name)}),t.a||(n=n.filter(function(e){return"."!==e.name.substring(0,1)})),t.l?"\n\t      <table><tbody>\n\t        "+n.map(function(e){var t=e.node,n=t.mtime.toLocaleDateString("en-GB",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return"<tr>\n\t              <td>"+(t.children?"d":"-")+"rw-r--r--&nbsp;</td>\n\t              <td>"+i.find(t.uid).name+"&nbsp;</td>\n\t              <td>"+o.find(t.gid).name+"&nbsp;</td>\n\t              <td>"+t.size()+"&nbsp;</td>\n\t              <td>"+n+"&nbsp;</td>\n\t              <td>"+e.name+"</td>\n\t            </tr>"}).join("")+"\n\t      <tbody></table>":n.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){return e.name}).join(" ")},args:{boolean:["l","a"]}}},function(e,t,n){var r=n(31);e.exports={handler:function(){return r.pwd()}}},function(e,t,n){var i=n(31),o=n(29);e.exports={handler:function(e,t){var n=t._;if(!n.length)throw new Error("usage: mkdir [-pv] [-m mode] directory ...");for(var r=0;r<n.length;r++)i.mkdir(n[r],{uid:o.find("alex").uid,gid:o.find("alex").gid,p:t.p});return""},args:{boolean:["p"]}}},function(e,t,n){var r=n(31);e.exports={handler:function(e,t){var n=t._;if(!n.length)throw new Error("usage: touch [-A [-][[hh]mm]SS] [-acfhm] [-r file] [-t [[CC]YY]MMDDhhmm[.SS]] file ...");return r.write(n[0],"",{uid:r.user(500).uid,gid:r.user(500).gid}),""}}},function(e,t,n){var r=n(31);e.exports={handler:function(e,t){var n=r.getNode(t._[0]);if(!n)throw new Error("cat: "+t._[0]+": No such file or directory");if(n.children)throw new Error("cat: "+t._[0]+": Is a directory");return"<pre>"+n.content+"</pre>"}}},function(e,t,n){var r=n(31);e.exports={handler:function(e,t){var n=t._;return n.length||n.push("/home/alex"),r.cd(n[0]),""}}},function(e,t,n){var i=n(31);e.exports={handler:function(e,t){var n=t._;if(!n.length)throw new Error("usage: rm [-f | -i] [-dPRrvW] file ... unlink file");for(var r=0;r<n.length;r++)i.rm(n[r],t);return""},args:{boolean:["r","f"]}}},function(e,t){e.exports={handler:function(e){return e.clear(),""}}},function(e,t){e.exports={handler:function(e,t){if(!t._.length)return e.getTheme();if(1<t._.length)throw new Error("Too many arguments");if(t._[0].match(/^interlaced|modern|white$/))return e.setTheme(t[0]),"";throw new Error("Invalid theme")}}},function(e,t){e.exports={handler:function(){return"1.0.2"}}},function(e,t,n){n(22).slowLog;var r={install:n(43)};e.exports={handler:function(e,t){var n=t._.shift();return r[n]?r[n].handler(e,t):"<pre>Usage: npm <command>\n\t\n\twhere <command> is one of:\n\t    "+Object.keys(r).sort(function(e,t){return e.localeCompare(t)})+"\n\t\n\tnpm <command> -h  quick help on <command>\n\tnpm -l            display full usage info\n\tnpm help <term>   search for help on <term>\n\tnpm help npm      involved overview\n\t\n\tSpecify configs in the ini-formatted file:\n\t    /home/alex/.npmrc\n\tor on the command line via: npm <command> --key value\n\tConfig info can be viewed via: npm help config\n\t\n\tnpm@6.4.1 /home/alex/.nvm/versions/node/v10.15.3/lib/node_modules/npm</pre>"},args:{boolean:["save","save-dev","production","g","global"]}}},function(e,t,n){var r=n(44).npmInstallLog;e.exports={handler:function(e,t){r(e,{name:t._[0],dependencies:["dnscache","express-http-proxy","ipfsd-ctl","ipfs-http-client","ipfs","express","debug","once","request","rc","request-promise","yargs","@yarnpkg%2flockfile","ipfs-registry-mirror-common","which-promise"]})}}},function(e,t,n){var r=n(22),i=r.slowLog,o=r.randomNumber;e.exports={npmInstallLog:function(e,t){var n=["npm info it worked if it ends with ok","npm info using npm@6.4.1","npm info using node@v10.15.3","npm http fetch GET 304 https://registry.npmjs.org/"+t.name+" 997ms (from cache)","npm timing stage:loadCurrentTree Completed in 6248ms","npm timing stage:loadIdealTree:cloneCurrentTree Completed in 36ms","npm timing stage:loadIdealTree:loadShrinkwrap Completed in 2452ms"];t.dependencies.forEach(function(e){n.push("npm http fetch GET 304 https://registry.npmjs.org/"+e+" "+o(100,500)+"ms (from cache)")}),t.dependencies.forEach(function(e){n.push("npm info lifecycle "+e+"@0.8.0~postinstall: "+e+"@0.8.0")}),n=n.concat(["npm timing action:postinstall Completed in 391ms","npm timing stage:executeActions Completed in %time%ms","npm timing stage:rollbackFailedOptional Completed in 2ms","npm timing stage:runTopLevelLifecycles Completed in %time%ms","+ "+t.name+"@0.16.3","added 163 packages from 285 contributors and updated 1132 packages in 97.761s","npm timing npm Completed in %time%ms","npm info ok"]);var r=Date.now();i(e,{next:function(){var e=n.shift();return e?e.replace("%time%",Date.now()-r):null}},50,200,function(){})}}},function(e,t,n){var i=n(22).slowLog,o={init:n(46),install:n(47)};e.exports={handler:function(e,t){var n=t._.shift();if(o[n])return o[n].handler(e,t);var r=["👩‍🚀 Starting local proxy","🚀 Server running on port 49820","🎁 Installing dependencies with /Users/alex/.nvm/versions/node/v10.15.3/bin/npm","npm info it worked if it ends with ok","npm info using npm@6.4.1","npm info using node@v10.15.3","<pre>Usage: npm <command>\n\t\n\twhere <command> is one of:\n\t    access, adduser, audit, bin, bugs, c, cache, ci, cit,\n\t    completion, config, create, ddp, dedupe, deprecate,\n\t    dist-tag, docs, doctor, edit, explore, get, help,\n\t    help-search, hook, i, init, install, install-test, it, link,\n\t    list, ln, login, logout, ls, outdated, owner, pack, ping,\n\t    prefix, profile, prune, publish, rb, rebuild, repo, restart,\n\t    root, run, run-script, s, se, search, set, shrinkwrap, star,\n\t    stars, start, stop, t, team, test, token, tst, un,\n\t    uninstall, unpublish, unstar, up, update, v, version, view,\n\t    whoami\n\t\n\tnpm <command> -h  quick help on <command>\n\tnpm -l            display full usage info\n\tnpm help <term>   search for help on <term>\n\tnpm help npm      involved overview\n\t\n\tSpecify configs in the ini-formatted file:\n\t    /Users/alex/.npmrc\n\tor on the command line via: npm <command> --key value\n\tConfig info can be viewed via: npm help config\n\t\n\tnpm@6.4.1 /Users/alex/.nvm/versions/node/v10.15.3/lib/node_modules/npm\n\t🎁 /Users/alex/.nvm/versions/node/v10.15.3/bin/npm exited with code 1\n\t🤷 No package-lock.json found</pre>"];return i(e,{next:function(){return r.shift()}},50,200,function(){}),""},args:{boolean:["save","y"]}}},function(e,t,n){var i=n(31),o=n(29);n(22).slowLog;e.exports={handler:function(e,t){var n=i.pwd(),r='{\n\t  "name": "'+n.split("/").pop()+'",\n\t  "version": "1.0.0",\n\t  "description": "",\n\t  "main": "index.js",\n\t  "scripts": {\n\t    "test": "echo \\"Error: no test specified\\" && exit 1"\n\t  },\n\t  "keywords": [],\n\t  "author": "",\n\t  "license": "ISC"\n\t}';return i.write(n+"/package.json",r,o.ids("alex")),"<pre>Wrote to "+n+"/package.json:\n\t\n\t    "+r+"</pre>"},args:{boolean:["y"]}}},function(e,t,n){var a=n(31),s=n(29),r=n(22),i=r.slowLog;r.randomNumber;e.exports={handler:function(e,t){var n=a.pwd(),r=n+"/package.json",i=a.read(r),o=JSON.parse(i);t._.length&&(c(e,t._[0]),t.save&&(o.dependencies=o.dependencies||{},o.dependencies[t._[0]]="^9.0.0",a.write(r,JSON.stringify(o,null,2),s.ids("alex")),a.write(n+"/package-lock.json",'{\n\t  "name": "'+o.name+'",\n\t  "version": "1.0.0",\n\t  "lockfileVersion": 1,\n\t  "requires": true,\n\t  "dependencies": {\n\t    "'+t._[0]+'": {\n\t      "version": "9.0.0",\n\t      "resolved": "https://registry.js.ipfs.io/'+t._[0]+"/-/"+t._[0]+'-9.0.0.tgz",\n\t      "integrity": "sha512-t/OYhhJ2SD+YGBQcjY8GzzDHEk9f3nerxjtfa6tlMXfe7frs/WozhvCNoGvpM0P3bNf3Gq5ZRMlGr5f3r4/N8A=="\n\t    }\n\t  }\n\t}'),a.mkdir(n+"/node_modules",s.ids("alex")),a.mkdir(n+"/node_modules/"+t._[0],s.ids("alex")),a.write(n+"/node_modules/"+t._[0]+"/package.json","I am a very nice package",s.ids("alex")),a.write(n+"/node_modules/"+t._[0]+"/index.js","Look at me being an implementation",s.ids("alex"))))},args:{boolean:["save"]}};var c=function(e,t){var n=["👩‍🚀 Starting local proxy","🚀 Server running on port 60000","🎁 Installing dependencies with /home/alex/.nvm/versions/node/v10.15.3/bin/npm","npm info it worked if it ends with ok","npm info using npm@6.4.1","npm info using node@v10.15.3","😈 Spawning an in-process IPFS node using repo at /home/alex/.jsipfs2","Swarm listening on /ip4/127.0.0.1/tcp/60015/ipfs/QmVYDeLg2UsfvY1tYQuHDN5ioiCiengfNGimMFbnjyvbjb","Swarm listening on /p2p-circuit/ipfs/QmVYDeLg2UsfvY1tYQuHDN5ioiCiengfNGimMFbnjyvbjb","Swarm listening on /p2p-circuit/ip4/127.0.0.1/tcp/60015/ipfs/QmVYDeLg2UsfvY1tYQuHDN5ioiCiengfNGimMFbnjyvbjb","🗂️  Loading registry index from https://registry.js.ipfs.io","☎️  Dialling registry mirror /ip4/35.178.192.119/tcp/10036/ipfs/QmctQ4T1Sv1aBTtRhtzmRwvAf8svtHLPhJWWbv6wfVcrRN,/dns4/registry.js.ipfs.io/tcp/10036/ipfs/QmctQ4T1Sv1aBTtRhtzmRwvAf8svtHLPhJWWbv6wfVcrRN","📱️ Connected to registry","🆕 New versions of "+t+" detected - 1.0.0, 1.0.1, 1.1.0, 1.1.1, 1.2.0, 1.2.1, 1.3.0, 1.4.0, 1.4.1, 1.5.0, 2.0.0, 2.0.1, 2.0.2, 2.0.3, 2.0.5, 2.0.6, 2.0.7, 2.0.8, 2.1.0, 2.1.1, 2.1.2, 2.1.3, 2.1.4, 2.2.0, 2.3.0, 2.4.0, 3.0.0, 3.0.1, 3.1.0, 3.1.1, 3.1.2, 4.0.0, 4.0.1, 4.0.2, 4.0.3, 4.0.4, 4.1.0, 5.0.0, 6.0.0, 7.0.0, 7.0.1, 7.0.2, 7.1.0, 7.2.0, 7.2.1, 8.0.1, 8.0.2, 8.1.1, 9.0.0, 8.1.0","📄 GET /"+t+" 200 2857ms","npm http fetch GET 200 http://localhost:60000/"+t+" 2907ms","npm WARN foo@1.0.0 No description","npm WARN foo@1.0.0 No repository field."," ","📄 POST /-/npm/v1/security/audits/quick 200 439ms","npm timing audit submit Completed in 493ms","npm http fetch POST 200 http://localhost:60000/-/npm/v1/security/audits/quick 492ms","npm timing audit body Completed in 0ms","+ "+t+"@9.0.0","added 1 package from 1 contributor and audited 1 package in %time%ms","found 0 vulnerabilities"," ","npm timing npm Completed in %time%ms","npm info ok ","🎁 /Users/alex/.nvm/versions/node/v10.15.3/bin/npm exited with code 0","🔏 Updating package-lock.json"],r=Date.now();i(e,{next:function(){var e=n.shift();return e?e.replace("%time%",Date.now()-r):null}},200,500,function(){})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJ3ZWJwYWNrL2Jvb3RzdHJhcCA0NDU4MGY5YzJkODJhYTJjYTBmOSIsIm5vZGVfbW9kdWxlcy9AYWNoaW5nYnJhaW4vc2xpZGVzL3RlbXAvbWFpbi5qcyIsIm5vZGVfbW9kdWxlcy9wcmlzbWpzL3ByaXNtLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UvbGliL2Jlc3Bva2UuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS10aGVtZS1uZWJ1bGEvZGlzdC9iZXNwb2tlLXRoZW1lLW5lYnVsYS5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWtleXMvbGliL2Jlc3Bva2Uta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLXRvdWNoL2xpYi9iZXNwb2tlLXRvdWNoLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtYnVsbGV0cy9saWIvYmVzcG9rZS1idWxsZXRzLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtYmFja2Ryb3AvbGliL2Jlc3Bva2UtYmFja2Ryb3AuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1zY2FsZS9saWIvYmVzcG9rZS1zY2FsZS5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWhhc2gvbGliL2Jlc3Bva2UtaGFzaC5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLXByb2dyZXNzL2xpYi9iZXNwb2tlLXByb2dyZXNzLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtaW5kZXhmaW5nZXIvbGliL2Jlc3Bva2UtaW5kZXhmaW5nZXIuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1jb252ZW5pZW50L2xpYi9iZXNwb2tlLWNvbnZlbmllbnQuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1zZWNvbmRhcnkvbGliL2Jlc3Bva2Utc2Vjb25kYXJ5LmpzIiwianMvZGVjay5qcyIsIm5vZGVfbW9kdWxlcy9kb20tdGVybWluYWwvbGliL3Rlcm1pbmFsLmpzIiwibm9kZV9tb2R1bGVzL3lhcmdzLXBhcnNlci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMveWFyZ3MtcGFyc2VyL25vZGVfbW9kdWxlcy9jYW1lbGNhc2UvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZGVjYW1lbGl6ZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMveWFyZ3MtcGFyc2VyL2xpYi90b2tlbml6ZS1hcmctc3RyaW5nLmpzIiwianMvdXRpbC5qcyIsIm5vZGVfbW9kdWxlcy95YXJncy1wYXJzZXIgL14vLiokIiwianMvc3lzdGVtL2Jvb3QuanMiLCJqcy9zeXN0ZW0vdXNlcnMuanMiLCJqcy9zeXN0ZW0vZ3JvdXBzLmpzIiwianMvc3lzdGVtL2ZzLmpzIiwianMvY29tbWFuZHMvbHMuanMiLCJqcy9jb21tYW5kcy9wd2QuanMiLCJqcy9jb21tYW5kcy9ta2Rpci5qcyIsImpzL2NvbW1hbmRzL3RvdWNoLmpzIiwianMvY29tbWFuZHMvY2F0LmpzIiwianMvY29tbWFuZHMvY2QuanMiLCJqcy9jb21tYW5kcy9ybS5qcyIsImpzL2NvbW1hbmRzL2NsZWFyLmpzIiwianMvY29tbWFuZHMvdGhlbWUuanMiLCJqcy9jb21tYW5kcy92ZXJzaW9uLmpzIiwianMvY29tbWFuZHMvbnBtL2luZGV4LmpzIiwianMvY29tbWFuZHMvbnBtL2luc3RhbGwuanMiLCJqcy9jb21tYW5kcy9ucG0vdXRpbC5qcyIsImpzL2NvbW1hbmRzL2lwZnMtbnBtL2luZGV4LmpzIiwianMvY29tbWFuZHMvaXBmcy1ucG0vaW5pdC5qcyIsImpzL2NvbW1hbmRzL2lwZnMtbnBtL2luc3RhbGwuanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiYmVzcG9rZSIsInRoZW1lIiwia2V5cyIsInRvdWNoIiwiYnVsbGV0cyIsImJhY2tkcm9wIiwic2NhbGUiLCJoYXNoIiwicHJvZ3Jlc3MiLCJpbmRleEZpbmdlciIsInNlY29uZGFyeSIsInBsdWdpbnMiLCJlIiwiRXJyb3IiLCJjb2RlIiwiZXJyb3IiLCJkZWNrIiwiZnJvbSIsImdsb2JhbCIsIlByaXNtIiwiX3NlbGYiLCJsYW5nIiwidW5pcXVlSWQiLCJfIiwibWFudWFsIiwiZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyIiwidXRpbCIsImVuY29kZSIsInRva2VucyIsIlRva2VuIiwidHlwZSIsImNvbnRlbnQiLCJhbGlhcyIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsInJlcGxhY2UiLCJvIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJzbGljZSIsIm9iaklkIiwib2JqIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImNsb25lIiwiZGVlcENsb25lIiwidmlzaXRlZCIsImtleSIsImhhc093blByb3BlcnR5IiwiZm9yRWFjaCIsInYiLCJpIiwibGFuZ3VhZ2VzIiwiZXh0ZW5kIiwicmVkZWYiLCJpbnNlcnRCZWZvcmUiLCJpbnNpZGUiLCJiZWZvcmUiLCJpbnNlcnQiLCJyb290IiwiZ3JhbW1hciIsInJldCIsInRva2VuIiwibmV3VG9rZW4iLCJvbGQiLCJERlMiLCJ0aGlzIiwiY2FsbGJhY2siLCJwcm9wZXJ0eSIsInByb3BlcnR5VHlwZSIsImhpZ2hsaWdodEFsbCIsImFzeW5jIiwiaGlnaGxpZ2h0QWxsVW5kZXIiLCJkb2N1bWVudCIsImNvbnRhaW5lciIsImVudiIsInNlbGVjdG9yIiwiaG9va3MiLCJydW4iLCJlbGVtZW50IiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGlnaGxpZ2h0RWxlbWVudCIsImxhbmd1YWdlIiwicGFyZW50IiwidGVzdCIsImNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJtYXRjaCIsInRvTG93ZXJDYXNlIiwibm9kZU5hbWUiLCJpbnNlcnRIaWdobGlnaHRlZENvZGUiLCJoaWdobGlnaHRlZENvZGUiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsIldvcmtlciIsIndvcmtlciIsImZpbGVuYW1lIiwib25tZXNzYWdlIiwiZXZ0IiwiZGF0YSIsInBvc3RNZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsImltbWVkaWF0ZUNsb3NlIiwiaGlnaGxpZ2h0IiwidGV4dCIsInRva2VuaXplIiwibWF0Y2hHcmFtbWFyIiwic3RyYXJyIiwiaW5kZXgiLCJzdGFydFBvcyIsIm9uZXNob3QiLCJ0YXJnZXQiLCJwYXR0ZXJucyIsImoiLCJsZW5ndGgiLCJwYXR0ZXJuIiwibG9va2JlaGluZCIsImdyZWVkeSIsImxvb2tiZWhpbmRMZW5ndGgiLCJmbGFncyIsIlJlZ0V4cCIsInNvdXJjZSIsInBvcyIsInN0ciIsImxhc3RJbmRleCIsImV4ZWMiLCJ0byIsImsiLCJsZW4iLCJkZWxOdW0iLCJhZnRlciIsImFyZ3MiLCJwdXNoIiwid3JhcHBlZCIsInNwbGljZSIsImFwcGx5IiwicmVzdCIsImFsbCIsImFkZCIsIm5hbWUiLCJjYWxsYmFja3MiLCJtYXRjaGVkU3RyIiwiam9pbiIsInRhZyIsImNsYXNzZXMiLCJhdHRyaWJ1dGVzIiwiYWxpYXNlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJtZXNzYWdlIiwicGFyc2UiLCJjbG9zZSIsInNjcmlwdCIsImN1cnJlbnRTY3JpcHQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBvcCIsInNyYyIsImhhc0F0dHJpYnV0ZSIsInJlYWR5U3RhdGUiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0IiwiV29ya2VyR2xvYmFsU2NvcGUiLCJzZWxmIiwibWFya3VwIiwiY29tbWVudCIsInByb2xvZyIsImRvY3R5cGUiLCJjZGF0YSIsInB1bmN0dWF0aW9uIiwibmFtZXNwYWNlIiwiYXR0ci12YWx1ZSIsImF0dHItbmFtZSIsImVudGl0eSIsInRhZ05hbWUiLCJpbmNsdWRlZENkYXRhSW5zaWRlIiwiaW5jbHVkZWQtY2RhdGEiLCJkZWYiLCJ4bWwiLCJodG1sIiwibWF0aG1sIiwic3ZnIiwic3RyaW5nIiwiY3NzIiwiYXRydWxlIiwicnVsZSIsInVybCIsImltcG9ydGFudCIsImZ1bmN0aW9uIiwiYWRkSW5saW5lZCIsInN0eWxlLWF0dHIiLCJjbGlrZSIsImNsYXNzLW5hbWUiLCJrZXl3b3JkIiwiYm9vbGVhbiIsIm51bWJlciIsIm9wZXJhdG9yIiwiamF2YXNjcmlwdCIsInJlZ2V4IiwiZnVuY3Rpb24tdmFyaWFibGUiLCJwYXJhbWV0ZXIiLCJjb25zdGFudCIsInRlbXBsYXRlLXN0cmluZyIsImludGVycG9sYXRpb24iLCJpbnRlcnBvbGF0aW9uLXB1bmN0dWF0aW9uIiwianMiLCJxdWVyeVNlbGVjdG9yIiwiZmlsZUhpZ2hsaWdodCIsIkV4dGVuc2lvbnMiLCJweSIsInJiIiwicHMxIiwicHNtMSIsInNoIiwiYmF0IiwiaCIsInRleCIsInByZSIsImdldEF0dHJpYnV0ZSIsImV4dGVuc2lvbiIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsInNldEF0dHJpYnV0ZSIsInN0YXR1c1RleHQiLCJzZW5kIiwidG9vbGJhciIsInJlZ2lzdGVyQnV0dG9uIiwiYSIsImhyZWYiLCJvcHRzIiwiYWN0aXZhdGUiLCJjdXN0b21EYXRhIiwic2xpZGVzIiwiZmlyZSIsImNyZWF0ZUV2ZW50RGF0YSIsImFjdGl2ZVNsaWRlIiwic3RlcCIsIm9mZnNldCIsInNsaWRlSW5kZXgiLCJpbmRleE9mIiwibm9kZVR5cGUiLCJmaWx0ZXIiLCJjaGlsZHJlbiIsImVsIiwibGlzdGVuZXJzIiwib2ZmIiwiZXZlbnROYW1lIiwibGlzdGVuZXIiLCJldmVudERhdGEiLCJyZWR1Y2UiLCJub3RDYW5jZWxsZWQiLCJzbGlkZSIsIm9uIiwiYmluZCIsImFyZ3VtZW50cyIsIm5leHQiLCJwcmV2IiwicGx1Z2luIiwidCIsIm4iLCJyIiwicyIsInUiLCJmIiwiMSIsIl9kZXJlcV8iLCJpbnNlcnRDc3MiLCJwcmVwZW5kIiwiYmVzcG9rZS1jbGFzc2VzIiwiaW5zZXJ0LWNzcyIsIjIiLCJhZGRDbGFzcyIsImNscyIsImNsYXNzTGlzdCIsInJlbW92ZUNsYXNzIiwidHJpbSIsImRlYWN0aXZhdGUiLCJvZmZzZXRDbGFzcyIsIk1hdGgiLCJhYnMiLCIzIiwiaW5zZXJ0ZWQiLCJvcHRpb25zIiwiZWxlbSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiaGVhZCIsImNoaWxkTm9kZXMiLCJpc0hvcml6b250YWwiLCJ3aGljaCIsInNoaWZ0S2V5Iiwic3RhcnRQb3NpdGlvbiIsImRlbHRhIiwiYXhpcyIsInRvdWNoZXMiLCJwcmV2ZW50RGVmYXVsdCIsImFjdGl2ZVNsaWRlSW5kZXgiLCJhY3RpdmVCdWxsZXRJbmRleCIsImFjdGl2YXRlQnVsbGV0IiwiYnVsbGV0SW5kZXgiLCJidWxsZXQiLCJiIiwicmVtb3ZlIiwiYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCIsInVuZGVmaW5lZCIsIm5leHRTbGlkZUluZGV4IiwicHJldlNsaWRlSW5kZXgiLCJiYWNrZHJvcHMiLCJ1cGRhdGVDbGFzc2VzIiwiY3VycmVudEluZGV4IiwiYmFja2Ryb3BBdHRyaWJ1dGUiLCJzY2FsZUFsbCIsInhTY2FsZSIsIm9mZnNldFdpZHRoIiwic2xpZGVXaWR0aCIsInlTY2FsZSIsIm9mZnNldEhlaWdodCIsInNsaWRlSGVpZ2h0IiwibWluIiwiZmlyc3RTbGlkZSIsInVzZVpvb20iLCJzdHlsZSIsIndyYXBwZXIiLCJ0cmFuc2Zvcm1Qcm9wZXJ0eSIsInNwbGl0IiwiY3VycmVudFByb3BlcnR5IiwicHJlZml4IiwicmF0aW8iLCJ6b29tIiwiYWN0aXZhdGVTbGlkZSIsImluZGV4VG9BY3RpdmF0ZSIsInBhcnNlSGFzaCIsImxvY2F0aW9uIiwic2xpZGVOdW1iZXJPck5hbWUiLCJwYXJzZUludCIsInNsaWRlTmFtZSIsInByb2dyZXNzUGFyZW50IiwicHJvZ3Jlc3NCYXIiLCJwcm9wIiwiYnJvd3Nlckdsb2JhbCIsIkZ1bmN0aW9uIiwiY3YiLCJjb252ZW5pZW50IiwiYnVpbGRlciIsImFjdGl2YXRlRGVjayIsInVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzIiwiZW5hYmxlQWN0aXZlU2xpZGVMaXN0ZW5lciIsInNhdmVBY3RpdmVTbGlkZSIsImdldEFjdGl2ZVNsaWRlIiwiZ2V0QWN0aXZlU2xpZGVJbmRleCIsInN0b3JlRGVjayIsImdlbmVyYXRlRXJyb3JPYmplY3QiLCJkZWNrc1N0b3JhZ2VzIiwic29tZSIsImRlY2tTdG9yYWdlIiwiaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2siLCJzdG9yYWdlIiwibWVyZ2VkIiwiZGVmYXVsdHMiLCJsb2dnZXIiLCJsb2ciLCJjb25zb2xlIiwicGx1Z2luTmFtZSIsImV2ZW50TmFtZXNwYWNlIiwiaW5uZXJFdmVudCIsImV2ZW50SW5OYW1lc3BhY2UiLCJ0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2siLCJnZXREZWNrU3RvcmFnZSIsImlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luIiwiaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZSIsImRlY2tCb3VuZCIsImV4dGVybmFsIiwiZ2V0U3RvcmFnZSIsImJpbmRUb0RlY2siLCJwcmVmaXhlcyIsImNvbnZlbmllbnRPcHRpb25zIiwiY29uY2F0IiwiY29weUFycmF5IiwiZ2V0RGVja1BsdWdpblN0b3JhZ2UiLCJiaW5kRXh0ZXJuYWwiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsImlzTnVtYmVyIiwiYXJyIiwiZ2VuZXJhdGVXaW5kb3dOYW1lIiwiZGlmZiIsImZsb29yIiwicmFuZG9tIiwicmFuZG9tSW50ZWdlciIsImluZGV4ZmluZ2VyIiwibm90ZXMiLCJ0b2dnbGUiLCJrZXlEb3duTGlzdGVuZXIiLCJldmVudEhhbmRsZWQiLCJhbHRLZXkiLCJjdHJsS2V5IiwibWV0YUtleSIsImN2Qm91bmRUb0RlY2siLCJzeW5jaHJvbml6ZSIsIm9uQmVmb3JlVW5sb2FkIiwib25BY3RpdmF0ZSIsInVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcyIsImdldE5vdGVzRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwiaXNPcGVuIiwidyIsImNsb3NlZCIsIm9wZW5lciIsImRvYyIsImJvZHkiLCJpbml0aWFsaXplU2Vjb25kYXJ5V2luZG93Q29udGVudHMiLCJmb2N1cyIsImFsbE5vdGVzIiwibm90ZXNIdG1sIiwic2xpZGVOb3RlIiwib3V0ZXJIVE1MIiwic2Vjb25kYXJ5V2luZG93TmFtZSIsIm9uYmVmb3JldW5sb2FkIiwiVGVybWluYWwiLCJwYXJzZXIiLCJib290IiwiY29tbWFuZHMiLCJscyIsInB3ZCIsIm1rZGlyIiwiY2F0IiwiY2QiLCJybSIsImNsZWFyIiwidmVyc2lvbiIsIm5wbSIsImlwZnMtbnBtIiwiaGVscCIsImhhbmRsZXIiLCJzb3J0IiwibG9jYWxlQ29tcGFyZSIsInRlcm1pbmFsIiwiZXhlY3V0ZSIsImNtZCIsImNvbW1hbmQiLCJvdXRwdXQiLCJlcnIiLCJjb250YWluZXJJRCIsIndlbGNvbWUiLCJwcm9tcHQiLCJzZXBhcmF0b3IiLCJleHRlbnNpb25zIiwiX2hpc3RvcnkiLCJsb2NhbFN0b3JhZ2UiLCJoaXN0b3J5IiwiX2hpc3Rwb3MiLCJfaGlzdHRlbXAiLCJfdGVybWluYWwiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJfY29udGFpbmVyIiwiX2lucHV0TGluZSIsIl9jbWRMaW5lIiwiX291dHB1dCIsIl9wcm9tcHQiLCJfYmFja2dyb3VuZCIsInNjcm9sbEludG9WaWV3Iiwic3RvcFByb3BhZ2F0aW9uIiwia2V5Q29kZSIsInBhcmVudEVsZW1lbnQiLCJpbmNsdWRlcyIsImNtZExpbmVJc1Zpc2libGUiLCJjbWRsaW5lIiwibGluZSIsImNsb25lTm9kZSIsInJlbW92ZUF0dHJpYnV0ZSIsImlucHV0IiwiYXV0b2ZvY3VzIiwicmVhZE9ubHkiLCJyZW1vdmVDaGlsZCIsInZhbCIsInJlc3BvbnNlIiwiZXh0IiwibWluSGVpZ2h0Iiwic2V0UHJvbXB0IiwiZ2V0UHJvbXB0Iiwic2V0VGhlbWUiLCJnZXRUaGVtZSIsInByaW50Iiwib2xkVGVybWluYWwiLCJub0NvbmZsaWN0IiwicHJvY2VzcyIsImNhbWVsQ2FzZSIsImRlY2FtZWxpemUiLCJwYXRoIiwidG9rZW5pemVBcmdTdHJpbmciLCJhbGlhc0FycmF5cyIsImNoYW5nZSIsImNvbWJpbmVkIiwiaWkiLCJhbGlhc0FycmF5IiwiY29tYmluZUFsaWFzZXMiLCJjb25maWd1cmF0aW9uIiwiYXNzaWduIiwic2hvcnQtb3B0aW9uLWdyb3VwcyIsImNhbWVsLWNhc2UtZXhwYW5zaW9uIiwiZG90LW5vdGF0aW9uIiwicGFyc2UtbnVtYmVycyIsImJvb2xlYW4tbmVnYXRpb24iLCJuZWdhdGlvbi1wcmVmaXgiLCJkdXBsaWNhdGUtYXJndW1lbnRzLWFycmF5IiwiZmxhdHRlbi1kdXBsaWNhdGUtYXJyYXlzIiwicG9wdWxhdGUtLSIsImNvbWJpbmUtYXJyYXlzIiwic2V0LXBsYWNlaG9sZGVyLWtleSIsImhhbHQtYXQtbm9uLW9wdGlvbiIsInN0cmlwLWFsaWFzZWQiLCJzdHJpcC1kYXNoZWQiLCJkZWZhdWx0IiwiY29uZmlnT2JqZWN0cyIsImVudlByZWZpeCIsIm5vdEZsYWdzT3B0aW9uIiwibm90RmxhZ3NBcmd2IiwibmV3QWxpYXNlcyIsIl9fIiwiZm9ybWF0IiwiYXJyYXlzIiwiYm9vbHMiLCJzdHJpbmdzIiwibnVtYmVycyIsImNvdW50cyIsIm5vcm1hbGl6ZSIsImNvbmZpZ3MiLCJkZWZhdWx0ZWQiLCJuYXJncyIsImNvZXJjaW9ucyIsIm5lZ2F0aXZlIiwibmVnYXRlZEJvb2xlYW4iLCJhcnJheSIsIkJvb2xlYW4iLCJvcHQiLCJhc3NpZ25tZW50IiwiY291bnQiLCJuYXJnIiwiY29lcmNlIiwiY29uZmlnIiwiX2xlbiIsIl9rZXkiLCJ4IiwieSIsImV4dGVuZEFsaWFzZXMiLCJhcmd2Iiwic2V0QXJnIiwic2V0RGVmYXVsdGVkIiwiY29uZmlnTG9va3VwIiwiYXBwbGllZCIsIl9yZWYiLCJub3RGbGFncyIsImJyb2tlbiIsImxldHRlcnMiLCJhcmciLCJjaGVja0FsbEFsaWFzZXMiLCJlYXROYXJncyIsImVhdEFycmF5IiwiZGVmYXVsdFZhbHVlIiwibWF5YmVDb2VyY2VOdW1iZXIiLCJhcHBseUVudlZhcnMiLCJhcHBseURlZmF1bHRzQW5kQWxpYXNlcyIsImNvbmZpZ0tleSIsImNvbmZpZ1BhdGgiLCJyZXNvbHZlZENvbmZpZ1BhdGgiLCJyZXNvbHZlIiwiY3dkIiwic2V0Q29uZmlnT2JqZWN0IiwiZXgiLCJjb25maWdPYmplY3QiLCJzZXRDb25maWdPYmplY3RzIiwiYWxpIiwiaGFzS2V5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwidG9FYXQiLCJhdmFpbGFibGUiLCJjb25zdW1lZCIsInN0YXJ0IiwiYXJnc1RvU2V0IiwibXVsdGlwbGVBcnJheUZsYWciLCJkZWZhdWx0Rm9yVHlwZSIsInByb2Nlc3NWYWx1ZSIsInVuc2V0RGVmYXVsdGVkIiwiYWRkTmV3QWxpYXMiLCJzcGxpdEtleSIsInNldEtleSIsInNoaWZ0IiwiX19kZWZpbmVTZXR0ZXJfXyIsIl9fZGVmaW5lR2V0dGVyX18iLCJzdWJzdHJpbmciLCJpc1VuZGVmaW5lZCIsImluY3JlbWVudCIsIk51bWJlciIsImlzU2FmZUludGVnZXIiLCJmdWxsS2V5IiwiX3R5cGVvZiIsImNvbmZpZ09ubHkiLCJlbnZWYXIiLCJsYXN0SW5kZXhPZiIsImlzVHlwZUFycmF5IiwiaXNWYWx1ZUFycmF5IiwiZHVwbGljYXRlIiwiZmxhZyIsImlzU2V0IiwiZ3Vlc3NUeXBlIiwibnVtIiwib3JpZyIsIlBhcnNlciIsImRldGFpbGVkIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsIm5leHRUaWNrIiwidGl0bGUiLCJicm93c2VyIiwidmVyc2lvbnMiLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJUeXBlRXJyb3IiLCJwYXNjYWxDYXNlIiwidG9VcHBlckNhc2UiLCJpc0xhc3RDaGFyTG93ZXIiLCJpc0xhc3RDaGFyVXBwZXIiLCJpc0xhc3RMYXN0Q2hhclVwcGVyIiwiY2hhcmFjdGVyIiwicHJlc2VydmVDYW1lbENhc2UiLCJwMSIsImNoYXJBdCIsInNlcCIsIm5vcm1hbGl6ZUFycmF5IiwicGFydHMiLCJhbGxvd0Fib3ZlUm9vdCIsInVwIiwibGFzdCIsInVuc2hpZnQiLCJzcGxpdFBhdGgiLCJzcGxpdFBhdGhSZSIsInhzIiwicmVzIiwicmVzb2x2ZWRQYXRoIiwicmVzb2x2ZWRBYnNvbHV0ZSIsImlzQWJzb2x1dGUiLCJ0cmFpbGluZ1NsYXNoIiwic3Vic3RyIiwicGF0aHMiLCJyZWxhdGl2ZSIsImVuZCIsImZyb21QYXJ0cyIsInRvUGFydHMiLCJzYW1lUGFydHNMZW5ndGgiLCJvdXRwdXRQYXJ0cyIsImRlbGltaXRlciIsImRpcm5hbWUiLCJyZXN1bHQiLCJiYXNlbmFtZSIsImV4dG5hbWUiLCJhcmdTdHJpbmciLCJwcmV2QyIsIm9wZW5pbmciLCJyYW5kb21OdW1iZXIiLCJtYXgiLCJzbG93TG9nIiwiaXRlcmF0b3IiLCJkb25lIiwic2VyaWVzIiwib3BzIiwib3AiLCIuL2luZGV4IiwiLi9pbmRleC5qcyIsIi4vbGliL3Rva2VuaXplLWFyZy1zdHJpbmciLCIuL2xpYi90b2tlbml6ZS1hcmctc3RyaW5nLmpzIiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCJ1c2VycyIsImdyb3VwcyIsImZzIiwidXNlckFkZCIsImhvbWUiLCJpZHMiLCJ3cml0ZSIsIm5leHRVaWQiLCJ1c2VyQXBpIiwiZ3JvdXAiLCJzdXBwbGVtZW50YXJ5R3JvdXBzIiwidWlkIiwiZ2lkIiwiZmluZCIsIlN0cmluZyIsInZhbHVlcyIsInVzZXIiLCJuZXh0R2lkIiwiZ3JvdXBBcGkiLCJnIiwiY3JlYXRlRGlyIiwiX3JlZjIiLCJzaXplIiwiX3RoaXMiLCJhY2MiLCJjdXJyIiwibXRpbWUiLCJEYXRlIiwiZmlsZVN5c3RlbSIsImdldE5vZGUiLCJub3JtYWxpc2VQYXRoIiwibm9kZSIsImNoaWxkIiwiZmlsZSIsIl9yZWYzIiwiY3JlYXRlRmlsZSIsInJlYWQiLCJmaWxlcyIsImwiLCJkYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiZGF5IiwibW9udGgiLCJob3VyIiwibWludXRlIiwic3ViQ29tbWFuZHMiLCJpbnN0YWxsIiwic3ViQ29tbWFuZCIsIm5wbUluc3RhbGxMb2ciLCJkZXBlbmRlbmNpZXMiLCJfd2VicGFja19yZXF1aXJlX180IiwicGtnIiwiZGVwcyIsImRlcCIsIm5vdyIsImluaXQiLCJfd2VicGFja19yZXF1aXJlX183IiwibWFuaWZlc3QiLCJucG1JbnN0YWxsU2luZ2xlUGFja2FnZUxvZyIsInNhdmUiLCJsb2dzIl0sIm1hcHBpbmdzIjoieThCQUFTLFNBQVVBLEdDQ25CLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FDLFFBQUEsR0FDQUUsR0FBQUgsRUFDQUksUUFBQSxHQVVBLE9BTkFQLEVBQUFHLEdBQUFLLEtBQUFILEVBQUFELFFBQUFDLEVBQUFBLEVBQUFELFFBQUFGLEdBR0FHLEVBQUFFLFFB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REgsRUFBQUksTUFBb0J6UixFQUFwQixpQkFBd0MxUyxFQUFBaEgsRUFBQSxHQUF4QyxZQUFrRCxxQ0FBQTZxQixFQUFBSyxJQUFBLFlBTWxEbGtCLEtBQUEsQ0FDQThELFFBQUEsQ0FDQSxVQUtBLElBQUF5akIsRUFBQSxTQUFBbmYsRUFBQTRlLEdBQ0EsSUFBQVMsRUFBQSxDQUNBLDZCQUNBLGtDQUNBLGlGQUNBLHdDQUNBLDJCQUNBLCtCQUNBLHdFQUNBLGtHQUNBLHNGQUNBLDhHQUNBLCtEQUNBLHlNQUNBLDRCQWJBLHNCQWMwQlQsRUFkMUIsMldBQUEsV0FlZUEsRUFmZixjQUFBLGlEQWdCcURBLEVBaEJyRCxVQWlCQSxvQ0FDQSwwQ0FDQSxJQUNBLG9EQUNBLDZDQUNBLHNGQUNBLHlDQXZCQSxLQXdCU0EsRUF4QlQsU0F5QkEsdUVBQ0EsMEJBQ0EsSUFDQSx1Q0FDQSxlQUNBLHdFQUNBLGlDQUdBNUssRUFBQW9KLEtBQUEyQixNQUVBbkUsRUFBQTVhLEVBQUEsQ0FDQUgsS0FBQSxXQUNBLElBQUFxTixFQUFBbVMsRUFBQTVLLFFBRUEsT0FBQXZILEVBSUFBLEVBQUF6YixRQUFBLFNBQUEyckIsS0FBQTJCLE1BQUEvSyxHQUhBLE9BS0csSUFBQSxJQUFBIiwiZmlsZSI6InNsaWRlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMSlcblx0Y29uc3QgYmVzcG9rZSA9IF9fd2VicGFja19yZXF1aXJlX18oMilcblx0Y29uc3QgdGhlbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpXG5cdGNvbnN0IGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpXG5cdGNvbnN0IHRvdWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KVxuXHRjb25zdCBidWxsZXRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KVxuXHRjb25zdCBiYWNrZHJvcCA9IF9fd2VicGFja19yZXF1aXJlX18oNylcblx0Y29uc3Qgc2NhbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpXG5cdGNvbnN0IGhhc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdGNvbnN0IHByb2dyZXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0Y29uc3QgaW5kZXhGaW5nZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKVxuXHRjb25zdCBzZWNvbmRhcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKVxuXHRcblx0dmFyIHBsdWdpbnMgPSBbXG5cdCAgdGhlbWUoKSxcblx0ICBrZXlzKCksXG5cdCAgdG91Y2goKSxcblx0ICBidWxsZXRzKCcuZGVsYXllZCwgLmJ1bGxldCcpLFxuXHQgIGJhY2tkcm9wKCksXG5cdCAgc2NhbGUoKSxcblx0ICBoYXNoKCksXG5cdCAgcHJvZ3Jlc3MoKSxcblx0ICBpbmRleEZpbmdlcigpLFxuXHQgIHNlY29uZGFyeSgpXG5cdF1cblx0XG5cdHRyeSB7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwicGx1Z2luc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSkocGx1Z2lucylcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XG5cdH1cblx0XG5cdHZhciBkZWNrID0gYmVzcG9rZS5mcm9tKCdhcnRpY2xlJywgcGx1Z2lucylcblx0XG5cdHRyeSB7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXygxNCkoZGVjaylcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1jb3JlLmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdHZhciBfc2VsZiA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcblx0XHQ/IHdpbmRvdyAgIC8vIGlmIGluIGJyb3dzZXJcblx0XHQ6IChcblx0XHRcdCh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSlcblx0XHRcdD8gc2VsZiAvLyBpZiBpbiB3b3JrZXJcblx0XHRcdDoge30gICAvLyBpZiBpbiBub2RlIGpzXG5cdFx0KTtcblx0XG5cdC8qKlxuXHQgKiBQcmlzbTogTGlnaHR3ZWlnaHQsIHJvYnVzdCwgZWxlZ2FudCBzeW50YXggaGlnaGxpZ2h0aW5nXG5cdCAqIE1JVCBsaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwL1xuXHQgKiBAYXV0aG9yIExlYSBWZXJvdSBodHRwOi8vbGVhLnZlcm91Lm1lXG5cdCAqL1xuXHRcblx0dmFyIFByaXNtID0gKGZ1bmN0aW9uIChfc2VsZil7XG5cdFxuXHQvLyBQcml2YXRlIGhlbHBlciB2YXJzXG5cdHZhciBsYW5nID0gL1xcYmxhbmcoPzp1YWdlKT8tKFtcXHctXSspXFxiL2k7XG5cdHZhciB1bmlxdWVJZCA9IDA7XG5cdFxuXHR2YXIgXyA9IHtcblx0XHRtYW51YWw6IF9zZWxmLlByaXNtICYmIF9zZWxmLlByaXNtLm1hbnVhbCxcblx0XHRkaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXI6IF9zZWxmLlByaXNtICYmIF9zZWxmLlByaXNtLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcixcblx0XHR1dGlsOiB7XG5cdFx0XHRlbmNvZGU6IGZ1bmN0aW9uICh0b2tlbnMpIHtcblx0XHRcdFx0aWYgKHRva2VucyBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBUb2tlbih0b2tlbnMudHlwZSwgXy51dGlsLmVuY29kZSh0b2tlbnMuY29udGVudCksIHRva2Vucy5hbGlhcyk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0b2tlbnMpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRva2Vucy5tYXAoXy51dGlsLmVuY29kZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRva2Vucy5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC9cXHUwMGEwL2csICcgJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFxuXHRcdFx0dHlwZTogZnVuY3Rpb24gKG8pIHtcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdG9iaklkOiBmdW5jdGlvbiAob2JqKSB7XG5cdFx0XHRcdGlmICghb2JqWydfX2lkJ10pIHtcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnX19pZCcsIHsgdmFsdWU6ICsrdW5pcXVlSWQgfSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG9ialsnX19pZCddO1xuXHRcdFx0fSxcblx0XG5cdFx0XHQvLyBEZWVwIGNsb25lIGEgbGFuZ3VhZ2UgZGVmaW5pdGlvbiAoZS5nLiB0byBleHRlbmQgaXQpXG5cdFx0XHRjbG9uZTogZnVuY3Rpb24gZGVlcENsb25lKG8sIHZpc2l0ZWQpIHtcblx0XHRcdFx0dmFyIGNsb25lLCBpZCwgdHlwZSA9IF8udXRpbC50eXBlKG8pO1xuXHRcdFx0XHR2aXNpdGVkID0gdmlzaXRlZCB8fCB7fTtcblx0XG5cdFx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRcdFx0XHRpZCA9IF8udXRpbC5vYmpJZChvKTtcblx0XHRcdFx0XHRcdGlmICh2aXNpdGVkW2lkXSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmlzaXRlZFtpZF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHt9O1xuXHRcdFx0XHRcdFx0dmlzaXRlZFtpZF0gPSBjbG9uZTtcblx0XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gbykge1xuXHRcdFx0XHRcdFx0XHRpZiAoby5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xvbmVba2V5XSA9IGRlZXBDbG9uZShvW2tleV0sIHZpc2l0ZWQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0cmV0dXJuIGNsb25lO1xuXHRcblx0XHRcdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdFx0XHRpZCA9IF8udXRpbC5vYmpJZChvKTtcblx0XHRcdFx0XHRcdGlmICh2aXNpdGVkW2lkXSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmlzaXRlZFtpZF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjbG9uZSA9IFtdO1xuXHRcdFx0XHRcdFx0dmlzaXRlZFtpZF0gPSBjbG9uZTtcblx0XG5cdFx0XHRcdFx0XHRvLmZvckVhY2goZnVuY3Rpb24gKHYsIGkpIHtcblx0XHRcdFx0XHRcdFx0Y2xvbmVbaV0gPSBkZWVwQ2xvbmUodiwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cdFxuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRyZXR1cm4gbztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGxhbmd1YWdlczoge1xuXHRcdFx0ZXh0ZW5kOiBmdW5jdGlvbiAoaWQsIHJlZGVmKSB7XG5cdFx0XHRcdHZhciBsYW5nID0gXy51dGlsLmNsb25lKF8ubGFuZ3VhZ2VzW2lkXSk7XG5cdFxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gcmVkZWYpIHtcblx0XHRcdFx0XHRsYW5nW2tleV0gPSByZWRlZltrZXldO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gbGFuZztcblx0XHRcdH0sXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBJbnNlcnQgYSB0b2tlbiBiZWZvcmUgYW5vdGhlciB0b2tlbiBpbiBhIGxhbmd1YWdlIGxpdGVyYWxcblx0XHRcdCAqIEFzIHRoaXMgbmVlZHMgdG8gcmVjcmVhdGUgdGhlIG9iamVjdCAod2UgY2Fubm90IGFjdHVhbGx5IGluc2VydCBiZWZvcmUga2V5cyBpbiBvYmplY3QgbGl0ZXJhbHMpLFxuXHRcdFx0ICogd2UgY2Fubm90IGp1c3QgcHJvdmlkZSBhbiBvYmplY3QsIHdlIG5lZWQgYW4gb2JqZWN0IGFuZCBhIGtleS5cblx0XHRcdCAqIEBwYXJhbSBpbnNpZGUgVGhlIGtleSAob3IgbGFuZ3VhZ2UgaWQpIG9mIHRoZSBwYXJlbnRcblx0XHRcdCAqIEBwYXJhbSBiZWZvcmUgVGhlIGtleSB0byBpbnNlcnQgYmVmb3JlLlxuXHRcdFx0ICogQHBhcmFtIGluc2VydCBPYmplY3Qgd2l0aCB0aGUga2V5L3ZhbHVlIHBhaXJzIHRvIGluc2VydFxuXHRcdFx0ICogQHBhcmFtIHJvb3QgVGhlIG9iamVjdCB0aGF0IGNvbnRhaW5zIGBpbnNpZGVgLiBJZiBlcXVhbCB0byBQcmlzbS5sYW5ndWFnZXMsIGl0IGNhbiBiZSBvbWl0dGVkLlxuXHRcdFx0ICovXG5cdFx0XHRpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChpbnNpZGUsIGJlZm9yZSwgaW5zZXJ0LCByb290KSB7XG5cdFx0XHRcdHJvb3QgPSByb290IHx8IF8ubGFuZ3VhZ2VzO1xuXHRcdFx0XHR2YXIgZ3JhbW1hciA9IHJvb3RbaW5zaWRlXTtcblx0XHRcdFx0dmFyIHJldCA9IHt9O1xuXHRcblx0XHRcdFx0Zm9yICh2YXIgdG9rZW4gaW4gZ3JhbW1hcikge1xuXHRcdFx0XHRcdGlmIChncmFtbWFyLmhhc093blByb3BlcnR5KHRva2VuKSkge1xuXHRcblx0XHRcdFx0XHRcdGlmICh0b2tlbiA9PSBiZWZvcmUpIHtcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgbmV3VG9rZW4gaW4gaW5zZXJ0KSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGluc2VydC5oYXNPd25Qcm9wZXJ0eShuZXdUb2tlbikpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldFtuZXdUb2tlbl0gPSBpbnNlcnRbbmV3VG9rZW5dO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIERvIG5vdCBpbnNlcnQgdG9rZW4gd2hpY2ggYWxzbyBvY2N1ciBpbiBpbnNlcnQuIFNlZSAjMTUyNVxuXHRcdFx0XHRcdFx0aWYgKCFpbnNlcnQuaGFzT3duUHJvcGVydHkodG9rZW4pKSB7XG5cdFx0XHRcdFx0XHRcdHJldFt0b2tlbl0gPSBncmFtbWFyW3Rva2VuXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHZhciBvbGQgPSByb290W2luc2lkZV07XG5cdFx0XHRcdHJvb3RbaW5zaWRlXSA9IHJldDtcblx0XG5cdFx0XHRcdC8vIFVwZGF0ZSByZWZlcmVuY2VzIGluIG90aGVyIGxhbmd1YWdlIGRlZmluaXRpb25zXG5cdFx0XHRcdF8ubGFuZ3VhZ2VzLkRGUyhfLmxhbmd1YWdlcywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRcdGlmICh2YWx1ZSA9PT0gb2xkICYmIGtleSAhPSBpbnNpZGUpIHtcblx0XHRcdFx0XHRcdHRoaXNba2V5XSA9IHJldDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gVHJhdmVyc2UgYSBsYW5ndWFnZSBkZWZpbml0aW9uIHdpdGggRGVwdGggRmlyc3QgU2VhcmNoXG5cdFx0XHRERlM6IGZ1bmN0aW9uIERGUyhvLCBjYWxsYmFjaywgdHlwZSwgdmlzaXRlZCkge1xuXHRcdFx0XHR2aXNpdGVkID0gdmlzaXRlZCB8fCB7fTtcblx0XG5cdFx0XHRcdHZhciBvYmpJZCA9IF8udXRpbC5vYmpJZDtcblx0XG5cdFx0XHRcdGZvciAodmFyIGkgaW4gbykge1xuXHRcdFx0XHRcdGlmIChvLmhhc093blByb3BlcnR5KGkpKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKG8sIGksIG9baV0sIHR5cGUgfHwgaSk7XG5cdFxuXHRcdFx0XHRcdFx0dmFyIHByb3BlcnR5ID0gb1tpXSxcblx0XHRcdFx0XHRcdCAgICBwcm9wZXJ0eVR5cGUgPSBfLnV0aWwudHlwZShwcm9wZXJ0eSk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5VHlwZSA9PT0gJ09iamVjdCcgJiYgIXZpc2l0ZWRbb2JqSWQocHJvcGVydHkpXSkge1xuXHRcdFx0XHRcdFx0XHR2aXNpdGVkW29iaklkKHByb3BlcnR5KV0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRERlMocHJvcGVydHksIGNhbGxiYWNrLCBudWxsLCB2aXNpdGVkKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgaWYgKHByb3BlcnR5VHlwZSA9PT0gJ0FycmF5JyAmJiAhdmlzaXRlZFtvYmpJZChwcm9wZXJ0eSldKSB7XG5cdFx0XHRcdFx0XHRcdHZpc2l0ZWRbb2JqSWQocHJvcGVydHkpXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdERGUyhwcm9wZXJ0eSwgY2FsbGJhY2ssIGksIHZpc2l0ZWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cGx1Z2luczoge30sXG5cdFxuXHRcdGhpZ2hsaWdodEFsbDogZnVuY3Rpb24oYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0XHRfLmhpZ2hsaWdodEFsbFVuZGVyKGRvY3VtZW50LCBhc3luYywgY2FsbGJhY2spO1xuXHRcdH0sXG5cdFxuXHRcdGhpZ2hsaWdodEFsbFVuZGVyOiBmdW5jdGlvbihjb250YWluZXIsIGFzeW5jLCBjYWxsYmFjaykge1xuXHRcdFx0dmFyIGVudiA9IHtcblx0XHRcdFx0Y2FsbGJhY2s6IGNhbGxiYWNrLFxuXHRcdFx0XHRzZWxlY3RvcjogJ2NvZGVbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdLCBbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdIGNvZGUsIGNvZGVbY2xhc3MqPVwibGFuZy1cIl0sIFtjbGFzcyo9XCJsYW5nLVwiXSBjb2RlJ1xuXHRcdFx0fTtcblx0XG5cdFx0XHRfLmhvb2tzLnJ1bihcImJlZm9yZS1oaWdobGlnaHRhbGxcIiwgZW52KTtcblx0XG5cdFx0XHR2YXIgZWxlbWVudHMgPSBlbnYuZWxlbWVudHMgfHwgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoZW52LnNlbGVjdG9yKTtcblx0XG5cdFx0XHRmb3IgKHZhciBpPTAsIGVsZW1lbnQ7IGVsZW1lbnQgPSBlbGVtZW50c1tpKytdOykge1xuXHRcdFx0XHRfLmhpZ2hsaWdodEVsZW1lbnQoZWxlbWVudCwgYXN5bmMgPT09IHRydWUsIGVudi5jYWxsYmFjayk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0aGlnaGxpZ2h0RWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0XHQvLyBGaW5kIGxhbmd1YWdlXG5cdFx0XHR2YXIgbGFuZ3VhZ2UsIGdyYW1tYXIsIHBhcmVudCA9IGVsZW1lbnQ7XG5cdFxuXHRcdFx0d2hpbGUgKHBhcmVudCAmJiAhbGFuZy50ZXN0KHBhcmVudC5jbGFzc05hbWUpKSB7XG5cdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0bGFuZ3VhZ2UgPSAocGFyZW50LmNsYXNzTmFtZS5tYXRjaChsYW5nKSB8fCBbLCcnXSlbMV0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0Z3JhbW1hciA9IF8ubGFuZ3VhZ2VzW2xhbmd1YWdlXTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTZXQgbGFuZ3VhZ2Ugb24gdGhlIGVsZW1lbnQsIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UobGFuZywgJycpLnJlcGxhY2UoL1xccysvZywgJyAnKSArICcgbGFuZ3VhZ2UtJyArIGxhbmd1YWdlO1xuXHRcblx0XHRcdGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHtcblx0XHRcdFx0Ly8gU2V0IGxhbmd1YWdlIG9uIHRoZSBwYXJlbnQsIGZvciBzdHlsaW5nXG5cdFx0XHRcdHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblx0XG5cdFx0XHRcdGlmICgvcHJlL2kudGVzdChwYXJlbnQubm9kZU5hbWUpKSB7XG5cdFx0XHRcdFx0cGFyZW50LmNsYXNzTmFtZSA9IHBhcmVudC5jbGFzc05hbWUucmVwbGFjZShsYW5nLCAnJykucmVwbGFjZSgvXFxzKy9nLCAnICcpICsgJyBsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgY29kZSA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG5cdFxuXHRcdFx0dmFyIGVudiA9IHtcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudCxcblx0XHRcdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlLFxuXHRcdFx0XHRncmFtbWFyOiBncmFtbWFyLFxuXHRcdFx0XHRjb2RlOiBjb2RlXG5cdFx0XHR9O1xuXHRcblx0XHRcdHZhciBpbnNlcnRIaWdobGlnaHRlZENvZGUgPSBmdW5jdGlvbiAoaGlnaGxpZ2h0ZWRDb2RlKSB7XG5cdFx0XHRcdGVudi5oaWdobGlnaHRlZENvZGUgPSBoaWdobGlnaHRlZENvZGU7XG5cdFxuXHRcdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWluc2VydCcsIGVudik7XG5cdFxuXHRcdFx0XHRlbnYuZWxlbWVudC5pbm5lckhUTUwgPSBlbnYuaGlnaGxpZ2h0ZWRDb2RlO1xuXHRcblx0XHRcdFx0Xy5ob29rcy5ydW4oJ2FmdGVyLWhpZ2hsaWdodCcsIGVudik7XG5cdFx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZW52LmVsZW1lbnQpO1xuXHRcdFx0fVxuXHRcblx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtc2FuaXR5LWNoZWNrJywgZW52KTtcblx0XG5cdFx0XHRpZiAoIWVudi5jb2RlKSB7XG5cdFx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWhpZ2hsaWdodCcsIGVudik7XG5cdFxuXHRcdFx0aWYgKCFlbnYuZ3JhbW1hcikge1xuXHRcdFx0XHRpbnNlcnRIaWdobGlnaHRlZENvZGUoXy51dGlsLmVuY29kZShlbnYuY29kZSkpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKGFzeW5jICYmIF9zZWxmLldvcmtlcikge1xuXHRcdFx0XHR2YXIgd29ya2VyID0gbmV3IFdvcmtlcihfLmZpbGVuYW1lKTtcblx0XG5cdFx0XHRcdHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldnQpIHtcblx0XHRcdFx0XHRpbnNlcnRIaWdobGlnaHRlZENvZGUoZXZ0LmRhdGEpO1xuXHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0d29ya2VyLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0XHRsYW5ndWFnZTogZW52Lmxhbmd1YWdlLFxuXHRcdFx0XHRcdGNvZGU6IGVudi5jb2RlLFxuXHRcdFx0XHRcdGltbWVkaWF0ZUNsb3NlOiB0cnVlXG5cdFx0XHRcdH0pKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpbnNlcnRIaWdobGlnaHRlZENvZGUoXy5oaWdobGlnaHQoZW52LmNvZGUsIGVudi5ncmFtbWFyLCBlbnYubGFuZ3VhZ2UpKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRoaWdobGlnaHQ6IGZ1bmN0aW9uICh0ZXh0LCBncmFtbWFyLCBsYW5ndWFnZSkge1xuXHRcdFx0dmFyIGVudiA9IHtcblx0XHRcdFx0Y29kZTogdGV4dCxcblx0XHRcdFx0Z3JhbW1hcjogZ3JhbW1hcixcblx0XHRcdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlXG5cdFx0XHR9O1xuXHRcdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS10b2tlbml6ZScsIGVudik7XG5cdFx0XHRlbnYudG9rZW5zID0gXy50b2tlbml6ZShlbnYuY29kZSwgZW52LmdyYW1tYXIpO1xuXHRcdFx0Xy5ob29rcy5ydW4oJ2FmdGVyLXRva2VuaXplJywgZW52KTtcblx0XHRcdHJldHVybiBUb2tlbi5zdHJpbmdpZnkoXy51dGlsLmVuY29kZShlbnYudG9rZW5zKSwgZW52Lmxhbmd1YWdlKTtcblx0XHR9LFxuXHRcblx0XHRtYXRjaEdyYW1tYXI6IGZ1bmN0aW9uICh0ZXh0LCBzdHJhcnIsIGdyYW1tYXIsIGluZGV4LCBzdGFydFBvcywgb25lc2hvdCwgdGFyZ2V0KSB7XG5cdFx0XHRmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cdFx0XHRcdGlmKCFncmFtbWFyLmhhc093blByb3BlcnR5KHRva2VuKSB8fCAhZ3JhbW1hclt0b2tlbl0pIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKHRva2VuID09IHRhcmdldCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0dmFyIHBhdHRlcm5zID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRcdHBhdHRlcm5zID0gKF8udXRpbC50eXBlKHBhdHRlcm5zKSA9PT0gXCJBcnJheVwiKSA/IHBhdHRlcm5zIDogW3BhdHRlcm5zXTtcblx0XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGF0dGVybnMubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0XHR2YXIgcGF0dGVybiA9IHBhdHRlcm5zW2pdLFxuXHRcdFx0XHRcdFx0aW5zaWRlID0gcGF0dGVybi5pbnNpZGUsXG5cdFx0XHRcdFx0XHRsb29rYmVoaW5kID0gISFwYXR0ZXJuLmxvb2tiZWhpbmQsXG5cdFx0XHRcdFx0XHRncmVlZHkgPSAhIXBhdHRlcm4uZ3JlZWR5LFxuXHRcdFx0XHRcdFx0bG9va2JlaGluZExlbmd0aCA9IDAsXG5cdFx0XHRcdFx0XHRhbGlhcyA9IHBhdHRlcm4uYWxpYXM7XG5cdFxuXHRcdFx0XHRcdGlmIChncmVlZHkgJiYgIXBhdHRlcm4ucGF0dGVybi5nbG9iYWwpIHtcblx0XHRcdFx0XHRcdC8vIFdpdGhvdXQgdGhlIGdsb2JhbCBmbGFnLCBsYXN0SW5kZXggd29uJ3Qgd29ya1xuXHRcdFx0XHRcdFx0dmFyIGZsYWdzID0gcGF0dGVybi5wYXR0ZXJuLnRvU3RyaW5nKCkubWF0Y2goL1tpbXV5XSokLylbMF07XG5cdFx0XHRcdFx0XHRwYXR0ZXJuLnBhdHRlcm4gPSBSZWdFeHAocGF0dGVybi5wYXR0ZXJuLnNvdXJjZSwgZmxhZ3MgKyBcImdcIik7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRwYXR0ZXJuID0gcGF0dGVybi5wYXR0ZXJuIHx8IHBhdHRlcm47XG5cdFxuXHRcdFx0XHRcdC8vIERvbuKAmXQgY2FjaGUgbGVuZ3RoIGFzIGl0IGNoYW5nZXMgZHVyaW5nIHRoZSBsb29wXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IGluZGV4LCBwb3MgPSBzdGFydFBvczsgaSA8IHN0cmFyci5sZW5ndGg7IHBvcyArPSBzdHJhcnJbaV0ubGVuZ3RoLCArK2kpIHtcblx0XG5cdFx0XHRcdFx0XHR2YXIgc3RyID0gc3RyYXJyW2ldO1xuXHRcblx0XHRcdFx0XHRcdGlmIChzdHJhcnIubGVuZ3RoID4gdGV4dC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0Ly8gU29tZXRoaW5nIHdlbnQgdGVycmlibHkgd3JvbmcsIEFCT1JULCBBQk9SVCFcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGlmIChzdHIgaW5zdGFuY2VvZiBUb2tlbikge1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRpZiAoZ3JlZWR5ICYmIGkgIT0gc3RyYXJyLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdFx0cGF0dGVybi5sYXN0SW5kZXggPSBwb3M7XG5cdFx0XHRcdFx0XHRcdHZhciBtYXRjaCA9IHBhdHRlcm4uZXhlYyh0ZXh0KTtcblx0XHRcdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgZnJvbSA9IG1hdGNoLmluZGV4ICsgKGxvb2tiZWhpbmQgPyBtYXRjaFsxXS5sZW5ndGggOiAwKSxcblx0XHRcdFx0XHRcdFx0ICAgIHRvID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgsXG5cdFx0XHRcdFx0XHRcdCAgICBrID0gaSxcblx0XHRcdFx0XHRcdFx0ICAgIHAgPSBwb3M7XG5cdFxuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBsZW4gPSBzdHJhcnIubGVuZ3RoOyBrIDwgbGVuICYmIChwIDwgdG8gfHwgKCFzdHJhcnJba10udHlwZSAmJiAhc3RyYXJyW2sgLSAxXS5ncmVlZHkpKTsgKytrKSB7XG5cdFx0XHRcdFx0XHRcdFx0cCArPSBzdHJhcnJba10ubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRcdC8vIE1vdmUgdGhlIGluZGV4IGkgdG8gdGhlIGVsZW1lbnQgaW4gc3RyYXJyIHRoYXQgaXMgY2xvc2VzdCB0byBmcm9tXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGZyb20gPj0gcCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0KytpO1xuXHRcdFx0XHRcdFx0XHRcdFx0cG9zID0gcDtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdC8vIElmIHN0cmFycltpXSBpcyBhIFRva2VuLCB0aGVuIHRoZSBtYXRjaCBzdGFydHMgaW5zaWRlIGFub3RoZXIgVG9rZW4sIHdoaWNoIGlzIGludmFsaWRcblx0XHRcdFx0XHRcdFx0aWYgKHN0cmFycltpXSBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdC8vIE51bWJlciBvZiB0b2tlbnMgdG8gZGVsZXRlIGFuZCByZXBsYWNlIHdpdGggdGhlIG5ldyBtYXRjaFxuXHRcdFx0XHRcdFx0XHRkZWxOdW0gPSBrIC0gaTtcblx0XHRcdFx0XHRcdFx0c3RyID0gdGV4dC5zbGljZShwb3MsIHApO1xuXHRcdFx0XHRcdFx0XHRtYXRjaC5pbmRleCAtPSBwb3M7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRwYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoc3RyKSxcblx0XHRcdFx0XHRcdFx0XHRkZWxOdW0gPSAxO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGlmICghbWF0Y2gpIHtcblx0XHRcdFx0XHRcdFx0aWYgKG9uZXNob3QpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0aWYobG9va2JlaGluZCkge1xuXHRcdFx0XHRcdFx0XHRsb29rYmVoaW5kTGVuZ3RoID0gbWF0Y2hbMV0gPyBtYXRjaFsxXS5sZW5ndGggOiAwO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdHZhciBmcm9tID0gbWF0Y2guaW5kZXggKyBsb29rYmVoaW5kTGVuZ3RoLFxuXHRcdFx0XHRcdFx0ICAgIG1hdGNoID0gbWF0Y2hbMF0uc2xpY2UobG9va2JlaGluZExlbmd0aCksXG5cdFx0XHRcdFx0XHQgICAgdG8gPSBmcm9tICsgbWF0Y2gubGVuZ3RoLFxuXHRcdFx0XHRcdFx0ICAgIGJlZm9yZSA9IHN0ci5zbGljZSgwLCBmcm9tKSxcblx0XHRcdFx0XHRcdCAgICBhZnRlciA9IHN0ci5zbGljZSh0byk7XG5cdFxuXHRcdFx0XHRcdFx0dmFyIGFyZ3MgPSBbaSwgZGVsTnVtXTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoYmVmb3JlKSB7XG5cdFx0XHRcdFx0XHRcdCsraTtcblx0XHRcdFx0XHRcdFx0cG9zICs9IGJlZm9yZS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdGFyZ3MucHVzaChiZWZvcmUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdHZhciB3cmFwcGVkID0gbmV3IFRva2VuKHRva2VuLCBpbnNpZGU/IF8udG9rZW5pemUobWF0Y2gsIGluc2lkZSkgOiBtYXRjaCwgYWxpYXMsIG1hdGNoLCBncmVlZHkpO1xuXHRcblx0XHRcdFx0XHRcdGFyZ3MucHVzaCh3cmFwcGVkKTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoYWZ0ZXIpIHtcblx0XHRcdFx0XHRcdFx0YXJncy5wdXNoKGFmdGVyKTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHN0cmFyciwgYXJncyk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKGRlbE51bSAhPSAxKVxuXHRcdFx0XHRcdFx0XHRfLm1hdGNoR3JhbW1hcih0ZXh0LCBzdHJhcnIsIGdyYW1tYXIsIGksIHBvcywgdHJ1ZSwgdG9rZW4pO1xuXHRcblx0XHRcdFx0XHRcdGlmIChvbmVzaG90KVxuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHR0b2tlbml6ZTogZnVuY3Rpb24odGV4dCwgZ3JhbW1hcikge1xuXHRcdFx0dmFyIHN0cmFyciA9IFt0ZXh0XTtcblx0XG5cdFx0XHR2YXIgcmVzdCA9IGdyYW1tYXIucmVzdDtcblx0XG5cdFx0XHRpZiAocmVzdCkge1xuXHRcdFx0XHRmb3IgKHZhciB0b2tlbiBpbiByZXN0KSB7XG5cdFx0XHRcdFx0Z3JhbW1hclt0b2tlbl0gPSByZXN0W3Rva2VuXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0ZGVsZXRlIGdyYW1tYXIucmVzdDtcblx0XHRcdH1cblx0XG5cdFx0XHRfLm1hdGNoR3JhbW1hcih0ZXh0LCBzdHJhcnIsIGdyYW1tYXIsIDAsIDAsIGZhbHNlKTtcblx0XG5cdFx0XHRyZXR1cm4gc3RyYXJyO1xuXHRcdH0sXG5cdFxuXHRcdGhvb2tzOiB7XG5cdFx0XHRhbGw6IHt9LFxuXHRcblx0XHRcdGFkZDogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XG5cdFx0XHRcdHZhciBob29rcyA9IF8uaG9va3MuYWxsO1xuXHRcblx0XHRcdFx0aG9va3NbbmFtZV0gPSBob29rc1tuYW1lXSB8fCBbXTtcblx0XG5cdFx0XHRcdGhvb2tzW25hbWVdLnB1c2goY2FsbGJhY2spO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRydW46IGZ1bmN0aW9uIChuYW1lLCBlbnYpIHtcblx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IF8uaG9va3MuYWxsW25hbWVdO1xuXHRcblx0XHRcdFx0aWYgKCFjYWxsYmFja3MgfHwgIWNhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGZvciAodmFyIGk9MCwgY2FsbGJhY2s7IGNhbGxiYWNrID0gY2FsbGJhY2tzW2krK107KSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soZW52KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdFRva2VuOiBUb2tlblxuXHR9O1xuXHRcblx0X3NlbGYuUHJpc20gPSBfO1xuXHRcblx0ZnVuY3Rpb24gVG9rZW4odHlwZSwgY29udGVudCwgYWxpYXMsIG1hdGNoZWRTdHIsIGdyZWVkeSkge1xuXHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdFx0dGhpcy5jb250ZW50ID0gY29udGVudDtcblx0XHR0aGlzLmFsaWFzID0gYWxpYXM7XG5cdFx0Ly8gQ29weSBvZiB0aGUgZnVsbCBzdHJpbmcgdGhpcyB0b2tlbiB3YXMgY3JlYXRlZCBmcm9tXG5cdFx0dGhpcy5sZW5ndGggPSAobWF0Y2hlZFN0ciB8fCBcIlwiKS5sZW5ndGh8MDtcblx0XHR0aGlzLmdyZWVkeSA9ICEhZ3JlZWR5O1xuXHR9XG5cdFxuXHRUb2tlbi5zdHJpbmdpZnkgPSBmdW5jdGlvbihvLCBsYW5ndWFnZSwgcGFyZW50KSB7XG5cdFx0aWYgKHR5cGVvZiBvID09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gbztcblx0XHR9XG5cdFxuXHRcdGlmIChBcnJheS5pc0FycmF5KG8pKSB7XG5cdFx0XHRyZXR1cm4gby5tYXAoZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdFx0XHRyZXR1cm4gVG9rZW4uc3RyaW5naWZ5KGVsZW1lbnQsIGxhbmd1YWdlLCBvKTtcblx0XHRcdH0pLmpvaW4oJycpO1xuXHRcdH1cblx0XG5cdFx0dmFyIGVudiA9IHtcblx0XHRcdHR5cGU6IG8udHlwZSxcblx0XHRcdGNvbnRlbnQ6IFRva2VuLnN0cmluZ2lmeShvLmNvbnRlbnQsIGxhbmd1YWdlLCBwYXJlbnQpLFxuXHRcdFx0dGFnOiAnc3BhbicsXG5cdFx0XHRjbGFzc2VzOiBbJ3Rva2VuJywgby50eXBlXSxcblx0XHRcdGF0dHJpYnV0ZXM6IHt9LFxuXHRcdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlLFxuXHRcdFx0cGFyZW50OiBwYXJlbnRcblx0XHR9O1xuXHRcblx0XHRpZiAoby5hbGlhcykge1xuXHRcdFx0dmFyIGFsaWFzZXMgPSBBcnJheS5pc0FycmF5KG8uYWxpYXMpID8gby5hbGlhcyA6IFtvLmFsaWFzXTtcblx0XHRcdEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGVudi5jbGFzc2VzLCBhbGlhc2VzKTtcblx0XHR9XG5cdFxuXHRcdF8uaG9va3MucnVuKCd3cmFwJywgZW52KTtcblx0XG5cdFx0dmFyIGF0dHJpYnV0ZXMgPSBPYmplY3Qua2V5cyhlbnYuYXR0cmlidXRlcykubWFwKGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRcdHJldHVybiBuYW1lICsgJz1cIicgKyAoZW52LmF0dHJpYnV0ZXNbbmFtZV0gfHwgJycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKSArICdcIic7XG5cdFx0fSkuam9pbignICcpO1xuXHRcblx0XHRyZXR1cm4gJzwnICsgZW52LnRhZyArICcgY2xhc3M9XCInICsgZW52LmNsYXNzZXMuam9pbignICcpICsgJ1wiJyArIChhdHRyaWJ1dGVzID8gJyAnICsgYXR0cmlidXRlcyA6ICcnKSArICc+JyArIGVudi5jb250ZW50ICsgJzwvJyArIGVudi50YWcgKyAnPic7XG5cdFxuXHR9O1xuXHRcblx0aWYgKCFfc2VsZi5kb2N1bWVudCkge1xuXHRcdGlmICghX3NlbGYuYWRkRXZlbnRMaXN0ZW5lcikge1xuXHRcdFx0Ly8gaW4gTm9kZS5qc1xuXHRcdFx0cmV0dXJuIF87XG5cdFx0fVxuXHRcblx0XHRpZiAoIV8uZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyKSB7XG5cdFx0XHQvLyBJbiB3b3JrZXJcblx0XHRcdF9zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZ0KSB7XG5cdFx0XHRcdHZhciBtZXNzYWdlID0gSlNPTi5wYXJzZShldnQuZGF0YSksXG5cdFx0XHRcdFx0bGFuZyA9IG1lc3NhZ2UubGFuZ3VhZ2UsXG5cdFx0XHRcdFx0Y29kZSA9IG1lc3NhZ2UuY29kZSxcblx0XHRcdFx0XHRpbW1lZGlhdGVDbG9zZSA9IG1lc3NhZ2UuaW1tZWRpYXRlQ2xvc2U7XG5cdFxuXHRcdFx0XHRfc2VsZi5wb3N0TWVzc2FnZShfLmhpZ2hsaWdodChjb2RlLCBfLmxhbmd1YWdlc1tsYW5nXSwgbGFuZykpO1xuXHRcdFx0XHRpZiAoaW1tZWRpYXRlQ2xvc2UpIHtcblx0XHRcdFx0XHRfc2VsZi5jbG9zZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBmYWxzZSk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gXztcblx0fVxuXHRcblx0Ly9HZXQgY3VycmVudCBzY3JpcHQgYW5kIGhpZ2hsaWdodFxuXHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdCB8fCBbXS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpKS5wb3AoKTtcblx0XG5cdGlmIChzY3JpcHQpIHtcblx0XHRfLmZpbGVuYW1lID0gc2NyaXB0LnNyYztcblx0XG5cdFx0aWYgKCFfLm1hbnVhbCAmJiAhc2NyaXB0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1tYW51YWwnKSkge1xuXHRcdFx0aWYoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIpIHtcblx0XHRcdFx0aWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcblx0XHRcdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKF8uaGlnaGxpZ2h0QWxsKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChfLmhpZ2hsaWdodEFsbCwgMTYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIF8uaGlnaGxpZ2h0QWxsKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdHJldHVybiBfO1xuXHRcblx0fSkoX3NlbGYpO1xuXHRcblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBQcmlzbTtcblx0fVxuXHRcblx0Ly8gaGFjayBmb3IgY29tcG9uZW50cyB0byB3b3JrIGNvcnJlY3RseSBpbiBub2RlLmpzXG5cdGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuXHRcdGdsb2JhbC5QcmlzbSA9IFByaXNtO1xuXHR9XG5cdFxuXHRcblx0LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgICAgIEJlZ2luIHByaXNtLW1hcmt1cC5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMubWFya3VwID0ge1xuXHRcdCdjb21tZW50JzogLzwhLS1bXFxzXFxTXSo/LS0+Lyxcblx0XHQncHJvbG9nJzogLzxcXD9bXFxzXFxTXSs/XFw/Pi8sXG5cdFx0J2RvY3R5cGUnOiAvPCFET0NUWVBFW1xcc1xcU10rPz4vaSxcblx0XHQnY2RhdGEnOiAvPCFcXFtDREFUQVxcW1tcXHNcXFNdKj9dXT4vaSxcblx0XHQndGFnJzoge1xuXHRcdFx0cGF0dGVybjogLzxcXC8/KD8hXFxkKVteXFxzPlxcLz0kPCVdKyg/Olxccyg/OlxccypbXlxccz5cXC89XSsoPzpcXHMqPVxccyooPzpcIlteXCJdKlwifCdbXiddKid8W15cXHMnXCI+PV0rKD89W1xccz5dKSl8KD89W1xccy8+XSkpKSspP1xccypcXC8/Pi9pLFxuXHRcdFx0Z3JlZWR5OiB0cnVlLFxuXHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdCd0YWcnOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogL148XFwvP1teXFxzPlxcL10rL2ksXG5cdFx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0XHQncHVuY3R1YXRpb24nOiAvXjxcXC8/Lyxcblx0XHRcdFx0XHRcdCduYW1lc3BhY2UnOiAvXlteXFxzPlxcLzpdKzovXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQnYXR0ci12YWx1ZSc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvPVxccyooPzpcIlteXCJdKlwifCdbXiddKid8W15cXHMnXCI+PV0rKS9pLFxuXHRcdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogW1xuXHRcdFx0XHRcdFx0XHQvXj0vLFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0cGF0dGVybjogL14oXFxzKilbXCInXXxbXCInXSQvLFxuXHRcdFx0XHRcdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL1xcLz8+Lyxcblx0XHRcdFx0J2F0dHItbmFtZSc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvW15cXHM+XFwvXSsvLFxuXHRcdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdFx0J25hbWVzcGFjZSc6IC9eW15cXHM+XFwvOl0rOi9cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQnZW50aXR5JzogLyYjP1tcXGRhLXpdezEsOH07L2lcblx0fTtcblx0XG5cdFByaXNtLmxhbmd1YWdlcy5tYXJrdXBbJ3RhZyddLmluc2lkZVsnYXR0ci12YWx1ZSddLmluc2lkZVsnZW50aXR5J10gPVxuXHRcdFByaXNtLmxhbmd1YWdlcy5tYXJrdXBbJ2VudGl0eSddO1xuXHRcblx0Ly8gUGx1Z2luIHRvIG1ha2UgZW50aXR5IHRpdGxlIHNob3cgdGhlIHJlYWwgZW50aXR5LCBpZGVhIGJ5IFJvbWFuIEtvbWFyb3Zcblx0UHJpc20uaG9va3MuYWRkKCd3cmFwJywgZnVuY3Rpb24oZW52KSB7XG5cdFxuXHRcdGlmIChlbnYudHlwZSA9PT0gJ2VudGl0eScpIHtcblx0XHRcdGVudi5hdHRyaWJ1dGVzWyd0aXRsZSddID0gZW52LmNvbnRlbnQucmVwbGFjZSgvJmFtcDsvLCAnJicpO1xuXHRcdH1cblx0fSk7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcsICdhZGRJbmxpbmVkJywge1xuXHRcdC8qKlxuXHRcdCAqIEFkZHMgYW4gaW5saW5lZCBsYW5ndWFnZSB0byBtYXJrdXAuXG5cdFx0ICpcblx0XHQgKiBBbiBleGFtcGxlIG9mIGFuIGlubGluZWQgbGFuZ3VhZ2UgaXMgQ1NTIHdpdGggYDxzdHlsZT5gIHRhZ3MuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSBUaGUgbmFtZSBvZiB0aGUgdGFnIHRoYXQgY29udGFpbnMgdGhlIGlubGluZWQgbGFuZ3VhZ2UuIFRoaXMgbmFtZSB3aWxsIGJlIHRyZWF0ZWQgYXNcblx0XHQgKiBjYXNlIGluc2Vuc2l0aXZlLlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nIFRoZSBsYW5ndWFnZSBrZXkuXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKiBhZGRJbmxpbmVkKCdzdHlsZScsICdjc3MnKTtcblx0XHQgKi9cblx0XHR2YWx1ZTogZnVuY3Rpb24gYWRkSW5saW5lZCh0YWdOYW1lLCBsYW5nKSB7XG5cdFx0XHR2YXIgaW5jbHVkZWRDZGF0YUluc2lkZSA9IHt9O1xuXHRcdFx0aW5jbHVkZWRDZGF0YUluc2lkZVsnbGFuZ3VhZ2UtJyArIGxhbmddID0ge1xuXHRcdFx0XHRwYXR0ZXJuOiAvKF48IVxcW0NEQVRBXFxbKVtcXHNcXFNdKz8oPz1cXF1cXF0+JCkvaSxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXNbbGFuZ11cblx0XHRcdH07XG5cdFx0XHRpbmNsdWRlZENkYXRhSW5zaWRlWydjZGF0YSddID0gL148IVxcW0NEQVRBXFxbfFxcXVxcXT4kL2k7XG5cdFxuXHRcdFx0dmFyIGluc2lkZSA9IHtcblx0XHRcdFx0J2luY2x1ZGVkLWNkYXRhJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC88IVxcW0NEQVRBXFxbW1xcc1xcU10qP1xcXVxcXT4vaSxcblx0XHRcdFx0XHRpbnNpZGU6IGluY2x1ZGVkQ2RhdGFJbnNpZGVcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGluc2lkZVsnbGFuZ3VhZ2UtJyArIGxhbmddID0ge1xuXHRcdFx0XHRwYXR0ZXJuOiAvW1xcc1xcU10rLyxcblx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXNbbGFuZ11cblx0XHRcdH07XG5cdFxuXHRcdFx0dmFyIGRlZiA9IHt9O1xuXHRcdFx0ZGVmW3RhZ05hbWVdID0ge1xuXHRcdFx0XHRwYXR0ZXJuOiBSZWdFeHAoLyg8X19bXFxzXFxTXSo/PikoPzo8IVxcW0NEQVRBXFxbW1xcc1xcU10qP1xcXVxcXT5cXHMqfFtcXHNcXFNdKSo/KD89PFxcL19fPikvLnNvdXJjZS5yZXBsYWNlKC9fXy9nLCB0YWdOYW1lKSwgJ2knKSxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdFx0Z3JlZWR5OiB0cnVlLFxuXHRcdFx0XHRpbnNpZGU6IGluc2lkZVxuXHRcdFx0fTtcblx0XG5cdFx0XHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdtYXJrdXAnLCAnY2RhdGEnLCBkZWYpO1xuXHRcdH1cblx0fSk7XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMueG1sID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnbWFya3VwJywge30pO1xuXHRQcmlzbS5sYW5ndWFnZXMuaHRtbCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdFByaXNtLmxhbmd1YWdlcy5tYXRobWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuXHRQcmlzbS5sYW5ndWFnZXMuc3ZnID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblx0XG5cdFxuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tY3NzLmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdChmdW5jdGlvbiAoUHJpc20pIHtcblx0XG5cdFx0dmFyIHN0cmluZyA9IC8oXCJ8JykoPzpcXFxcKD86XFxyXFxufFtcXHNcXFNdKXwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxLztcblx0XG5cdFx0UHJpc20ubGFuZ3VhZ2VzLmNzcyA9IHtcblx0XHRcdCdjb21tZW50JzogL1xcL1xcKltcXHNcXFNdKj9cXCpcXC8vLFxuXHRcdFx0J2F0cnVsZSc6IHtcblx0XHRcdFx0cGF0dGVybjogL0BbXFx3LV0rP1tcXHNcXFNdKj8oPzo7fCg/PVxccypcXHspKS9pLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQncnVsZSc6IC9AW1xcdy1dKy9cblx0XHRcdFx0XHQvLyBTZWUgcmVzdCBiZWxvd1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0J3VybCc6IFJlZ0V4cCgndXJsXFxcXCgoPzonICsgc3RyaW5nLnNvdXJjZSArICd8Lio/KVxcXFwpJywgJ2knKSxcblx0XHRcdCdzZWxlY3Rvcic6IFJlZ0V4cCgnW157fVxcXFxzXSg/Oltee307XCJcXCddfCcgKyBzdHJpbmcuc291cmNlICsgJykqPyg/PVxcXFxzKlxcXFx7KScpLFxuXHRcdFx0J3N0cmluZyc6IHtcblx0XHRcdFx0cGF0dGVybjogc3RyaW5nLFxuXHRcdFx0XHRncmVlZHk6IHRydWVcblx0XHRcdH0sXG5cdFx0XHQncHJvcGVydHknOiAvWy1fYS16XFx4QTAtXFx1RkZGRl1bLVxcd1xceEEwLVxcdUZGRkZdKig/PVxccyo6KS9pLFxuXHRcdFx0J2ltcG9ydGFudCc6IC8haW1wb3J0YW50XFxiL2ksXG5cdFx0XHQnZnVuY3Rpb24nOiAvWy1hLXowLTldKyg/PVxcKCkvaSxcblx0XHRcdCdwdW5jdHVhdGlvbic6IC9bKCl7fTs6LF0vXG5cdFx0fTtcblx0XG5cdFx0UHJpc20ubGFuZ3VhZ2VzLmNzc1snYXRydWxlJ10uaW5zaWRlLnJlc3QgPSBQcmlzbS5sYW5ndWFnZXMuY3NzO1xuXHRcblx0XHR2YXIgbWFya3VwID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblx0XHRpZiAobWFya3VwKSB7XG5cdFx0XHRtYXJrdXAudGFnLmFkZElubGluZWQoJ3N0eWxlJywgJ2NzcycpO1xuXHRcblx0XHRcdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2luc2lkZScsICdhdHRyLXZhbHVlJywge1xuXHRcdFx0XHQnc3R5bGUtYXR0cic6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvXFxzKnN0eWxlPShcInwnKSg/OlxcXFxbXFxzXFxTXXwoPyFcXDEpW15cXFxcXSkqXFwxL2ksXG5cdFx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0XHQnYXR0ci1uYW1lJzoge1xuXHRcdFx0XHRcdFx0XHRwYXR0ZXJuOiAvXlxccypzdHlsZS9pLFxuXHRcdFx0XHRcdFx0XHRpbnNpZGU6IG1hcmt1cC50YWcuaW5zaWRlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL15cXHMqPVxccypbJ1wiXXxbJ1wiXVxccyokLyxcblx0XHRcdFx0XHRcdCdhdHRyLXZhbHVlJzoge1xuXHRcdFx0XHRcdFx0XHRwYXR0ZXJuOiAvLisvaSxcblx0XHRcdFx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuY3NzXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRhbGlhczogJ2xhbmd1YWdlLWNzcydcblx0XHRcdFx0fVxuXHRcdFx0fSwgbWFya3VwLnRhZyk7XG5cdFx0fVxuXHRcblx0fShQcmlzbSkpO1xuXHRcblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1jbGlrZS5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuY2xpa2UgPSB7XG5cdFx0J2NvbW1lbnQnOiBbXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC8oXnxbXlxcXFxdKVxcL1xcKltcXHNcXFNdKj8oPzpcXCpcXC98JCkvLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcOl0pXFwvXFwvLiovLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0XHRncmVlZHk6IHRydWVcblx0XHRcdH1cblx0XHRdLFxuXHRcdCdzdHJpbmcnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvKFtcIiddKSg/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDEvLFxuXHRcdFx0Z3JlZWR5OiB0cnVlXG5cdFx0fSxcblx0XHQnY2xhc3MtbmFtZSc6IHtcblx0XHRcdHBhdHRlcm46IC8oKD86XFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylcXHMrKXwoPzpjYXRjaFxccytcXCgpKVtcXHcuXFxcXF0rL2ksXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdHB1bmN0dWF0aW9uOiAvWy5cXFxcXS9cblx0XHRcdH1cblx0XHR9LFxuXHRcdCdrZXl3b3JkJzogL1xcYig/OmlmfGVsc2V8d2hpbGV8ZG98Zm9yfHJldHVybnxpbnxpbnN0YW5jZW9mfGZ1bmN0aW9ufG5ld3x0cnl8dGhyb3d8Y2F0Y2h8ZmluYWxseXxudWxsfGJyZWFrfGNvbnRpbnVlKVxcYi8sXG5cdFx0J2Jvb2xlYW4nOiAvXFxiKD86dHJ1ZXxmYWxzZSlcXGIvLFxuXHRcdCdmdW5jdGlvbic6IC9cXHcrKD89XFwoKS8sXG5cdFx0J251bWJlcic6IC9cXGIweFtcXGRhLWZdK1xcYnwoPzpcXGJcXGQrXFwuP1xcZCp8XFxCXFwuXFxkKykoPzplWystXT9cXGQrKT8vaSxcblx0XHQnb3BlcmF0b3InOiAvLS0/fFxcK1xcKz98IT0/PT98PD0/fD49P3w9PT89P3wmJj98XFx8XFx8P3xcXD98XFwqfFxcL3x+fFxcXnwlLyxcblx0XHQncHVuY3R1YXRpb24nOiAvW3t9W1xcXTsoKSwuOl0vXG5cdH07XG5cdFxuXHRcblx0LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgICAgIEJlZ2luIHByaXNtLWphdmFzY3JpcHQuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHQgPSBQcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCdjbGlrZScsIHtcblx0XHQnY2xhc3MtbmFtZSc6IFtcblx0XHRcdFByaXNtLmxhbmd1YWdlcy5jbGlrZVsnY2xhc3MtbmFtZSddLFxuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKF58W14kXFx3XFx4QTAtXFx1RkZGRl0pW18kQS1aXFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKig/PVxcLig/OnByb3RvdHlwZXxjb25zdHJ1Y3RvcikpLyxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0J2tleXdvcmQnOiBbXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC8oKD86Xnx9KVxccyopKD86Y2F0Y2h8ZmluYWxseSlcXGIvLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKF58W14uXSlcXGIoPzphc3xhc3luYyg/PVxccyooPzpmdW5jdGlvblxcYnxcXCh8WyRcXHdcXHhBMC1cXHVGRkZGXXwkKSl8YXdhaXR8YnJlYWt8Y2FzZXxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxcYi8sXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHRcdH0sXG5cdFx0XSxcblx0XHQnbnVtYmVyJzogL1xcYig/Oig/OjBbeFhdW1xcZEEtRmEtZl0rfDBbYkJdWzAxXSt8MFtvT11bMC03XSspbj98XFxkK258TmFOfEluZmluaXR5KVxcYnwoPzpcXGJcXGQrXFwuP1xcZCp8XFxCXFwuXFxkKykoPzpbRWVdWystXT9cXGQrKT8vLFxuXHRcdC8vIEFsbG93IGZvciBhbGwgbm9uLUFTQ0lJIGNoYXJhY3RlcnMgKFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMDA4NDQ0KVxuXHRcdCdmdW5jdGlvbic6IC9bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKig/OlxcLlxccyooPzphcHBseXxiaW5kfGNhbGwpXFxzKik/XFwoKS8sXG5cdFx0J29wZXJhdG9yJzogLy1bLT1dP3xcXCtbKz1dP3whPT89P3w8PD89P3w+Pj8+Pz0/fD0oPzo9PT98Pik/fCZbJj1dP3xcXHxbfD1dP3xcXCpcXCo/PT98XFwvPT98fnxcXF49P3wlPT98XFw/fFxcLnszfS9cblx0fSk7XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFsnY2xhc3MtbmFtZSddWzBdLnBhdHRlcm4gPSAvKFxcYig/OmNsYXNzfGludGVyZmFjZXxleHRlbmRzfGltcGxlbWVudHN8aW5zdGFuY2VvZnxuZXcpXFxzKylbXFx3LlxcXFxdKy9cblx0XG5cdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2phdmFzY3JpcHQnLCAna2V5d29yZCcsIHtcblx0XHQncmVnZXgnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvKCg/Ol58W14kXFx3XFx4QTAtXFx1RkZGRi5cIidcXF0pXFxzXSlcXHMqKVxcLyhcXFsoPzpbXlxcXVxcXFxcXHJcXG5dfFxcXFwuKSpdfFxcXFwufFteL1xcXFxcXFtcXHJcXG5dKStcXC9bZ2lteXVdezAsNX0oPz1cXHMqKCR8W1xcclxcbiwuO30pXFxdXSkpLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRncmVlZHk6IHRydWVcblx0XHR9LFxuXHRcdC8vIFRoaXMgbXVzdCBiZSBkZWNsYXJlZCBiZWZvcmUga2V5d29yZCBiZWNhdXNlIHdlIHVzZSBcImZ1bmN0aW9uXCIgaW5zaWRlIHRoZSBsb29rLWZvcndhcmRcblx0XHQnZnVuY3Rpb24tdmFyaWFibGUnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvW18kYS16QS1aXFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKig/PVxccypbPTpdXFxzKig/OmFzeW5jXFxzKik/KD86XFxiZnVuY3Rpb25cXGJ8KD86XFwoKD86W14oKV18XFwoW14oKV0qXFwpKSpcXCl8W18kYS16QS1aXFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKilcXHMqPT4pKS8sXG5cdFx0XHRhbGlhczogJ2Z1bmN0aW9uJ1xuXHRcdH0sXG5cdFx0J3BhcmFtZXRlcic6IFtcblx0XHRcdHtcblx0XHRcdFx0cGF0dGVybjogLyhmdW5jdGlvbig/OlxccytbXyRBLVphLXpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKT9cXHMqXFwoXFxzKikoPyFcXHMpKD86W14oKV18XFwoW14oKV0qXFwpKSs/KD89XFxzKlxcKSkvLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvW18kYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKig/PVxccyo9PikvaSxcblx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0cGF0dGVybjogLyhcXChcXHMqKSg/IVxccykoPzpbXigpXXxcXChbXigpXSpcXCkpKz8oPz1cXHMqXFwpXFxzKj0+KS8sXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC8oKD86XFxifFxcc3xeKSg/ISg/OmFzfGFzeW5jfGF3YWl0fGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZpbmFsbHl8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKSg/IVskXFx3XFx4QTAtXFx1RkZGRl0pKSg/OltfJEEtWmEtelxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSpcXHMqKVxcKFxccyopKD8hXFxzKSg/OlteKCldfFxcKFteKCldKlxcKSkrPyg/PVxccypcXClcXHMqXFx7KS8sXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHRcdH1cblx0XHRdLFxuXHRcdCdjb25zdGFudCc6IC9cXGJbQS1aXSg/OltBLVpfXXxcXGR4PykqXFxiL1xuXHR9KTtcblx0XG5cdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2phdmFzY3JpcHQnLCAnc3RyaW5nJywge1xuXHRcdCd0ZW1wbGF0ZS1zdHJpbmcnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvYCg/OlxcXFxbXFxzXFxTXXxcXCR7W159XSt9fFteXFxcXGBdKSpgLyxcblx0XHRcdGdyZWVkeTogdHJ1ZSxcblx0XHRcdGluc2lkZToge1xuXHRcdFx0XHQnaW50ZXJwb2xhdGlvbic6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvXFwke1tefV0rfS8sXG5cdFx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0XHQnaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvbic6IHtcblx0XHRcdFx0XHRcdFx0cGF0dGVybjogL15cXCR7fH0kLyxcblx0XHRcdFx0XHRcdFx0YWxpYXM6ICdwdW5jdHVhdGlvbidcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRyZXN0OiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0J3N0cmluZyc6IC9bXFxzXFxTXSsvXG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblx0XG5cdGlmIChQcmlzbS5sYW5ndWFnZXMubWFya3VwKSB7XG5cdFx0UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuYWRkSW5saW5lZCgnc2NyaXB0JywgJ2phdmFzY3JpcHQnKTtcblx0fVxuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmpzID0gUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHQ7XG5cdFxuXHRcblx0LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgICAgIEJlZ2luIHByaXNtLWZpbGUtaGlnaGxpZ2h0LmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdChmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyB8fCAhc2VsZi5QcmlzbSB8fCAhc2VsZi5kb2N1bWVudCB8fCAhZG9jdW1lbnQucXVlcnlTZWxlY3Rvcikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0LyoqXG5cdFx0ICogQHBhcmFtIHtFbGVtZW50fSBbY29udGFpbmVyPWRvY3VtZW50XVxuXHRcdCAqL1xuXHRcdHNlbGYuUHJpc20uZmlsZUhpZ2hsaWdodCA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHRcdFx0Y29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvY3VtZW50O1xuXHRcblx0XHRcdHZhciBFeHRlbnNpb25zID0ge1xuXHRcdFx0XHQnanMnOiAnamF2YXNjcmlwdCcsXG5cdFx0XHRcdCdweSc6ICdweXRob24nLFxuXHRcdFx0XHQncmInOiAncnVieScsXG5cdFx0XHRcdCdwczEnOiAncG93ZXJzaGVsbCcsXG5cdFx0XHRcdCdwc20xJzogJ3Bvd2Vyc2hlbGwnLFxuXHRcdFx0XHQnc2gnOiAnYmFzaCcsXG5cdFx0XHRcdCdiYXQnOiAnYmF0Y2gnLFxuXHRcdFx0XHQnaCc6ICdjJyxcblx0XHRcdFx0J3RleCc6ICdsYXRleCdcblx0XHRcdH07XG5cdFxuXHRcdFx0QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3ByZVtkYXRhLXNyY10nKSkuZm9yRWFjaChmdW5jdGlvbiAocHJlKSB7XG5cdFx0XHRcdC8vIGlnbm9yZSBpZiBhbHJlYWR5IGxvYWRlZFxuXHRcdFx0XHRpZiAocHJlLmhhc0F0dHJpYnV0ZSgnZGF0YS1zcmMtbG9hZGVkJykpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIGxvYWQgY3VycmVudFxuXHRcdFx0XHR2YXIgc3JjID0gcHJlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcblx0XG5cdFx0XHRcdHZhciBsYW5ndWFnZSwgcGFyZW50ID0gcHJlO1xuXHRcdFx0XHR2YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pO1xuXHRcdFx0XHR3aGlsZSAocGFyZW50ICYmICFsYW5nLnRlc3QocGFyZW50LmNsYXNzTmFtZSkpIHtcblx0XHRcdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0XHRcdGxhbmd1YWdlID0gKHByZS5jbGFzc05hbWUubWF0Y2gobGFuZykgfHwgWywgJyddKVsxXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKCFsYW5ndWFnZSkge1xuXHRcdFx0XHRcdHZhciBleHRlbnNpb24gPSAoc3JjLm1hdGNoKC9cXC4oXFx3KykkLykgfHwgWywgJyddKVsxXTtcblx0XHRcdFx0XHRsYW5ndWFnZSA9IEV4dGVuc2lvbnNbZXh0ZW5zaW9uXSB8fCBleHRlbnNpb247XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHZhciBjb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29kZScpO1xuXHRcdFx0XHRjb2RlLmNsYXNzTmFtZSA9ICdsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cdFxuXHRcdFx0XHRwcmUudGV4dENvbnRlbnQgPSAnJztcblx0XG5cdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAnTG9hZGluZ+KApic7XG5cdFxuXHRcdFx0XHRwcmUuYXBwZW5kQ2hpbGQoY29kZSk7XG5cdFxuXHRcdFx0XHR2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFxuXHRcdFx0XHR4aHIub3BlbignR0VUJywgc3JjLCB0cnVlKTtcblx0XG5cdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0aWYgKHhoci5yZWFkeVN0YXRlID09IDQpIHtcblx0XG5cdFx0XHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA8IDQwMCAmJiB4aHIucmVzcG9uc2VUZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSB4aHIucmVzcG9uc2VUZXh0O1xuXHRcblx0XHRcdFx0XHRcdFx0UHJpc20uaGlnaGxpZ2h0RWxlbWVudChjb2RlKTtcblx0XHRcdFx0XHRcdFx0Ly8gbWFyayBhcyBsb2FkZWRcblx0XHRcdFx0XHRcdFx0cHJlLnNldEF0dHJpYnV0ZSgnZGF0YS1zcmMtbG9hZGVkJywgJycpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoeGhyLnN0YXR1cyA+PSA0MDApIHtcblx0XHRcdFx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9ICfinJYgRXJyb3IgJyArIHhoci5zdGF0dXMgKyAnIHdoaWxlIGZldGNoaW5nIGZpbGU6ICcgKyB4aHIuc3RhdHVzVGV4dDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ+KcliBFcnJvcjogRmlsZSBkb2VzIG5vdCBleGlzdCBvciBpcyBlbXB0eSc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0eGhyLnNlbmQobnVsbCk7XG5cdFx0XHR9KTtcblx0XG5cdFx0XHRpZiAoUHJpc20ucGx1Z2lucy50b29sYmFyKSB7XG5cdFx0XHRcdFByaXNtLnBsdWdpbnMudG9vbGJhci5yZWdpc3RlckJ1dHRvbignZG93bmxvYWQtZmlsZScsIGZ1bmN0aW9uIChlbnYpIHtcblx0XHRcdFx0XHR2YXIgcHJlID0gZW52LmVsZW1lbnQucGFyZW50Tm9kZTtcblx0XHRcdFx0XHRpZiAoIXByZSB8fCAhL3ByZS9pLnRlc3QocHJlLm5vZGVOYW1lKSB8fCAhcHJlLmhhc0F0dHJpYnV0ZSgnZGF0YS1zcmMnKSB8fCAhcHJlLmhhc0F0dHJpYnV0ZSgnZGF0YS1kb3dubG9hZC1saW5rJykpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFyIHNyYyA9IHByZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7XG5cdFx0XHRcdFx0dmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0XHRcdFx0YS50ZXh0Q29udGVudCA9IHByZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtbGluay1sYWJlbCcpIHx8ICdEb3dubG9hZCc7XG5cdFx0XHRcdFx0YS5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJycpO1xuXHRcdFx0XHRcdGEuaHJlZiA9IHNyYztcblx0XHRcdFx0XHRyZXR1cm4gYTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFxuXHRcdH07XG5cdFxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBleGVjdXRlIGluc2lkZSBoYW5kbGVyLCBmb3IgZHJvcHBpbmcgRXZlbnQgYXMgYXJndW1lbnRcblx0XHRcdHNlbGYuUHJpc20uZmlsZUhpZ2hsaWdodCgpO1xuXHRcdH0pO1xuXHRcblx0fSkoKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGZyb20gPSBmdW5jdGlvbihvcHRzLCBwbHVnaW5zKSB7XG5cdCAgdmFyIHBhcmVudCA9IChvcHRzLnBhcmVudCB8fCBvcHRzKS5ub2RlVHlwZSA9PT0gMSA/IChvcHRzLnBhcmVudCB8fCBvcHRzKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0cy5wYXJlbnQgfHwgb3B0cyksXG5cdCAgICBzbGlkZXMgPSBbXS5maWx0ZXIuY2FsbCh0eXBlb2Ygb3B0cy5zbGlkZXMgPT09ICdzdHJpbmcnID8gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0cy5zbGlkZXMpIDogKG9wdHMuc2xpZGVzIHx8IHBhcmVudC5jaGlsZHJlbiksIGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbC5ub2RlTmFtZSAhPT0gJ1NDUklQVCc7IH0pLFxuXHQgICAgYWN0aXZlU2xpZGUgPSBzbGlkZXNbMF0sXG5cdCAgICBsaXN0ZW5lcnMgPSB7fSxcblx0XG5cdCAgICBhY3RpdmF0ZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG5cdCAgICAgIGlmICghc2xpZGVzW2luZGV4XSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZmlyZSgnZGVhY3RpdmF0ZScsIGNyZWF0ZUV2ZW50RGF0YShhY3RpdmVTbGlkZSwgY3VzdG9tRGF0YSkpO1xuXHQgICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1tpbmRleF07XG5cdCAgICAgIGZpcmUoJ2FjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIHNsaWRlID0gZnVuY3Rpb24oaW5kZXgsIGN1c3RvbURhdGEpIHtcblx0ICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0ICAgICAgICBmaXJlKCdzbGlkZScsIGNyZWF0ZUV2ZW50RGF0YShzbGlkZXNbaW5kZXhdLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoaW5kZXgsIGN1c3RvbURhdGEpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBzbGlkZXMuaW5kZXhPZihhY3RpdmVTbGlkZSk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgc3RlcCA9IGZ1bmN0aW9uKG9mZnNldCwgY3VzdG9tRGF0YSkge1xuXHQgICAgICB2YXIgc2xpZGVJbmRleCA9IHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKSArIG9mZnNldDtcblx0XG5cdCAgICAgIGZpcmUob2Zmc2V0ID4gMCA/ICduZXh0JyA6ICdwcmV2JywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoc2xpZGVJbmRleCwgY3VzdG9tRGF0YSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIG9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuXHQgICAgICAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgKGxpc3RlbmVyc1tldmVudE5hbWVdID0gW10pKS5wdXNoKGNhbGxiYWNrKTtcblx0ICAgICAgcmV0dXJuIG9mZi5iaW5kKG51bGwsIGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuXHQgICAgfSxcblx0XG5cdCAgICBvZmYgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG5cdCAgICAgIGxpc3RlbmVyc1tldmVudE5hbWVdID0gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24obGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyICE9PSBjYWxsYmFjazsgfSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGZpcmUgPSBmdW5jdGlvbihldmVudE5hbWUsIGV2ZW50RGF0YSkge1xuXHQgICAgICByZXR1cm4gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKVxuXHQgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24obm90Q2FuY2VsbGVkLCBjYWxsYmFjaykge1xuXHQgICAgICAgICAgcmV0dXJuIG5vdENhbmNlbGxlZCAmJiBjYWxsYmFjayhldmVudERhdGEpICE9PSBmYWxzZTtcblx0ICAgICAgICB9LCB0cnVlKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZWwsIGV2ZW50RGF0YSkge1xuXHQgICAgICBldmVudERhdGEgPSBldmVudERhdGEgfHwge307XG5cdCAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlcy5pbmRleE9mKGVsKTtcblx0ICAgICAgZXZlbnREYXRhLnNsaWRlID0gZWw7XG5cdCAgICAgIHJldHVybiBldmVudERhdGE7XG5cdCAgICB9LFxuXHRcblx0ICAgIGRlY2sgPSB7XG5cdCAgICAgIG9uOiBvbixcblx0ICAgICAgb2ZmOiBvZmYsXG5cdCAgICAgIGZpcmU6IGZpcmUsXG5cdCAgICAgIHNsaWRlOiBzbGlkZSxcblx0ICAgICAgbmV4dDogc3RlcC5iaW5kKG51bGwsIDEpLFxuXHQgICAgICBwcmV2OiBzdGVwLmJpbmQobnVsbCwgLTEpLFxuXHQgICAgICBwYXJlbnQ6IHBhcmVudCxcblx0ICAgICAgc2xpZGVzOiBzbGlkZXNcblx0ICAgIH07XG5cdFxuXHQgIChwbHVnaW5zIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuXHQgICAgcGx1Z2luKGRlY2spO1xuXHQgIH0pO1xuXHRcblx0ICBhY3RpdmF0ZSgwKTtcblx0XG5cdCAgcmV0dXJuIGRlY2s7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBmcm9tOiBmcm9tXG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHJlcXVpcmU7dmFyIHJlcXVpcmU7LyohXG5cdCAqIGJlc3Bva2UtdGhlbWUtbmVidWxhIHYxLjAuMVxuXHQgKlxuXHQgKiBDb3B5cmlnaHQgMjAxNCwgTWFyayBEYWxnbGVpc2hcblx0ICogVGhpcyBjb250ZW50IGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuXHQgKiBcblx0ICovXG5cdFxuXHQhZnVuY3Rpb24oZSl7aWYodHJ1ZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKGUpO2Vsc2V7dmFyIG87XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz9vPXdpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP289Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYobz1zZWxmKTt2YXIgZj1vO2Y9Zi5iZXNwb2tlfHwoZi5iZXNwb2tlPXt9KSxmPWYudGhlbWVzfHwoZi50aGVtZXM9e30pLGYubmVidWxhPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIHJlcXVpcmUobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcblx0dmFyIGNsYXNzZXMgPSBfZGVyZXFfKCdiZXNwb2tlLWNsYXNzZXMnKTtcblx0dmFyIGluc2VydENzcyA9IF9kZXJlcV8oJ2luc2VydC1jc3MnKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIGNzcyA9IFwiLyohIG5vcm1hbGl6ZS5jc3MgdjMuMC4wIHwgTUlUIExpY2Vuc2UgfCBnaXQuaW8vbm9ybWFsaXplICovaHRtbHtmb250LWZhbWlseTpzYW5zLXNlcmlmOy1tcy10ZXh0LXNpemUtYWRqdXN0OjEwMCU7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OjEwMCV9Ym9keXttYXJnaW46MH1hcnRpY2xlLGFzaWRlLGRldGFpbHMsZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsbWFpbixuYXYsc2VjdGlvbixzdW1tYXJ5e2Rpc3BsYXk6YmxvY2t9YXVkaW8sY2FudmFzLHByb2dyZXNzLHZpZGVve2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfWF1ZGlvOm5vdChbY29udHJvbHNdKXtkaXNwbGF5Om5vbmU7aGVpZ2h0OjB9W2hpZGRlbl0sdGVtcGxhdGV7ZGlzcGxheTpub25lfWF7YmFja2dyb3VuZDowIDB9YTphY3RpdmUsYTpob3ZlcntvdXRsaW5lOjB9YWJiclt0aXRsZV17Ym9yZGVyLWJvdHRvbToxcHggZG90dGVkfWJ7Zm9udC13ZWlnaHQ6NzAwfWRmbntmb250LXN0eWxlOml0YWxpY31oMXtmb250LXNpemU6MmVtfW1hcmt7YmFja2dyb3VuZDojZmYwO2NvbG9yOiMwMDB9c21hbGx7Zm9udC1zaXplOjgwJX1zdWIsc3Vwe2ZvbnQtc2l6ZTo3NSU7bGluZS1oZWlnaHQ6MDtwb3NpdGlvbjpyZWxhdGl2ZTt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX1zdXB7dG9wOi0uNWVtfXN1Yntib3R0b206LS4yNWVtfWltZ3tib3JkZXI6MH1zdmc6bm90KDpyb290KXtvdmVyZmxvdzpoaWRkZW59ZmlndXJle21hcmdpbjoxZW0gNDBweH1ocntib3gtc2l6aW5nOmNvbnRlbnQtYm94fXByZXtvdmVyZmxvdzphdXRvfWNvZGUsa2JkLHByZSxzYW1we2ZvbnQtc2l6ZToxZW19a2JkLHByZSxzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZSxtb25vc3BhY2V9YnV0dG9uLGlucHV0LG9wdGdyb3VwLHNlbGVjdCx0ZXh0YXJlYXtjb2xvcjppbmhlcml0O2ZvbnQ6aW5oZXJpdDttYXJnaW46MH1idXR0b257b3ZlcmZsb3c6dmlzaWJsZX1idXR0b24sc2VsZWN0e3RleHQtdHJhbnNmb3JtOm5vbmV9YnV0dG9uLGh0bWwgaW5wdXRbdHlwZT1cXFwiYnV0dG9uXFxcIl0saW5wdXRbdHlwZT1cXFwicmVzZXRcXFwiXSxpbnB1dFt0eXBlPVxcXCJzdWJtaXRcXFwiXXstd2Via2l0LWFwcGVhcmFuY2U6YnV0dG9uO2N1cnNvcjpwb2ludGVyfWJ1dHRvbltkaXNhYmxlZF0saHRtbCBpbnB1dFtkaXNhYmxlZF17Y3Vyc29yOmRlZmF1bHR9YnV0dG9uOjotbW96LWZvY3VzLWlubmVyLGlucHV0OjotbW96LWZvY3VzLWlubmVye2JvcmRlcjowO3BhZGRpbmc6MH1pbnB1dHtsaW5lLWhlaWdodDpub3JtYWx9aW5wdXRbdHlwZT1cXFwiY2hlY2tib3hcXFwiXSxpbnB1dFt0eXBlPVxcXCJyYWRpb1xcXCJde2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjB9aW5wdXRbdHlwZT1cXFwibnVtYmVyXFxcIl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24saW5wdXRbdHlwZT1cXFwibnVtYmVyXFxcIl06Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b257aGVpZ2h0OmF1dG99aW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl17LXdlYmtpdC1hcHBlYXJhbmNlOnRleHRmaWVsZDtib3gtc2l6aW5nOmNvbnRlbnQtYm94fWlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uLGlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uey13ZWJraXQtYXBwZWFyYW5jZTpub25lfWZpZWxkc2V0e2JvcmRlcjoxcHggc29saWQgc2lsdmVyO21hcmdpbjowIDJweDtwYWRkaW5nOi4zNWVtIC42MjVlbSAuNzVlbX1sZWdlbmR7Ym9yZGVyOjA7cGFkZGluZzowfXRleHRhcmVhe292ZXJmbG93OmF1dG99b3B0Z3JvdXB7Zm9udC13ZWlnaHQ6NzAwfXRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowfXRkLHRoLCp7cGFkZGluZzowfSp7bWFyZ2luOjB9aHRtbHstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6YXV0bzstbXMtdGV4dC1zaXplLWFkanVzdDphdXRvO3RleHQtc2l6ZS1hZGp1c3Q6YXV0b30uYmVzcG9rZS1wYXJlbnR7Zm9udC1zaXplOjEuNWVtO2JhY2tncm91bmQ6IzExMTtjb2xvcjojZGRkO2ZvbnQtZmFtaWx5OmZ1dHVyYSxoZWx2ZXRpY2EsYXJpYWwsYXJpYWwsc2Fucy1zZXJpZjtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpjZW50ZXI7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQgMXMgZWFzZTt0cmFuc2l0aW9uOmJhY2tncm91bmQgMXMgZWFzZTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCV9LmJlc3Bva2UtcGFyZW50LC5iZXNwb2tlLXNjYWxlLXBhcmVudHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uYmVzcG9rZS1zY2FsZS1wYXJlbnR7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OjF9LmJlc3Bva2Utc2NhbGUtcGFyZW50IC5iZXNwb2tlLWFjdGl2ZXtwb2ludGVyLWV2ZW50czphdXRvfS5iZXNwb2tlLXNsaWRley13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC41cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuNXMgZWFzZTt3aWR0aDo5NDBweDtoZWlnaHQ6NDgwcHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTttYXJnaW4tbGVmdDotNDcwcHg7bWFyZ2luLXRvcDotMjQwcHg7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi13ZWJraXQtZmxleDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDstd2Via2l0LWZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstd2Via2l0LWp1c3RpZnktY29udGVudDpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjt6LWluZGV4OjF9LmJlc3Bva2UtYWN0aXZley13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouNXM7dHJhbnNpdGlvbi1kZWxheTouNXN9LmJlc3Bva2UtYWN0aXZlW2RhdGEtYmVzcG9rZS1iYWNrZHJvcF17LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi43NXM7dHJhbnNpdGlvbi1kZWxheTouNzVzfS5iZXNwb2tlLWluYWN0aXZle29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lfS5iZXNwb2tlLWJhY2tkcm9wey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2U7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjB9LmJlc3Bva2UtcHJvZ3Jlc3MtcGFyZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2hlaWdodDouM3Z3O3otaW5kZXg6MX0uYmVzcG9rZS1wcm9ncmVzcy1iYXJ7YmFja2dyb3VuZDojZGRkO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtoZWlnaHQ6MTAwJTstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMXMgZWFzZTt0cmFuc2l0aW9uOndpZHRoIDFzIGVhc2V9LmJlc3Bva2UtYnVsbGV0ey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuM3MgZWFzZX0uYmVzcG9rZS1idWxsZXQtaW5hY3RpdmV7b3BhY2l0eTowfXN0cm9uZ3tmb250LXdlaWdodDo0MDB9aHJ7d2lkdGg6NTAlO21hcmdpbjoxcmVtIGF1dG87aGVpZ2h0OjFweDtib3JkZXI6MDtiYWNrZ3JvdW5kOiNkZGR9aDMscCxsaXtwYWRkaW5nLWxlZnQ6MjBweDtwYWRkaW5nLXJpZ2h0OjIwcHh9aDMsaDQscCxsaSxwcmV7Zm9udC13ZWlnaHQ6MjAwfWgxe2xpbmUtaGVpZ2h0OjEuNGVtO3BhZGRpbmc6MWVtO2JvcmRlcjoxcHggc29saWQgI2RkZDtib3JkZXItbGVmdC13aWR0aDowO2JvcmRlci1yaWdodC13aWR0aDowO21pbi13aWR0aDo4ZW19aDEsaDJ7bGV0dGVyLXNwYWNpbmc6LjNlbTt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC13ZWlnaHQ6NDAwO21hcmdpbjouMTdlbSAwO3Bvc2l0aW9uOnJlbGF0aXZlfWgye2xpbmUtaGVpZ2h0OjEuMWVtO3BhZGRpbmc6MCAwIDAgLjNlbX1oM3tmb250LWZhbWlseTpkaWRvdCx0aW1lcyBuZXcgcm9tYW4sc2VyaWY7Zm9udC1zdHlsZTppdGFsaWM7Zm9udC1zaXplOjEuMmVtO2xpbmUtaGVpZ2h0OjEuNmVtO21hcmdpbjouNWVtIDB9aDR7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO2ZvbnQtc2l6ZTouOGVtO2xpbmUtaGVpZ2h0OjEuOGVtO2xldHRlci1zcGFjaW5nOi4zZW07bWFyZ2luOjFlbSAwfXVsLG9se3BhZGRpbmc6MDttYXJnaW46MDt0ZXh0LWFsaWduOmxlZnR9bGl7bGlzdC1zdHlsZTpub25lO21hcmdpbjouMmVtO2ZvbnQtc3R5bGU6bm9ybWFsOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpfWxpOmJlZm9yZXtjb250ZW50OidcXFxcMjAxNCc7bWFyZ2luLXJpZ2h0OjRweH1wcmV7YmFja2dyb3VuZDpub25lIWltcG9ydGFudH1jb2Rle2ZvbnQtZmFtaWx5OnByZXN0aWdlIGVsaXRlIHN0ZCxjb25zb2xhcyxjb3VyaWVyIG5ldyxtb25vc3BhY2UhaW1wb3J0YW50O2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0OjIwMCFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpsZWZ0fWF7cGFkZGluZy1sZWZ0Oi4zZW07Y29sb3I6Y3VycmVudENvbG9yO3RleHQtZGVjb3JhdGlvbjpub25lO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGN1cnJlbnRDb2xvcn0uZW1waGF0aWN7YmFja2dyb3VuZDojZjMwfS5zaW5nbGUtd29yZHN7d29yZC1zcGFjaW5nOjk5OTlweDtsaW5lLWhlaWdodDoyLjllbTtvdmVyZmxvdzpoaWRkZW59LmJlc3Bva2UtYmFja2Ryb3B7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gNnMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZSx0cmFuc2Zvcm0gNnMgZWFzZTtiYWNrZ3JvdW5kLXNpemU6Y292ZXI7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUgNTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMClzY2FsZSgxLjMpO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApc2NhbGUoMS4zKX0uYmVzcG9rZS1iYWNrZHJvcC1hY3RpdmUsLmJlc3Bva2UtYmFja2Ryb3AtYmVmb3Jley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9LmJlc3Bva2UtYmFja2Ryb3AtYmVmb3Jley13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouMnM7dHJhbnNpdGlvbi1kZWxheTouMnN9LmJlc3Bva2UtYmFja2Ryb3AtYWN0aXZle29wYWNpdHk6LjV9XCI7XG5cdCAgaW5zZXJ0Q3NzKGNzcywgeyBwcmVwZW5kOiB0cnVlIH0pO1xuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgY2xhc3NlcygpKGRlY2spO1xuXHQgIH07XG5cdH07XG5cdFxuXHR9LHtcImJlc3Bva2UtY2xhc3Nlc1wiOjIsXCJpbnNlcnQtY3NzXCI6M31dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbihlbCwgY2xzKSB7XG5cdCAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS0nICsgY2xzKTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIHJlbW92ZUNsYXNzID0gZnVuY3Rpb24oZWwsIGNscykge1xuXHQgICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZVxuXHQgICAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cCgnYmVzcG9rZS0nICsgY2xzICsnKFxcXFxzfCQpJywgJ2cnKSwgJyAnKVxuXHQgICAgICAgICAgLnRyaW0oKTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGRlYWN0aXZhdGUgPSBmdW5jdGlvbihlbCwgaW5kZXgpIHtcblx0ICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSBkZWNrLnNsaWRlc1tkZWNrLnNsaWRlKCldLFxuXHQgICAgICAgICAgb2Zmc2V0ID0gaW5kZXggLSBkZWNrLnNsaWRlKCksXG5cdCAgICAgICAgICBvZmZzZXRDbGFzcyA9IG9mZnNldCA+IDAgPyAnYWZ0ZXInIDogJ2JlZm9yZSc7XG5cdFxuXHQgICAgICAgIFsnYmVmb3JlKC1cXFxcZCspPycsICdhZnRlcigtXFxcXGQrKT8nLCAnYWN0aXZlJywgJ2luYWN0aXZlJ10ubWFwKHJlbW92ZUNsYXNzLmJpbmQobnVsbCwgZWwpKTtcblx0XG5cdCAgICAgICAgaWYgKGVsICE9PSBhY3RpdmVTbGlkZSkge1xuXHQgICAgICAgICAgWydpbmFjdGl2ZScsIG9mZnNldENsYXNzLCBvZmZzZXRDbGFzcyArICctJyArIE1hdGguYWJzKG9mZnNldCldLm1hcChhZGRDbGFzcy5iaW5kKG51bGwsIGVsKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHRcblx0ICAgIGFkZENsYXNzKGRlY2sucGFyZW50LCAncGFyZW50Jyk7XG5cdCAgICBkZWNrLnNsaWRlcy5tYXAoZnVuY3Rpb24oZWwpIHsgYWRkQ2xhc3MoZWwsICdzbGlkZScpOyB9KTtcblx0XG5cdCAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgZGVjay5zbGlkZXMubWFwKGRlYWN0aXZhdGUpO1xuXHQgICAgICBhZGRDbGFzcyhlLnNsaWRlLCAnYWN0aXZlJyk7XG5cdCAgICAgIHJlbW92ZUNsYXNzKGUuc2xpZGUsICdpbmFjdGl2ZScpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblx0XG5cdH0se31dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHR2YXIgaW5zZXJ0ZWQgPSB7fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcywgb3B0aW9ucykge1xuXHQgICAgaWYgKGluc2VydGVkW2Nzc10pIHJldHVybjtcblx0ICAgIGluc2VydGVkW2Nzc10gPSB0cnVlO1xuXHQgICAgXG5cdCAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cdCAgICBlbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuXHRcblx0ICAgIGlmICgndGV4dENvbnRlbnQnIGluIGVsZW0pIHtcblx0ICAgICAgZWxlbS50ZXh0Q29udGVudCA9IGNzcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsZW0uc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHQgICAgfVxuXHQgICAgXG5cdCAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG5cdCAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnByZXBlbmQpIHtcblx0ICAgICAgICBoZWFkLmluc2VydEJlZm9yZShlbGVtLCBoZWFkLmNoaWxkTm9kZXNbMF0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVsZW0pO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0fSx7fV19LHt9LFsxXSlcblx0KDEpXG5cdH0pO1xuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGlzSG9yaXpvbnRhbCA9IG9wdGlvbnMgIT09ICd2ZXJ0aWNhbCc7XG5cdFxuXHQgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgaWYgKGUud2hpY2ggPT0gMzQgfHwgLy8gUEFHRSBET1dOXG5cdCAgICAgICAgKGUud2hpY2ggPT0gMzIgJiYgIWUuc2hpZnRLZXkpIHx8IC8vIFNQQUNFIFdJVEhPVVQgU0hJRlRcblx0ICAgICAgICAoaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzkpIHx8IC8vIFJJR0hUXG5cdCAgICAgICAgKCFpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSA0MCkgLy8gRE9XTlxuXHQgICAgICApIHsgZGVjay5uZXh0KCk7IH1cblx0XG5cdCAgICAgIGlmIChlLndoaWNoID09IDMzIHx8IC8vIFBBR0UgVVBcblx0ICAgICAgICAoZS53aGljaCA9PSAzMiAmJiBlLnNoaWZ0S2V5KSB8fCAvLyBTUEFDRSArIFNISUZUXG5cdCAgICAgICAgKGlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM3KSB8fCAvLyBMRUZUXG5cdCAgICAgICAgKCFpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzOCkgLy8gVVBcblx0ICAgICAgKSB7IGRlY2sucHJldigpOyB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYXhpcyA9IG9wdGlvbnMgPT0gJ3ZlcnRpY2FsJyA/ICdZJyA6ICdYJyxcblx0ICAgICAgc3RhcnRQb3NpdGlvbixcblx0ICAgICAgZGVsdGE7XG5cdFxuXHQgICAgZGVjay5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuXHQgICAgICAgIHN0YXJ0UG9zaXRpb24gPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc107XG5cdCAgICAgICAgZGVsdGEgPSAwO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHtcblx0ICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgZGVsdGEgPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc10gLSBzdGFydFBvc2l0aW9uO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uKCkge1xuXHQgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gNTApIHtcblx0ICAgICAgICBkZWNrW2RlbHRhID4gMCA/ICdwcmV2JyA6ICduZXh0J10oKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGFjdGl2ZVNsaWRlSW5kZXgsXG5cdCAgICAgIGFjdGl2ZUJ1bGxldEluZGV4LFxuXHRcblx0ICAgICAgYnVsbGV0cyA9IGRlY2suc2xpZGVzLm1hcChmdW5jdGlvbihzbGlkZSkge1xuXHQgICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/IG9wdGlvbnMgOiAnW2RhdGEtYmVzcG9rZS1idWxsZXRdJykpLCAwKTtcblx0ICAgICAgfSksXG5cdFxuXHQgICAgICBuZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIG5leHRTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCArIDE7XG5cdFxuXHQgICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KDEpKSB7XG5cdCAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChhY3RpdmVTbGlkZUluZGV4LCBhY3RpdmVCdWxsZXRJbmRleCArIDEpO1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1tuZXh0U2xpZGVJbmRleF0pIHtcblx0ICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KG5leHRTbGlkZUluZGV4LCAwKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICBwcmV2ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHByZXZTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCAtIDE7XG5cdFxuXHQgICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KC0xKSkge1xuXHQgICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggLSAxKTtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ1bGxldHNbcHJldlNsaWRlSW5kZXhdKSB7XG5cdCAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChwcmV2U2xpZGVJbmRleCwgYnVsbGV0c1twcmV2U2xpZGVJbmRleF0ubGVuZ3RoIC0gMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LFxuXHRcblx0ICAgICAgYWN0aXZhdGVCdWxsZXQgPSBmdW5jdGlvbihzbGlkZUluZGV4LCBidWxsZXRJbmRleCkge1xuXHQgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBzbGlkZUluZGV4O1xuXHQgICAgICAgIGFjdGl2ZUJ1bGxldEluZGV4ID0gYnVsbGV0SW5kZXg7XG5cdFxuXHQgICAgICAgIGJ1bGxldHMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSwgcykge1xuXHQgICAgICAgICAgc2xpZGUuZm9yRWFjaChmdW5jdGlvbihidWxsZXQsIGIpIHtcblx0ICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0Jyk7XG5cdFxuXHQgICAgICAgICAgICBpZiAocyA8IHNsaWRlSW5kZXggfHwgcyA9PT0gc2xpZGVJbmRleCAmJiBiIDw9IGJ1bGxldEluZGV4KSB7XG5cdCAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0LWFjdGl2ZScpO1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZScpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZScpO1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1hY3RpdmUnKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHMgPT09IHNsaWRlSW5kZXggJiYgYiA9PT0gYnVsbGV0SW5kZXgpIHtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtY3VycmVudCcpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1jdXJyZW50Jyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCA9IGZ1bmN0aW9uKG9mZnNldCkge1xuXHQgICAgICAgIHJldHVybiBidWxsZXRzW2FjdGl2ZVNsaWRlSW5kZXhdW2FjdGl2ZUJ1bGxldEluZGV4ICsgb2Zmc2V0XSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgICB9O1xuXHRcblx0ICAgIGRlY2sub24oJ25leHQnLCBuZXh0KTtcblx0ICAgIGRlY2sub24oJ3ByZXYnLCBwcmV2KTtcblx0XG5cdCAgICBkZWNrLm9uKCdzbGlkZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgYWN0aXZhdGVCdWxsZXQoZS5pbmRleCwgMCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBhY3RpdmF0ZUJ1bGxldCgwLCAwKTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBiYWNrZHJvcHM7XG5cdFxuXHQgICAgZnVuY3Rpb24gY3JlYXRlQmFja2Ryb3BGb3JTbGlkZShzbGlkZSkge1xuXHQgICAgICB2YXIgYmFja2Ryb3BBdHRyaWJ1dGUgPSBzbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1iYWNrZHJvcCcpO1xuXHRcblx0ICAgICAgaWYgKGJhY2tkcm9wQXR0cmlidXRlKSB7XG5cdCAgICAgICAgdmFyIGJhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICAgICAgYmFja2Ryb3AuY2xhc3NOYW1lID0gYmFja2Ryb3BBdHRyaWJ1dGU7XG5cdCAgICAgICAgYmFja2Ryb3AuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1iYWNrZHJvcCcpO1xuXHQgICAgICAgIGRlY2sucGFyZW50LmFwcGVuZENoaWxkKGJhY2tkcm9wKTtcblx0ICAgICAgICByZXR1cm4gYmFja2Ryb3A7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiB1cGRhdGVDbGFzc2VzKGVsKSB7XG5cdCAgICAgIGlmIChlbCkge1xuXHQgICAgICAgIHZhciBpbmRleCA9IGJhY2tkcm9wcy5pbmRleE9mKGVsKSxcblx0ICAgICAgICAgIGN1cnJlbnRJbmRleCA9IGRlY2suc2xpZGUoKTtcblx0XG5cdCAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdhY3RpdmUnKTtcblx0ICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2luYWN0aXZlJyk7XG5cdCAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdiZWZvcmUnKTtcblx0ICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2FmdGVyJyk7XG5cdFxuXHQgICAgICAgIGlmIChpbmRleCAhPT0gY3VycmVudEluZGV4KSB7XG5cdCAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2luYWN0aXZlJyk7XG5cdCAgICAgICAgICBhZGRDbGFzcyhlbCwgaW5kZXggPCBjdXJyZW50SW5kZXggPyAnYmVmb3JlJyA6ICdhZnRlcicpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2FjdGl2ZScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpIHtcblx0ICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1iYWNrZHJvcC0nICsgY2xhc3NOYW1lKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG5cdCAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYmFja2Ryb3AtJyArIGNsYXNzTmFtZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgYmFja2Ryb3BzID0gZGVjay5zbGlkZXNcblx0ICAgICAgLm1hcChjcmVhdGVCYWNrZHJvcEZvclNsaWRlKTtcblx0XG5cdCAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKCkge1xuXHQgICAgICBiYWNrZHJvcHMuZm9yRWFjaCh1cGRhdGVDbGFzc2VzKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBwYXJlbnQgPSBkZWNrLnBhcmVudCxcblx0ICAgICAgZmlyc3RTbGlkZSA9IGRlY2suc2xpZGVzWzBdLFxuXHQgICAgICBzbGlkZUhlaWdodCA9IGZpcnN0U2xpZGUub2Zmc2V0SGVpZ2h0LFxuXHQgICAgICBzbGlkZVdpZHRoID0gZmlyc3RTbGlkZS5vZmZzZXRXaWR0aCxcblx0ICAgICAgdXNlWm9vbSA9IG9wdGlvbnMgPT09ICd6b29tJyB8fCAoJ3pvb20nIGluIHBhcmVudC5zdHlsZSAmJiBvcHRpb25zICE9PSAndHJhbnNmb3JtJyksXG5cdFxuXHQgICAgICB3cmFwID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXHQgICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSAnYmVzcG9rZS1zY2FsZS1wYXJlbnQnO1xuXHQgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWxlbWVudCk7XG5cdCAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcblx0ICAgICAgICByZXR1cm4gd3JhcHBlcjtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGVsZW1lbnRzID0gdXNlWm9vbSA/IGRlY2suc2xpZGVzIDogZGVjay5zbGlkZXMubWFwKHdyYXApLFxuXHRcblx0ICAgICAgdHJhbnNmb3JtUHJvcGVydHkgPSAoZnVuY3Rpb24ocHJvcGVydHkpIHtcblx0ICAgICAgICB2YXIgcHJlZml4ZXMgPSAnTW96IFdlYmtpdCBPIG1zJy5zcGxpdCgnICcpO1xuXHQgICAgICAgIHJldHVybiBwcmVmaXhlcy5yZWR1Y2UoZnVuY3Rpb24oY3VycmVudFByb3BlcnR5LCBwcmVmaXgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArIHByb3BlcnR5IGluIHBhcmVudC5zdHlsZSA/IHByZWZpeCArIHByb3BlcnR5IDogY3VycmVudFByb3BlcnR5O1xuXHQgICAgICAgICAgfSwgcHJvcGVydHkudG9Mb3dlckNhc2UoKSk7XG5cdCAgICAgIH0oJ1RyYW5zZm9ybScpKSxcblx0XG5cdCAgICAgIHNjYWxlID0gdXNlWm9vbSA/XG5cdCAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcblx0ICAgICAgICAgIGVsZW1lbnQuc3R5bGUuem9vbSA9IHJhdGlvO1xuXHQgICAgICAgIH0gOlxuXHQgICAgICAgIGZ1bmN0aW9uKHJhdGlvLCBlbGVtZW50KSB7XG5cdCAgICAgICAgICBlbGVtZW50LnN0eWxlW3RyYW5zZm9ybVByb3BlcnR5XSA9ICdzY2FsZSgnICsgcmF0aW8gKyAnKSc7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgIHNjYWxlQWxsID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHhTY2FsZSA9IHBhcmVudC5vZmZzZXRXaWR0aCAvIHNsaWRlV2lkdGgsXG5cdCAgICAgICAgICB5U2NhbGUgPSBwYXJlbnQub2Zmc2V0SGVpZ2h0IC8gc2xpZGVIZWlnaHQ7XG5cdFxuXHQgICAgICAgIGVsZW1lbnRzLmZvckVhY2goc2NhbGUuYmluZChudWxsLCBNYXRoLm1pbih4U2NhbGUsIHlTY2FsZSkpKTtcblx0ICAgICAgfTtcblx0XG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2NhbGVBbGwpO1xuXHQgICAgc2NhbGVBbGwoKTtcblx0ICB9O1xuXHRcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYWN0aXZhdGVTbGlkZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cdCAgICAgIHZhciBpbmRleFRvQWN0aXZhdGUgPSAtMSA8IGluZGV4ICYmIGluZGV4IDwgZGVjay5zbGlkZXMubGVuZ3RoID8gaW5kZXggOiAwO1xuXHQgICAgICBpZiAoaW5kZXhUb0FjdGl2YXRlICE9PSBkZWNrLnNsaWRlKCkpIHtcblx0ICAgICAgICBkZWNrLnNsaWRlKGluZGV4VG9BY3RpdmF0ZSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIHBhcnNlSGFzaCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLFxuXHQgICAgICAgIHNsaWRlTnVtYmVyT3JOYW1lID0gcGFyc2VJbnQoaGFzaCwgMTApO1xuXHRcblx0ICAgICAgaWYgKGhhc2gpIHtcblx0ICAgICAgICBpZiAoc2xpZGVOdW1iZXJPck5hbWUpIHtcblx0ICAgICAgICAgIGFjdGl2YXRlU2xpZGUoc2xpZGVOdW1iZXJPck5hbWUgLSAxKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZGVjay5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSwgaSkge1xuXHQgICAgICAgICAgICBpZiAoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtaGFzaCcpID09PSBoYXNoIHx8IHNsaWRlLmlkID09PSBoYXNoKSB7XG5cdCAgICAgICAgICAgICAgYWN0aXZhdGVTbGlkZShpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgIHBhcnNlSGFzaCgpO1xuXHRcblx0ICAgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgdmFyIHNsaWRlTmFtZSA9IGUuc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtaGFzaCcpIHx8IGUuc2xpZGUuaWQ7XG5cdCAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBzbGlkZU5hbWUgfHwgZS5pbmRleCArIDE7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBwYXJzZUhhc2gpO1xuXHQgICAgfSwgMCk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChkZWNrKSB7XG5cdCAgICB2YXIgcHJvZ3Jlc3NQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0ICAgICAgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0ICAgICAgcHJvcCA9IG9wdGlvbnMgPT09ICd2ZXJ0aWNhbCcgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cdFxuXHQgICAgcHJvZ3Jlc3NQYXJlbnQuY2xhc3NOYW1lID0gJ2Jlc3Bva2UtcHJvZ3Jlc3MtcGFyZW50Jztcblx0ICAgIHByb2dyZXNzQmFyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXByb2dyZXNzLWJhcic7XG5cdCAgICBwcm9ncmVzc1BhcmVudC5hcHBlbmRDaGlsZChwcm9ncmVzc0Jhcik7XG5cdCAgICBkZWNrLnBhcmVudC5hcHBlbmRDaGlsZChwcm9ncmVzc1BhcmVudCk7XG5cdFxuXHQgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIHByb2dyZXNzQmFyLnN0eWxlW3Byb3BdID0gKGUuaW5kZXggKiAxMDAgLyAoZGVjay5zbGlkZXMubGVuZ3RoIC0gMSkpICsgJyUnO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LypnbG9iYWwgbW9kdWxlOnRydWUsIHJlcXVpcmU6dHJ1ZSAqL1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgcGx1Z2luTmFtZSA9IFwiaW5kZXhmaW5nZXJcIixcblx0ICAgIC8vIEhhY2sgdG8gZ2V0IGFyb3VuZCBoYXZpbmcgdG8gd3JpdGUgYWxsIGJyb3dzZXIgY29kZSB3aXRoIHJlcXVpcmUoKS5cblx0ICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuXHQgICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcblx0ICAgIH0oRnVuY3Rpb24pKSxcblx0ICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSksXG5cdCAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblx0XG5cdCAgICBwbHVnaW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIGRlY2tlciA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGN2Qm91bmRUb0RlY2sgPSBjdi5hY3RpdmF0ZURlY2soZGVjayksXG5cdFxuXHQgICAgICAgICAgICAgICAgb2ZmID0ge30sXG5cdFxuXHQgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBudWxsLFxuXHRcblx0ICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSAtMSxcblx0XG5cdCAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcyA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuXHQgICAgICAgICAgICAgICAgICAgIGVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvZmYuc2F2ZUFjdGl2ZVNsaWRlID0gdGhpcy5vbihcImFjdGl2YXRlXCIsIHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLnNhdmVBY3RpdmVTbGlkZS5iaW5kKHRoaXMpKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBzYXZlQWN0aXZlU2xpZGU6IGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBlLnNsaWRlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gZS5pbmRleDtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTbGlkZTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZUluZGV4OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVNsaWRlSW5kZXg7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVjay5nZXRBY3RpdmVTbGlkZSA9IHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLmdldEFjdGl2ZVNsaWRlLmJpbmQoZGVjayk7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVjay5nZXRBY3RpdmVTbGlkZUluZGV4ID0gdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuZ2V0QWN0aXZlU2xpZGVJbmRleC5iaW5kKGRlY2spO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBlbmFibGUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5lbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyLmNhbGwoZGVjayk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgZW5hYmxlKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgaW5pdCgpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHJldHVybiBkZWNrZXI7XG5cdCAgICB9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBwbHVnaW47XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qZ2xvYmFsIG1vZHVsZTp0cnVlLCBjb25zb2xlOnRydWUgKi9cblx0XG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIHBsdWdpbk5hbWUgPSBcImNvbnZlbmllbnRcIixcblx0ICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuXHQgICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcblx0ICAgIH0oRnVuY3Rpb24pKSxcblx0XG5cdCAgICBjdixcblx0XG5cdCAgICAvLyBUaGUgZGVmYXVsdHMgb2JqZWN0IGlzIHBhc3NlZCBhcyBhIHJlZmVyZW5jZSwgYW5kIGNhbiBiZSBtb2RpZmllZCBieSBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRJbml0XG5cdCAgICBkZWZhdWx0cyA9IHtcblx0ICAgICAgICBsb2dnZXI6IHtcblx0ICAgICAgICAgICAgbG9nOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIHBoYW50b20tcG9seWZpbGwuanMgcHJvYmxlbXMgYmluZGluZyBjb25zb2xlLmxvZyAod2luZG93LmNvbnNvbGUubG9nKVxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgaW5pdE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgbWVyZ2VkID0ge307XG5cdFxuXHQgICAgICAgIC8vIE9ubHkgbWVyZ2Uga25vd24gb3B0aW9uc1xuXHQgICAgICAgIG1lcmdlZC5sb2dnZXIgPSB7fTtcblx0ICAgICAgICBtZXJnZWQubG9nZ2VyLmxvZyA9IChicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zICYmIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyICYmIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZykgfHwgZGVmYXVsdHMubG9nZ2VyLmxvZztcblx0XG5cdCAgICAgICAgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucyA9IG1lcmdlZDtcblx0ICAgIH0sXG5cdFxuXHQgICAgcGx1Z2luID0ge30sXG5cdFxuXHQgICAgZGVja3NTdG9yYWdlcyA9IFtdLFxuXHRcblx0ICAgIGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgIGlmICghZGVjaykge1xuXHQgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGRlY2tBbHJlYWR5U3RvcmVkID0gZGVja3NTdG9yYWdlcy5zb21lKGZ1bmN0aW9uKGRlY2tTdG9yYWdlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBkZWNrU3RvcmFnZS5kZWNrID09PSBkZWNrO1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gZGVja0FscmVhZHlTdG9yZWQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHN0b3JlRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICB2YXIgZGVja0FscmVhZHlTdG9yZWQgPSBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayhkZWNrKTtcblx0XG5cdCAgICAgICAgaWYgKCFkZWNrQWxyZWFkeVN0b3JlZCkge1xuXHQgICAgICAgICAgICBkZWNrc1N0b3JhZ2VzLnB1c2goe1xuXHQgICAgICAgICAgICAgICAgZGVjazogZGVjayxcblx0ICAgICAgICAgICAgICAgIHN0b3JhZ2U6IHt9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2tBbmRQbHVnaW4gPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG5cdCAgICAgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG5cdCAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJwbHVnaW5OYW1lIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoIWRlY2spIHtcblx0ICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spLFxuXHQgICAgICAgICAgICBpc1N0b3JhZ2VJbml0aWF0ZWQgPSAhIShzdG9yYWdlICYmIHN0b3JhZ2VbcGx1Z2luTmFtZV0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gaXNTdG9yYWdlSW5pdGlhdGVkO1xuXHQgICAgfSxcblx0XG5cdCAgICBpbml0aWF0ZURlY2tQbHVnaW5TdG9yYWdlID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuXHQgICAgICAgIGlmICghcGx1Z2luTmFtZSkge1xuXHQgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCFkZWNrKSB7XG5cdCAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcblx0XG5cdCAgICAgICAgaWYgKCFzdG9yYWdlKSB7XG5cdCAgICAgICAgICAgIHN0b3JlRGVjayhkZWNrKTtcblx0ICAgICAgICAgICAgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHN0b3JhZ2VbcGx1Z2luTmFtZV0gPSB7fTtcblx0ICAgIH0sXG5cdFxuXHQgICAgaXNOdW1iZXIgPSBmdW5jdGlvbihuKSB7XG5cdCAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODA4Mi92YWxpZGF0ZS1udW1iZXJzLWluLWphdmFzY3JpcHQtaXNudW1lcmljXG5cdCAgICAgICAgLy8gRnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xODMwODQ0XG5cdCAgICAgICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGluaXRPcHRpb25zKCk7XG5cdCAgICB9O1xuXHRcblx0Ly8gRm9yIHBsdWdpbnMgdGhlbXNlbHZlc1xuXHRwbHVnaW4uYnVpbGRlciA9IGZ1bmN0aW9uIHNlbGYob3B0aW9ucykge1xuXHQgICAgaWYgKCFvcHRpb25zKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSBwbHVnaW4gb3B0aW9ucyB3ZXJlIG5vdCBwcm9wZXJseSBkZWZpbmVkLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcblx0ICAgICAgICBvcHRpb25zID0ge1xuXHQgICAgICAgICAgICBwbHVnaW5OYW1lOiBvcHRpb25zXG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIG9wdGlvbnMucGx1Z2luTmFtZSAhPT0gXCJzdHJpbmdcIikge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgcGx1Z2luIG5hbWUgd2FzIG5vdCBwcm9wZXJseSBkZWZpbmVkLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZXh0ZXJuYWwgPSB7fSxcblx0XG5cdCAgICAgICAgdGFnID0gXCJiZXNwb2tlLlwiICsgb3B0aW9ucy5wbHVnaW5OYW1lLFxuXHRcblx0ICAgICAgICBnZW5lcmF0ZUVycm9yT2JqZWN0ID0gZnVuY3Rpb24obWVzc2FnZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRhZyArIFwiOiBcIiArIG1lc3NhZ2UpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGV2ZW50TmFtZXNwYWNlID0gb3B0aW9ucy5wbHVnaW5OYW1lLFxuXHRcblx0ICAgICAgICBldmVudEluTmFtZXNwYWNlID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBldmVudE5hbWVzcGFjZSArIFwiLlwiICsgZXZlbnROYW1lO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG5cdCAgICAgICAgLy8gTWltaWNpbmcsIGFuZCBleHRlbmRpbmcsdGhlIGludGVybmFsIGNyZWF0ZUV2ZW50RGF0YSBiZXNwb2tlIHVzZXNcblx0ICAgICAgICBjcmVhdGVFdmVudERhdGEgPSBmdW5jdGlvbihkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKSB7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBwbHVnaW4uY3JlYXRlRXZlbnREYXRhLmNhbGwoZGVjaywgZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIC8vIFRPRE86IGNyZWF0ZSBhIHNlY29uZCBvYmplY3QgYm91bmQgdG8gYm90aCB0aGlzIGV4dGVybmFsIG9iamVjdCBhbmQgdGhlIGRlY2ssXG5cdCAgICAgICAgLy8gdG8gYXZvaWQgcGFzc2luZyB0aGUgZGVjayBwYXJhbWV0ZXIgZXZlcnkgdGltZS4gKFdoaWNoIGNhbiBiZSBhbGxldmlhdGVkIHdpdGggc2ltcGxlciBmdW5jdGlvbiBiaW5kaW5nIHRob3VnaC4pXG5cdCAgICAgICAgZmlyZSA9IGZ1bmN0aW9uKGRlY2ssIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGN1c3RvbURhdGEpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGRlY2suZmlyZShldmVudEluTmFtZXNwYWNlKGV2ZW50TmFtZSksIGNyZWF0ZUV2ZW50RGF0YShkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgY3VzdG9tRGF0YSkpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGxvZyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgcHJlZml4ZXMgPSBbdGFnXTtcblx0XG5cdCAgICAgICAgICAgIC8vIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZyBpcyBkeW5hbWljLCBzbyBjYW4ndCBiaW5kIGRpcmVjdGx5IHRvIGl0XG5cdCAgICAgICAgICAgIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZy5hcHBseShicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2csIHByZWZpeGVzLmNvbmNhdChwbHVnaW4uY29weUFycmF5KGFyZ3VtZW50cykpKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICB0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBpc1N0b3JhZ2VJbml0aWF0ZWQgPSBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbihvcHRpb25zLnBsdWdpbk5hbWUsIGRlY2spO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUluaXRpYXRlZCkge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSAnXCIgKyBvcHRpb25zLnBsdWdpbk5hbWUgKyBcIicgcGx1Z2luIGhhcyBhbHJlYWR5IGJlZW4gYWN0aXZhdGVkIGZvciB0aGlzIGRlY2ssIGNhbid0IGFjdGl2YXRlIGl0IHR3aWNlLlwiKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGJpbmRUb0RlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBkZWNrQm91bmQgPSB7fTtcblx0XG5cdCAgICAgICAgICAgIGRlY2tCb3VuZC5jcmVhdGVFdmVudERhdGEgPSBleHRlcm5hbC5jcmVhdGVFdmVudERhdGEuYmluZCh0aGlzLCBkZWNrKTtcblx0ICAgICAgICAgICAgZGVja0JvdW5kLmZpcmUgPSBleHRlcm5hbC5maXJlLmJpbmQodGhpcywgZGVjayk7XG5cdCAgICAgICAgICAgIGRlY2tCb3VuZC5nZXRTdG9yYWdlID0gZXh0ZXJuYWwuZ2V0U3RvcmFnZS5iaW5kKHRoaXMsIGRlY2spO1xuXHQgICAgICAgICAgICBkZWNrQm91bmQubG9nID0gZXh0ZXJuYWwubG9nLmJpbmQodGhpcywgZGVjayk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gZGVja0JvdW5kO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGFjdGl2YXRlRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGRlY2tCb3VuZDtcblx0XG5cdCAgICAgICAgICAgIHRocm93SWZQbHVnaW5XYXNBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayhkZWNrKTtcblx0ICAgICAgICAgICAgaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZShvcHRpb25zLnBsdWdpbk5hbWUsIGRlY2spO1xuXHRcblx0ICAgICAgICAgICAgZGVja0JvdW5kID0gYmluZFRvRGVjayhkZWNrKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBkZWNrQm91bmQ7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgYmluZEV4dGVybmFsID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmNyZWF0ZUV2ZW50RGF0YSA9IGNyZWF0ZUV2ZW50RGF0YS5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICBleHRlcm5hbC5nZW5lcmF0ZUVycm9yT2JqZWN0ID0gZ2VuZXJhdGVFcnJvck9iamVjdC5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICBleHRlcm5hbC5maXJlID0gZmlyZS5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICBleHRlcm5hbC5sb2cgPSBsb2cuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwuYWN0aXZhdGVEZWNrID0gYWN0aXZhdGVEZWNrLmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmdldFN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1BsdWdpblN0b3JhZ2UuYmluZCh0aGlzLCBvcHRpb25zLnBsdWdpbk5hbWUpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgYmluZEV4dGVybmFsKCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICBpbml0KCk7XG5cdFxuXHQgICAgcmV0dXJuIGV4dGVybmFsO1xuXHR9O1xuXHRcblx0cGx1Z2luLmdldERlY2tTdG9yYWdlID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgaWYgKCFkZWNrKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgc3RvcmFnZSA9IG51bGw7XG5cdFxuXHQgICAgZGVja3NTdG9yYWdlcy5zb21lKGZ1bmN0aW9uKGRlY2tTdG9yYWdlKSB7XG5cdCAgICAgICAgaWYgKGRlY2tTdG9yYWdlLmRlY2sgPT09IGRlY2spIHtcblx0ICAgICAgICAgICAgc3RvcmFnZSA9IGRlY2tTdG9yYWdlLnN0b3JhZ2U7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIHN0b3JhZ2U7XG5cdH07XG5cdFxuXHRwbHVnaW4uZ2V0RGVja1BsdWdpblN0b3JhZ2UgPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG5cdCAgICBpZiAoIXBsdWdpbk5hbWUpIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghZGVjaykge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayk7XG5cdFxuXHQgICAgaWYgKCFzdG9yYWdlKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInN0b3JhZ2Ugd2FzIG5vdCBpbml0aWF0ZWQgZm9yIHRoaXMgZGVjay5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHN0b3JhZ2VbcGx1Z2luTmFtZV07XG5cdH07XG5cdFxuXHQvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuXHQvLyBNaW1pY2luZywgYW5kIGV4dGVuZGluZyx0aGUgaW50ZXJuYWwgY3JlYXRlRXZlbnREYXRhIGJlc3Bva2UgdXNlc1xuXHRwbHVnaW4uY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSkge1xuXHQgICAgZXZlbnREYXRhID0gZXZlbnREYXRhIHx8IHt9O1xuXHRcblx0ICAgIGV2ZW50RGF0YS5ldmVudE5hbWVzcGFjZSA9IGV2ZW50TmFtZXNwYWNlIHx8IG51bGw7XG5cdFxuXHQgICAgZXZlbnREYXRhLmV2ZW50TmFtZSA9IGV2ZW50TmFtZSB8fCBudWxsO1xuXHRcblx0ICAgIC8vIENhbiBiZSBlaXRoZXIgYSBET00vYnJvd3NlciBldmVudCBvciBhIGJlc3Bva2UgZXZlbnRcblx0ICAgIGV2ZW50RGF0YS5pbm5lckV2ZW50ID0gaW5uZXJFdmVudCB8fCBudWxsO1xuXHRcblx0ICAgIGlmIChpc051bWJlcihzbGlkZSkpIHtcblx0ICAgICAgICBldmVudERhdGEuaW5kZXggPSBzbGlkZTtcblx0ICAgICAgICBldmVudERhdGEuc2xpZGUgPSB0aGlzLnNsaWRlc1tzbGlkZV07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHRoaXMuc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuXHQgICAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IHNsaWRlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBldmVudERhdGE7XG5cdH07XG5cdFxuXHRwbHVnaW4uY29weUFycmF5ID0gZnVuY3Rpb24oYXJyKSB7XG5cdCAgICByZXR1cm4gW10uc2xpY2UuY2FsbChhcnIsIDApO1xuXHR9O1xuXHRcblx0Y3YgPSBwbHVnaW4uYnVpbGRlcihwbHVnaW5OYW1lKTtcblx0XG5cdGluaXQoKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgcmVxdWlyZTp0cnVlLCB3aW5kb3c6dHJ1ZSwgZG9jdW1lbnQ6dHJ1ZSwgTWF0aDp0cnVlICovXG5cdFxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBwbHVnaW5OYW1lID0gXCJzZWNvbmRhcnlcIixcblx0ICAgIC8vIEhhY2sgdG8gZ2V0IGFyb3VuZCBoYXZpbmcgdG8gd3JpdGUgYWxsIGJyb3dzZXIgY29kZSB3aXRoIHJlcXVpcmUoKS5cblx0ICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuXHQgICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcblx0ICAgIH0oRnVuY3Rpb24pKSxcblx0ICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSksXG5cdCAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblx0XG5cdCAgICAvLyBNYWtpbmcgc3VyZSBpbmRleGZpbmdlciBpcyBhdmFpbGFibGUuXG5cdCAgICAvLyBUT0RPOiBjaGVjayB0aGF0IGluZGV4ZmluZ2VyIGhhcyBiZWVuIGxvYWRlZDsgbWF5YmUgY2hlY2tpbmcgZm9yIGRlY2suZ2V0QWN0aXZlU2xpZGUoKS5cblx0ICAgIGluZGV4ZmluZ2VyID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuaW5kZXhmaW5nZXIpIHx8IF9fd2VicGFja19yZXF1aXJlX18oMTEpKSxcblx0XG5cdCAgICBLZXlDb25zdGFudHMgPSB7XG5cdCAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjVmlydHVhbF9rZXlfY29kZXNcblx0ICAgICAgICBTOiAweDUzLCAvLyAoODMpIFwiU1wiIGtleS5cblx0ICAgIH0sXG5cdFxuXHQgICAgZGVmYXVsdHMgPSB7XG5cdCAgICAgICAgbm90ZXM6IFwiYXNpZGVcIixcblx0ICAgICAgICBrZXlzOiB7XG5cdCAgICAgICAgICAgIHRvZ2dsZTogS2V5Q29uc3RhbnRzLlNcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIHJhbmRvbUludGVnZXIgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuXHQgICAgICAgIC8vIFRPRE86IGxvb2sgZm9yIHNvbWVvbmUgZWxzZSdzIGltcGxlbWVudGF0aW9uIC0gdGhleSd2ZSBwcm9iYWJseSBjb3ZlcmVkIGFsbCB0aGUgY29ybmVyIGNhc2VzLlxuXHQgICAgICAgIC8vIFRoaXMgc2hvdWxkIGRvIGZvciAwIDw9IGZyb20gPCB0byA8IChyYW5kb20ncyByZXNvbHV0aW9uKSB0aG91Z2guXG5cdCAgICAgICAgdmFyIGRpZmYsXG5cdCAgICAgICAgICAgIHJuZDtcblx0XG5cdCAgICAgICAgaWYgKHRvID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgdG8gPSBmcm9tO1xuXHQgICAgICAgICAgICBmcm9tID0gMDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGRpZmYgPSB0byAtIGZyb207XG5cdFxuXHQgICAgICAgIHJuZCA9IGZyb20gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkaWZmKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIHJuZDtcblx0ICAgIH0sXG5cdFxuXHQgICAgYmFzZVdpbmRvd05hbWUgPSBwbHVnaW5OYW1lICsgXCItd2luZG93LVwiLFxuXHRcblx0ICAgIGdlbmVyYXRlV2luZG93TmFtZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBybmQgPSByYW5kb21JbnRlZ2VyKDEwMDAsIDEwMDAwKSxcblx0ICAgICAgICAgICAgd2luZG93TmFtZSA9IGJhc2VXaW5kb3dOYW1lICsgcm5kO1xuXHRcblx0ICAgICAgICByZXR1cm4gd2luZG93TmFtZTtcblx0ICAgIH0sXG5cdFxuXHQgICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzID0gZnVuY3Rpb24oZG9jKSB7XG5cdCAgICAgICAgZG9jLmJvZHkuaW5uZXJIVE1MID0gXCI8aDE+Tm90ZXM8L2gxPjxkaXYgaWQ9J25vdGVzJz48L2Rpdj5cIjtcblx0ICAgIH0sXG5cdFxuXHQgICAgcGx1Z2luID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgICAgIHZhciBkZWNrZXIgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBjdkJvdW5kVG9EZWNrID0gY3YuYWN0aXZhdGVEZWNrKGRlY2spLFxuXHRcblx0ICAgICAgICAgICAgICAgIG9mZiA9IHt9LFxuXHRcblx0ICAgICAgICAgICAgICAgIHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcyA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuXHQgICAgICAgICAgICAgICAgICAgIGdldE5vdGVzRWxlbWVudDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS53aW5kb3cgJiYgdGhpcy5zZWNvbmRhcnkud2luZG93LmRvY3VtZW50ICYmIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vdGVzXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gdGhpcy5zZWNvbmRhcnksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ID0gcy53aW5kb3csXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpc0luaXRpYWxpemVkLCBpc05vdE51bGwsIGlzTm90Q2xvc2VkLCBpc093bmVkQnlUaGlzV2luZG93LCBjb250YWluc05vdGVzRWxlbWVudFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gISEocyAhPT0gdW5kZWZpbmVkICYmIHcgIT09IG51bGwgJiYgdy5jbG9zZWQgIT09IHRydWUgJiYgdy5vcGVuZXIgPT09IHdpbmRvdyAmJiB0aGlzLnNlY29uZGFyeS5nZXROb3Rlc0VsZW1lbnQoKSAhPT0gbnVsbCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cgPSB3aW5kb3cub3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzKHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmNsb3NlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5mb2N1cygpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS5jbG9zZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkub3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3Rlcyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE5vdGVzO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5zZWNvbmRhcnkuZ2V0Tm90ZXNFbGVtZW50KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlID0gdGhpcy5nZXRBY3RpdmVTbGlkZSgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3RlcyA9IGNvbnZlbmllbnQuY29weUFycmF5KHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5ub3RlcykpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm90ZXMgPSBzbGlkZU5vdGVzLnJlZHVjZShmdW5jdGlvbihub3Rlc0h0bWwsIHNsaWRlTm90ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGVzSHRtbCArIHNsaWRlTm90ZS5vdXRlckhUTUw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0sIFwiXCIpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBhbGxOb3Rlcztcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeSA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93OiBudWxsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlXaW5kb3dOYW1lOiBnZW5lcmF0ZVdpbmRvd05hbWUoKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Tm90ZXNFbGVtZW50OiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuZ2V0Tm90ZXNFbGVtZW50LmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmlzT3Blbi5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMub3Blbi5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmNsb3NlLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuZm9jdXMuYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMudG9nZ2xlLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNocm9uaXplOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuc3luY2hyb25pemUuYmluZChkZWNrKVxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogbWVyZ2UgZnVuY3Rpb24/XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gT25seSBtZXJnZSBrbm93biBvcHRpb25zXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLmtleXMgPSB7fTtcblx0ICAgICAgICAgICAgICAgICAgICBtZXJnZWQua2V5cy50b2dnbGUgPSAob3B0aW9ucy5rZXlzICYmIG9wdGlvbnMua2V5cy50b2dnbGUpIHx8IGRlZmF1bHRzLmtleXMudG9nZ2xlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBtZXJnZWQubm90ZXMgPSBvcHRpb25zLm5vdGVzIHx8IGRlZmF1bHRzLm5vdGVzO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gbWVyZ2VkO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBrZXlEb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50SGFuZGxlZCA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBObyBtb2RpZmllciBrZXlzLCBwbGVhc2Vcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIWUuYWx0S2V5ICYmICFlLmN0cmxLZXkgJiYgIWUubWV0YUtleSAmJiAhZS5zaGlmdEtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBldmVudEhhbmRsZWQgPSBldmVudEhhbmRsZWQgfHwgKGUud2hpY2ggPT09IG9wdGlvbnMua2V5cy50b2dnbGUgJiYgY3ZCb3VuZFRvRGVjay5maXJlKFwidG9nZ2xlXCIsIGUpICYmIGRlY2suc2Vjb25kYXJ5LnRvZ2dsZSgpICYmIGRlY2suc2Vjb25kYXJ5LnN5bmNocm9uaXplKCkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50SGFuZGxlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWV2ZW50SGFuZGxlZDtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgb25CZWZvcmVVbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeS5jbG9zZSgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgb25BY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5LnN5bmNocm9uaXplKCk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIGRvZXNuJ3Qgc2VlbSB0byB3b3JrIGZvciBvbmJlZm9yZXVubG9hZFxuXHQgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IG9uQmVmb3JlVW5sb2FkO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBrZXlEb3duTGlzdGVuZXIsIGZhbHNlKTtcblx0ICAgICAgICAgICAgICAgICAgICBvZmYuYWN0aXZhdGUgPSBkZWNrLm9uKFwiYWN0aXZhdGVcIiwgb25BY3RpdmF0ZSk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpbml0T3B0aW9ucygpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMoKTtcblx0ICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICBpbml0KCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRlY2tlcjtcblx0ICAgIH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Y29uc3QgVGVybWluYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHRjb25zdCBwYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KVxuXHRjb25zdCBib290ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOClcblx0XG5cdGNvbnN0IGNvbW1hbmRzID0ge1xuXHQgIGxzOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSxcblx0ICBwd2Q6IF9fd2VicGFja19yZXF1aXJlX18oMzMpLFxuXHQgIG1rZGlyOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KSxcblx0ICB0b3VjaDogX193ZWJwYWNrX3JlcXVpcmVfXygzNSksXG5cdCAgY2F0OiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSxcblx0ICBjZDogX193ZWJwYWNrX3JlcXVpcmVfXygzNyksXG5cdCAgcm06IF9fd2VicGFja19yZXF1aXJlX18oMzgpLFxuXHQgIGNsZWFyOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KSxcblx0ICB0aGVtZTogX193ZWJwYWNrX3JlcXVpcmVfXyg0MCksXG5cdCAgdmVyc2lvbjogX193ZWJwYWNrX3JlcXVpcmVfXyg0MSksXG5cdFxuXHQgIG5wbTogX193ZWJwYWNrX3JlcXVpcmVfXyg0MiksXG5cdCAgJ2lwZnMtbnBtJzogX193ZWJwYWNrX3JlcXVpcmVfXyg0NSlcblx0fVxuXHRcblx0Y29tbWFuZHMuaGVscCA9IHtcblx0ICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuXHQgICAgcmV0dXJuIGBDb21tYW5kczogJHtPYmplY3Qua2V5cyhjb21tYW5kcykuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKX08YnI+TW9yZSBoZWxwIGF2YWlsYWJsZSA8YSBjbGFzcz1cImV4dGVybmFsXCIgaHJlZj1cImh0dHA6Ly9naXRodWIuY29tL3Nhc2Fkam9saWMvZG9tLXRlcm1pbmFsXCIgdGFyZ2V0PVwiX2JsYW5rXCI+aGVyZTwvYT5gXG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IChkZWNrKSA9PiB7XG5cdCAgdHJ5IHtcblx0ICAgIGNvbnN0IHRlcm1pbmFsID0gbmV3IFRlcm1pbmFsKCd0ZXJtaW5hbCcsIHt9LCB7XG5cdCAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKGNtZCwgYXJncykge1xuXHQgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBjb21tYW5kc1tjbWRdXG5cdFxuXHQgICAgICAgIGlmICghY29tbWFuZCkge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgYXJncyA9IHBhcnNlcihhcmdzLCBjb21tYW5kLmFyZ3MpXG5cdFxuXHQgICAgICAgICAgbGV0IG91dHB1dCA9IGNvbW1hbmQuaGFuZGxlcih0ZXJtaW5hbCwgYXJncylcblx0XG5cdCAgICAgICAgICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQgfHwgb3V0cHV0ID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCA9ICcnXG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgaWYgKHR5cGVvZiBvdXRwdXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC9cXHQvZywgJycpXG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgcmV0dXJuIG91dHB1dFxuXHQgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG5cdCAgICAgICAgICByZXR1cm4gZXJyLm1lc3NhZ2Vcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdFxuXHQgICAgYm9vdCgpXG5cdCAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICBjb25zb2xlLmVycm9yKGVycilcblx0ICB9XG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0KGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuXHRcblx0XHR2YXIgVGVybWluYWwgPSBUZXJtaW5hbCB8fCBmdW5jdGlvbihjb250YWluZXJJRCwgb3B0aW9ucykge1xuXHRcdFx0aWYgKCFjb250YWluZXJJRCkgcmV0dXJuO1xuXHRcblx0XHRcdHZhciBkZWZhdWx0cyA9IHtcblx0XHRcdFx0d2VsY29tZTogJycsXG5cdFx0XHRcdHByb21wdDogJycsXG5cdFx0XHRcdHNlcGFyYXRvcjogJyZndDsnLFxuXHRcdFx0XHR0aGVtZTogJ2ludGVybGFjZWQnXG5cdFx0XHR9O1xuXHRcblx0XHRcdHZhciBvcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cztcblx0XHRcdG9wdGlvbnMud2VsY29tZSA9IG9wdGlvbnMud2VsY29tZSB8fCBkZWZhdWx0cy53ZWxjb21lO1xuXHRcdFx0b3B0aW9ucy5wcm9tcHQgPSBvcHRpb25zLnByb21wdCB8fCBkZWZhdWx0cy5wcm9tcHQ7XG5cdFx0XHRvcHRpb25zLnNlcGFyYXRvciA9IG9wdGlvbnMuc2VwYXJhdG9yIHx8IGRlZmF1bHRzLnNlcGFyYXRvcjtcblx0XHRcdG9wdGlvbnMudGhlbWUgPSBvcHRpb25zLnRoZW1lIHx8IGRlZmF1bHRzLnRoZW1lO1xuXHRcblx0XHRcdHZhciBleHRlbnNpb25zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcblx0XG5cdFx0XHR2YXIgX2hpc3RvcnkgPSBsb2NhbFN0b3JhZ2UuaGlzdG9yeSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmhpc3RvcnkpIDogW107XG5cdFx0XHR2YXIgX2hpc3Rwb3MgPSBfaGlzdG9yeS5sZW5ndGg7XG5cdFx0XHR2YXIgX2hpc3R0ZW1wID0gJyc7XG5cdFxuXHRcdFx0Ly8gQ3JlYXRlIHRlcm1pbmFsIGFuZCBjYWNoZSBET00gbm9kZXM7XG5cdFx0XHR2YXIgX3Rlcm1pbmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySUQpO1xuXHRcdFx0X3Rlcm1pbmFsLmNsYXNzTGlzdC5hZGQoJ3Rlcm1pbmFsJyk7XG5cdFx0XHRfdGVybWluYWwuY2xhc3NMaXN0LmFkZCgndGVybWluYWwtJyArIG9wdGlvbnMudGhlbWUpO1xuXHRcdFx0X3Rlcm1pbmFsLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlRW5kJywgW1xuXHRcdFx0XHQnPGRpdiBjbGFzcz1cImJhY2tncm91bmRcIj48ZGl2IGNsYXNzPVwiaW50ZXJsYWNlXCI+PC9kaXY+PC9kaXY+Jyxcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJjb250YWluZXJcIj4nLFxuXHRcdFx0XHQnPG91dHB1dD48L291dHB1dD4nLFxuXHRcdFx0XHQnPHRhYmxlIGNsYXNzPVwiaW5wdXQtbGluZVwiPicsXG5cdFx0XHRcdCc8dHI+PHRkIG5vd3JhcD48ZGl2IGNsYXNzPVwicHJvbXB0XCI+JyArIG9wdGlvbnMucHJvbXB0ICsgb3B0aW9ucy5zZXBhcmF0b3IgKyAnPC9kaXY+PC90ZD48dGQgd2lkdGg9XCIxMDAlXCI+PGlucHV0IGNsYXNzPVwiY21kbGluZVwiIHNwZWxsY2hlY2s9XCJmYWxzZVwiIGF1dG9mb2N1cyAvPjwvdGQ+PC90cj4nLFxuXHRcdFx0XHQnPC90YWJsZT4nLFxuXHRcdFx0XHQnPC9kaXY+J10uam9pbignJykpO1xuXHRcdFx0dmFyIF9jb250YWluZXIgPSBfdGVybWluYWwucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpO1xuXHRcdFx0dmFyIF9pbnB1dExpbmUgPSBfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1saW5lJyk7XG5cdFx0XHR2YXIgX2NtZExpbmUgPSBfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1saW5lIC5jbWRsaW5lJyk7XG5cdFx0XHR2YXIgX291dHB1dCA9IF9jb250YWluZXIucXVlcnlTZWxlY3Rvcignb3V0cHV0Jyk7XG5cdFx0XHR2YXIgX3Byb21wdCA9IF9jb250YWluZXIucXVlcnlTZWxlY3RvcignLnByb21wdCcpO1xuXHRcdFx0dmFyIF9iYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tncm91bmQnKTtcblx0XG5cdFx0XHQvLyBIYWNrZXJ5IHRvIHJlc2l6ZSB0aGUgaW50ZXJsYWNlIGJhY2tncm91bmQgaW1hZ2UgYXMgdGhlIGNvbnRhaW5lciBncm93cy5cblx0XHRcdF9vdXRwdXQuYWRkRXZlbnRMaXN0ZW5lcignRE9NU3VidHJlZU1vZGlmaWVkJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHQvLyBXb3JrcyBiZXN0IHdpdGggdGhlIHNjcm9sbCBpbnRvIHZpZXcgd3JhcHBlZCBpbiBhIHNldFRpbWVvdXQuXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0X2NtZExpbmUuc2Nyb2xsSW50b1ZpZXcoKTtcblx0XHRcdFx0fSwgMCk7XG5cdFx0XHR9LCBmYWxzZSk7XG5cdFxuXHRcdFx0aWYgKG9wdGlvbnMud2VsY29tZSkge1xuXHRcdFx0XHRvdXRwdXQob3B0aW9ucy53ZWxjb21lKTtcblx0XHRcdH1cblx0XG5cdFx0XHRfdGVybWluYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdF9jbWRMaW5lLmZvY3VzKCk7XG5cdFx0XHR9LCBmYWxzZSk7XG5cdFxuXHRcdFx0X291dHB1dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdH0sIGZhbHNlKTtcblx0XG5cdFx0XHQvLyBBbHdheXMgZm9yY2UgdGV4dCBjdXJzb3IgdG8gZW5kIG9mIGlucHV0IGxpbmUuXG5cdFx0XHRfY21kTGluZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGlucHV0VGV4dENsaWNrLCBmYWxzZSk7XG5cdFx0XHRfaW5wdXRMaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRfY21kTGluZS5mb2N1cygpO1xuXHRcdFx0fSwgZmFsc2UpO1xuXHRcblx0XHRcdC8vIEhhbmRsZSB1cC9kb3duIGtleSBwcmVzc2VzIGZvciBzaGVsbCBoaXN0b3J5IGFuZCBlbnRlciBmb3IgbmV3IGNvbW1hbmQuXG5cdFx0XHRfY21kTGluZS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhpc3RvcnlIYW5kbGVyLCBmYWxzZSk7XG5cdFx0XHRfY21kTGluZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcHJvY2Vzc05ld0NvbW1hbmQsIHRydWUpO1xuXHRcblx0XHRcdGZ1bmN0aW9uIGlucHV0VGV4dENsaWNrKGUpIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHRoaXMudmFsdWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gaGlzdG9yeUhhbmRsZXIoZSkge1xuXHRcdFx0XHQvLyBDbGVhciBjb21tYW5kLWxpbmUgb24gRXNjYXBlIGtleS5cblx0XHRcdFx0aWYgKGUua2V5Q29kZSA9PSAyNykge1xuXHRcdFx0XHRcdHRoaXMudmFsdWUgPSAnJztcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKF9oaXN0b3J5Lmxlbmd0aCAmJiAoZS5rZXlDb2RlID09IDM4IHx8IGUua2V5Q29kZSA9PSA0MCkpIHtcblx0XHRcdFx0XHRpZiAoX2hpc3RvcnlbX2hpc3Rwb3NdKSB7XG5cdFx0XHRcdFx0XHRfaGlzdG9yeVtfaGlzdHBvc10gPSB0aGlzLnZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdF9oaXN0dGVtcCA9IHRoaXMudmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRpZiAoZS5rZXlDb2RlID09IDM4KSB7XG5cdFx0XHRcdFx0XHQvLyBVcCBhcnJvdyBrZXkuXG5cdFx0XHRcdFx0XHRfaGlzdHBvcy0tO1xuXHRcdFx0XHRcdFx0aWYgKF9oaXN0cG9zIDwgMCkge1xuXHRcdFx0XHRcdFx0XHRfaGlzdHBvcyA9IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKGUua2V5Q29kZSA9PSA0MCkge1xuXHRcdFx0XHRcdFx0Ly8gRG93biBhcnJvdyBrZXkuXG5cdFx0XHRcdFx0XHRfaGlzdHBvcysrO1xuXHRcdFx0XHRcdFx0aWYgKF9oaXN0cG9zID4gX2hpc3RvcnkubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdF9oaXN0cG9zID0gX2hpc3RvcnkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0dGhpcy52YWx1ZSA9IF9oaXN0b3J5W19oaXN0cG9zXSA/IF9oaXN0b3J5W19oaXN0cG9zXSA6IF9oaXN0dGVtcDtcblx0XG5cdFx0XHRcdFx0Ly8gTW92ZSBjdXJzb3IgdG8gZW5kIG9mIGlucHV0LlxuXHRcdFx0XHRcdHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gcHJvY2Vzc05ld0NvbW1hbmQoZSkge1xuXHRcdFx0XHRpZiAoY21kTGluZUlzVmlzaWJsZSgpKSB7XG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gT25seSBoYW5kbGUgdGhlIEVudGVyIGtleS5cblx0XHRcdFx0aWYgKGUua2V5Q29kZSAhPSAxMykgcmV0dXJuO1xuXHRcblx0XHRcdFx0dmFyIGNtZGxpbmUgPSB0aGlzLnZhbHVlO1xuXHRcblx0XHRcdFx0Ly8gU2F2ZSBzaGVsbCBoaXN0b3J5LlxuXHRcdFx0XHRpZiAoY21kbGluZSkge1xuXHRcdFx0XHRcdF9oaXN0b3J5W19oaXN0b3J5Lmxlbmd0aF0gPSBjbWRsaW5lO1xuXHRcdFx0XHRcdGxvY2FsU3RvcmFnZVsnaGlzdG9yeSddID0gSlNPTi5zdHJpbmdpZnkoX2hpc3RvcnkpO1xuXHRcdFx0XHRcdF9oaXN0cG9zID0gX2hpc3RvcnkubGVuZ3RoO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBEdXBsaWNhdGUgY3VycmVudCBpbnB1dCBhbmQgYXBwZW5kIHRvIG91dHB1dCBzZWN0aW9uLlxuXHRcdFx0XHR2YXIgbGluZSA9IHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbG9uZU5vZGUodHJ1ZSk7XG5cdFx0XHRcdGxpbmUucmVtb3ZlQXR0cmlidXRlKCdpZCcpXG5cdFx0XHRcdGxpbmUuY2xhc3NMaXN0LmFkZCgnbGluZScpO1xuXHRcdFx0XHR2YXIgaW5wdXQgPSBsaW5lLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LmNtZGxpbmUnKTtcblx0XHRcdFx0aW5wdXQuYXV0b2ZvY3VzID0gZmFsc2U7XG5cdFx0XHRcdGlucHV0LnJlYWRPbmx5ID0gdHJ1ZTtcblx0XHRcdFx0aW5wdXQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGlucHV0LnZhbHVlKTtcblx0XHRcdFx0aW5wdXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpbnB1dCk7XG5cdFx0XHRcdF9vdXRwdXQuYXBwZW5kQ2hpbGQobGluZSk7XG5cdFxuXHRcdFx0XHQvLyBIaWRlIGNvbW1hbmQgbGluZSB1bnRpbCB3ZSdyZSBkb25lIHByb2Nlc3NpbmcgaW5wdXQuXG5cdFx0XHRcdF9pbnB1dExpbmUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cdFxuXHRcdFx0XHQvLyBDbGVhci9zZXR1cCBsaW5lIGZvciBuZXh0IGlucHV0LlxuXHRcdFx0XHR0aGlzLnZhbHVlID0gJyc7XG5cdFxuXHRcdFx0XHQvLyBQYXJzZSBvdXQgY29tbWFuZCwgYXJncywgYW5kIHRyaW0gb2ZmIHdoaXRlc3BhY2UuXG5cdFx0XHRcdGlmIChjbWRsaW5lICYmIGNtZGxpbmUudHJpbSgpKSB7XG5cdFx0XHRcdFx0dmFyIGFyZ3MgPSBjbWRsaW5lLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uKHZhbCwgaSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbDtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR2YXIgY21kID0gYXJnc1swXTtcblx0XHRcdFx0XHRhcmdzID0gYXJncy5zcGxpY2UoMSk7IC8vIFJlbW92ZSBjbWQgZnJvbSBhcmcgbGlzdC5cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKGNtZCkge1xuXHRcdFx0XHRcdHZhciByZXNwb25zZSA9IGZhbHNlO1xuXHRcdFx0XHRcdGZvciAodmFyIGluZGV4IGluIGV4dGVuc2lvbnMpIHtcblx0XHRcdFx0XHRcdHZhciBleHQgPSBleHRlbnNpb25zW2luZGV4XTtcblx0XHRcdFx0XHRcdGlmIChleHQuZXhlY3V0ZSkgcmVzcG9uc2UgPSBleHQuZXhlY3V0ZShjbWQsIGFyZ3MpO1xuXHRcdFx0XHRcdFx0aWYgKHJlc3BvbnNlICE9PSBmYWxzZSkgYnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChyZXNwb25zZSA9PT0gZmFsc2UpIHJlc3BvbnNlID0gY21kICsgJzogY29tbWFuZCBub3QgZm91bmQnO1xuXHRcdFx0XHRcdG91dHB1dChyZXNwb25zZSB8fCAnJyk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFNob3cgdGhlIGNvbW1hbmQgbGluZS5cblx0XHRcdFx0X2lucHV0TGluZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblx0XHRcdH1cblx0XG5cdFx0XHRmdW5jdGlvbiBjbGVhcigpIHtcblx0XHRcdFx0X291dHB1dC5pbm5lckhUTUwgPSAnJztcblx0XHRcdFx0X2NtZExpbmUudmFsdWUgPSAnJztcblx0XHRcdFx0X2JhY2tncm91bmQuc3R5bGUubWluSGVpZ2h0ID0gJyc7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gb3V0cHV0KGh0bWwpIHtcblx0XHRcdFx0X291dHB1dC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZUVuZCcsIGh0bWwpO1xuXHRcdFx0XHRfY21kTGluZS5zY3JvbGxJbnRvVmlldygpO1xuXHRcdFx0fVxuXHRcblx0XHRcdGZ1bmN0aW9uIGNtZExpbmVJc1Zpc2libGUgKCkge1xuXHRcdFx0XHRsZXQgcGFyZW50ID0gX2NtZExpbmUucGFyZW50RWxlbWVudFxuXHRcblx0XHRcdFx0d2hpbGUgKHBhcmVudCkge1xuXHRcdFx0XHRcdGlmICgocGFyZW50LmNsYXNzTmFtZSB8fCAnJykuaW5jbHVkZXMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGNsZWFyOiBjbGVhcixcblx0XHRcdFx0c2V0UHJvbXB0OiBmdW5jdGlvbihwcm9tcHQpIHsgX3Byb21wdC5pbm5lckhUTUwgPSBwcm9tcHQgKyBvcHRpb25zLnNlcGFyYXRvcjsgfSxcblx0XHRcdFx0Z2V0UHJvbXB0OiBmdW5jdGlvbigpIHsgcmV0dXJuIF9wcm9tcHQuaW5uZXJIVE1MLnJlcGxhY2UobmV3IFJlZ0V4cChvcHRpb25zLnNlcGFyYXRvciArICckJyksICcnKTsgfSxcblx0XHRcdFx0c2V0VGhlbWU6IGZ1bmN0aW9uKHRoZW1lKSB7IF90ZXJtaW5hbC5jbGFzc0xpc3QucmVtb3ZlKCd0ZXJtaW5hbC0nICsgb3B0aW9ucy50aGVtZSk7IG9wdGlvbnMudGhlbWUgPSB0aGVtZTsgX3Rlcm1pbmFsLmNsYXNzTGlzdC5hZGQoJ3Rlcm1pbmFsLScgKyBvcHRpb25zLnRoZW1lKTsgfSxcblx0XHRcdFx0Z2V0VGhlbWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gb3B0aW9ucy50aGVtZTsgfSxcblx0XHRcdFx0cHJpbnQ6IG91dHB1dFxuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdC8vIG5vZGUuanNcblx0XHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gVGVybWluYWw7XG5cdFxuXHRcdC8vIHdlYiBicm93c2Vyc1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgb2xkVGVybWluYWwgPSBnbG9iYWwuVGVybWluYWw7XG5cdFx0XHRUZXJtaW5hbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRnbG9iYWwuVGVybWluYWwgPSBvbGRUZXJtaW5hbDtcblx0XHRcdFx0cmV0dXJuIFRlcm1pbmFsO1xuXHRcdFx0fTtcblx0XHRcdGdsb2JhbC5UZXJtaW5hbCA9IFRlcm1pbmFsO1xuXHRcdH1cblx0XG5cdH0pKHRoaXMpO1xuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykge3ZhciBjYW1lbENhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KVxuXHR2YXIgZGVjYW1lbGl6ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpXG5cdHZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMClcblx0dmFyIHRva2VuaXplQXJnU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSlcblx0dmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKVxuXHRcblx0ZnVuY3Rpb24gcGFyc2UgKGFyZ3MsIG9wdHMpIHtcblx0ICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuXHQgIC8vIGFsbG93IGEgc3RyaW5nIGFyZ3VtZW50IHRvIGJlIHBhc3NlZCBpbiByYXRoZXJcblx0ICAvLyB0aGFuIGFuIGFyZ3YgYXJyYXkuXG5cdCAgYXJncyA9IHRva2VuaXplQXJnU3RyaW5nKGFyZ3MpXG5cdFxuXHQgIC8vIGFsaWFzZXMgbWlnaHQgaGF2ZSB0cmFuc2l0aXZlIHJlbGF0aW9uc2hpcHMsIG5vcm1hbGl6ZSB0aGlzLlxuXHQgIHZhciBhbGlhc2VzID0gY29tYmluZUFsaWFzZXMob3B0cy5hbGlhcyB8fCB7fSlcblx0ICB2YXIgY29uZmlndXJhdGlvbiA9IE9iamVjdC5hc3NpZ24oe1xuXHQgICAgJ3Nob3J0LW9wdGlvbi1ncm91cHMnOiB0cnVlLFxuXHQgICAgJ2NhbWVsLWNhc2UtZXhwYW5zaW9uJzogdHJ1ZSxcblx0ICAgICdkb3Qtbm90YXRpb24nOiB0cnVlLFxuXHQgICAgJ3BhcnNlLW51bWJlcnMnOiB0cnVlLFxuXHQgICAgJ2Jvb2xlYW4tbmVnYXRpb24nOiB0cnVlLFxuXHQgICAgJ25lZ2F0aW9uLXByZWZpeCc6ICduby0nLFxuXHQgICAgJ2R1cGxpY2F0ZS1hcmd1bWVudHMtYXJyYXknOiB0cnVlLFxuXHQgICAgJ2ZsYXR0ZW4tZHVwbGljYXRlLWFycmF5cyc6IHRydWUsXG5cdCAgICAncG9wdWxhdGUtLSc6IGZhbHNlLFxuXHQgICAgJ2NvbWJpbmUtYXJyYXlzJzogZmFsc2UsXG5cdCAgICAnc2V0LXBsYWNlaG9sZGVyLWtleSc6IGZhbHNlLFxuXHQgICAgJ2hhbHQtYXQtbm9uLW9wdGlvbic6IGZhbHNlLFxuXHQgICAgJ3N0cmlwLWFsaWFzZWQnOiBmYWxzZSxcblx0ICAgICdzdHJpcC1kYXNoZWQnOiBmYWxzZVxuXHQgIH0sIG9wdHMuY29uZmlndXJhdGlvbilcblx0ICB2YXIgZGVmYXVsdHMgPSBvcHRzLmRlZmF1bHQgfHwge31cblx0ICB2YXIgY29uZmlnT2JqZWN0cyA9IG9wdHMuY29uZmlnT2JqZWN0cyB8fCBbXVxuXHQgIHZhciBlbnZQcmVmaXggPSBvcHRzLmVudlByZWZpeFxuXHQgIHZhciBub3RGbGFnc09wdGlvbiA9IGNvbmZpZ3VyYXRpb25bJ3BvcHVsYXRlLS0nXVxuXHQgIHZhciBub3RGbGFnc0FyZ3YgPSBub3RGbGFnc09wdGlvbiA/ICctLScgOiAnXydcblx0ICB2YXIgbmV3QWxpYXNlcyA9IHt9XG5cdCAgLy8gYWxsb3cgYSBpMThuIGhhbmRsZXIgdG8gYmUgcGFzc2VkIGluLCBkZWZhdWx0IHRvIGEgZmFrZSBvbmUgKHV0aWwuZm9ybWF0KS5cblx0ICB2YXIgX18gPSBvcHRzLl9fIHx8IHV0aWwuZm9ybWF0XG5cdCAgdmFyIGVycm9yID0gbnVsbFxuXHQgIHZhciBmbGFncyA9IHtcblx0ICAgIGFsaWFzZXM6IHt9LFxuXHQgICAgYXJyYXlzOiB7fSxcblx0ICAgIGJvb2xzOiB7fSxcblx0ICAgIHN0cmluZ3M6IHt9LFxuXHQgICAgbnVtYmVyczoge30sXG5cdCAgICBjb3VudHM6IHt9LFxuXHQgICAgbm9ybWFsaXplOiB7fSxcblx0ICAgIGNvbmZpZ3M6IHt9LFxuXHQgICAgZGVmYXVsdGVkOiB7fSxcblx0ICAgIG5hcmdzOiB7fSxcblx0ICAgIGNvZXJjaW9uczoge30sXG5cdCAgICBrZXlzOiBbXVxuXHQgIH1cblx0ICB2YXIgbmVnYXRpdmUgPSAvXi1bMC05XSsoXFwuWzAtOV0rKT8vXG5cdCAgdmFyIG5lZ2F0ZWRCb29sZWFuID0gbmV3IFJlZ0V4cCgnXi0tJyArIGNvbmZpZ3VyYXRpb25bJ25lZ2F0aW9uLXByZWZpeCddICsgJyguKyknKVxuXHRcblx0ICA7W10uY29uY2F0KG9wdHMuYXJyYXkpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChvcHQpIHtcblx0ICAgIHZhciBrZXkgPSBvcHQua2V5IHx8IG9wdFxuXHRcblx0ICAgIC8vIGFzc2lnbiB0byBmbGFnc1tib29sc3xzdHJpbmdzfG51bWJlcnNdXG5cdCAgICBjb25zdCBhc3NpZ25tZW50ID0gT2JqZWN0LmtleXMob3B0KS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gKHtcblx0ICAgICAgICBib29sZWFuOiAnYm9vbHMnLFxuXHQgICAgICAgIHN0cmluZzogJ3N0cmluZ3MnLFxuXHQgICAgICAgIG51bWJlcjogJ251bWJlcnMnXG5cdCAgICAgIH0pW2tleV1cblx0ICAgIH0pLmZpbHRlcihCb29sZWFuKS5wb3AoKVxuXHRcblx0ICAgIC8vIGFzc2lnbiBrZXkgdG8gYmUgY29lcmNlZFxuXHQgICAgaWYgKGFzc2lnbm1lbnQpIHtcblx0ICAgICAgZmxhZ3NbYXNzaWdubWVudF1ba2V5XSA9IHRydWVcblx0ICAgIH1cblx0XG5cdCAgICBmbGFncy5hcnJheXNba2V5XSA9IHRydWVcblx0ICAgIGZsYWdzLmtleXMucHVzaChrZXkpXG5cdCAgfSlcblx0XG5cdCAgO1tdLmNvbmNhdChvcHRzLmJvb2xlYW4pLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGZsYWdzLmJvb2xzW2tleV0gPSB0cnVlXG5cdCAgICBmbGFncy5rZXlzLnB1c2goa2V5KVxuXHQgIH0pXG5cdFxuXHQgIDtbXS5jb25jYXQob3B0cy5zdHJpbmcpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGZsYWdzLnN0cmluZ3Nba2V5XSA9IHRydWVcblx0ICAgIGZsYWdzLmtleXMucHVzaChrZXkpXG5cdCAgfSlcblx0XG5cdCAgO1tdLmNvbmNhdChvcHRzLm51bWJlcikuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgZmxhZ3MubnVtYmVyc1trZXldID0gdHJ1ZVxuXHQgICAgZmxhZ3Mua2V5cy5wdXNoKGtleSlcblx0ICB9KVxuXHRcblx0ICA7W10uY29uY2F0KG9wdHMuY291bnQpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGZsYWdzLmNvdW50c1trZXldID0gdHJ1ZVxuXHQgICAgZmxhZ3Mua2V5cy5wdXNoKGtleSlcblx0ICB9KVxuXHRcblx0ICA7W10uY29uY2F0KG9wdHMubm9ybWFsaXplKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBmbGFncy5ub3JtYWxpemVba2V5XSA9IHRydWVcblx0ICAgIGZsYWdzLmtleXMucHVzaChrZXkpXG5cdCAgfSlcblx0XG5cdCAgT2JqZWN0LmtleXMob3B0cy5uYXJnIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG5cdCAgICBmbGFncy5uYXJnc1trXSA9IG9wdHMubmFyZ1trXVxuXHQgICAgZmxhZ3Mua2V5cy5wdXNoKGspXG5cdCAgfSlcblx0XG5cdCAgT2JqZWN0LmtleXMob3B0cy5jb2VyY2UgfHwge30pLmZvckVhY2goZnVuY3Rpb24gKGspIHtcblx0ICAgIGZsYWdzLmNvZXJjaW9uc1trXSA9IG9wdHMuY29lcmNlW2tdXG5cdCAgICBmbGFncy5rZXlzLnB1c2goaylcblx0ICB9KVxuXHRcblx0ICBpZiAoQXJyYXkuaXNBcnJheShvcHRzLmNvbmZpZykgfHwgdHlwZW9mIG9wdHMuY29uZmlnID09PSAnc3RyaW5nJykge1xuXHQgICAgO1tdLmNvbmNhdChvcHRzLmNvbmZpZykuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICBmbGFncy5jb25maWdzW2tleV0gPSB0cnVlXG5cdCAgICB9KVxuXHQgIH0gZWxzZSB7XG5cdCAgICBPYmplY3Qua2V5cyhvcHRzLmNvbmZpZyB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuXHQgICAgICBmbGFncy5jb25maWdzW2tdID0gb3B0cy5jb25maWdba11cblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICAvLyBjcmVhdGUgYSBsb29rdXAgdGFibGUgdGhhdCB0YWtlcyBpbnRvIGFjY291bnQgYWxsXG5cdCAgLy8gY29tYmluYXRpb25zIG9mIGFsaWFzZXM6IHtmOiBbJ2ZvbyddLCBmb286IFsnZiddfVxuXHQgIGV4dGVuZEFsaWFzZXMob3B0cy5rZXksIGFsaWFzZXMsIG9wdHMuZGVmYXVsdCwgZmxhZ3MuYXJyYXlzKVxuXHRcblx0ICAvLyBhcHBseSBkZWZhdWx0IHZhbHVlcyB0byBhbGwgYWxpYXNlcy5cblx0ICBPYmplY3Qua2V5cyhkZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChhbGlhcykge1xuXHQgICAgICBkZWZhdWx0c1thbGlhc10gPSBkZWZhdWx0c1trZXldXG5cdCAgICB9KVxuXHQgIH0pXG5cdFxuXHQgIHZhciBhcmd2ID0geyBfOiBbXSB9XG5cdFxuXHQgIE9iamVjdC5rZXlzKGZsYWdzLmJvb2xzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVmYXVsdHMsIGtleSkpIHtcblx0ICAgICAgc2V0QXJnKGtleSwgZGVmYXVsdHNba2V5XSlcblx0ICAgICAgc2V0RGVmYXVsdGVkKGtleSlcblx0ICAgIH1cblx0ICB9KVxuXHRcblx0ICB2YXIgbm90RmxhZ3MgPSBbXVxuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBhcmcgPSBhcmdzW2ldXG5cdCAgICB2YXIgYnJva2VuXG5cdCAgICB2YXIga2V5XG5cdCAgICB2YXIgbGV0dGVyc1xuXHQgICAgdmFyIG1cblx0ICAgIHZhciBuZXh0XG5cdCAgICB2YXIgdmFsdWVcblx0XG5cdCAgICAvLyAtLSBzZXBhcmF0ZWQgYnkgPVxuXHQgICAgaWYgKGFyZy5tYXRjaCgvXi0tLis9LykgfHwgKFxuXHQgICAgICAhY29uZmlndXJhdGlvblsnc2hvcnQtb3B0aW9uLWdyb3VwcyddICYmIGFyZy5tYXRjaCgvXi0uKz0vKVxuXHQgICAgKSkge1xuXHQgICAgICAvLyBVc2luZyBbXFxzXFxTXSBpbnN0ZWFkIG9mIC4gYmVjYXVzZSBqcyBkb2Vzbid0IHN1cHBvcnQgdGhlXG5cdCAgICAgIC8vICdkb3RhbGwnIHJlZ2V4IG1vZGlmaWVyLiBTZWU6XG5cdCAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwNjgzMDgvMTMyMTZcblx0ICAgICAgbSA9IGFyZy5tYXRjaCgvXi0tPyhbXj1dKyk9KFtcXHNcXFNdKikkLylcblx0XG5cdCAgICAgIC8vIG5hcmdzIGZvcm1hdCA9ICctLWY9bW9ua2V5IHdhc2hpbmcgY2F0J1xuXHQgICAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKG1bMV0sIGZsYWdzLm5hcmdzKSkge1xuXHQgICAgICAgIGFyZ3Muc3BsaWNlKGkgKyAxLCAwLCBtWzJdKVxuXHQgICAgICAgIGkgPSBlYXROYXJncyhpLCBtWzFdLCBhcmdzKVxuXHQgICAgICAvLyBhcnJheXMgZm9ybWF0ID0gJy0tZj1hIGIgYydcblx0ICAgICAgfSBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMobVsxXSwgZmxhZ3MuYXJyYXlzKSAmJiBhcmdzLmxlbmd0aCA+IGkgKyAxKSB7XG5cdCAgICAgICAgYXJncy5zcGxpY2UoaSArIDEsIDAsIG1bMl0pXG5cdCAgICAgICAgaSA9IGVhdEFycmF5KGksIG1bMV0sIGFyZ3MpXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgc2V0QXJnKG1bMV0sIG1bMl0pXG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoYXJnLm1hdGNoKG5lZ2F0ZWRCb29sZWFuKSAmJiBjb25maWd1cmF0aW9uWydib29sZWFuLW5lZ2F0aW9uJ10pIHtcblx0ICAgICAga2V5ID0gYXJnLm1hdGNoKG5lZ2F0ZWRCb29sZWFuKVsxXVxuXHQgICAgICBzZXRBcmcoa2V5LCBmYWxzZSlcblx0XG5cdCAgICAvLyAtLSBzZXBlcmF0ZWQgYnkgc3BhY2UuXG5cdCAgICB9IGVsc2UgaWYgKGFyZy5tYXRjaCgvXi0tLisvKSB8fCAoXG5cdCAgICAgICFjb25maWd1cmF0aW9uWydzaG9ydC1vcHRpb24tZ3JvdXBzJ10gJiYgYXJnLm1hdGNoKC9eLVteLV0rLylcblx0ICAgICkpIHtcblx0ICAgICAga2V5ID0gYXJnLm1hdGNoKC9eLS0/KC4rKS8pWzFdXG5cdFxuXHQgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLS1mb28gYSBiIGMnXG5cdCAgICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncykpIHtcblx0ICAgICAgICBpID0gZWF0TmFyZ3MoaSwga2V5LCBhcmdzKVxuXHQgICAgICAvLyBhcnJheSBmb3JtYXQgPSAnLS1mb28gYSBiIGMnXG5cdCAgICAgIH0gZWxzZSBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYXJyYXlzKSAmJiBhcmdzLmxlbmd0aCA+IGkgKyAxKSB7XG5cdCAgICAgICAgaSA9IGVhdEFycmF5KGksIGtleSwgYXJncylcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBuZXh0ID0gZmxhZ3MubmFyZ3Nba2V5XSA9PT0gMCA/IHVuZGVmaW5lZCA6IGFyZ3NbaSArIDFdXG5cdFxuXHQgICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgKCFuZXh0Lm1hdGNoKC9eLS8pIHx8XG5cdCAgICAgICAgICBuZXh0Lm1hdGNoKG5lZ2F0aXZlKSkgJiZcblx0ICAgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykgJiZcblx0ICAgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpKSB7XG5cdCAgICAgICAgICBzZXRBcmcoa2V5LCBuZXh0KVxuXHQgICAgICAgICAgaSsrXG5cdCAgICAgICAgfSBlbHNlIGlmICgvXih0cnVlfGZhbHNlKSQvLnRlc3QobmV4dCkpIHtcblx0ICAgICAgICAgIHNldEFyZyhrZXksIG5leHQpXG5cdCAgICAgICAgICBpKytcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgc2V0QXJnKGtleSwgZGVmYXVsdFZhbHVlKGtleSkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgLy8gZG90LW5vdGF0aW9uIGZsYWcgc2VwZXJhdGVkIGJ5ICc9Jy5cblx0ICAgIH0gZWxzZSBpZiAoYXJnLm1hdGNoKC9eLS5cXC4uKz0vKSkge1xuXHQgICAgICBtID0gYXJnLm1hdGNoKC9eLShbXj1dKyk9KFtcXHNcXFNdKikkLylcblx0ICAgICAgc2V0QXJnKG1bMV0sIG1bMl0pXG5cdFxuXHQgICAgLy8gZG90LW5vdGF0aW9uIGZsYWcgc2VwZXJhdGVkIGJ5IHNwYWNlLlxuXHQgICAgfSBlbHNlIGlmIChhcmcubWF0Y2goL14tLlxcLi4rLykpIHtcblx0ICAgICAgbmV4dCA9IGFyZ3NbaSArIDFdXG5cdCAgICAgIGtleSA9IGFyZy5tYXRjaCgvXi0oLlxcLi4rKS8pWzFdXG5cdFxuXHQgICAgICBpZiAobmV4dCAhPT0gdW5kZWZpbmVkICYmICFuZXh0Lm1hdGNoKC9eLS8pICYmXG5cdCAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSAmJlxuXHQgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpKSB7XG5cdCAgICAgICAgc2V0QXJnKGtleSwgbmV4dClcblx0ICAgICAgICBpKytcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBzZXRBcmcoa2V5LCBkZWZhdWx0VmFsdWUoa2V5KSlcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChhcmcubWF0Y2goL14tW14tXSsvKSAmJiAhYXJnLm1hdGNoKG5lZ2F0aXZlKSkge1xuXHQgICAgICBsZXR0ZXJzID0gYXJnLnNsaWNlKDEsIC0xKS5zcGxpdCgnJylcblx0ICAgICAgYnJva2VuID0gZmFsc2Vcblx0XG5cdCAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGV0dGVycy5sZW5ndGg7IGorKykge1xuXHQgICAgICAgIG5leHQgPSBhcmcuc2xpY2UoaiArIDIpXG5cdFxuXHQgICAgICAgIGlmIChsZXR0ZXJzW2ogKyAxXSAmJiBsZXR0ZXJzW2ogKyAxXSA9PT0gJz0nKSB7XG5cdCAgICAgICAgICB2YWx1ZSA9IGFyZy5zbGljZShqICsgMylcblx0ICAgICAgICAgIGtleSA9IGxldHRlcnNbal1cblx0XG5cdCAgICAgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLWY9bW9ua2V5IHdhc2hpbmcgY2F0J1xuXHQgICAgICAgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm5hcmdzKSkge1xuXHQgICAgICAgICAgICBhcmdzLnNwbGljZShpICsgMSwgMCwgdmFsdWUpXG5cdCAgICAgICAgICAgIGkgPSBlYXROYXJncyhpLCBrZXksIGFyZ3MpXG5cdCAgICAgICAgICAvLyBhcnJheSBmb3JtYXQgPSAnLWY9YSBiIGMnXG5cdCAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmFycmF5cykgJiYgYXJncy5sZW5ndGggPiBpICsgMSkge1xuXHQgICAgICAgICAgICBhcmdzLnNwbGljZShpICsgMSwgMCwgdmFsdWUpXG5cdCAgICAgICAgICAgIGkgPSBlYXRBcnJheShpLCBrZXksIGFyZ3MpXG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBzZXRBcmcoa2V5LCB2YWx1ZSlcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBicm9rZW4gPSB0cnVlXG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKG5leHQgPT09ICctJykge1xuXHQgICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQpXG5cdCAgICAgICAgICBjb250aW51ZVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gY3VycmVudCBsZXR0ZXIgaXMgYW4gYWxwaGFiZXRpYyBjaGFyYWN0ZXIgYW5kIG5leHQgdmFsdWUgaXMgYSBudW1iZXJcblx0ICAgICAgICBpZiAoL1tBLVphLXpdLy50ZXN0KGxldHRlcnNbal0pICYmXG5cdCAgICAgICAgICAvXi0/XFxkKyhcXC5cXGQqKT8oZS0/XFxkKyk/JC8udGVzdChuZXh0KSkge1xuXHQgICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQpXG5cdCAgICAgICAgICBicm9rZW4gPSB0cnVlXG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGxldHRlcnNbaiArIDFdICYmIGxldHRlcnNbaiArIDFdLm1hdGNoKC9cXFcvKSkge1xuXHQgICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQpXG5cdCAgICAgICAgICBicm9rZW4gPSB0cnVlXG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBzZXRBcmcobGV0dGVyc1tqXSwgZGVmYXVsdFZhbHVlKGxldHRlcnNbal0pKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAga2V5ID0gYXJnLnNsaWNlKC0xKVswXVxuXHRcblx0ICAgICAgaWYgKCFicm9rZW4gJiYga2V5ICE9PSAnLScpIHtcblx0ICAgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLWYgYSBiIGMnXG5cdCAgICAgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm5hcmdzKSkge1xuXHQgICAgICAgICAgaSA9IGVhdE5hcmdzKGksIGtleSwgYXJncylcblx0ICAgICAgICAvLyBhcnJheSBmb3JtYXQgPSAnLWYgYSBiIGMnXG5cdCAgICAgICAgfSBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpICYmIGFyZ3MubGVuZ3RoID4gaSArIDEpIHtcblx0ICAgICAgICAgIGkgPSBlYXRBcnJheShpLCBrZXksIGFyZ3MpXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIG5leHQgPSBhcmdzW2kgKyAxXVxuXHRcblx0ICAgICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgKCEvXigtfC0tKVteLV0vLnRlc3QobmV4dCkgfHxcblx0ICAgICAgICAgICAgbmV4dC5tYXRjaChuZWdhdGl2ZSkpICYmXG5cdCAgICAgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykgJiZcblx0ICAgICAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpIHtcblx0ICAgICAgICAgICAgc2V0QXJnKGtleSwgbmV4dClcblx0ICAgICAgICAgICAgaSsrXG5cdCAgICAgICAgICB9IGVsc2UgaWYgKC9eKHRydWV8ZmFsc2UpJC8udGVzdChuZXh0KSkge1xuXHQgICAgICAgICAgICBzZXRBcmcoa2V5LCBuZXh0KVxuXHQgICAgICAgICAgICBpKytcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHNldEFyZyhrZXksIGRlZmF1bHRWYWx1ZShrZXkpKVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChhcmcgPT09ICctLScpIHtcblx0ICAgICAgbm90RmxhZ3MgPSBhcmdzLnNsaWNlKGkgKyAxKVxuXHQgICAgICBicmVha1xuXHQgICAgfSBlbHNlIGlmIChjb25maWd1cmF0aW9uWydoYWx0LWF0LW5vbi1vcHRpb24nXSkge1xuXHQgICAgICBub3RGbGFncyA9IGFyZ3Muc2xpY2UoaSlcblx0ICAgICAgYnJlYWtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGFyZ3YuXy5wdXNoKG1heWJlQ29lcmNlTnVtYmVyKCdfJywgYXJnKSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIG9yZGVyIG9mIHByZWNlZGVuY2U6XG5cdCAgLy8gMS4gY29tbWFuZCBsaW5lIGFyZ1xuXHQgIC8vIDIuIHZhbHVlIGZyb20gZW52IHZhclxuXHQgIC8vIDMuIHZhbHVlIGZyb20gY29uZmlnIGZpbGVcblx0ICAvLyA0LiB2YWx1ZSBmcm9tIGNvbmZpZyBvYmplY3RzXG5cdCAgLy8gNS4gY29uZmlndXJlZCBkZWZhdWx0IHZhbHVlXG5cdCAgYXBwbHlFbnZWYXJzKGFyZ3YsIHRydWUpIC8vIHNwZWNpYWwgY2FzZTogY2hlY2sgZW52IHZhcnMgdGhhdCBwb2ludCB0byBjb25maWcgZmlsZVxuXHQgIGFwcGx5RW52VmFycyhhcmd2LCBmYWxzZSlcblx0ICBzZXRDb25maWcoYXJndilcblx0ICBzZXRDb25maWdPYmplY3RzKClcblx0ICBhcHBseURlZmF1bHRzQW5kQWxpYXNlcyhhcmd2LCBmbGFncy5hbGlhc2VzLCBkZWZhdWx0cylcblx0ICBhcHBseUNvZXJjaW9ucyhhcmd2KVxuXHQgIGlmIChjb25maWd1cmF0aW9uWydzZXQtcGxhY2Vob2xkZXIta2V5J10pIHNldFBsYWNlaG9sZGVyS2V5cyhhcmd2KVxuXHRcblx0ICAvLyBmb3IgYW55IGNvdW50cyBlaXRoZXIgbm90IGluIGFyZ3Mgb3Igd2l0aG91dCBhbiBleHBsaWNpdCBkZWZhdWx0LCBzZXQgdG8gMFxuXHQgIE9iamVjdC5rZXlzKGZsYWdzLmNvdW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBpZiAoIWhhc0tleShhcmd2LCBrZXkuc3BsaXQoJy4nKSkpIHNldEFyZyhrZXksIDApXG5cdCAgfSlcblx0XG5cdCAgLy8gJy0tJyBkZWZhdWx0cyB0byB1bmRlZmluZWQuXG5cdCAgaWYgKG5vdEZsYWdzT3B0aW9uICYmIG5vdEZsYWdzLmxlbmd0aCkgYXJndltub3RGbGFnc0FyZ3ZdID0gW11cblx0ICBub3RGbGFncy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGFyZ3Zbbm90RmxhZ3NBcmd2XS5wdXNoKGtleSlcblx0ICB9KVxuXHRcblx0ICBpZiAoY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSAmJiBjb25maWd1cmF0aW9uWydzdHJpcC1kYXNoZWQnXSkge1xuXHQgICAgT2JqZWN0LmtleXMoYXJndikuZmlsdGVyKGtleSA9PiBrZXkgIT09ICctLScgJiYga2V5LmluY2x1ZGVzKCctJykpLmZvckVhY2goa2V5ID0+IHtcblx0ICAgICAgZGVsZXRlIGFyZ3Zba2V5XVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIGlmIChjb25maWd1cmF0aW9uWydzdHJpcC1hbGlhc2VkJ10pIHtcblx0ICAgIC8vIFhYWCBTd2l0Y2ggdG8gW10uY29uY2F0KC4uLk9iamVjdC52YWx1ZXMoYWxpYXNlcykpIG9uY2Ugbm9kZS5qcyA2IGlzIGRyb3BwZWRcblx0ICAgIDtbXS5jb25jYXQoLi4uT2JqZWN0LmtleXMoYWxpYXNlcykubWFwKGsgPT4gYWxpYXNlc1trXSkpLmZvckVhY2goYWxpYXMgPT4ge1xuXHQgICAgICBpZiAoY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSkge1xuXHQgICAgICAgIGRlbGV0ZSBhcmd2W2FsaWFzLnNwbGl0KCcuJykubWFwKHByb3AgPT4gY2FtZWxDYXNlKHByb3ApKS5qb2luKCcuJyldXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGRlbGV0ZSBhcmd2W2FsaWFzXVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIC8vIGhvdyBtYW55IGFyZ3VtZW50cyBzaG91bGQgd2UgY29uc3VtZSwgYmFzZWRcblx0ICAvLyBvbiB0aGUgbmFyZ3Mgb3B0aW9uP1xuXHQgIGZ1bmN0aW9uIGVhdE5hcmdzIChpLCBrZXksIGFyZ3MpIHtcblx0ICAgIHZhciBpaVxuXHQgICAgY29uc3QgdG9FYXQgPSBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncylcblx0XG5cdCAgICAvLyBuYXJncyB3aWxsIG5vdCBjb25zdW1lIGZsYWcgYXJndW1lbnRzLCBlLmcuLCAtYWJjLCAtLWZvbyxcblx0ICAgIC8vIGFuZCB0ZXJtaW5hdGVzIHdoZW4gb25lIGlzIG9ic2VydmVkLlxuXHQgICAgdmFyIGF2YWlsYWJsZSA9IDBcblx0ICAgIGZvciAoaWkgPSBpICsgMTsgaWkgPCBhcmdzLmxlbmd0aDsgaWkrKykge1xuXHQgICAgICBpZiAoIWFyZ3NbaWldLm1hdGNoKC9eLVteMC05XS8pKSBhdmFpbGFibGUrK1xuXHQgICAgICBlbHNlIGJyZWFrXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGF2YWlsYWJsZSA8IHRvRWF0KSBlcnJvciA9IEVycm9yKF9fKCdOb3QgZW5vdWdoIGFyZ3VtZW50cyBmb2xsb3dpbmc6ICVzJywga2V5KSlcblx0XG5cdCAgICBjb25zdCBjb25zdW1lZCA9IE1hdGgubWluKGF2YWlsYWJsZSwgdG9FYXQpXG5cdCAgICBmb3IgKGlpID0gaSArIDE7IGlpIDwgKGNvbnN1bWVkICsgaSArIDEpOyBpaSsrKSB7XG5cdCAgICAgIHNldEFyZyhrZXksIGFyZ3NbaWldKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiAoaSArIGNvbnN1bWVkKVxuXHQgIH1cblx0XG5cdCAgLy8gaWYgYW4gb3B0aW9uIGlzIGFuIGFycmF5LCBlYXQgYWxsIG5vbi1oeXBoZW5hdGVkIGFyZ3VtZW50c1xuXHQgIC8vIGZvbGxvd2luZyBpdC4uLiBZVU0hXG5cdCAgLy8gZS5nLiwgLS1mb28gYXBwbGUgYmFuYW5hIGNhdCBiZWNvbWVzIFtcImFwcGxlXCIsIFwiYmFuYW5hXCIsIFwiY2F0XCJdXG5cdCAgZnVuY3Rpb24gZWF0QXJyYXkgKGksIGtleSwgYXJncykge1xuXHQgICAgdmFyIHN0YXJ0ID0gaSArIDFcblx0ICAgIHZhciBhcmdzVG9TZXQgPSBbXVxuXHQgICAgdmFyIG11bHRpcGxlQXJyYXlGbGFnID0gaSA+IDBcblx0ICAgIGZvciAodmFyIGlpID0gaSArIDE7IGlpIDwgYXJncy5sZW5ndGg7IGlpKyspIHtcblx0ICAgICAgaWYgKC9eLS8udGVzdChhcmdzW2lpXSkgJiYgIW5lZ2F0aXZlLnRlc3QoYXJnc1tpaV0pKSB7XG5cdCAgICAgICAgaWYgKGlpID09PSBzdGFydCkge1xuXHQgICAgICAgICAgc2V0QXJnKGtleSwgZGVmYXVsdEZvclR5cGUoJ2FycmF5JykpXG5cdCAgICAgICAgfVxuXHQgICAgICAgIG11bHRpcGxlQXJyYXlGbGFnID0gdHJ1ZVxuXHQgICAgICAgIGJyZWFrXG5cdCAgICAgIH1cblx0ICAgICAgaSA9IGlpXG5cdCAgICAgIGFyZ3NUb1NldC5wdXNoKGFyZ3NbaWldKVxuXHQgICAgfVxuXHQgICAgaWYgKG11bHRpcGxlQXJyYXlGbGFnKSB7XG5cdCAgICAgIHNldEFyZyhrZXksIGFyZ3NUb1NldC5tYXAoZnVuY3Rpb24gKGFyZykge1xuXHQgICAgICAgIHJldHVybiBwcm9jZXNzVmFsdWUoa2V5LCBhcmcpXG5cdCAgICAgIH0pKVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYXJnc1RvU2V0LmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuXHQgICAgICAgIHNldEFyZyhrZXksIGFyZylcblx0ICAgICAgfSlcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gaVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gc2V0QXJnIChrZXksIHZhbCkge1xuXHQgICAgdW5zZXREZWZhdWx0ZWQoa2V5KVxuXHRcblx0ICAgIGlmICgvLS8udGVzdChrZXkpICYmIGNvbmZpZ3VyYXRpb25bJ2NhbWVsLWNhc2UtZXhwYW5zaW9uJ10pIHtcblx0ICAgICAgdmFyIGFsaWFzID0ga2V5LnNwbGl0KCcuJykubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG5cdCAgICAgICAgcmV0dXJuIGNhbWVsQ2FzZShwcm9wKVxuXHQgICAgICB9KS5qb2luKCcuJylcblx0ICAgICAgYWRkTmV3QWxpYXMoa2V5LCBhbGlhcylcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdmFsdWUgPSBwcm9jZXNzVmFsdWUoa2V5LCB2YWwpXG5cdFxuXHQgICAgdmFyIHNwbGl0S2V5ID0ga2V5LnNwbGl0KCcuJylcblx0ICAgIHNldEtleShhcmd2LCBzcGxpdEtleSwgdmFsdWUpXG5cdFxuXHQgICAgLy8gaGFuZGxlIHBvcHVsYXRpbmcgYWxpYXNlcyBvZiB0aGUgZnVsbCBrZXlcblx0ICAgIGlmIChmbGFncy5hbGlhc2VzW2tleV0pIHtcblx0ICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcblx0ICAgICAgICB4ID0geC5zcGxpdCgnLicpXG5cdCAgICAgICAgc2V0S2V5KGFyZ3YsIHgsIHZhbHVlKVxuXHQgICAgICB9KVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIGhhbmRsZSBwb3B1bGF0aW5nIGFsaWFzZXMgb2YgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGRvdC1ub3RhdGlvbiBrZXlcblx0ICAgIGlmIChzcGxpdEtleS5sZW5ndGggPiAxICYmIGNvbmZpZ3VyYXRpb25bJ2RvdC1ub3RhdGlvbiddKSB7XG5cdCAgICAgIDsoZmxhZ3MuYWxpYXNlc1tzcGxpdEtleVswXV0gfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcblx0ICAgICAgICB4ID0geC5zcGxpdCgnLicpXG5cdFxuXHQgICAgICAgIC8vIGV4cGFuZCBhbGlhcyB3aXRoIG5lc3RlZCBvYmplY3RzIGluIGtleVxuXHQgICAgICAgIHZhciBhID0gW10uY29uY2F0KHNwbGl0S2V5KVxuXHQgICAgICAgIGEuc2hpZnQoKSAvLyBudWtlIHRoZSBvbGQga2V5LlxuXHQgICAgICAgIHggPSB4LmNvbmNhdChhKVxuXHRcblx0ICAgICAgICBzZXRLZXkoYXJndiwgeCwgdmFsdWUpXG5cdCAgICAgIH0pXG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU2V0IG5vcm1hbGl6ZSBnZXR0ZXIgYW5kIHNldHRlciB3aGVuIGtleSBpcyBpbiAnbm9ybWFsaXplJyBidXQgaXNuJ3QgYW4gYXJyYXlcblx0ICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ub3JtYWxpemUpICYmICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB7XG5cdCAgICAgIHZhciBrZXlzID0gW2tleV0uY29uY2F0KGZsYWdzLmFsaWFzZXNba2V5XSB8fCBbXSlcblx0ICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICBhcmd2Ll9fZGVmaW5lU2V0dGVyX18oa2V5LCBmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgdmFsID0gcGF0aC5ub3JtYWxpemUodilcblx0ICAgICAgICB9KVxuXHRcblx0ICAgICAgICBhcmd2Ll9fZGVmaW5lR2V0dGVyX18oa2V5LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyBwYXRoLm5vcm1hbGl6ZSh2YWwpIDogdmFsXG5cdCAgICAgICAgfSlcblx0ICAgICAgfSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFkZE5ld0FsaWFzIChrZXksIGFsaWFzKSB7XG5cdCAgICBpZiAoIShmbGFncy5hbGlhc2VzW2tleV0gJiYgZmxhZ3MuYWxpYXNlc1trZXldLmxlbmd0aCkpIHtcblx0ICAgICAgZmxhZ3MuYWxpYXNlc1trZXldID0gW2FsaWFzXVxuXHQgICAgICBuZXdBbGlhc2VzW2FsaWFzXSA9IHRydWVcblx0ICAgIH1cblx0ICAgIGlmICghKGZsYWdzLmFsaWFzZXNbYWxpYXNdICYmIGZsYWdzLmFsaWFzZXNbYWxpYXNdLmxlbmd0aCkpIHtcblx0ICAgICAgYWRkTmV3QWxpYXMoYWxpYXMsIGtleSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZSAoa2V5LCB2YWwpIHtcblx0ICAgIC8vIHN0cmluZ3MgbWF5IGJlIHF1b3RlZCwgY2xlYW4gdGhpcyB1cCBhcyB3ZSBhc3NpZ24gdmFsdWVzLlxuXHQgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmXG5cdCAgICAgICh2YWxbMF0gPT09IFwiJ1wiIHx8IHZhbFswXSA9PT0gJ1wiJykgJiZcblx0ICAgICAgdmFsW3ZhbC5sZW5ndGggLSAxXSA9PT0gdmFsWzBdXG5cdCAgICApIHtcblx0ICAgICAgdmFsID0gdmFsLnN1YnN0cmluZygxLCB2YWwubGVuZ3RoIC0gMSlcblx0ICAgIH1cblx0XG5cdCAgICAvLyBoYW5kbGUgcGFyc2luZyBib29sZWFuIGFyZ3VtZW50cyAtLWZvbz10cnVlIC0tYmFyIGZhbHNlLlxuXHQgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSB8fCBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykgdmFsID0gdmFsID09PSAndHJ1ZSdcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdmFsdWUgPSBtYXliZUNvZXJjZU51bWJlcihrZXksIHZhbClcblx0XG5cdCAgICAvLyBpbmNyZW1lbnQgYSBjb3VudCBnaXZlbiBhcyBhcmcgKGVpdGhlciBubyB2YWx1ZSBvciB2YWx1ZSBwYXJzZWQgYXMgYm9vbGVhbilcblx0ICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpICYmIChpc1VuZGVmaW5lZCh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpKSB7XG5cdCAgICAgIHZhbHVlID0gaW5jcmVtZW50XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU2V0IG5vcm1hbGl6ZWQgdmFsdWUgd2hlbiBrZXkgaXMgaW4gJ25vcm1hbGl6ZScgYW5kIGluICdhcnJheXMnXG5cdCAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3Mubm9ybWFsaXplKSAmJiBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB7XG5cdCAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHZhbHVlID0gdmFsLm1hcChwYXRoLm5vcm1hbGl6ZSlcblx0ICAgICAgZWxzZSB2YWx1ZSA9IHBhdGgubm9ybWFsaXplKHZhbClcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWx1ZVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbWF5YmVDb2VyY2VOdW1iZXIgKGtleSwgdmFsdWUpIHtcblx0ICAgIGlmICghY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3Muc3RyaW5ncykgJiYgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvZXJjaW9ucykpIHtcblx0ICAgICAgY29uc3Qgc2hvdWxkQ29lcmNlTnVtYmVyID0gaXNOdW1iZXIodmFsdWUpICYmIGNvbmZpZ3VyYXRpb25bJ3BhcnNlLW51bWJlcnMnXSAmJiAoXG5cdCAgICAgICAgTnVtYmVyLmlzU2FmZUludGVnZXIoTWF0aC5mbG9vcih2YWx1ZSkpXG5cdCAgICAgIClcblx0ICAgICAgaWYgKHNob3VsZENvZXJjZU51bWJlciB8fCAoIWlzVW5kZWZpbmVkKHZhbHVlKSAmJiBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5udW1iZXJzKSkpIHZhbHVlID0gTnVtYmVyKHZhbHVlKVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZhbHVlXG5cdCAgfVxuXHRcblx0ICAvLyBzZXQgYXJncyBmcm9tIGNvbmZpZy5qc29uIGZpbGUsIHRoaXMgc2hvdWxkIGJlXG5cdCAgLy8gYXBwbGllZCBsYXN0IHNvIHRoYXQgZGVmYXVsdHMgY2FuIGJlIGFwcGxpZWQuXG5cdCAgZnVuY3Rpb24gc2V0Q29uZmlnIChhcmd2KSB7XG5cdCAgICB2YXIgY29uZmlnTG9va3VwID0ge31cblx0XG5cdCAgICAvLyBleHBhbmQgZGVmYXVsdHMvYWxpYXNlcywgaW4tY2FzZSBhbnkgaGFwcGVuIHRvIHJlZmVyZW5jZVxuXHQgICAgLy8gdGhlIGNvbmZpZy5qc29uIGZpbGUuXG5cdCAgICBhcHBseURlZmF1bHRzQW5kQWxpYXNlcyhjb25maWdMb29rdXAsIGZsYWdzLmFsaWFzZXMsIGRlZmF1bHRzKVxuXHRcblx0ICAgIE9iamVjdC5rZXlzKGZsYWdzLmNvbmZpZ3MpLmZvckVhY2goZnVuY3Rpb24gKGNvbmZpZ0tleSkge1xuXHQgICAgICB2YXIgY29uZmlnUGF0aCA9IGFyZ3ZbY29uZmlnS2V5XSB8fCBjb25maWdMb29rdXBbY29uZmlnS2V5XVxuXHQgICAgICBpZiAoY29uZmlnUGF0aCkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICB2YXIgY29uZmlnID0gbnVsbFxuXHQgICAgICAgICAgdmFyIHJlc29sdmVkQ29uZmlnUGF0aCA9IHBhdGgucmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCBjb25maWdQYXRoKVxuXHRcblx0ICAgICAgICAgIGlmICh0eXBlb2YgZmxhZ3MuY29uZmlnc1tjb25maWdLZXldID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgY29uZmlnID0gZmxhZ3MuY29uZmlnc1tjb25maWdLZXldKHJlc29sdmVkQ29uZmlnUGF0aClcblx0ICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAgIGNvbmZpZyA9IGVcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoY29uZmlnIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgICAgICAgICBlcnJvciA9IGNvbmZpZ1xuXHQgICAgICAgICAgICAgIHJldHVyblxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKShyZXNvbHZlZENvbmZpZ1BhdGgpXG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgc2V0Q29uZmlnT2JqZWN0KGNvbmZpZylcblx0ICAgICAgICB9IGNhdGNoIChleCkge1xuXHQgICAgICAgICAgaWYgKGFyZ3ZbY29uZmlnS2V5XSkgZXJyb3IgPSBFcnJvcihfXygnSW52YWxpZCBKU09OIGNvbmZpZyBmaWxlOiAlcycsIGNvbmZpZ1BhdGgpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIC8vIHNldCBhcmdzIGZyb20gY29uZmlnIG9iamVjdC5cblx0ICAvLyBpdCByZWN1cnNpdmVseSBjaGVja3MgbmVzdGVkIG9iamVjdHMuXG5cdCAgZnVuY3Rpb24gc2V0Q29uZmlnT2JqZWN0IChjb25maWcsIHByZXYpIHtcblx0ICAgIE9iamVjdC5rZXlzKGNvbmZpZykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIHZhciB2YWx1ZSA9IGNvbmZpZ1trZXldXG5cdCAgICAgIHZhciBmdWxsS2V5ID0gcHJldiA/IHByZXYgKyAnLicgKyBrZXkgOiBrZXlcblx0XG5cdCAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBhbiBpbm5lciBvYmplY3QgYW5kIHdlIGhhdmUgZG90LW5vdGF0aW9uXG5cdCAgICAgIC8vIGVuYWJsZWQsIHRyZWF0IGlubmVyIG9iamVjdHMgaW4gY29uZmlnIHRoZSBzYW1lIGFzXG5cdCAgICAgIC8vIGhlYXZpbHkgbmVzdGVkIGRvdCBub3RhdGlvbnMgKGZvby5iYXIuYXBwbGUpLlxuXHQgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgY29uZmlndXJhdGlvblsnZG90LW5vdGF0aW9uJ10pIHtcblx0ICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0IGJ1dCBub3QgYW4gYXJyYXksIGNoZWNrIG5lc3RlZCBvYmplY3Rcblx0ICAgICAgICBzZXRDb25maWdPYmplY3QodmFsdWUsIGZ1bGxLZXkpXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gc2V0dGluZyBhcmd1bWVudHMgdmlhIENMSSB0YWtlcyBwcmVjZWRlbmNlIG92ZXJcblx0ICAgICAgICAvLyB2YWx1ZXMgd2l0aGluIHRoZSBjb25maWcgZmlsZS5cblx0ICAgICAgICBpZiAoIWhhc0tleShhcmd2LCBmdWxsS2V5LnNwbGl0KCcuJykpIHx8IChmbGFncy5kZWZhdWx0ZWRbZnVsbEtleV0pIHx8IChmbGFncy5hcnJheXNbZnVsbEtleV0gJiYgY29uZmlndXJhdGlvblsnY29tYmluZS1hcnJheXMnXSkpIHtcblx0ICAgICAgICAgIHNldEFyZyhmdWxsS2V5LCB2YWx1ZSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICAvLyBzZXQgYWxsIGNvbmZpZyBvYmplY3RzIHBhc3NlZCBpbiBvcHRzXG5cdCAgZnVuY3Rpb24gc2V0Q29uZmlnT2JqZWN0cyAoKSB7XG5cdCAgICBpZiAodHlwZW9mIGNvbmZpZ09iamVjdHMgPT09ICd1bmRlZmluZWQnKSByZXR1cm5cblx0ICAgIGNvbmZpZ09iamVjdHMuZm9yRWFjaChmdW5jdGlvbiAoY29uZmlnT2JqZWN0KSB7XG5cdCAgICAgIHNldENvbmZpZ09iamVjdChjb25maWdPYmplY3QpXG5cdCAgICB9KVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gYXBwbHlFbnZWYXJzIChhcmd2LCBjb25maWdPbmx5KSB7XG5cdCAgICBpZiAodHlwZW9mIGVudlByZWZpeCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuXHRcblx0ICAgIHZhciBwcmVmaXggPSB0eXBlb2YgZW52UHJlZml4ID09PSAnc3RyaW5nJyA/IGVudlByZWZpeCA6ICcnXG5cdCAgICBPYmplY3Qua2V5cyhwcm9jZXNzLmVudikuZm9yRWFjaChmdW5jdGlvbiAoZW52VmFyKSB7XG5cdCAgICAgIGlmIChwcmVmaXggPT09ICcnIHx8IGVudlZhci5sYXN0SW5kZXhPZihwcmVmaXgsIDApID09PSAwKSB7XG5cdCAgICAgICAgLy8gZ2V0IGFycmF5IG9mIG5lc3RlZCBrZXlzIGFuZCBjb252ZXJ0IHRoZW0gdG8gY2FtZWwgY2FzZVxuXHQgICAgICAgIHZhciBrZXlzID0gZW52VmFyLnNwbGl0KCdfXycpLm1hcChmdW5jdGlvbiAoa2V5LCBpKSB7XG5cdCAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuXHQgICAgICAgICAgICBrZXkgPSBrZXkuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gY2FtZWxDYXNlKGtleSlcblx0ICAgICAgICB9KVxuXHRcblx0ICAgICAgICBpZiAoKChjb25maWdPbmx5ICYmIGZsYWdzLmNvbmZpZ3Nba2V5cy5qb2luKCcuJyldKSB8fCAhY29uZmlnT25seSkgJiYgKCFoYXNLZXkoYXJndiwga2V5cykgfHwgZmxhZ3MuZGVmYXVsdGVkW2tleXMuam9pbignLicpXSkpIHtcblx0ICAgICAgICAgIHNldEFyZyhrZXlzLmpvaW4oJy4nKSwgcHJvY2Vzcy5lbnZbZW52VmFyXSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBhcHBseUNvZXJjaW9ucyAoYXJndikge1xuXHQgICAgdmFyIGNvZXJjZVxuXHQgICAgdmFyIGFwcGxpZWQgPSB7fVxuXHQgICAgT2JqZWN0LmtleXMoYXJndikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIGlmICghYXBwbGllZC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7IC8vIElmIHdlIGhhdmVuJ3QgYWxyZWFkeSBjb2VyY2VkIHRoaXMgb3B0aW9uIHZpYSBvbmUgb2YgaXRzIGFsaWFzZXNcblx0ICAgICAgICBjb2VyY2UgPSBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb2VyY2lvbnMpXG5cdCAgICAgICAgaWYgKHR5cGVvZiBjb2VyY2UgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvZXJjZShhcmd2W2tleV0pXG5cdCAgICAgICAgICAgIDsoW10uY29uY2F0KGZsYWdzLmFsaWFzZXNba2V5XSB8fCBbXSwga2V5KSkuZm9yRWFjaChhbGkgPT4ge1xuXHQgICAgICAgICAgICAgIGFwcGxpZWRbYWxpXSA9IGFyZ3ZbYWxpXSA9IHZhbHVlXG5cdCAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgZXJyb3IgPSBlcnJcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBzZXRQbGFjZWhvbGRlcktleXMgKGFyZ3YpIHtcblx0ICAgIGZsYWdzLmtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG5cdCAgICAgIC8vIGRvbid0IHNldCBwbGFjZWhvbGRlciBrZXlzIGZvciBkb3Qgbm90YXRpb24gb3B0aW9ucyAnZm9vLmJhcicuXG5cdCAgICAgIGlmICh+a2V5LmluZGV4T2YoJy4nKSkgcmV0dXJuXG5cdCAgICAgIGlmICh0eXBlb2YgYXJndltrZXldID09PSAndW5kZWZpbmVkJykgYXJndltrZXldID0gdW5kZWZpbmVkXG5cdCAgICB9KVxuXHQgICAgcmV0dXJuIGFyZ3Zcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFwcGx5RGVmYXVsdHNBbmRBbGlhc2VzIChvYmosIGFsaWFzZXMsIGRlZmF1bHRzKSB7XG5cdCAgICBPYmplY3Qua2V5cyhkZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIGlmICghaGFzS2V5KG9iaiwga2V5LnNwbGl0KCcuJykpKSB7XG5cdCAgICAgICAgc2V0S2V5KG9iaiwga2V5LnNwbGl0KCcuJyksIGRlZmF1bHRzW2tleV0pXG5cdFxuXHQgICAgICAgIDsoYWxpYXNlc1trZXldIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG5cdCAgICAgICAgICBpZiAoaGFzS2V5KG9iaiwgeC5zcGxpdCgnLicpKSkgcmV0dXJuXG5cdCAgICAgICAgICBzZXRLZXkob2JqLCB4LnNwbGl0KCcuJyksIGRlZmF1bHRzW2tleV0pXG5cdCAgICAgICAgfSlcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGhhc0tleSAob2JqLCBrZXlzKSB7XG5cdCAgICB2YXIgbyA9IG9ialxuXHRcblx0ICAgIGlmICghY29uZmlndXJhdGlvblsnZG90LW5vdGF0aW9uJ10pIGtleXMgPSBba2V5cy5qb2luKCcuJyldXG5cdFxuXHQgICAga2V5cy5zbGljZSgwLCAtMSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIG8gPSAob1trZXldIHx8IHt9KVxuXHQgICAgfSlcblx0XG5cdCAgICB2YXIga2V5ID0ga2V5c1trZXlzLmxlbmd0aCAtIDFdXG5cdFxuXHQgICAgaWYgKHR5cGVvZiBvICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlXG5cdCAgICBlbHNlIHJldHVybiBrZXkgaW4gb1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gc2V0S2V5IChvYmosIGtleXMsIHZhbHVlKSB7XG5cdCAgICB2YXIgbyA9IG9ialxuXHRcblx0ICAgIGlmICghY29uZmlndXJhdGlvblsnZG90LW5vdGF0aW9uJ10pIGtleXMgPSBba2V5cy5qb2luKCcuJyldXG5cdFxuXHQgICAga2V5cy5zbGljZSgwLCAtMSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuXHQgICAgICBpZiAodHlwZW9mIG8gPT09ICdvYmplY3QnICYmIG9ba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgb1trZXldID0ge31cblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHR5cGVvZiBvW2tleV0gIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkob1trZXldKSkge1xuXHQgICAgICAgIC8vIGVuc3VyZSB0aGF0IG9ba2V5XSBpcyBhbiBhcnJheSwgYW5kIHRoYXQgdGhlIGxhc3QgaXRlbSBpcyBhbiBlbXB0eSBvYmplY3QuXG5cdCAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob1trZXldKSkge1xuXHQgICAgICAgICAgb1trZXldLnB1c2goe30pXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIG9ba2V5XSA9IFtvW2tleV0sIHt9XVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gd2Ugd2FudCB0byB1cGRhdGUgdGhlIGVtcHR5IG9iamVjdCBhdCB0aGUgZW5kIG9mIHRoZSBvW2tleV0gYXJyYXksIHNvIHNldCBvIHRvIHRoYXQgb2JqZWN0XG5cdCAgICAgICAgbyA9IG9ba2V5XVtvW2tleV0ubGVuZ3RoIC0gMV1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBvID0gb1trZXldXG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdFxuXHQgICAgdmFyIGtleSA9IGtleXNba2V5cy5sZW5ndGggLSAxXVxuXHRcblx0ICAgIHZhciBpc1R5cGVBcnJheSA9IGNoZWNrQWxsQWxpYXNlcyhrZXlzLmpvaW4oJy4nKSwgZmxhZ3MuYXJyYXlzKVxuXHQgICAgdmFyIGlzVmFsdWVBcnJheSA9IEFycmF5LmlzQXJyYXkodmFsdWUpXG5cdCAgICB2YXIgZHVwbGljYXRlID0gY29uZmlndXJhdGlvblsnZHVwbGljYXRlLWFyZ3VtZW50cy1hcnJheSddXG5cdFxuXHQgICAgLy8gbmFyZ3MgaGFzIGhpZ2hlciBwcmlvcml0eSB0aGFuIGR1cGxpY2F0ZVxuXHQgICAgaWYgKCFkdXBsaWNhdGUgJiYgY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MubmFyZ3MpKSB7XG5cdCAgICAgIGR1cGxpY2F0ZSA9IHRydWVcblx0ICAgICAgaWYgKCghaXNVbmRlZmluZWQob1trZXldKSAmJiBmbGFncy5uYXJnc1trZXldID09PSAxKSB8fCAoQXJyYXkuaXNBcnJheShvW2tleV0pICYmIG9ba2V5XS5sZW5ndGggPT09IGZsYWdzLm5hcmdzW2tleV0pKSB7XG5cdCAgICAgICAgb1trZXldID0gdW5kZWZpbmVkXG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAodmFsdWUgPT09IGluY3JlbWVudCkge1xuXHQgICAgICBvW2tleV0gPSBpbmNyZW1lbnQob1trZXldKVxuXHQgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9ba2V5XSkpIHtcblx0ICAgICAgaWYgKGR1cGxpY2F0ZSAmJiBpc1R5cGVBcnJheSAmJiBpc1ZhbHVlQXJyYXkpIHtcblx0ICAgICAgICBvW2tleV0gPSBjb25maWd1cmF0aW9uWydmbGF0dGVuLWR1cGxpY2F0ZS1hcnJheXMnXSA/IG9ba2V5XS5jb25jYXQodmFsdWUpIDogKEFycmF5LmlzQXJyYXkob1trZXldWzBdKSA/IG9ba2V5XSA6IFtvW2tleV1dKS5jb25jYXQoW3ZhbHVlXSlcblx0ICAgICAgfSBlbHNlIGlmICghZHVwbGljYXRlICYmIEJvb2xlYW4oaXNUeXBlQXJyYXkpID09PSBCb29sZWFuKGlzVmFsdWVBcnJheSkpIHtcblx0ICAgICAgICBvW2tleV0gPSB2YWx1ZVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIG9ba2V5XSA9IG9ba2V5XS5jb25jYXQoW3ZhbHVlXSlcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChvW2tleV0gPT09IHVuZGVmaW5lZCAmJiBpc1R5cGVBcnJheSkge1xuXHQgICAgICBvW2tleV0gPSBpc1ZhbHVlQXJyYXkgPyB2YWx1ZSA6IFt2YWx1ZV1cblx0ICAgIH0gZWxzZSBpZiAoZHVwbGljYXRlICYmICEob1trZXldID09PSB1bmRlZmluZWQgfHwgY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYm9vbHMpIHx8IGNoZWNrQWxsQWxpYXNlcyhrZXlzLmpvaW4oJy4nKSwgZmxhZ3MuYm9vbHMpIHx8IGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpKSB7XG5cdCAgICAgIG9ba2V5XSA9IFsgb1trZXldLCB2YWx1ZSBdXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBvW2tleV0gPSB2YWx1ZVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gZXh0ZW5kIHRoZSBhbGlhc2VzIGxpc3Qgd2l0aCBpbmZlcnJlZCBhbGlhc2VzLlxuXHQgIGZ1bmN0aW9uIGV4dGVuZEFsaWFzZXMgKC4uLmFyZ3MpIHtcblx0ICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgIE9iamVjdC5rZXlzKG9iaiB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBpZiB3ZSd2ZSBhbHJlYWR5IGFkZGVkIGEga2V5XG5cdCAgICAgICAgLy8gdG8gdGhlIGFsaWFzZXMgYXJyYXksIGZvciBleGFtcGxlIGl0IG1pZ2h0XG5cdCAgICAgICAgLy8gZXhpc3QgaW4gYm90aCAnb3B0cy5kZWZhdWx0JyBhbmQgJ29wdHMua2V5Jy5cblx0ICAgICAgICBpZiAoZmxhZ3MuYWxpYXNlc1trZXldKSByZXR1cm5cblx0XG5cdCAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldID0gW10uY29uY2F0KGFsaWFzZXNba2V5XSB8fCBbXSlcblx0ICAgICAgICAvLyBGb3IgXCItLW9wdGlvbi1uYW1lXCIsIGFsc28gc2V0IGFyZ3Yub3B0aW9uTmFtZVxuXHQgICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5jb25jYXQoa2V5KS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG5cdCAgICAgICAgICBpZiAoLy0vLnRlc3QoeCkgJiYgY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSkge1xuXHQgICAgICAgICAgICB2YXIgYyA9IGNhbWVsQ2FzZSh4KVxuXHQgICAgICAgICAgICBpZiAoYyAhPT0ga2V5ICYmIGZsYWdzLmFsaWFzZXNba2V5XS5pbmRleE9mKGMpID09PSAtMSkge1xuXHQgICAgICAgICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5wdXNoKGMpXG5cdCAgICAgICAgICAgICAgbmV3QWxpYXNlc1tjXSA9IHRydWVcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pXG5cdCAgICAgICAgLy8gRm9yIFwiLS1vcHRpb25OYW1lXCIsIGFsc28gc2V0IGFyZ3ZbJ29wdGlvbi1uYW1lJ11cblx0ICAgICAgICBmbGFncy5hbGlhc2VzW2tleV0uY29uY2F0KGtleSkuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuXHQgICAgICAgICAgaWYgKHgubGVuZ3RoID4gMSAmJiAvW0EtWl0vLnRlc3QoeCkgJiYgY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSkge1xuXHQgICAgICAgICAgICB2YXIgYyA9IGRlY2FtZWxpemUoeCwgJy0nKVxuXHQgICAgICAgICAgICBpZiAoYyAhPT0ga2V5ICYmIGZsYWdzLmFsaWFzZXNba2V5XS5pbmRleE9mKGMpID09PSAtMSkge1xuXHQgICAgICAgICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5wdXNoKGMpXG5cdCAgICAgICAgICAgICAgbmV3QWxpYXNlc1tjXSA9IHRydWVcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pXG5cdCAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcblx0ICAgICAgICAgIGZsYWdzLmFsaWFzZXNbeF0gPSBba2V5XS5jb25jYXQoZmxhZ3MuYWxpYXNlc1trZXldLmZpbHRlcihmdW5jdGlvbiAoeSkge1xuXHQgICAgICAgICAgICByZXR1cm4geCAhPT0geVxuXHQgICAgICAgICAgfSkpXG5cdCAgICAgICAgfSlcblx0ICAgICAgfSlcblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICAvLyBjaGVjayBpZiBhIGZsYWcgaXMgc2V0IGZvciBhbnkgb2YgYSBrZXkncyBhbGlhc2VzLlxuXHQgIGZ1bmN0aW9uIGNoZWNrQWxsQWxpYXNlcyAoa2V5LCBmbGFnKSB7XG5cdCAgICB2YXIgaXNTZXQgPSBmYWxzZVxuXHQgICAgdmFyIHRvQ2hlY2sgPSBbXS5jb25jYXQoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdLCBrZXkpXG5cdFxuXHQgICAgdG9DaGVjay5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgaWYgKGZsYWdba2V5XSkgaXNTZXQgPSBmbGFnW2tleV1cblx0ICAgIH0pXG5cdFxuXHQgICAgcmV0dXJuIGlzU2V0XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBzZXREZWZhdWx0ZWQgKGtleSkge1xuXHQgICAgW10uY29uY2F0KGZsYWdzLmFsaWFzZXNba2V5XSB8fCBbXSwga2V5KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG5cdCAgICAgIGZsYWdzLmRlZmF1bHRlZFtrXSA9IHRydWVcblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiB1bnNldERlZmF1bHRlZCAoa2V5KSB7XG5cdCAgICBbXS5jb25jYXQoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdLCBrZXkpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcblx0ICAgICAgZGVsZXRlIGZsYWdzLmRlZmF1bHRlZFtrXVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIC8vIG1ha2UgYSBiZXN0IGVmZm9yIHRvIHBpY2sgYSBkZWZhdWx0IHZhbHVlXG5cdCAgLy8gZm9yIGFuIG9wdGlvbiBiYXNlZCBvbiBuYW1lIGFuZCB0eXBlLlxuXHQgIGZ1bmN0aW9uIGRlZmF1bHRWYWx1ZSAoa2V5KSB7XG5cdCAgICBpZiAoIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSAmJlxuXHQgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpICYmXG5cdCAgICAgICAgYCR7a2V5fWAgaW4gZGVmYXVsdHMpIHtcblx0ICAgICAgcmV0dXJuIGRlZmF1bHRzW2tleV1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBkZWZhdWx0Rm9yVHlwZShndWVzc1R5cGUoa2V5KSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIHJldHVybiBhIGRlZmF1bHQgdmFsdWUsIGdpdmVuIHRoZSB0eXBlIG9mIGEgZmxhZy4sXG5cdCAgLy8gZS5nLiwga2V5IG9mIHR5cGUgJ3N0cmluZycgd2lsbCBkZWZhdWx0IHRvICcnLCByYXRoZXIgdGhhbiAndHJ1ZScuXG5cdCAgZnVuY3Rpb24gZGVmYXVsdEZvclR5cGUgKHR5cGUpIHtcblx0ICAgIHZhciBkZWYgPSB7XG5cdCAgICAgIGJvb2xlYW46IHRydWUsXG5cdCAgICAgIHN0cmluZzogJycsXG5cdCAgICAgIG51bWJlcjogdW5kZWZpbmVkLFxuXHQgICAgICBhcnJheTogW11cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZGVmW3R5cGVdXG5cdCAgfVxuXHRcblx0ICAvLyBnaXZlbiBhIGZsYWcsIGVuZm9yY2UgYSBkZWZhdWx0IHR5cGUuXG5cdCAgZnVuY3Rpb24gZ3Vlc3NUeXBlIChrZXkpIHtcblx0ICAgIHZhciB0eXBlID0gJ2Jvb2xlYW4nXG5cdFxuXHQgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLnN0cmluZ3MpKSB0eXBlID0gJ3N0cmluZydcblx0ICAgIGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm51bWJlcnMpKSB0eXBlID0gJ251bWJlcidcblx0ICAgIGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmFycmF5cykpIHR5cGUgPSAnYXJyYXknXG5cdFxuXHQgICAgcmV0dXJuIHR5cGVcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzTnVtYmVyICh4KSB7XG5cdCAgICBpZiAoeCA9PT0gbnVsbCB8fCB4ID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZVxuXHQgICAgLy8gaWYgbG9hZGVkIGZyb20gY29uZmlnLCBtYXkgYWxyZWFkeSBiZSBhIG51bWJlci5cblx0ICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHJldHVybiB0cnVlXG5cdCAgICAvLyBoZXhhZGVjaW1hbC5cblx0ICAgIGlmICgvXjB4WzAtOWEtZl0rJC9pLnRlc3QoeCkpIHJldHVybiB0cnVlXG5cdCAgICAvLyBkb24ndCB0cmVhdCAwMTIzIGFzIGEgbnVtYmVyOyBhcyBpdCBkcm9wcyB0aGUgbGVhZGluZyAnMCcuXG5cdCAgICBpZiAoeC5sZW5ndGggPiAxICYmIHhbMF0gPT09ICcwJykgcmV0dXJuIGZhbHNlXG5cdCAgICByZXR1cm4gL15bLV0/KD86XFxkKyg/OlxcLlxcZCopP3xcXC5cXGQrKShlWy0rXT9cXGQrKT8kLy50ZXN0KHgpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpc1VuZGVmaW5lZCAobnVtKSB7XG5cdCAgICByZXR1cm4gbnVtID09PSB1bmRlZmluZWRcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBhcmd2OiBhcmd2LFxuXHQgICAgZXJyb3I6IGVycm9yLFxuXHQgICAgYWxpYXNlczogZmxhZ3MuYWxpYXNlcyxcblx0ICAgIG5ld0FsaWFzZXM6IG5ld0FsaWFzZXMsXG5cdCAgICBjb25maWd1cmF0aW9uOiBjb25maWd1cmF0aW9uXG5cdCAgfVxuXHR9XG5cdFxuXHQvLyBpZiBhbnkgYWxpYXNlcyByZWZlcmVuY2UgZWFjaCBvdGhlciwgd2Ugc2hvdWxkXG5cdC8vIG1lcmdlIHRoZW0gdG9nZXRoZXIuXG5cdGZ1bmN0aW9uIGNvbWJpbmVBbGlhc2VzIChhbGlhc2VzKSB7XG5cdCAgdmFyIGFsaWFzQXJyYXlzID0gW11cblx0ICB2YXIgY2hhbmdlID0gdHJ1ZVxuXHQgIHZhciBjb21iaW5lZCA9IHt9XG5cdFxuXHQgIC8vIHR1cm4gYWxpYXMgbG9va3VwIGhhc2gge2tleTogWydhbGlhczEnLCAnYWxpYXMyJ119IGludG9cblx0ICAvLyBhIHNpbXBsZSBhcnJheSBbJ2tleScsICdhbGlhczEnLCAnYWxpYXMyJ11cblx0ICBPYmplY3Qua2V5cyhhbGlhc2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGFsaWFzQXJyYXlzLnB1c2goXG5cdCAgICAgIFtdLmNvbmNhdChhbGlhc2VzW2tleV0sIGtleSlcblx0ICAgIClcblx0ICB9KVxuXHRcblx0ICAvLyBjb21iaW5lIGFycmF5cyB1bnRpbCB6ZXJvIGNoYW5nZXMgYXJlXG5cdCAgLy8gbWFkZSBpbiBhbiBpdGVyYXRpb24uXG5cdCAgd2hpbGUgKGNoYW5nZSkge1xuXHQgICAgY2hhbmdlID0gZmFsc2Vcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxpYXNBcnJheXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgZm9yICh2YXIgaWkgPSBpICsgMTsgaWkgPCBhbGlhc0FycmF5cy5sZW5ndGg7IGlpKyspIHtcblx0ICAgICAgICB2YXIgaW50ZXJzZWN0ID0gYWxpYXNBcnJheXNbaV0uZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgICByZXR1cm4gYWxpYXNBcnJheXNbaWldLmluZGV4T2YodikgIT09IC0xXG5cdCAgICAgICAgfSlcblx0XG5cdCAgICAgICAgaWYgKGludGVyc2VjdC5sZW5ndGgpIHtcblx0ICAgICAgICAgIGFsaWFzQXJyYXlzW2ldID0gYWxpYXNBcnJheXNbaV0uY29uY2F0KGFsaWFzQXJyYXlzW2lpXSlcblx0ICAgICAgICAgIGFsaWFzQXJyYXlzLnNwbGljZShpaSwgMSlcblx0ICAgICAgICAgIGNoYW5nZSA9IHRydWVcblx0ICAgICAgICAgIGJyZWFrXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBtYXAgYXJyYXlzIGJhY2sgdG8gdGhlIGhhc2gtbG9va3VwIChkZS1kdXBlIHdoaWxlXG5cdCAgLy8gd2UncmUgYXQgaXQpLlxuXHQgIGFsaWFzQXJyYXlzLmZvckVhY2goZnVuY3Rpb24gKGFsaWFzQXJyYXkpIHtcblx0ICAgIGFsaWFzQXJyYXkgPSBhbGlhc0FycmF5LmZpbHRlcihmdW5jdGlvbiAodiwgaSwgc2VsZikge1xuXHQgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKHYpID09PSBpXG5cdCAgICB9KVxuXHQgICAgY29tYmluZWRbYWxpYXNBcnJheS5wb3AoKV0gPSBhbGlhc0FycmF5XG5cdCAgfSlcblx0XG5cdCAgcmV0dXJuIGNvbWJpbmVkXG5cdH1cblx0XG5cdC8vIHRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gYSBjb3VudCBpcyBnaXZlbiBhcyBhbiBhcmdcblx0Ly8gaXQgaXMgTk9UIGNhbGxlZCB0byBzZXQgYSBkZWZhdWx0IHZhbHVlXG5cdC8vIHRodXMgd2UgY2FuIHN0YXJ0IHRoZSBjb3VudCBhdCAxIGluc3RlYWQgb2YgMFxuXHRmdW5jdGlvbiBpbmNyZW1lbnQgKG9yaWcpIHtcblx0ICByZXR1cm4gb3JpZyAhPT0gdW5kZWZpbmVkID8gb3JpZyArIDEgOiAxXG5cdH1cblx0XG5cdGZ1bmN0aW9uIFBhcnNlciAoYXJncywgb3B0cykge1xuXHQgIHZhciByZXN1bHQgPSBwYXJzZShhcmdzLnNsaWNlKCksIG9wdHMpXG5cdFxuXHQgIHJldHVybiByZXN1bHQuYXJndlxuXHR9XG5cdFxuXHQvLyBwYXJzZSBhcmd1bWVudHMgYW5kIHJldHVybiBkZXRhaWxlZFxuXHQvLyBtZXRhIGluZm9ybWF0aW9uLCBhbGlhc2VzLCBldGMuXG5cdFBhcnNlci5kZXRhaWxlZCA9IGZ1bmN0aW9uIChhcmdzLCBvcHRzKSB7XG5cdCAgcmV0dXJuIHBhcnNlKGFyZ3Muc2xpY2UoKSwgb3B0cylcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBQYXJzZXJcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KSkpXG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHRmdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICB9XG5cdH0gKCkpXG5cdGZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG5cdCAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG5cdCAgICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3Jcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHR9XG5cdGZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcblx0ICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cblx0ICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0XG5cdH1cblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0cHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5cdHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRjb25zdCBwcmVzZXJ2ZUNhbWVsQ2FzZSA9IHN0cmluZyA9PiB7XG5cdFx0bGV0IGlzTGFzdENoYXJMb3dlciA9IGZhbHNlO1xuXHRcdGxldCBpc0xhc3RDaGFyVXBwZXIgPSBmYWxzZTtcblx0XHRsZXQgaXNMYXN0TGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXHRcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgY2hhcmFjdGVyID0gc3RyaW5nW2ldO1xuXHRcblx0XHRcdGlmIChpc0xhc3RDaGFyTG93ZXIgJiYgL1thLXpBLVpdLy50ZXN0KGNoYXJhY3RlcikgJiYgY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkgPT09IGNoYXJhY3Rlcikge1xuXHRcdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgaSkgKyAnLScgKyBzdHJpbmcuc2xpY2UoaSk7XG5cdFx0XHRcdGlzTGFzdENoYXJMb3dlciA9IGZhbHNlO1xuXHRcdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSB0cnVlO1xuXHRcdFx0XHRpKys7XG5cdFx0XHR9IGVsc2UgaWYgKGlzTGFzdENoYXJVcHBlciAmJiBpc0xhc3RMYXN0Q2hhclVwcGVyICYmIC9bYS16QS1aXS8udGVzdChjaGFyYWN0ZXIpICYmIGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpID09PSBjaGFyYWN0ZXIpIHtcblx0XHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIGkgLSAxKSArICctJyArIHN0cmluZy5zbGljZShpIC0gMSk7XG5cdFx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRcdGlzTGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXHRcdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aXNMYXN0Q2hhckxvd2VyID0gY2hhcmFjdGVyLnRvTG93ZXJDYXNlKCkgPT09IGNoYXJhY3RlciAmJiBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKSAhPT0gY2hhcmFjdGVyO1xuXHRcdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKSA9PT0gY2hhcmFjdGVyICYmIGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpICE9PSBjaGFyYWN0ZXI7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gc3RyaW5nO1xuXHR9O1xuXHRcblx0Y29uc3QgY2FtZWxDYXNlID0gKGlucHV0LCBvcHRpb25zKSA9PiB7XG5cdFx0aWYgKCEodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGlucHV0KSkpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBpbnB1dCB0byBiZSBgc3RyaW5nIHwgc3RyaW5nW11gJyk7XG5cdFx0fVxuXHRcblx0XHRvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0XHRwYXNjYWxDYXNlOiBmYWxzZVxuXHRcdH0sIG9wdGlvbnMpO1xuXHRcblx0XHRjb25zdCBwb3N0UHJvY2VzcyA9IHggPT4gb3B0aW9ucy5wYXNjYWxDYXNlID8geC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHguc2xpY2UoMSkgOiB4O1xuXHRcblx0XHRpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0XHRcdGlucHV0ID0gaW5wdXQubWFwKHggPT4geC50cmltKCkpXG5cdFx0XHRcdC5maWx0ZXIoeCA9PiB4Lmxlbmd0aClcblx0XHRcdFx0LmpvaW4oJy0nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aW5wdXQgPSBpbnB1dC50cmltKCk7XG5cdFx0fVxuXHRcblx0XHRpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fVxuXHRcblx0XHRpZiAoaW5wdXQubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucy5wYXNjYWxDYXNlID8gaW5wdXQudG9VcHBlckNhc2UoKSA6IGlucHV0LnRvTG93ZXJDYXNlKCk7XG5cdFx0fVxuXHRcblx0XHRjb25zdCBoYXNVcHBlckNhc2UgPSBpbnB1dCAhPT0gaW5wdXQudG9Mb3dlckNhc2UoKTtcblx0XG5cdFx0aWYgKGhhc1VwcGVyQ2FzZSkge1xuXHRcdFx0aW5wdXQgPSBwcmVzZXJ2ZUNhbWVsQ2FzZShpbnB1dCk7XG5cdFx0fVxuXHRcblx0XHRpbnB1dCA9IGlucHV0XG5cdFx0XHQucmVwbGFjZSgvXltfLlxcLSBdKy8sICcnKVxuXHRcdFx0LnRvTG93ZXJDYXNlKClcblx0XHRcdC5yZXBsYWNlKC9bXy5cXC0gXSsoXFx3fCQpL2csIChfLCBwMSkgPT4gcDEudG9VcHBlckNhc2UoKSlcblx0XHRcdC5yZXBsYWNlKC9cXGQrKFxcd3wkKS9nLCBtID0+IG0udG9VcHBlckNhc2UoKSk7XG5cdFxuXHRcdHJldHVybiBwb3N0UHJvY2VzcyhpbnB1dCk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGNhbWVsQ2FzZTtcblx0Ly8gVE9ETzogUmVtb3ZlIHRoaXMgZm9yIHRoZSBuZXh0IG1ham9yIHJlbGVhc2Vcblx0bW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGNhbWVsQ2FzZTtcblxuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIsIHNlcCkge1xuXHRcdGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSBzdHJpbmcnKTtcblx0XHR9XG5cdFxuXHRcdHNlcCA9IHR5cGVvZiBzZXAgPT09ICd1bmRlZmluZWQnID8gJ18nIDogc2VwO1xuXHRcblx0XHRyZXR1cm4gc3RyXG5cdFx0XHQucmVwbGFjZSgvKFthLXpcXGRdKShbQS1aXSkvZywgJyQxJyArIHNlcCArICckMicpXG5cdFx0XHQucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XFxkXSspL2csICckMScgKyBzZXAgKyAnJDInKVxuXHRcdFx0LnRvTG93ZXJDYXNlKCk7XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7Ly8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG5cdC8vXG5cdC8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG5cdC8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcblx0Ly8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG5cdC8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcblx0Ly8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuXHQvLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcblx0Ly8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cdC8vXG5cdC8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG5cdC8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXHQvL1xuXHQvLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG5cdC8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcblx0Ly8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuXHQvLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcblx0Ly8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG5cdC8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcblx0Ly8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblx0XG5cdC8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuXHQvLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuXHQvLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2hcblx0Ly8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuXHRmdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcblx0ICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuXHQgIHZhciB1cCA9IDA7XG5cdCAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICB2YXIgbGFzdCA9IHBhcnRzW2ldO1xuXHQgICAgaWYgKGxhc3QgPT09ICcuJykge1xuXHQgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG5cdCAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcblx0ICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuXHQgICAgICB1cCsrO1xuXHQgICAgfSBlbHNlIGlmICh1cCkge1xuXHQgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG5cdCAgICAgIHVwLS07XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG5cdCAgaWYgKGFsbG93QWJvdmVSb290KSB7XG5cdCAgICBmb3IgKDsgdXAtLTsgdXApIHtcblx0ICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBwYXJ0cztcblx0fVxuXHRcblx0Ly8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cblx0Ly8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cblx0dmFyIHNwbGl0UGF0aFJlID1cblx0ICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xuXHR2YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcblx0ICByZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG5cdH07XG5cdFxuXHQvLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG5cdC8vIHBvc2l4IHZlcnNpb25cblx0ZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuXHQgICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cdFxuXHQgIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG5cdCAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogcHJvY2Vzcy5jd2QoKTtcblx0XG5cdCAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXNcblx0ICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcblx0ICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcblx0ICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuXHQgIH1cblx0XG5cdCAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuXHQgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuXHRcblx0ICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcblx0ICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcblx0ICAgIHJldHVybiAhIXA7XG5cdCAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cdFxuXHQgIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcblx0fTtcblx0XG5cdC8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG5cdC8vIHBvc2l4IHZlcnNpb25cblx0ZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihwYXRoKSB7XG5cdCAgdmFyIGlzQWJzb2x1dGUgPSBleHBvcnRzLmlzQWJzb2x1dGUocGF0aCksXG5cdCAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cdFxuXHQgIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuXHQgIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG5cdCAgICByZXR1cm4gISFwO1xuXHQgIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpO1xuXHRcblx0ICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHtcblx0ICAgIHBhdGggPSAnLic7XG5cdCAgfVxuXHQgIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcblx0ICAgIHBhdGggKz0gJy8nO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDtcblx0fTtcblx0XG5cdC8vIHBvc2l4IHZlcnNpb25cblx0ZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuXHQgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuXHR9O1xuXHRcblx0Ly8gcG9zaXggdmVyc2lvblxuXHRleHBvcnRzLmpvaW4gPSBmdW5jdGlvbigpIHtcblx0ICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXHQgIHJldHVybiBleHBvcnRzLm5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG5cdCAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcDtcblx0ICB9KS5qb2luKCcvJykpO1xuXHR9O1xuXHRcblx0XG5cdC8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG5cdC8vIHBvc2l4IHZlcnNpb25cblx0ZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG5cdCAgZnJvbSA9IGV4cG9ydHMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG5cdCAgdG8gPSBleHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtcblx0XG5cdCAgZnVuY3Rpb24gdHJpbShhcnIpIHtcblx0ICAgIHZhciBzdGFydCA9IDA7XG5cdCAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG5cdCAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuXHQgICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuXHQgICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcblx0ICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG5cdCAgfVxuXHRcblx0ICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuXHQgIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblx0XG5cdCAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcblx0ICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcblx0ICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcblx0ICAgICAgYnJlYWs7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcblx0ICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuXHQgIH1cblx0XG5cdCAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblx0XG5cdCAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcblx0fTtcblx0XG5cdGV4cG9ydHMuc2VwID0gJy8nO1xuXHRleHBvcnRzLmRlbGltaXRlciA9ICc6Jztcblx0XG5cdGV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcblx0ICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuXHQgICAgICByb290ID0gcmVzdWx0WzBdLFxuXHQgICAgICBkaXIgPSByZXN1bHRbMV07XG5cdFxuXHQgIGlmICghcm9vdCAmJiAhZGlyKSB7XG5cdCAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcblx0ICAgIHJldHVybiAnLic7XG5cdCAgfVxuXHRcblx0ICBpZiAoZGlyKSB7XG5cdCAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuXHQgICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gcm9vdCArIGRpcjtcblx0fTtcblx0XG5cdFxuXHRleHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG5cdCAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG5cdCAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzP1xuXHQgIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG5cdCAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcblx0ICB9XG5cdCAgcmV0dXJuIGY7XG5cdH07XG5cdFxuXHRcblx0ZXhwb3J0cy5leHRuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuXHQgIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG5cdCAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuXHQgICAgdmFyIHJlcyA9IFtdO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXM7XG5cdH1cblx0XG5cdC8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcblx0dmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG5cdCAgICA/IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfVxuXHQgICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG5cdCAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG5cdCAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7XG5cdCAgICB9XG5cdDtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KSkpXG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyB0YWtlIGFuIHVuLXNwbGl0IGFyZ3Ygc3RyaW5nIGFuZCB0b2tlbml6ZSBpdC5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJnU3RyaW5nKSB7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkoYXJnU3RyaW5nKSkge1xuXHQgICAgcmV0dXJuIGFyZ1N0cmluZy5tYXAoZSA9PiB0eXBlb2YgZSAhPT0gJ3N0cmluZycgPyBlICsgJycgOiBlKVxuXHQgIH1cblx0XG5cdCAgYXJnU3RyaW5nID0gYXJnU3RyaW5nLnRyaW0oKVxuXHRcblx0ICB2YXIgaSA9IDBcblx0ICB2YXIgcHJldkMgPSBudWxsXG5cdCAgdmFyIGMgPSBudWxsXG5cdCAgdmFyIG9wZW5pbmcgPSBudWxsXG5cdCAgdmFyIGFyZ3MgPSBbXVxuXHRcblx0ICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgYXJnU3RyaW5nLmxlbmd0aDsgaWkrKykge1xuXHQgICAgcHJldkMgPSBjXG5cdCAgICBjID0gYXJnU3RyaW5nLmNoYXJBdChpaSlcblx0XG5cdCAgICAvLyBzcGxpdCBvbiBzcGFjZXMgdW5sZXNzIHdlJ3JlIGluIHF1b3Rlcy5cblx0ICAgIGlmIChjID09PSAnICcgJiYgIW9wZW5pbmcpIHtcblx0ICAgICAgaWYgKCEocHJldkMgPT09ICcgJykpIHtcblx0ICAgICAgICBpKytcblx0ICAgICAgfVxuXHQgICAgICBjb250aW51ZVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIGRvbid0IHNwbGl0IHRoZSBzdHJpbmcgaWYgd2UncmUgaW4gbWF0Y2hpbmdcblx0ICAgIC8vIG9wZW5pbmcgb3IgY2xvc2luZyBzaW5nbGUgYW5kIGRvdWJsZSBxdW90ZXMuXG5cdCAgICBpZiAoYyA9PT0gb3BlbmluZykge1xuXHQgICAgICBvcGVuaW5nID0gbnVsbFxuXHQgICAgfSBlbHNlIGlmICgoYyA9PT0gXCInXCIgfHwgYyA9PT0gJ1wiJykgJiYgIW9wZW5pbmcpIHtcblx0ICAgICAgb3BlbmluZyA9IGNcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWFyZ3NbaV0pIGFyZ3NbaV0gPSAnJ1xuXHQgICAgYXJnc1tpXSArPSBjXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gYXJnc1xuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIHNsb3dMb2csXG5cdCAgc2VyaWVzLFxuXHQgIHJhbmRvbU51bWJlclxuXHR9XG5cdFxuXHRmdW5jdGlvbiByYW5kb21OdW1iZXIgKG1pbiwgbWF4KSB7XG5cdCAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2xvd0xvZyh0LCBpdGVyYXRvciwgbWluLCBtYXgsIGRvbmUpIHtcblx0ICBsZXQgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKVxuXHRcblx0ICBpZiAobmV4dCA9PT0gdW5kZWZpbmVkIHx8IG5leHQgPT09IG51bGwpIHtcblx0ICAgIHJldHVybiBkb25lKClcblx0ICB9XG5cdFxuXHQgIHQucHJpbnQobmV4dC5yZXBsYWNlKC9cXHQvZywgJycpICsgJzxici8+Jylcblx0XG5cdCAgc2V0VGltZW91dCgoKSA9PiB7XG5cdCAgICBzbG93TG9nKHQsIGl0ZXJhdG9yLCBtaW4sIG1heCwgZG9uZSlcblx0ICB9LCByYW5kb21OdW1iZXIobWluLCBtYXgpKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXJpZXMgKG9wcywgZG9uZSkge1xuXHQgIGNvbnN0IG9wID0gb3BzLnNoaWZ0KClcblx0XG5cdCAgb3AoKGVyciwgcmVzKSA9PiB7XG5cdCAgICBpZiAoZXJyKSB7XG5cdCAgICAgIHJldHVybiBkb25lKGVycilcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIW9wcy5sZW5ndGgpIHtcblx0ICAgICAgcmV0dXJuIGRvbmUobnVsbCwgcmVzKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBzZXJpZXMob3BzLCBkb25lKVxuXHQgIH0pXG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDIzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1hcCA9IHtcblx0XHRcIi4vaW5kZXhcIjogMTYsXG5cdFx0XCIuL2luZGV4LmpzXCI6IDE2LFxuXHRcdFwiLi9saWIvdG9rZW5pemUtYXJnLXN0cmluZ1wiOiAyMSxcblx0XHRcIi4vbGliL3Rva2VuaXplLWFyZy1zdHJpbmcuanNcIjogMjFcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18od2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkpO1xuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdFx0cmV0dXJuIG1hcFtyZXFdIHx8IChmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIikgfSgpKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcblx0d2VicGFja0NvbnRleHQuaWQgPSAyMztcblxuXG4vKioqLyB9KSxcbi8qIDI0ICovLFxuLyogMjUgKi8sXG4vKiAyNiAqLyxcbi8qIDI3ICovLFxuLyogMjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCB1c2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpXG5cdGNvbnN0IGdyb3VwcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuXHQgIGdyb3Vwcy5hZGQoJ3Jvb3QnKVxuXHQgIGdyb3Vwcy5hZGQoJ3doZWVsJylcblx0ICBncm91cHMuYWRkKCdzdGFmZicpXG5cdCAgZ3JvdXBzLmFkZCgnYWxleCcpXG5cdFxuXHQgIHVzZXJBZGQoJ3Jvb3QnLCBbXSlcblx0ICB1c2VyQWRkKCdhbGV4JywgWyd3aGVlbCcsICdzdGFmZiddKVxuXHRcblx0ICBmcy5jZCgnL2hvbWUvYWxleCcpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVzZXJBZGQgKG5hbWUsIGdyb3Vwcykge1xuXHQgIGxldCBob21lID0gYC9ob21lLyR7bmFtZX1gXG5cdFxuXHQgIGlmIChuYW1lID09PSAncm9vdCcpIHtcblx0ICAgIGhvbWUgPSAnL3Jvb3QnXG5cdCAgfVxuXHRcblx0ICB1c2Vycy5hZGQobmFtZSwgaG9tZSwgbmFtZSwgZ3JvdXBzKVxuXHRcblx0ICBpZiAobmFtZSA9PT0gJ3Jvb3QnKSB7XG5cdCAgICBmcy5ta2Rpcihob21lLCB1c2Vycy5pZHMoJ3Jvb3QnKSlcblx0ICB9IGVsc2Uge1xuXHQgICAgZnMubWtkaXIoJy9ob21lJywgdXNlcnMuaWRzKCdyb290JykpXG5cdCAgICBmcy5ta2Rpcihob21lLCB1c2Vycy5pZHMobmFtZSkpXG5cdCAgfVxuXHRcblx0ICBmcy5ta2RpcihgJHtob21lfS9Eb2N1bWVudHNgLCB1c2Vycy5pZHMobmFtZSkpXG5cdCAgZnMubWtkaXIoYCR7aG9tZX0vQ29kZWAsIHVzZXJzLmlkcyhuYW1lKSlcblx0ICBmcy53cml0ZShgJHtob21lfS8uYmFzaF9oaXN0b3J5YCwgYGxzXG5cdCAgbHNcblx0ICBta2RpclxuXHQgIHJtIC1yZiAvYCwgdXNlcnMuaWRzKG5hbWUpKVxuXHQgIGZzLndyaXRlKGAke2hvbWV9Ly5iYXNoX3Byb2ZpbGVgLCBgc291cmNlIC9ldGMvcHJvZmlsZVxuXHRcblx0ICBleHBvcnQgTlZNX0RJUj1cIi8ke2hvbWV9fS8ubnZtXCJcblx0ICBbIC1zIFwiJE5WTV9ESVIvbnZtLnNoXCIgXSAmJiAuIFwiJE5WTV9ESVIvbnZtLnNoXCIgICMgVGhpcyBsb2FkcyBudm1cblx0XG5cdCAgbnZtIHVzZSAxMGAsIHVzZXJzLmlkcyhuYW1lKSlcblx0fVxuXG5cbi8qKiovIH0pLFxuLyogMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCBncm91cHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKVxuXHRcblx0bGV0IG5leHRVaWQgPSAwXG5cdGNvbnN0IHVzZXJzID0ge31cblx0XG5cdGNvbnN0IHVzZXJBcGkgPSB7XG5cdCAgYWRkOiAobmFtZSwgaG9tZSwgZ3JvdXAsIHN1cHBsZW1lbnRhcnlHcm91cHMpID0+IHtcblx0ICAgIHVzZXJzW25leHRVaWRdID0ge1xuXHQgICAgICB1aWQ6IG5leHRVaWQsXG5cdCAgICAgIGdpZDogZ3JvdXBzLmZpbmQoZ3JvdXApLmdpZCxcblx0ICAgICAgbmFtZSxcblx0ICAgICAgaG9tZSxcblx0ICAgICAgZ3JvdXBzOiBzdXBwbGVtZW50YXJ5R3JvdXBzLm1hcChncm91cCA9PiBncm91cHMuZmluZChncm91cCkuZ2lkKVxuXHQgICAgfVxuXHRcblx0ICAgIG5leHRVaWQrK1xuXHQgIH0sXG5cdCAgZmluZDogKGlkKSA9PiB7XG5cdCAgICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJyB8fCBpZCBpbnN0YW5jZW9mIFN0cmluZykge1xuXHQgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh1c2VycykuZmluZCh1c2VyID0+IHVzZXIubmFtZSA9PT0gaWQpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHVzZXJzW2lkXVxuXHQgIH0sXG5cdCAgaWRzOiAoaWQpID0+IHtcblx0ICAgIGNvbnN0IHJlc3VsdCA9IHVzZXJBcGkuZmluZChpZClcblx0XG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgdWlkOiByZXN1bHQudWlkLFxuXHQgICAgICAgIGdpZDogcmVzdWx0LmdpZCxcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB1c2VyQXBpXG5cdFxuXG5cbi8qKiovIH0pLFxuLyogMzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRsZXQgbmV4dEdpZCA9IDBcblx0Y29uc3QgZ3JvdXBzID0ge31cblx0XG5cdGNvbnN0IGdyb3VwQXBpID0ge1xuXHQgIGFkZDogKG5hbWUpID0+IHtcblx0ICAgIGdyb3Vwc1tuZXh0R2lkXSA9IHtcblx0ICAgICAgZ2lkOiBuZXh0R2lkLFxuXHQgICAgICBuYW1lXG5cdCAgICB9XG5cdFxuXHQgICAgbmV4dEdpZCsrXG5cdCAgfSxcblx0ICBmaW5kOiAoaWQpID0+IHtcblx0ICAgIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnIHx8IGlkIGluc3RhbmNlb2YgU3RyaW5nKSB7XG5cdCAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGdyb3VwcykuZmluZChnID0+IGcubmFtZSA9PT0gaWQpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGdyb3Vwc1tpZF1cblx0ICB9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZ3JvdXBBcGlcblxuXG4vKioqLyB9KSxcbi8qIDMxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Y29uc3Qge1xuXHQgIHJlc29sdmVcblx0fSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApXG5cdFxuXHRjb25zdCBjcmVhdGVEaXIgPSAoeyB1aWQsIGdpZCB9ID0ge30pID0+IHtcblx0ICByZXR1cm4ge1xuXHQgICAgdWlkOiB1aWQgfHwgMCxcblx0ICAgIGdpZDogZ2lkIHx8IDAsXG5cdCAgICBzaXplICgpIHtcblx0ICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuY2hpbGRyZW4pLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG5cdCAgICAgICAgcmV0dXJuIGFjYyArIHRoaXMuY2hpbGRyZW5bY3Vycl0uc2l6ZSgpXG5cdCAgICAgIH0sIDApXG5cdCAgICB9LFxuXHQgICAgbXRpbWU6IG5ldyBEYXRlKCksXG5cdCAgICBjaGlsZHJlbjogeyB9XG5cdCAgfVxuXHR9XG5cdFxuXHRjb25zdCBjcmVhdGVGaWxlID0gKGNvbnRlbnQgPSAnJywgeyB1aWQsIGdpZCB9ID0ge30pID0+IHtcblx0ICByZXR1cm4ge1xuXHQgICAgdWlkOiB1aWQgfHwgMCxcblx0ICAgIGdpZDogZ2lkIHx8IDAsXG5cdCAgICBzaXplICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGhcblx0ICAgIH0sXG5cdCAgICBtdGltZTogbmV3IERhdGUoKSxcblx0ICAgIGNvbnRlbnRcblx0ICB9XG5cdH1cblx0XG5cdGxldCBwd2QgPSAnL2hvbWUvYWxleCdcblx0Y29uc3QgZmlsZVN5c3RlbSA9IGNyZWF0ZURpcih7XG5cdCAgdWlkOiAwLFxuXHQgIGdpZDogMFxuXHR9KVxuXHRcblx0Y29uc3QgZnMgPSB7XG5cdCAgcHdkOiAoKSA9PiB7XG5cdCAgICByZXR1cm4gcHdkXG5cdCAgfSxcblx0ICBnZXROb2RlOiAoaW5wdXQpID0+IHtcblx0ICAgIGxldCBwYXRoID0gbm9ybWFsaXNlUGF0aChpbnB1dClcblx0XG5cdCAgICBpZiAocGF0aCA9PT0gJy8nKSB7XG5cdCAgICAgIHJldHVybiBmaWxlU3lzdGVtXG5cdCAgICB9XG5cdFxuXHQgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcLysvZywgJycpLnJlcGxhY2UoL1xcLyskL2csICcnKVxuXHQgICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJylcblx0ICAgIGxldCBub2RlID0gZmlsZVN5c3RlbS5jaGlsZHJlbltwYXJ0c1swXV1cblx0XG5cdCAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmICghbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV0pIHtcblx0ICAgICAgICByZXR1cm4gbnVsbFxuXHQgICAgICB9XG5cdFxuXHQgICAgICBub2RlID0gbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbm9kZVxuXHQgIH0sXG5cdCAgbWtkaXI6IChpbnB1dCwgb3B0cykgPT4ge1xuXHQgICAgbGV0IHBhdGggPSBub3JtYWxpc2VQYXRoKGlucHV0KVxuXHRcblx0ICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15cXC8rL2csICcnKS5yZXBsYWNlKC9cXC8rJC9nLCAnJylcblx0ICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpXG5cdCAgICBsZXQgbm9kZSA9IGZpbGVTeXN0ZW1cblx0XG5cdCAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGxldCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dXG5cdFxuXHQgICAgICBpZiAoY2hpbGQpIHtcblx0ICAgICAgICBub2RlID0gY2hpbGRcblx0ICAgICAgICBjb250aW51ZVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAob3B0cy5wIHx8IGkgPT09IHBhcnRzLmxlbmd0aCAtIDEpIHtcblx0ICAgICAgICBub2RlID0gbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV0gPSBjcmVhdGVEaXIob3B0cylcblx0XG5cdCAgICAgICAgY29udGludWVcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGBta2RpcjogJHtpbnB1dH06IE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnlgKVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgd3JpdGU6IChpbnB1dCwgY29udGVudCwgb3B0cykgPT4ge1xuXHQgICAgbGV0IHBhdGggPSBub3JtYWxpc2VQYXRoKGlucHV0KVxuXHRcblx0ICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15cXC8rL2csICcnKS5yZXBsYWNlKC9cXC8rJC9nLCAnJylcblx0ICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpXG5cdCAgICBsZXQgbm9kZSA9IGZpbGVTeXN0ZW1cblx0XG5cdCAgICBjb25zdCBmaWxlID0gcGFydHMucG9wKClcblx0XG5cdCAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGxldCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dXG5cdFxuXHQgICAgICBpZiAoY2hpbGQpIHtcblx0ICAgICAgICBub2RlID0gY2hpbGRcblx0ICAgICAgICBjb250aW51ZVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAob3B0cy5wKSB7XG5cdCAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dID0gY3JlYXRlRGlyKG9wdHMpXG5cdFxuXHQgICAgICAgIGNvbnRpbnVlXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihgdG91Y2g6ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcblx0ICAgIH1cblx0XG5cdCAgICBub2RlLmNoaWxkcmVuW2ZpbGVdID0gY3JlYXRlRmlsZShjb250ZW50LCBvcHRzKVxuXHQgIH0sXG5cdCAgcmVhZDogKGlucHV0KSA9PiB7XG5cdCAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQpXG5cdCAgICBjb25zdCBub2RlID0gZnMuZ2V0Tm9kZShwYXRoKVxuXHRcblx0ICAgIGlmICghbm9kZSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlYWQ6ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbm9kZS5jb250ZW50XG5cdCAgfSxcblx0ICBybTogKGlucHV0LCBvcHRzKSA9PiB7XG5cdCAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQpXG5cdFxuXHQgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcLysvZywgJycpLnJlcGxhY2UoL1xcLyskL2csICcnKVxuXHQgICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJylcblx0ICAgIGxldCBub2RlID0gZmlsZVN5c3RlbVxuXHRcblx0ICAgIGNvbnN0IGZpbGUgPSBwYXJ0cy5wb3AoKVxuXHRcblx0ICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgbGV0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV1cblx0XG5cdCAgICAgIGlmIChjaGlsZCkge1xuXHQgICAgICAgIG5vZGUgPSBjaGlsZFxuXHQgICAgICAgIGNvbnRpbnVlXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihgcm06ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIW5vZGUuY2hpbGRyZW5bZmlsZV0pIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGBybTogJHtpbnB1dH06IE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnlgKVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChub2RlLmNoaWxkcmVuW2ZpbGVdLmNoaWxkcmVuICYmICFvcHRzLnIpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGBybTogJHtpbnB1dH06IGlzIGEgZGlyZWN0b3J5YClcblx0ICAgIH1cblx0XG5cdCAgICBkZWxldGUgbm9kZS5jaGlsZHJlbltmaWxlXVxuXHQgIH0sXG5cdCAgY2Q6IChpbnB1dCkgPT4ge1xuXHQgICAgbGV0IHBhdGggPSBub3JtYWxpc2VQYXRoKGlucHV0KVxuXHQgICAgY29uc3Qgbm9kZSA9IGZzLmdldE5vZGUocGF0aClcblx0XG5cdCAgICBpZiAoIW5vZGUpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGAtYmFzaDogY2Q6ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcblx0ICAgIH1cblx0XG5cdCAgICBwd2QgPSBwYXRoXG5cdCAgfSxcblx0ICBsczogKGlucHV0KSA9PiB7XG5cdCAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQgfHwgcHdkKVxuXHQgICAgY29uc3Qgbm9kZSA9IGZzLmdldE5vZGUocGF0aClcblx0XG5cdCAgICBpZiAoIW5vZGUpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWFkOiAke2lucHV0fTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG5vZGUuY29udGVudCkge1xuXHQgICAgICByZXR1cm4gW3tcblx0ICAgICAgICBuYW1lOiBwYXRoLnNwbGl0KCcvJykucG9wKCksXG5cdCAgICAgICAgbm9kZTogbm9kZVxuXHQgICAgICB9XVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBPYmplY3Qua2V5cyhub2RlLmNoaWxkcmVuKVxuXHQgICAgICAubWFwKG5hbWUgPT4ge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICBuYW1lOiBuYW1lLFxuXHQgICAgICAgICAgbm9kZTogbm9kZS5jaGlsZHJlbltuYW1lXVxuXHQgICAgICAgIH1cblx0ICAgICAgfSlcblx0ICB9LFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBub3JtYWxpc2VQYXRoIChpbnB1dCkge1xuXHQgIGxldCBwYXRoID0gaW5wdXRcblx0XG5cdCAgaWYgKHBhdGguc3Vic3RyaW5nKDAsIDEpICE9PSAnLycpIHtcblx0ICAgIHBhdGggPSBgJHtwd2R9LyR7cGF0aH1gXG5cdCAgfVxuXHRcblx0ICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXC8rL2csICcvJylcblx0ICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwvKy9nLCAnJykucmVwbGFjZSgvXFwvKyQvZywgJycpXG5cdCAgcGF0aCA9IGAvJHtwYXRofWBcblx0XG5cdCAgcGF0aCA9IHJlc29sdmUocGF0aClcblx0XG5cdCAgcmV0dXJuIHBhdGhcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmc1xuXG5cbi8qKiovIH0pLFxuLyogMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCBmcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdGNvbnN0IHVzZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSlcblx0Y29uc3QgZ3JvdXBzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBsZXQgZmlsZXMgPSBmcy5scyhhcmdzLl9bMF0pXG5cdCAgICBmaWxlcyA9IGZpbGVzLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXG5cdFxuXHQgICAgaWYgKCFhcmdzLmEpIHtcblx0ICAgICAgZmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLm5hbWUuc3Vic3RyaW5nKDAsIDEpICE9PSAnLicpXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGFyZ3MubCkge1xuXHQgICAgICByZXR1cm4gYFxuXHQgICAgICA8dGFibGU+PHRib2R5PlxuXHQgICAgICAgICR7XG5cdCAgICAgICAgICBmaWxlc1xuXHQgICAgICAgICAgLm1hcChjaGlsZCA9PiB7XG5cdCAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjaGlsZC5ub2RlXG5cdCAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBub2RlLm10aW1lLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tR0InLCB7XG5cdCAgICAgICAgICAgICAgZGF5OiAnMi1kaWdpdCcsXG5cdCAgICAgICAgICAgICAgbW9udGg6ICdzaG9ydCcsXG5cdCAgICAgICAgICAgICAgaG91cjogJzItZGlnaXQnLFxuXHQgICAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnXG5cdCAgICAgICAgICAgIH0pXG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gYDx0cj5cblx0ICAgICAgICAgICAgICA8dGQ+JHtub2RlLmNoaWxkcmVuID8gJ2QnIDogJy0nfXJ3LXItLXItLSZuYnNwOzwvdGQ+XG5cdCAgICAgICAgICAgICAgPHRkPiR7dXNlcnMuZmluZChub2RlLnVpZCkubmFtZX0mbmJzcDs8L3RkPlxuXHQgICAgICAgICAgICAgIDx0ZD4ke2dyb3Vwcy5maW5kKG5vZGUuZ2lkKS5uYW1lfSZuYnNwOzwvdGQ+XG5cdCAgICAgICAgICAgICAgPHRkPiR7bm9kZS5zaXplKCl9Jm5ic3A7PC90ZD5cblx0ICAgICAgICAgICAgICA8dGQ+JHtkYXRlfSZuYnNwOzwvdGQ+XG5cdCAgICAgICAgICAgICAgPHRkPiR7Y2hpbGQubmFtZX08L3RkPlxuXHQgICAgICAgICAgICA8L3RyPmBcblx0ICAgICAgICAgIH0pLmpvaW4oJycpXG5cdCAgICAgICAgfVxuXHQgICAgICA8dGJvZHk+PC90YWJsZT5gXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZpbGVzXG5cdCAgICAgIC5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKVxuXHQgICAgICAubWFwKGZpbGUgPT4gZmlsZS5uYW1lKVxuXHQgICAgICAuam9pbignICcpXG5cdCAgfSxcblx0ICBhcmdzOiB7XG5cdCAgICBib29sZWFuOiBbXG5cdCAgICAgICdsJyxcblx0ICAgICAgJ2EnXG5cdCAgICBdXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICgpID0+IHtcblx0ICAgIHJldHVybiBmcy5wd2QoKVxuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0pLFxuLyogMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCBmcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdGNvbnN0IHVzZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCB7IF8gfSA9IGFyZ3Ncblx0XG5cdCAgICBpZiAoIV8ubGVuZ3RoKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcigndXNhZ2U6IG1rZGlyIFstcHZdIFstbSBtb2RlXSBkaXJlY3RvcnkgLi4uJylcblx0ICAgIH1cblx0XG5cdCAgICBmb3IobGV0IGkgPSAwOyBpIDwgXy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBmcy5ta2RpcihfW2ldLCB7XG5cdCAgICAgICAgdWlkOiB1c2Vycy5maW5kKCdhbGV4JykudWlkLFxuXHQgICAgICAgIGdpZDogdXNlcnMuZmluZCgnYWxleCcpLmdpZCxcblx0ICAgICAgICBwOiBhcmdzLnBcblx0ICAgICAgfSlcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gJydcblx0ICB9LFxuXHQgIGFyZ3M6IHtcblx0ICAgIGJvb2xlYW46IFtcblx0ICAgICAgJ3AnXG5cdCAgICBdXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCB7IF8gfSA9IGFyZ3Ncblx0XG5cdCAgICBpZiAoIV8ubGVuZ3RoKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcigndXNhZ2U6IHRvdWNoIFstQSBbLV1bW2hoXW1tXVNTXSBbLWFjZmhtXSBbLXIgZmlsZV0gWy10IFtbQ0NdWVldTU1ERGhobW1bLlNTXV0gZmlsZSAuLi4nKVxuXHQgICAgfVxuXHRcblx0ICAgIGZzLndyaXRlKF9bMF0sICcnLCB7XG5cdCAgICAgIHVpZDogZnMudXNlcig1MDApLnVpZCxcblx0ICAgICAgZ2lkOiBmcy51c2VyKDUwMCkuZ2lkXG5cdCAgICB9KVxuXHRcblx0ICAgIHJldHVybiAnJ1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCBmcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuXHQgICAgbGV0IG5vZGUgPSBmcy5nZXROb2RlKGFyZ3MuX1swXSlcblx0XG5cdCAgICBpZiAoIW5vZGUpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYXQ6ICR7YXJncy5fWzBdfTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYXQ6ICR7YXJncy5fWzBdfTogSXMgYSBkaXJlY3RvcnlgKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBgPHByZT4ke25vZGUuY29udGVudH08L3ByZT5gXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAzNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCB7IF8gfSA9IGFyZ3Ncblx0XG5cdCAgICBpZiAoIV8ubGVuZ3RoKSB7XG5cdCAgICAgIF8ucHVzaCgnL2hvbWUvYWxleCcpXG5cdCAgICB9XG5cdFxuXHQgICAgZnMuY2QoX1swXSlcblx0XG5cdCAgICByZXR1cm4gJydcblx0ICB9XG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDM4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Y29uc3QgZnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcblx0ICAgIGNvbnN0IHsgXyB9ID0gYXJnc1xuXHRcblx0ICAgIGlmICghXy5sZW5ndGgpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2FnZTogcm0gWy1mIHwgLWldIFstZFBScnZXXSBmaWxlIC4uLiB1bmxpbmsgZmlsZScpXG5cdCAgICB9XG5cdFxuXHQgICAgZm9yKGxldCBpID0gMDsgaSA8IF8ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgZnMucm0oX1tpXSwgYXJncylcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gJydcblx0ICB9LFxuXHQgIGFyZ3M6IHtcblx0ICAgIGJvb2xlYW46IFtcblx0ICAgICAgJ3InLFxuXHQgICAgICAnZidcblx0ICAgIF1cblx0ICB9XG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDM5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0KSA9PiB7XG5cdCAgICB0LmNsZWFyKClcblx0XG5cdCAgICByZXR1cm4gJydcblx0ICB9XG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDQwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBpZiAoIWFyZ3MuXy5sZW5ndGgpIHtcblx0ICAgICAgcmV0dXJuIHQuZ2V0VGhlbWUoKVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChhcmdzLl8ubGVuZ3RoID4gMSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RvbyBtYW55IGFyZ3VtZW50cycpXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGFyZ3MuX1swXS5tYXRjaCgvXmludGVybGFjZWR8bW9kZXJufHdoaXRlJC8pKSB7XG5cdCAgICAgIHQuc2V0VGhlbWUoYXJnc1swXSlcblx0ICAgICAgcmV0dXJuICcnXG5cdCAgICB9XG5cdFxuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRoZW1lJylcblx0ICB9XG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDQxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICgpID0+IHtcblx0ICAgIHJldHVybiAnMS4wLjInXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiA0MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IHtcblx0ICBzbG93TG9nXG5cdH0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKVxuXHRcblx0Y29uc3Qgc3ViQ29tbWFuZHMgPSB7XG5cdCAgaW5zdGFsbDogX193ZWJwYWNrX3JlcXVpcmVfXyg0Mylcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcblx0ICAgIGNvbnN0IHN1YkNvbW1hbmQgPSBhcmdzLl8uc2hpZnQoKVxuXHRcblx0ICAgIGlmIChzdWJDb21tYW5kc1tzdWJDb21tYW5kXSkge1xuXHQgICAgICByZXR1cm4gc3ViQ29tbWFuZHNbc3ViQ29tbWFuZF0uaGFuZGxlcih0LCBhcmdzKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBgPHByZT5Vc2FnZTogbnBtIDxjb21tYW5kPlxuXHRcblx0d2hlcmUgPGNvbW1hbmQ+IGlzIG9uZSBvZjpcblx0ICAgICR7T2JqZWN0LmtleXMoc3ViQ29tbWFuZHMpLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSl9XG5cdFxuXHRucG0gPGNvbW1hbmQ+IC1oICBxdWljayBoZWxwIG9uIDxjb21tYW5kPlxuXHRucG0gLWwgICAgICAgICAgICBkaXNwbGF5IGZ1bGwgdXNhZ2UgaW5mb1xuXHRucG0gaGVscCA8dGVybT4gICBzZWFyY2ggZm9yIGhlbHAgb24gPHRlcm0+XG5cdG5wbSBoZWxwIG5wbSAgICAgIGludm9sdmVkIG92ZXJ2aWV3XG5cdFxuXHRTcGVjaWZ5IGNvbmZpZ3MgaW4gdGhlIGluaS1mb3JtYXR0ZWQgZmlsZTpcblx0ICAgIC9ob21lL2FsZXgvLm5wbXJjXG5cdG9yIG9uIHRoZSBjb21tYW5kIGxpbmUgdmlhOiBucG0gPGNvbW1hbmQ+IC0ta2V5IHZhbHVlXG5cdENvbmZpZyBpbmZvIGNhbiBiZSB2aWV3ZWQgdmlhOiBucG0gaGVscCBjb25maWdcblx0XG5cdG5wbUA2LjQuMSAvaG9tZS9hbGV4Ly5udm0vdmVyc2lvbnMvbm9kZS92MTAuMTUuMy9saWIvbm9kZV9tb2R1bGVzL25wbTwvcHJlPmBcblx0ICB9LFxuXHQgIGFyZ3M6IHtcblx0ICAgIGJvb2xlYW46IFtcblx0ICAgICAgJ3NhdmUnLCAnc2F2ZS1kZXYnLCAncHJvZHVjdGlvbicsICdnJywgJ2dsb2JhbCdcblx0ICAgIF1cblx0ICB9XG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDQzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Y29uc3Qge1xuXHQgIG5wbUluc3RhbGxMb2dcblx0fSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuXHQgICAgbnBtSW5zdGFsbExvZyh0LCB7XG5cdCAgICAgIG5hbWU6IGFyZ3MuX1swXSxcblx0ICAgICAgZGVwZW5kZW5jaWVzOiBbXG5cdCAgICAgICAgJ2Ruc2NhY2hlJyxcblx0ICAgICAgICAnZXhwcmVzcy1odHRwLXByb3h5Jyxcblx0ICAgICAgICAnaXBmc2QtY3RsJyxcblx0ICAgICAgICAnaXBmcy1odHRwLWNsaWVudCcsXG5cdCAgICAgICAgJ2lwZnMnLFxuXHQgICAgICAgICdleHByZXNzJyxcblx0ICAgICAgICAnZGVidWcnLFxuXHQgICAgICAgICdvbmNlJyxcblx0ICAgICAgICAncmVxdWVzdCcsXG5cdCAgICAgICAgJ3JjJyxcblx0ICAgICAgICAncmVxdWVzdC1wcm9taXNlJyxcblx0ICAgICAgICAneWFyZ3MnLFxuXHQgICAgICAgICdAeWFybnBrZyUyZmxvY2tmaWxlJyxcblx0ICAgICAgICAnaXBmcy1yZWdpc3RyeS1taXJyb3ItY29tbW9uJyxcblx0ICAgICAgICAnd2hpY2gtcHJvbWlzZSdcblx0ICAgICAgXVxuXHQgICAgfSlcblx0ICB9XG5cdH1cblx0XG5cblxuLyoqKi8gfSksXG4vKiA0NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IHtcblx0ICBzbG93TG9nLFxuXHQgIHJhbmRvbU51bWJlclxuXHR9ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0XG5cdGNvbnN0IG5wbUluc3RhbGxMb2cgPSAodCwgcGtnKSA9PiB7XG5cdCAgbGV0IGRlcHMgPSBbXG5cdCAgICAnbnBtIGluZm8gaXQgd29ya2VkIGlmIGl0IGVuZHMgd2l0aCBvaycsXG5cdCAgICAnbnBtIGluZm8gdXNpbmcgbnBtQDYuNC4xJyxcblx0ICAgICducG0gaW5mbyB1c2luZyBub2RlQHYxMC4xNS4zJyxcblx0ICAgIGBucG0gaHR0cCBmZXRjaCBHRVQgMzA0IGh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnLyR7cGtnLm5hbWV9IDk5N21zIChmcm9tIGNhY2hlKWAsXG5cdCAgICAnbnBtIHRpbWluZyBzdGFnZTpsb2FkQ3VycmVudFRyZWUgQ29tcGxldGVkIGluIDYyNDhtcycsXG5cdCAgICAnbnBtIHRpbWluZyBzdGFnZTpsb2FkSWRlYWxUcmVlOmNsb25lQ3VycmVudFRyZWUgQ29tcGxldGVkIGluIDM2bXMnLFxuXHQgICAgJ25wbSB0aW1pbmcgc3RhZ2U6bG9hZElkZWFsVHJlZTpsb2FkU2hyaW5rd3JhcCBDb21wbGV0ZWQgaW4gMjQ1Mm1zJ1xuXHQgIF1cblx0XG5cdCAgcGtnLmRlcGVuZGVuY2llcy5mb3JFYWNoKGRlcCA9PiB7XG5cdCAgICBkZXBzLnB1c2goYG5wbSBodHRwIGZldGNoIEdFVCAzMDQgaHR0cHM6Ly9yZWdpc3RyeS5ucG1qcy5vcmcvJHtkZXB9ICR7cmFuZG9tTnVtYmVyKDEwMCwgNTAwKX1tcyAoZnJvbSBjYWNoZSlgKVxuXHQgIH0pXG5cdFxuXHQgIHBrZy5kZXBlbmRlbmNpZXMuZm9yRWFjaChkZXAgPT4ge1xuXHQgICAgZGVwcy5wdXNoKGBucG0gaW5mbyBsaWZlY3ljbGUgJHtkZXB9QDAuOC4wfnBvc3RpbnN0YWxsOiAke2RlcH1AMC44LjBgKVxuXHQgIH0pXG5cdFxuXHQgIGRlcHMgPSBkZXBzLmNvbmNhdChbXG5cdCAgICAnbnBtIHRpbWluZyBhY3Rpb246cG9zdGluc3RhbGwgQ29tcGxldGVkIGluIDM5MW1zJyxcblx0ICAgICducG0gdGltaW5nIHN0YWdlOmV4ZWN1dGVBY3Rpb25zIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG5cdCAgICAnbnBtIHRpbWluZyBzdGFnZTpyb2xsYmFja0ZhaWxlZE9wdGlvbmFsIENvbXBsZXRlZCBpbiAybXMnLFxuXHQgICAgJ25wbSB0aW1pbmcgc3RhZ2U6cnVuVG9wTGV2ZWxMaWZlY3ljbGVzIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG5cdCAgICBgKyAke3BrZy5uYW1lfUAwLjE2LjNgLFxuXHQgICAgJ2FkZGVkIDE2MyBwYWNrYWdlcyBmcm9tIDI4NSBjb250cmlidXRvcnMgYW5kIHVwZGF0ZWQgMTEzMiBwYWNrYWdlcyBpbiA5Ny43NjFzJyxcblx0ICAgICducG0gdGltaW5nIG5wbSBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuXHQgICAgJ25wbSBpbmZvIG9rJ1xuXHQgIF0pXG5cdFxuXHQgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKVxuXHRcblx0ICBzbG93TG9nKHQsIHtcblx0ICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgbGV0IGxpbmUgPSBkZXBzLnNoaWZ0KClcblx0XG5cdCAgICAgIGlmICghbGluZSkge1xuXHQgICAgICAgIHJldHVybiBudWxsXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBsaW5lLnJlcGxhY2UoJyV0aW1lJScsIERhdGUubm93KCkgLSBzdGFydClcblx0ICAgIH1cblx0ICB9LCA1MCwgMjAwLCAoKSA9PiB7fSlcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgbnBtSW5zdGFsbExvZ1xuXHR9XG5cbi8qKiovIH0pLFxuLyogNDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCB7XG5cdCAgc2xvd0xvZ1xuXHR9ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0XG5cdGNvbnN0IHN1YkNvbW1hbmRzID0ge1xuXHQgIGluaXQ6IF9fd2VicGFja19yZXF1aXJlX18oNDYpLFxuXHQgIGluc3RhbGw6IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCBzdWJDb21tYW5kID0gYXJncy5fLnNoaWZ0KClcblx0XG5cdCAgICBpZiAoc3ViQ29tbWFuZHNbc3ViQ29tbWFuZF0pIHtcblx0ICAgICAgcmV0dXJuIHN1YkNvbW1hbmRzW3N1YkNvbW1hbmRdLmhhbmRsZXIodCwgYXJncylcblx0ICAgIH1cblx0XG5cdCAgICBjb25zdCBsb2cgPSBbXG5cdCAgICAgICfwn5Gp4oCN8J+agCBTdGFydGluZyBsb2NhbCBwcm94eScsXG5cdCAgICAgICfwn5qAIFNlcnZlciBydW5uaW5nIG9uIHBvcnQgNDk4MjAnLFxuXHQgICAgICAn8J+OgSBJbnN0YWxsaW5nIGRlcGVuZGVuY2llcyB3aXRoIC9Vc2Vycy9hbGV4Ly5udm0vdmVyc2lvbnMvbm9kZS92MTAuMTUuMy9iaW4vbnBtJyxcblx0ICAgICAgJ25wbSBpbmZvIGl0IHdvcmtlZCBpZiBpdCBlbmRzIHdpdGggb2snLFxuXHQgICAgICAnbnBtIGluZm8gdXNpbmcgbnBtQDYuNC4xJyxcblx0ICAgICAgJ25wbSBpbmZvIHVzaW5nIG5vZGVAdjEwLjE1LjMnLFxuXHRcblx0ICAgICAgYDxwcmU+VXNhZ2U6IG5wbSA8Y29tbWFuZD5cblx0XG5cdHdoZXJlIDxjb21tYW5kPiBpcyBvbmUgb2Y6XG5cdCAgICBhY2Nlc3MsIGFkZHVzZXIsIGF1ZGl0LCBiaW4sIGJ1Z3MsIGMsIGNhY2hlLCBjaSwgY2l0LFxuXHQgICAgY29tcGxldGlvbiwgY29uZmlnLCBjcmVhdGUsIGRkcCwgZGVkdXBlLCBkZXByZWNhdGUsXG5cdCAgICBkaXN0LXRhZywgZG9jcywgZG9jdG9yLCBlZGl0LCBleHBsb3JlLCBnZXQsIGhlbHAsXG5cdCAgICBoZWxwLXNlYXJjaCwgaG9vaywgaSwgaW5pdCwgaW5zdGFsbCwgaW5zdGFsbC10ZXN0LCBpdCwgbGluayxcblx0ICAgIGxpc3QsIGxuLCBsb2dpbiwgbG9nb3V0LCBscywgb3V0ZGF0ZWQsIG93bmVyLCBwYWNrLCBwaW5nLFxuXHQgICAgcHJlZml4LCBwcm9maWxlLCBwcnVuZSwgcHVibGlzaCwgcmIsIHJlYnVpbGQsIHJlcG8sIHJlc3RhcnQsXG5cdCAgICByb290LCBydW4sIHJ1bi1zY3JpcHQsIHMsIHNlLCBzZWFyY2gsIHNldCwgc2hyaW5rd3JhcCwgc3Rhcixcblx0ICAgIHN0YXJzLCBzdGFydCwgc3RvcCwgdCwgdGVhbSwgdGVzdCwgdG9rZW4sIHRzdCwgdW4sXG5cdCAgICB1bmluc3RhbGwsIHVucHVibGlzaCwgdW5zdGFyLCB1cCwgdXBkYXRlLCB2LCB2ZXJzaW9uLCB2aWV3LFxuXHQgICAgd2hvYW1pXG5cdFxuXHRucG0gPGNvbW1hbmQ+IC1oICBxdWljayBoZWxwIG9uIDxjb21tYW5kPlxuXHRucG0gLWwgICAgICAgICAgICBkaXNwbGF5IGZ1bGwgdXNhZ2UgaW5mb1xuXHRucG0gaGVscCA8dGVybT4gICBzZWFyY2ggZm9yIGhlbHAgb24gPHRlcm0+XG5cdG5wbSBoZWxwIG5wbSAgICAgIGludm9sdmVkIG92ZXJ2aWV3XG5cdFxuXHRTcGVjaWZ5IGNvbmZpZ3MgaW4gdGhlIGluaS1mb3JtYXR0ZWQgZmlsZTpcblx0ICAgIC9Vc2Vycy9hbGV4Ly5ucG1yY1xuXHRvciBvbiB0aGUgY29tbWFuZCBsaW5lIHZpYTogbnBtIDxjb21tYW5kPiAtLWtleSB2YWx1ZVxuXHRDb25maWcgaW5mbyBjYW4gYmUgdmlld2VkIHZpYTogbnBtIGhlbHAgY29uZmlnXG5cdFxuXHRucG1ANi40LjEgL1VzZXJzL2FsZXgvLm52bS92ZXJzaW9ucy9ub2RlL3YxMC4xNS4zL2xpYi9ub2RlX21vZHVsZXMvbnBtXG5cdPCfjoEgL1VzZXJzL2FsZXgvLm52bS92ZXJzaW9ucy9ub2RlL3YxMC4xNS4zL2Jpbi9ucG0gZXhpdGVkIHdpdGggY29kZSAxXG5cdPCfpLcgTm8gcGFja2FnZS1sb2NrLmpzb24gZm91bmQ8L3ByZT5gXG5cdCAgICBdXG5cdFxuXHQgICAgc2xvd0xvZyh0LCB7XG5cdCAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gbG9nLnNoaWZ0KClcblx0ICAgICAgfVxuXHQgICAgfSwgNTAsIDIwMCwgKCkgPT4ge30pXG5cdFxuXHQgICAgcmV0dXJuICcnXG5cdCAgfSxcblx0ICBhcmdzOiB7XG5cdCAgICBib29sZWFuOiBbXG5cdCAgICAgICdzYXZlJyxcblx0ICAgICAgJ3knXG5cdCAgICBdXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiA0NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0Y29uc3QgdXNlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KVxuXHRjb25zdCB7XG5cdCAgc2xvd0xvZ1xuXHR9ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCBwd2QgPSBmcy5wd2QoKVxuXHQgICAgY29uc3QgcHJvaiA9IHB3ZC5zcGxpdCgnLycpLnBvcCgpXG5cdFxuXHQgICAgY29uc3QgY29udGVudCA9IGB7XG5cdCAgXCJuYW1lXCI6IFwiJHtwcm9qfVwiLFxuXHQgIFwidmVyc2lvblwiOiBcIjEuMC4wXCIsXG5cdCAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuXHQgIFwibWFpblwiOiBcImluZGV4LmpzXCIsXG5cdCAgXCJzY3JpcHRzXCI6IHtcblx0ICAgIFwidGVzdFwiOiBcImVjaG8gXFxcXFwiRXJyb3I6IG5vIHRlc3Qgc3BlY2lmaWVkXFxcXFwiICYmIGV4aXQgMVwiXG5cdCAgfSxcblx0ICBcImtleXdvcmRzXCI6IFtdLFxuXHQgIFwiYXV0aG9yXCI6IFwiXCIsXG5cdCAgXCJsaWNlbnNlXCI6IFwiSVNDXCJcblx0fWBcblx0XG5cdCAgICBmcy53cml0ZShgJHtwd2R9L3BhY2thZ2UuanNvbmAsIGNvbnRlbnQsIHVzZXJzLmlkcygnYWxleCcpKVxuXHRcblx0ICAgIHJldHVybiBgPHByZT5Xcm90ZSB0byAke3B3ZH0vcGFja2FnZS5qc29uOlxuXHRcblx0ICAgICR7Y29udGVudH08L3ByZT5gXG5cdCAgfSxcblx0ICBhcmdzOiB7XG5cdCAgICBib29sZWFuOiBbXG5cdCAgICAgICd5J1xuXHQgICAgXVxuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0pLFxuLyogNDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCBmcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdGNvbnN0IHVzZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSlcblx0Y29uc3Qge1xuXHQgIHNsb3dMb2csXG5cdCAgcmFuZG9tTnVtYmVyXG5cdH0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcblx0ICAgIGNvbnN0IHB3ZCA9IGZzLnB3ZCgpXG5cdCAgICBjb25zdCBwa2cgPSBgJHtwd2R9L3BhY2thZ2UuanNvbmBcblx0ICAgIGNvbnN0IGNvbnRlbnQgPSBmcy5yZWFkKHBrZylcblx0ICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShjb250ZW50KVxuXHRcblx0ICAgIGlmIChhcmdzLl8ubGVuZ3RoKSB7XG5cdCAgICAgIC8vIGluc3RhbGwgYSBwYWNrYWdlXG5cdCAgICAgIG5wbUluc3RhbGxTaW5nbGVQYWNrYWdlTG9nKHQsIGFyZ3MuX1swXSlcblx0XG5cdCAgICAgIGlmIChhcmdzLnNhdmUpIHtcblx0ICAgICAgICBtYW5pZmVzdC5kZXBlbmRlbmNpZXMgPSBtYW5pZmVzdC5kZXBlbmRlbmNpZXMgfHwge31cblx0ICAgICAgICBtYW5pZmVzdC5kZXBlbmRlbmNpZXNbYXJncy5fWzBdXSA9ICdeOS4wLjAnXG5cdFxuXHQgICAgICAgIGZzLndyaXRlKHBrZywgSlNPTi5zdHJpbmdpZnkobWFuaWZlc3QsIG51bGwsIDIpLCB1c2Vycy5pZHMoJ2FsZXgnKSlcblx0ICAgICAgICBmcy53cml0ZShgJHtwd2R9L3BhY2thZ2UtbG9jay5qc29uYCwgYHtcblx0ICBcIm5hbWVcIjogXCIke21hbmlmZXN0Lm5hbWV9XCIsXG5cdCAgXCJ2ZXJzaW9uXCI6IFwiMS4wLjBcIixcblx0ICBcImxvY2tmaWxlVmVyc2lvblwiOiAxLFxuXHQgIFwicmVxdWlyZXNcIjogdHJ1ZSxcblx0ICBcImRlcGVuZGVuY2llc1wiOiB7XG5cdCAgICBcIiR7YXJncy5fWzBdfVwiOiB7XG5cdCAgICAgIFwidmVyc2lvblwiOiBcIjkuMC4wXCIsXG5cdCAgICAgIFwicmVzb2x2ZWRcIjogXCJodHRwczovL3JlZ2lzdHJ5LmpzLmlwZnMuaW8vJHthcmdzLl9bMF19Ly0vJHthcmdzLl9bMF19LTkuMC4wLnRnelwiLFxuXHQgICAgICBcImludGVncml0eVwiOiBcInNoYTUxMi10L09ZaGhKMlNEK1lHQlFjalk4R3p6REhFazlmM25lcnhqdGZhNnRsTVhmZTdmcnMvV296aHZDTm9HdnBNMFAzYk5mM0dxNVpSTWxHcjVmM3I0L044QT09XCJcblx0ICAgIH1cblx0ICB9XG5cdH1gKVxuXHQgICAgICAgIGZzLm1rZGlyKGAke3B3ZH0vbm9kZV9tb2R1bGVzYCwgdXNlcnMuaWRzKCdhbGV4JykpXG5cdCAgICAgICAgZnMubWtkaXIoYCR7cHdkfS9ub2RlX21vZHVsZXMvJHthcmdzLl9bMF19YCwgdXNlcnMuaWRzKCdhbGV4JykpXG5cdCAgICAgICAgZnMud3JpdGUoYCR7cHdkfS9ub2RlX21vZHVsZXMvJHthcmdzLl9bMF19L3BhY2thZ2UuanNvbmAsICdJIGFtIGEgdmVyeSBuaWNlIHBhY2thZ2UnLCB1c2Vycy5pZHMoJ2FsZXgnKSlcblx0ICAgICAgICBmcy53cml0ZShgJHtwd2R9L25vZGVfbW9kdWxlcy8ke2FyZ3MuX1swXX0vaW5kZXguanNgLCAnTG9vayBhdCBtZSBiZWluZyBhbiBpbXBsZW1lbnRhdGlvbicsIHVzZXJzLmlkcygnYWxleCcpKVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBpbnN0YWxsIGFsbCBvZiB0aGUgcGFja2FnZXNcblx0ICAgIH1cblx0ICB9LFxuXHQgIGFyZ3M6IHtcblx0ICAgIGJvb2xlYW46IFtcblx0ICAgICAgJ3NhdmUnXG5cdCAgICBdXG5cdCAgfVxuXHR9XG5cdFxuXHRjb25zdCBucG1JbnN0YWxsU2luZ2xlUGFja2FnZUxvZyA9ICh0LCBwa2cpID0+IHtcblx0ICBsZXQgbG9ncyA9IFtcblx0ICAgICfwn5Gp4oCN8J+agCBTdGFydGluZyBsb2NhbCBwcm94eScsXG5cdCAgICAn8J+agCBTZXJ2ZXIgcnVubmluZyBvbiBwb3J0IDYwMDAwJyxcblx0ICAgICfwn46BIEluc3RhbGxpbmcgZGVwZW5kZW5jaWVzIHdpdGggL2hvbWUvYWxleC8ubnZtL3ZlcnNpb25zL25vZGUvdjEwLjE1LjMvYmluL25wbScsXG5cdCAgICAnbnBtIGluZm8gaXQgd29ya2VkIGlmIGl0IGVuZHMgd2l0aCBvaycsXG5cdCAgICAnbnBtIGluZm8gdXNpbmcgbnBtQDYuNC4xJyxcblx0ICAgICducG0gaW5mbyB1c2luZyBub2RlQHYxMC4xNS4zJyxcblx0ICAgICfwn5iIIFNwYXduaW5nIGFuIGluLXByb2Nlc3MgSVBGUyBub2RlIHVzaW5nIHJlcG8gYXQgL2hvbWUvYWxleC8uanNpcGZzMicsXG5cdCAgICAnU3dhcm0gbGlzdGVuaW5nIG9uIC9pcDQvMTI3LjAuMC4xL3RjcC82MDAxNS9pcGZzL1FtVllEZUxnMlVzZnZZMXRZUXVIRE41aW9pQ2llbmdmTkdpbU1GYm5qeXZiamInLFxuXHQgICAgJ1N3YXJtIGxpc3RlbmluZyBvbiAvcDJwLWNpcmN1aXQvaXBmcy9RbVZZRGVMZzJVc2Z2WTF0WVF1SERONWlvaUNpZW5nZk5HaW1NRmJuanl2YmpiJyxcblx0ICAgICdTd2FybSBsaXN0ZW5pbmcgb24gL3AycC1jaXJjdWl0L2lwNC8xMjcuMC4wLjEvdGNwLzYwMDE1L2lwZnMvUW1WWURlTGcyVXNmdlkxdFlRdUhETjVpb2lDaWVuZ2ZOR2ltTUZibmp5dmJqYicsXG5cdCAgICAn8J+Xgu+4jyAgTG9hZGluZyByZWdpc3RyeSBpbmRleCBmcm9tIGh0dHBzOi8vcmVnaXN0cnkuanMuaXBmcy5pbycsXG5cdCAgICAn4piO77iPICBEaWFsbGluZyByZWdpc3RyeSBtaXJyb3IgL2lwNC8zNS4xNzguMTkyLjExOS90Y3AvMTAwMzYvaXBmcy9RbWN0UTRUMVN2MWFCVHRSaHR6bVJ3dkFmOHN2dEhMUGhKV1didjZ3ZlZjclJOLC9kbnM0L3JlZ2lzdHJ5LmpzLmlwZnMuaW8vdGNwLzEwMDM2L2lwZnMvUW1jdFE0VDFTdjFhQlR0Umh0em1Sd3ZBZjhzdnRITFBoSldXYnY2d2ZWY3JSTicsXG5cdCAgICAn8J+Tse+4jyBDb25uZWN0ZWQgdG8gcmVnaXN0cnknLFxuXHQgICAgYPCfhpUgTmV3IHZlcnNpb25zIG9mICR7cGtnfSBkZXRlY3RlZCAtIDEuMC4wLCAxLjAuMSwgMS4xLjAsIDEuMS4xLCAxLjIuMCwgMS4yLjEsIDEuMy4wLCAxLjQuMCwgMS40LjEsIDEuNS4wLCAyLjAuMCwgMi4wLjEsIDIuMC4yLCAyLjAuMywgMi4wLjUsIDIuMC42LCAyLjAuNywgMi4wLjgsIDIuMS4wLCAyLjEuMSwgMi4xLjIsIDIuMS4zLCAyLjEuNCwgMi4yLjAsIDIuMy4wLCAyLjQuMCwgMy4wLjAsIDMuMC4xLCAzLjEuMCwgMy4xLjEsIDMuMS4yLCA0LjAuMCwgNC4wLjEsIDQuMC4yLCA0LjAuMywgNC4wLjQsIDQuMS4wLCA1LjAuMCwgNi4wLjAsIDcuMC4wLCA3LjAuMSwgNy4wLjIsIDcuMS4wLCA3LjIuMCwgNy4yLjEsIDguMC4xLCA4LjAuMiwgOC4xLjEsIDkuMC4wLCA4LjEuMGAsXG5cdCAgICBg8J+ThCBHRVQgLyR7cGtnfSAyMDAgMjg1N21zYCxcblx0ICAgIGBucG0gaHR0cCBmZXRjaCBHRVQgMjAwIGh0dHA6Ly9sb2NhbGhvc3Q6NjAwMDAvJHtwa2d9IDI5MDdtc2AsXG5cdCAgICAnbnBtIFdBUk4gZm9vQDEuMC4wIE5vIGRlc2NyaXB0aW9uJyxcblx0ICAgICducG0gV0FSTiBmb29AMS4wLjAgTm8gcmVwb3NpdG9yeSBmaWVsZC4nLFxuXHQgICAgJyAnLFxuXHQgICAgJ/Cfk4QgUE9TVCAvLS9ucG0vdjEvc2VjdXJpdHkvYXVkaXRzL3F1aWNrIDIwMCA0MzltcycsXG5cdCAgICAnbnBtIHRpbWluZyBhdWRpdCBzdWJtaXQgQ29tcGxldGVkIGluIDQ5M21zJyxcblx0ICAgICducG0gaHR0cCBmZXRjaCBQT1NUIDIwMCBodHRwOi8vbG9jYWxob3N0OjYwMDAwLy0vbnBtL3YxL3NlY3VyaXR5L2F1ZGl0cy9xdWljayA0OTJtcycsXG5cdCAgICAnbnBtIHRpbWluZyBhdWRpdCBib2R5IENvbXBsZXRlZCBpbiAwbXMnLFxuXHQgICAgYCsgJHtwa2d9QDkuMC4wYCxcblx0ICAgICdhZGRlZCAxIHBhY2thZ2UgZnJvbSAxIGNvbnRyaWJ1dG9yIGFuZCBhdWRpdGVkIDEgcGFja2FnZSBpbiAldGltZSVtcycsXG5cdCAgICAnZm91bmQgMCB2dWxuZXJhYmlsaXRpZXMnLFxuXHQgICAgJyAnLFxuXHQgICAgJ25wbSB0aW1pbmcgbnBtIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG5cdCAgICAnbnBtIGluZm8gb2sgJyxcblx0ICAgICfwn46BIC9Vc2Vycy9hbGV4Ly5udm0vdmVyc2lvbnMvbm9kZS92MTAuMTUuMy9iaW4vbnBtIGV4aXRlZCB3aXRoIGNvZGUgMCcsXG5cdCAgICAn8J+UjyBVcGRhdGluZyBwYWNrYWdlLWxvY2suanNvbidcblx0ICBdXG5cdFxuXHQgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKVxuXHRcblx0ICBzbG93TG9nKHQsIHtcblx0ICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgbGV0IGxpbmUgPSBsb2dzLnNoaWZ0KClcblx0XG5cdCAgICAgIGlmICghbGluZSkge1xuXHQgICAgICAgIHJldHVybiBudWxsXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBsaW5lLnJlcGxhY2UoJyV0aW1lJScsIERhdGUubm93KCkgLSBzdGFydClcblx0ICAgIH1cblx0ICB9LCAyMDAsIDUwMCwgKCkgPT4ge30pXG5cdH1cblx0XG5cdFxuXHRcblx0Y29uc3QgbnBtSW5zdGFsbExvZyA9ICh0LCBwa2cpID0+IHtcblx0ICBsZXQgZGVwcyA9IFtcblx0ICAgICducG0gaW5mbyBpdCB3b3JrZWQgaWYgaXQgZW5kcyB3aXRoIG9rJyxcblx0ICAgICducG0gaW5mbyB1c2luZyBucG1ANi40LjEnLFxuXHQgICAgJ25wbSBpbmZvIHVzaW5nIG5vZGVAdjEwLjE1LjMnLFxuXHQgICAgYG5wbSBodHRwIGZldGNoIEdFVCAzMDQgaHR0cHM6Ly9yZWdpc3RyeS5ucG1qcy5vcmcvJHtwa2cubmFtZX0gOTk3bXMgKGZyb20gY2FjaGUpYCxcblx0ICAgICducG0gdGltaW5nIHN0YWdlOmxvYWRDdXJyZW50VHJlZSBDb21wbGV0ZWQgaW4gNjI0OG1zJyxcblx0ICAgICducG0gdGltaW5nIHN0YWdlOmxvYWRJZGVhbFRyZWU6Y2xvbmVDdXJyZW50VHJlZSBDb21wbGV0ZWQgaW4gMzZtcycsXG5cdCAgICAnbnBtIHRpbWluZyBzdGFnZTpsb2FkSWRlYWxUcmVlOmxvYWRTaHJpbmt3cmFwIENvbXBsZXRlZCBpbiAyNDUybXMnXG5cdCAgXVxuXHRcblx0ICBwa2cuZGVwZW5kZW5jaWVzLmZvckVhY2goZGVwID0+IHtcblx0ICAgIGRlcHMucHVzaChgbnBtIGh0dHAgZmV0Y2ggR0VUIDMwNCBodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy8ke2RlcH0gJHtyYW5kb21OdW1iZXIoMTAwLCA1MDApfW1zIChmcm9tIGNhY2hlKWApXG5cdCAgfSlcblx0XG5cdCAgcGtnLmRlcGVuZGVuY2llcy5mb3JFYWNoKGRlcCA9PiB7XG5cdCAgICBkZXBzLnB1c2goYG5wbSBpbmZvIGxpZmVjeWNsZSAke2RlcH1AMC44LjB+cG9zdGluc3RhbGw6ICR7ZGVwfUAwLjguMGApXG5cdCAgfSlcblx0XG5cdCAgZGVwcyA9IGRlcHMuY29uY2F0KFtcblx0ICAgICducG0gdGltaW5nIGFjdGlvbjpwb3N0aW5zdGFsbCBDb21wbGV0ZWQgaW4gMzkxbXMnLFxuXHQgICAgJ25wbSB0aW1pbmcgc3RhZ2U6ZXhlY3V0ZUFjdGlvbnMgQ29tcGxldGVkIGluICV0aW1lJW1zJyxcblx0ICAgICducG0gdGltaW5nIHN0YWdlOnJvbGxiYWNrRmFpbGVkT3B0aW9uYWwgQ29tcGxldGVkIGluIDJtcycsXG5cdCAgICAnbnBtIHRpbWluZyBzdGFnZTpydW5Ub3BMZXZlbExpZmVjeWNsZXMgQ29tcGxldGVkIGluICV0aW1lJW1zJyxcblx0ICAgIGArICR7cGtnLm5hbWV9QDAuMTYuM2AsXG5cdCAgICAnYWRkZWQgMTYzIHBhY2thZ2VzIGZyb20gMjg1IGNvbnRyaWJ1dG9ycyBhbmQgdXBkYXRlZCAxMTMyIHBhY2thZ2VzIGluIDk3Ljc2MXMnLFxuXHQgICAgJ25wbSB0aW1pbmcgbnBtIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG5cdCAgICAnbnBtIGluZm8gb2snXG5cdCAgXSlcblx0XG5cdCAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpXG5cdFxuXHQgIHNsb3dMb2codCwge1xuXHQgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuXHQgICAgICBsZXQgbGluZSA9IGRlcHMuc2hpZnQoKVxuXHRcblx0ICAgICAgaWYgKCFsaW5lKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGxcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIGxpbmUucmVwbGFjZSgnJXRpbWUlJywgRGF0ZS5ub3coKSAtIHN0YXJ0KVxuXHQgICAgfVxuXHQgIH0sIDUwLCAyMDAsICgpID0+IHt9KVxuXHR9XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgNDQ1ODBmOWMyZDgyYWEyY2EwZjkiLCJyZXF1aXJlKCdwcmlzbWpzJylcbmNvbnN0IGJlc3Bva2UgPSByZXF1aXJlKCdiZXNwb2tlJylcbmNvbnN0IHRoZW1lID0gcmVxdWlyZSgnYmVzcG9rZS10aGVtZS1uZWJ1bGEnKVxuY29uc3Qga2V5cyA9IHJlcXVpcmUoJ2Jlc3Bva2Uta2V5cycpXG5jb25zdCB0b3VjaCA9IHJlcXVpcmUoJ2Jlc3Bva2UtdG91Y2gnKVxuY29uc3QgYnVsbGV0cyA9IHJlcXVpcmUoJ2Jlc3Bva2UtYnVsbGV0cycpXG5jb25zdCBiYWNrZHJvcCA9IHJlcXVpcmUoJ2Jlc3Bva2UtYmFja2Ryb3AnKVxuY29uc3Qgc2NhbGUgPSByZXF1aXJlKCdiZXNwb2tlLXNjYWxlJylcbmNvbnN0IGhhc2ggPSByZXF1aXJlKCdiZXNwb2tlLWhhc2gnKVxuY29uc3QgcHJvZ3Jlc3MgPSByZXF1aXJlKCdiZXNwb2tlLXByb2dyZXNzJylcbmNvbnN0IGluZGV4RmluZ2VyID0gcmVxdWlyZSgnYmVzcG9rZS1pbmRleGZpbmdlcicpXG5jb25zdCBzZWNvbmRhcnkgPSByZXF1aXJlKCdiZXNwb2tlLXNlY29uZGFyeScpXG5cbnZhciBwbHVnaW5zID0gW1xuICB0aGVtZSgpLFxuICBrZXlzKCksXG4gIHRvdWNoKCksXG4gIGJ1bGxldHMoJy5kZWxheWVkLCAuYnVsbGV0JyksXG4gIGJhY2tkcm9wKCksXG4gIHNjYWxlKCksXG4gIGhhc2goKSxcbiAgcHJvZ3Jlc3MoKSxcbiAgaW5kZXhGaW5nZXIoKSxcbiAgc2Vjb25kYXJ5KClcbl1cblxudHJ5IHtcbiAgcmVxdWlyZSgncGx1Z2lucycpKHBsdWdpbnMpXG59IGNhdGNoIChlcnJvcikge1xuXG59XG5cbnZhciBkZWNrID0gYmVzcG9rZS5mcm9tKCdhcnRpY2xlJywgcGx1Z2lucylcblxudHJ5IHtcbiAgcmVxdWlyZSgnZGVjaycpKGRlY2spXG59IGNhdGNoIChlcnJvcikge1xuXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQGFjaGluZ2JyYWluL3NsaWRlcy90ZW1wL21haW4uanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWNvcmUuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxudmFyIF9zZWxmID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuXHQ/IHdpbmRvdyAgIC8vIGlmIGluIGJyb3dzZXJcblx0OiAoXG5cdFx0KHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlKVxuXHRcdD8gc2VsZiAvLyBpZiBpbiB3b3JrZXJcblx0XHQ6IHt9ICAgLy8gaWYgaW4gbm9kZSBqc1xuXHQpO1xuXG4vKipcbiAqIFByaXNtOiBMaWdodHdlaWdodCwgcm9idXN0LCBlbGVnYW50IHN5bnRheCBoaWdobGlnaHRpbmdcbiAqIE1JVCBsaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwL1xuICogQGF1dGhvciBMZWEgVmVyb3UgaHR0cDovL2xlYS52ZXJvdS5tZVxuICovXG5cbnZhciBQcmlzbSA9IChmdW5jdGlvbiAoX3NlbGYpe1xuXG4vLyBQcml2YXRlIGhlbHBlciB2YXJzXG52YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pO1xudmFyIHVuaXF1ZUlkID0gMDtcblxudmFyIF8gPSB7XG5cdG1hbnVhbDogX3NlbGYuUHJpc20gJiYgX3NlbGYuUHJpc20ubWFudWFsLFxuXHRkaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXI6IF9zZWxmLlByaXNtICYmIF9zZWxmLlByaXNtLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcixcblx0dXRpbDoge1xuXHRcdGVuY29kZTogZnVuY3Rpb24gKHRva2Vucykge1xuXHRcdFx0aWYgKHRva2VucyBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdHJldHVybiBuZXcgVG9rZW4odG9rZW5zLnR5cGUsIF8udXRpbC5lbmNvZGUodG9rZW5zLmNvbnRlbnQpLCB0b2tlbnMuYWxpYXMpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRva2VucykpIHtcblx0XHRcdFx0cmV0dXJuIHRva2Vucy5tYXAoXy51dGlsLmVuY29kZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdG9rZW5zLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoL1xcdTAwYTAvZywgJyAnKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0dHlwZTogZnVuY3Rpb24gKG8pIHtcblx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuXHRcdH0sXG5cblx0XHRvYmpJZDogZnVuY3Rpb24gKG9iaikge1xuXHRcdFx0aWYgKCFvYmpbJ19faWQnXSkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnX19pZCcsIHsgdmFsdWU6ICsrdW5pcXVlSWQgfSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2JqWydfX2lkJ107XG5cdFx0fSxcblxuXHRcdC8vIERlZXAgY2xvbmUgYSBsYW5ndWFnZSBkZWZpbml0aW9uIChlLmcuIHRvIGV4dGVuZCBpdClcblx0XHRjbG9uZTogZnVuY3Rpb24gZGVlcENsb25lKG8sIHZpc2l0ZWQpIHtcblx0XHRcdHZhciBjbG9uZSwgaWQsIHR5cGUgPSBfLnV0aWwudHlwZShvKTtcblx0XHRcdHZpc2l0ZWQgPSB2aXNpdGVkIHx8IHt9O1xuXG5cdFx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdFx0XHRpZCA9IF8udXRpbC5vYmpJZChvKTtcblx0XHRcdFx0XHRpZiAodmlzaXRlZFtpZF0pIHtcblx0XHRcdFx0XHRcdHJldHVybiB2aXNpdGVkW2lkXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2xvbmUgPSB7fTtcblx0XHRcdFx0XHR2aXNpdGVkW2lkXSA9IGNsb25lO1xuXG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIG8pIHtcblx0XHRcdFx0XHRcdGlmIChvLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdFx0Y2xvbmVba2V5XSA9IGRlZXBDbG9uZShvW2tleV0sIHZpc2l0ZWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjbG9uZTtcblxuXHRcdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdFx0aWQgPSBfLnV0aWwub2JqSWQobyk7XG5cdFx0XHRcdFx0aWYgKHZpc2l0ZWRbaWRdKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmlzaXRlZFtpZF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNsb25lID0gW107XG5cdFx0XHRcdFx0dmlzaXRlZFtpZF0gPSBjbG9uZTtcblxuXHRcdFx0XHRcdG8uZm9yRWFjaChmdW5jdGlvbiAodiwgaSkge1xuXHRcdFx0XHRcdFx0Y2xvbmVbaV0gPSBkZWVwQ2xvbmUodiwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRyZXR1cm4gbztcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0bGFuZ3VhZ2VzOiB7XG5cdFx0ZXh0ZW5kOiBmdW5jdGlvbiAoaWQsIHJlZGVmKSB7XG5cdFx0XHR2YXIgbGFuZyA9IF8udXRpbC5jbG9uZShfLmxhbmd1YWdlc1tpZF0pO1xuXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcmVkZWYpIHtcblx0XHRcdFx0bGFuZ1trZXldID0gcmVkZWZba2V5XTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxhbmc7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEluc2VydCBhIHRva2VuIGJlZm9yZSBhbm90aGVyIHRva2VuIGluIGEgbGFuZ3VhZ2UgbGl0ZXJhbFxuXHRcdCAqIEFzIHRoaXMgbmVlZHMgdG8gcmVjcmVhdGUgdGhlIG9iamVjdCAod2UgY2Fubm90IGFjdHVhbGx5IGluc2VydCBiZWZvcmUga2V5cyBpbiBvYmplY3QgbGl0ZXJhbHMpLFxuXHRcdCAqIHdlIGNhbm5vdCBqdXN0IHByb3ZpZGUgYW4gb2JqZWN0LCB3ZSBuZWVkIGFuIG9iamVjdCBhbmQgYSBrZXkuXG5cdFx0ICogQHBhcmFtIGluc2lkZSBUaGUga2V5IChvciBsYW5ndWFnZSBpZCkgb2YgdGhlIHBhcmVudFxuXHRcdCAqIEBwYXJhbSBiZWZvcmUgVGhlIGtleSB0byBpbnNlcnQgYmVmb3JlLlxuXHRcdCAqIEBwYXJhbSBpbnNlcnQgT2JqZWN0IHdpdGggdGhlIGtleS92YWx1ZSBwYWlycyB0byBpbnNlcnRcblx0XHQgKiBAcGFyYW0gcm9vdCBUaGUgb2JqZWN0IHRoYXQgY29udGFpbnMgYGluc2lkZWAuIElmIGVxdWFsIHRvIFByaXNtLmxhbmd1YWdlcywgaXQgY2FuIGJlIG9taXR0ZWQuXG5cdFx0ICovXG5cdFx0aW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAoaW5zaWRlLCBiZWZvcmUsIGluc2VydCwgcm9vdCkge1xuXHRcdFx0cm9vdCA9IHJvb3QgfHwgXy5sYW5ndWFnZXM7XG5cdFx0XHR2YXIgZ3JhbW1hciA9IHJvb3RbaW5zaWRlXTtcblx0XHRcdHZhciByZXQgPSB7fTtcblxuXHRcdFx0Zm9yICh2YXIgdG9rZW4gaW4gZ3JhbW1hcikge1xuXHRcdFx0XHRpZiAoZ3JhbW1hci5oYXNPd25Qcm9wZXJ0eSh0b2tlbikpIHtcblxuXHRcdFx0XHRcdGlmICh0b2tlbiA9PSBiZWZvcmUpIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIG5ld1Rva2VuIGluIGluc2VydCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoaW5zZXJ0Lmhhc093blByb3BlcnR5KG5ld1Rva2VuKSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldFtuZXdUb2tlbl0gPSBpbnNlcnRbbmV3VG9rZW5dO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRG8gbm90IGluc2VydCB0b2tlbiB3aGljaCBhbHNvIG9jY3VyIGluIGluc2VydC4gU2VlICMxNTI1XG5cdFx0XHRcdFx0aWYgKCFpbnNlcnQuaGFzT3duUHJvcGVydHkodG9rZW4pKSB7XG5cdFx0XHRcdFx0XHRyZXRbdG9rZW5dID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHZhciBvbGQgPSByb290W2luc2lkZV07XG5cdFx0XHRyb290W2luc2lkZV0gPSByZXQ7XG5cblx0XHRcdC8vIFVwZGF0ZSByZWZlcmVuY2VzIGluIG90aGVyIGxhbmd1YWdlIGRlZmluaXRpb25zXG5cdFx0XHRfLmxhbmd1YWdlcy5ERlMoXy5sYW5ndWFnZXMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0aWYgKHZhbHVlID09PSBvbGQgJiYga2V5ICE9IGluc2lkZSkge1xuXHRcdFx0XHRcdHRoaXNba2V5XSA9IHJldDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblxuXHRcdC8vIFRyYXZlcnNlIGEgbGFuZ3VhZ2UgZGVmaW5pdGlvbiB3aXRoIERlcHRoIEZpcnN0IFNlYXJjaFxuXHRcdERGUzogZnVuY3Rpb24gREZTKG8sIGNhbGxiYWNrLCB0eXBlLCB2aXNpdGVkKSB7XG5cdFx0XHR2aXNpdGVkID0gdmlzaXRlZCB8fCB7fTtcblxuXHRcdFx0dmFyIG9iaklkID0gXy51dGlsLm9iaklkO1xuXG5cdFx0XHRmb3IgKHZhciBpIGluIG8pIHtcblx0XHRcdFx0aWYgKG8uaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKG8sIGksIG9baV0sIHR5cGUgfHwgaSk7XG5cblx0XHRcdFx0XHR2YXIgcHJvcGVydHkgPSBvW2ldLFxuXHRcdFx0XHRcdCAgICBwcm9wZXJ0eVR5cGUgPSBfLnV0aWwudHlwZShwcm9wZXJ0eSk7XG5cblx0XHRcdFx0XHRpZiAocHJvcGVydHlUeXBlID09PSAnT2JqZWN0JyAmJiAhdmlzaXRlZFtvYmpJZChwcm9wZXJ0eSldKSB7XG5cdFx0XHRcdFx0XHR2aXNpdGVkW29iaklkKHByb3BlcnR5KV0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0REZTKHByb3BlcnR5LCBjYWxsYmFjaywgbnVsbCwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHByb3BlcnR5VHlwZSA9PT0gJ0FycmF5JyAmJiAhdmlzaXRlZFtvYmpJZChwcm9wZXJ0eSldKSB7XG5cdFx0XHRcdFx0XHR2aXNpdGVkW29iaklkKHByb3BlcnR5KV0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0REZTKHByb3BlcnR5LCBjYWxsYmFjaywgaSwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRwbHVnaW5zOiB7fSxcblxuXHRoaWdobGlnaHRBbGw6IGZ1bmN0aW9uKGFzeW5jLCBjYWxsYmFjaykge1xuXHRcdF8uaGlnaGxpZ2h0QWxsVW5kZXIoZG9jdW1lbnQsIGFzeW5jLCBjYWxsYmFjayk7XG5cdH0sXG5cblx0aGlnaGxpZ2h0QWxsVW5kZXI6IGZ1bmN0aW9uKGNvbnRhaW5lciwgYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0dmFyIGVudiA9IHtcblx0XHRcdGNhbGxiYWNrOiBjYWxsYmFjayxcblx0XHRcdHNlbGVjdG9yOiAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnXG5cdFx0fTtcblxuXHRcdF8uaG9va3MucnVuKFwiYmVmb3JlLWhpZ2hsaWdodGFsbFwiLCBlbnYpO1xuXG5cdFx0dmFyIGVsZW1lbnRzID0gZW52LmVsZW1lbnRzIHx8IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGVudi5zZWxlY3Rvcik7XG5cblx0XHRmb3IgKHZhciBpPTAsIGVsZW1lbnQ7IGVsZW1lbnQgPSBlbGVtZW50c1tpKytdOykge1xuXHRcdFx0Xy5oaWdobGlnaHRFbGVtZW50KGVsZW1lbnQsIGFzeW5jID09PSB0cnVlLCBlbnYuY2FsbGJhY2spO1xuXHRcdH1cblx0fSxcblxuXHRoaWdobGlnaHRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBhc3luYywgY2FsbGJhY2spIHtcblx0XHQvLyBGaW5kIGxhbmd1YWdlXG5cdFx0dmFyIGxhbmd1YWdlLCBncmFtbWFyLCBwYXJlbnQgPSBlbGVtZW50O1xuXG5cdFx0d2hpbGUgKHBhcmVudCAmJiAhbGFuZy50ZXN0KHBhcmVudC5jbGFzc05hbWUpKSB7XG5cdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcblx0XHR9XG5cblx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRsYW5ndWFnZSA9IChwYXJlbnQuY2xhc3NOYW1lLm1hdGNoKGxhbmcpIHx8IFssJyddKVsxXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0Z3JhbW1hciA9IF8ubGFuZ3VhZ2VzW2xhbmd1YWdlXTtcblx0XHR9XG5cblx0XHQvLyBTZXQgbGFuZ3VhZ2Ugb24gdGhlIGVsZW1lbnQsIGlmIG5vdCBwcmVzZW50XG5cdFx0ZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblxuXHRcdGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHtcblx0XHRcdC8vIFNldCBsYW5ndWFnZSBvbiB0aGUgcGFyZW50LCBmb3Igc3R5bGluZ1xuXHRcdFx0cGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoL3ByZS9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkge1xuXHRcdFx0XHRwYXJlbnQuY2xhc3NOYW1lID0gcGFyZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgY29kZSA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG5cblx0XHR2YXIgZW52ID0ge1xuXHRcdFx0ZWxlbWVudDogZWxlbWVudCxcblx0XHRcdGxhbmd1YWdlOiBsYW5ndWFnZSxcblx0XHRcdGdyYW1tYXI6IGdyYW1tYXIsXG5cdFx0XHRjb2RlOiBjb2RlXG5cdFx0fTtcblxuXHRcdHZhciBpbnNlcnRIaWdobGlnaHRlZENvZGUgPSBmdW5jdGlvbiAoaGlnaGxpZ2h0ZWRDb2RlKSB7XG5cdFx0XHRlbnYuaGlnaGxpZ2h0ZWRDb2RlID0gaGlnaGxpZ2h0ZWRDb2RlO1xuXG5cdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWluc2VydCcsIGVudik7XG5cblx0XHRcdGVudi5lbGVtZW50LmlubmVySFRNTCA9IGVudi5oaWdobGlnaHRlZENvZGU7XG5cblx0XHRcdF8uaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLCBlbnYpO1xuXHRcdFx0Xy5ob29rcy5ydW4oJ2NvbXBsZXRlJywgZW52KTtcblx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZW52LmVsZW1lbnQpO1xuXHRcdH1cblxuXHRcdF8uaG9va3MucnVuKCdiZWZvcmUtc2FuaXR5LWNoZWNrJywgZW52KTtcblxuXHRcdGlmICghZW52LmNvZGUpIHtcblx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS1oaWdobGlnaHQnLCBlbnYpO1xuXG5cdFx0aWYgKCFlbnYuZ3JhbW1hcikge1xuXHRcdFx0aW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlKF8udXRpbC5lbmNvZGUoZW52LmNvZGUpKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoYXN5bmMgJiYgX3NlbGYuV29ya2VyKSB7XG5cdFx0XHR2YXIgd29ya2VyID0gbmV3IFdvcmtlcihfLmZpbGVuYW1lKTtcblxuXHRcdFx0d29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2dCkge1xuXHRcdFx0XHRpbnNlcnRIaWdobGlnaHRlZENvZGUoZXZ0LmRhdGEpO1xuXHRcdFx0fTtcblxuXHRcdFx0d29ya2VyLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0bGFuZ3VhZ2U6IGVudi5sYW5ndWFnZSxcblx0XHRcdFx0Y29kZTogZW52LmNvZGUsXG5cdFx0XHRcdGltbWVkaWF0ZUNsb3NlOiB0cnVlXG5cdFx0XHR9KSk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0aW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlKF8uaGlnaGxpZ2h0KGVudi5jb2RlLCBlbnYuZ3JhbW1hciwgZW52Lmxhbmd1YWdlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdGhpZ2hsaWdodDogZnVuY3Rpb24gKHRleHQsIGdyYW1tYXIsIGxhbmd1YWdlKSB7XG5cdFx0dmFyIGVudiA9IHtcblx0XHRcdGNvZGU6IHRleHQsXG5cdFx0XHRncmFtbWFyOiBncmFtbWFyLFxuXHRcdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlXG5cdFx0fTtcblx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLXRva2VuaXplJywgZW52KTtcblx0XHRlbnYudG9rZW5zID0gXy50b2tlbml6ZShlbnYuY29kZSwgZW52LmdyYW1tYXIpO1xuXHRcdF8uaG9va3MucnVuKCdhZnRlci10b2tlbml6ZScsIGVudik7XG5cdFx0cmV0dXJuIFRva2VuLnN0cmluZ2lmeShfLnV0aWwuZW5jb2RlKGVudi50b2tlbnMpLCBlbnYubGFuZ3VhZ2UpO1xuXHR9LFxuXG5cdG1hdGNoR3JhbW1hcjogZnVuY3Rpb24gKHRleHQsIHN0cmFyciwgZ3JhbW1hciwgaW5kZXgsIHN0YXJ0UG9zLCBvbmVzaG90LCB0YXJnZXQpIHtcblx0XHRmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cdFx0XHRpZighZ3JhbW1hci5oYXNPd25Qcm9wZXJ0eSh0b2tlbikgfHwgIWdyYW1tYXJbdG9rZW5dKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodG9rZW4gPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBhdHRlcm5zID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRwYXR0ZXJucyA9IChfLnV0aWwudHlwZShwYXR0ZXJucykgPT09IFwiQXJyYXlcIikgPyBwYXR0ZXJucyA6IFtwYXR0ZXJuc107XG5cblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGF0dGVybnMubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0dmFyIHBhdHRlcm4gPSBwYXR0ZXJuc1tqXSxcblx0XHRcdFx0XHRpbnNpZGUgPSBwYXR0ZXJuLmluc2lkZSxcblx0XHRcdFx0XHRsb29rYmVoaW5kID0gISFwYXR0ZXJuLmxvb2tiZWhpbmQsXG5cdFx0XHRcdFx0Z3JlZWR5ID0gISFwYXR0ZXJuLmdyZWVkeSxcblx0XHRcdFx0XHRsb29rYmVoaW5kTGVuZ3RoID0gMCxcblx0XHRcdFx0XHRhbGlhcyA9IHBhdHRlcm4uYWxpYXM7XG5cblx0XHRcdFx0aWYgKGdyZWVkeSAmJiAhcGF0dGVybi5wYXR0ZXJuLmdsb2JhbCkge1xuXHRcdFx0XHRcdC8vIFdpdGhvdXQgdGhlIGdsb2JhbCBmbGFnLCBsYXN0SW5kZXggd29uJ3Qgd29ya1xuXHRcdFx0XHRcdHZhciBmbGFncyA9IHBhdHRlcm4ucGF0dGVybi50b1N0cmluZygpLm1hdGNoKC9baW11eV0qJC8pWzBdO1xuXHRcdFx0XHRcdHBhdHRlcm4ucGF0dGVybiA9IFJlZ0V4cChwYXR0ZXJuLnBhdHRlcm4uc291cmNlLCBmbGFncyArIFwiZ1wiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHBhdHRlcm4gPSBwYXR0ZXJuLnBhdHRlcm4gfHwgcGF0dGVybjtcblxuXHRcdFx0XHQvLyBEb27igJl0IGNhY2hlIGxlbmd0aCBhcyBpdCBjaGFuZ2VzIGR1cmluZyB0aGUgbG9vcFxuXHRcdFx0XHRmb3IgKHZhciBpID0gaW5kZXgsIHBvcyA9IHN0YXJ0UG9zOyBpIDwgc3RyYXJyLmxlbmd0aDsgcG9zICs9IHN0cmFycltpXS5sZW5ndGgsICsraSkge1xuXG5cdFx0XHRcdFx0dmFyIHN0ciA9IHN0cmFycltpXTtcblxuXHRcdFx0XHRcdGlmIChzdHJhcnIubGVuZ3RoID4gdGV4dC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdC8vIFNvbWV0aGluZyB3ZW50IHRlcnJpYmx5IHdyb25nLCBBQk9SVCwgQUJPUlQhXG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHN0ciBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoZ3JlZWR5ICYmIGkgIT0gc3RyYXJyLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdHBhdHRlcm4ubGFzdEluZGV4ID0gcG9zO1xuXHRcdFx0XHRcdFx0dmFyIG1hdGNoID0gcGF0dGVybi5leGVjKHRleHQpO1xuXHRcdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFyIGZyb20gPSBtYXRjaC5pbmRleCArIChsb29rYmVoaW5kID8gbWF0Y2hbMV0ubGVuZ3RoIDogMCksXG5cdFx0XHRcdFx0XHQgICAgdG8gPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCxcblx0XHRcdFx0XHRcdCAgICBrID0gaSxcblx0XHRcdFx0XHRcdCAgICBwID0gcG9zO1xuXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBsZW4gPSBzdHJhcnIubGVuZ3RoOyBrIDwgbGVuICYmIChwIDwgdG8gfHwgKCFzdHJhcnJba10udHlwZSAmJiAhc3RyYXJyW2sgLSAxXS5ncmVlZHkpKTsgKytrKSB7XG5cdFx0XHRcdFx0XHRcdHAgKz0gc3RyYXJyW2tdLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0Ly8gTW92ZSB0aGUgaW5kZXggaSB0byB0aGUgZWxlbWVudCBpbiBzdHJhcnIgdGhhdCBpcyBjbG9zZXN0IHRvIGZyb21cblx0XHRcdFx0XHRcdFx0aWYgKGZyb20gPj0gcCkge1xuXHRcdFx0XHRcdFx0XHRcdCsraTtcblx0XHRcdFx0XHRcdFx0XHRwb3MgPSBwO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIElmIHN0cmFycltpXSBpcyBhIFRva2VuLCB0aGVuIHRoZSBtYXRjaCBzdGFydHMgaW5zaWRlIGFub3RoZXIgVG9rZW4sIHdoaWNoIGlzIGludmFsaWRcblx0XHRcdFx0XHRcdGlmIChzdHJhcnJbaV0gaW5zdGFuY2VvZiBUb2tlbikge1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTnVtYmVyIG9mIHRva2VucyB0byBkZWxldGUgYW5kIHJlcGxhY2Ugd2l0aCB0aGUgbmV3IG1hdGNoXG5cdFx0XHRcdFx0XHRkZWxOdW0gPSBrIC0gaTtcblx0XHRcdFx0XHRcdHN0ciA9IHRleHQuc2xpY2UocG9zLCBwKTtcblx0XHRcdFx0XHRcdG1hdGNoLmluZGV4IC09IHBvcztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cGF0dGVybi5sYXN0SW5kZXggPSAwO1xuXG5cdFx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoc3RyKSxcblx0XHRcdFx0XHRcdFx0ZGVsTnVtID0gMTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdFx0XHRpZiAob25lc2hvdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYobG9va2JlaGluZCkge1xuXHRcdFx0XHRcdFx0bG9va2JlaGluZExlbmd0aCA9IG1hdGNoWzFdID8gbWF0Y2hbMV0ubGVuZ3RoIDogMDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgZnJvbSA9IG1hdGNoLmluZGV4ICsgbG9va2JlaGluZExlbmd0aCxcblx0XHRcdFx0XHQgICAgbWF0Y2ggPSBtYXRjaFswXS5zbGljZShsb29rYmVoaW5kTGVuZ3RoKSxcblx0XHRcdFx0XHQgICAgdG8gPSBmcm9tICsgbWF0Y2gubGVuZ3RoLFxuXHRcdFx0XHRcdCAgICBiZWZvcmUgPSBzdHIuc2xpY2UoMCwgZnJvbSksXG5cdFx0XHRcdFx0ICAgIGFmdGVyID0gc3RyLnNsaWNlKHRvKTtcblxuXHRcdFx0XHRcdHZhciBhcmdzID0gW2ksIGRlbE51bV07XG5cblx0XHRcdFx0XHRpZiAoYmVmb3JlKSB7XG5cdFx0XHRcdFx0XHQrK2k7XG5cdFx0XHRcdFx0XHRwb3MgKz0gYmVmb3JlLmxlbmd0aDtcblx0XHRcdFx0XHRcdGFyZ3MucHVzaChiZWZvcmUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciB3cmFwcGVkID0gbmV3IFRva2VuKHRva2VuLCBpbnNpZGU/IF8udG9rZW5pemUobWF0Y2gsIGluc2lkZSkgOiBtYXRjaCwgYWxpYXMsIG1hdGNoLCBncmVlZHkpO1xuXG5cdFx0XHRcdFx0YXJncy5wdXNoKHdyYXBwZWQpO1xuXG5cdFx0XHRcdFx0aWYgKGFmdGVyKSB7XG5cdFx0XHRcdFx0XHRhcmdzLnB1c2goYWZ0ZXIpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoc3RyYXJyLCBhcmdzKTtcblxuXHRcdFx0XHRcdGlmIChkZWxOdW0gIT0gMSlcblx0XHRcdFx0XHRcdF8ubWF0Y2hHcmFtbWFyKHRleHQsIHN0cmFyciwgZ3JhbW1hciwgaSwgcG9zLCB0cnVlLCB0b2tlbik7XG5cblx0XHRcdFx0XHRpZiAob25lc2hvdClcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHRva2VuaXplOiBmdW5jdGlvbih0ZXh0LCBncmFtbWFyKSB7XG5cdFx0dmFyIHN0cmFyciA9IFt0ZXh0XTtcblxuXHRcdHZhciByZXN0ID0gZ3JhbW1hci5yZXN0O1xuXG5cdFx0aWYgKHJlc3QpIHtcblx0XHRcdGZvciAodmFyIHRva2VuIGluIHJlc3QpIHtcblx0XHRcdFx0Z3JhbW1hclt0b2tlbl0gPSByZXN0W3Rva2VuXTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsZXRlIGdyYW1tYXIucmVzdDtcblx0XHR9XG5cblx0XHRfLm1hdGNoR3JhbW1hcih0ZXh0LCBzdHJhcnIsIGdyYW1tYXIsIDAsIDAsIGZhbHNlKTtcblxuXHRcdHJldHVybiBzdHJhcnI7XG5cdH0sXG5cblx0aG9va3M6IHtcblx0XHRhbGw6IHt9LFxuXG5cdFx0YWRkOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcblx0XHRcdHZhciBob29rcyA9IF8uaG9va3MuYWxsO1xuXG5cdFx0XHRob29rc1tuYW1lXSA9IGhvb2tzW25hbWVdIHx8IFtdO1xuXG5cdFx0XHRob29rc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcblx0XHR9LFxuXG5cdFx0cnVuOiBmdW5jdGlvbiAobmFtZSwgZW52KSB7XG5cdFx0XHR2YXIgY2FsbGJhY2tzID0gXy5ob29rcy5hbGxbbmFtZV07XG5cblx0XHRcdGlmICghY2FsbGJhY2tzIHx8ICFjYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Zm9yICh2YXIgaT0wLCBjYWxsYmFjazsgY2FsbGJhY2sgPSBjYWxsYmFja3NbaSsrXTspIHtcblx0XHRcdFx0Y2FsbGJhY2soZW52KTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0VG9rZW46IFRva2VuXG59O1xuXG5fc2VsZi5QcmlzbSA9IF87XG5cbmZ1bmN0aW9uIFRva2VuKHR5cGUsIGNvbnRlbnQsIGFsaWFzLCBtYXRjaGVkU3RyLCBncmVlZHkpIHtcblx0dGhpcy50eXBlID0gdHlwZTtcblx0dGhpcy5jb250ZW50ID0gY29udGVudDtcblx0dGhpcy5hbGlhcyA9IGFsaWFzO1xuXHQvLyBDb3B5IG9mIHRoZSBmdWxsIHN0cmluZyB0aGlzIHRva2VuIHdhcyBjcmVhdGVkIGZyb21cblx0dGhpcy5sZW5ndGggPSAobWF0Y2hlZFN0ciB8fCBcIlwiKS5sZW5ndGh8MDtcblx0dGhpcy5ncmVlZHkgPSAhIWdyZWVkeTtcbn1cblxuVG9rZW4uc3RyaW5naWZ5ID0gZnVuY3Rpb24obywgbGFuZ3VhZ2UsIHBhcmVudCkge1xuXHRpZiAodHlwZW9mIG8gPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGlmIChBcnJheS5pc0FycmF5KG8pKSB7XG5cdFx0cmV0dXJuIG8ubWFwKGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRcdHJldHVybiBUb2tlbi5zdHJpbmdpZnkoZWxlbWVudCwgbGFuZ3VhZ2UsIG8pO1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0dmFyIGVudiA9IHtcblx0XHR0eXBlOiBvLnR5cGUsXG5cdFx0Y29udGVudDogVG9rZW4uc3RyaW5naWZ5KG8uY29udGVudCwgbGFuZ3VhZ2UsIHBhcmVudCksXG5cdFx0dGFnOiAnc3BhbicsXG5cdFx0Y2xhc3NlczogWyd0b2tlbicsIG8udHlwZV0sXG5cdFx0YXR0cmlidXRlczoge30sXG5cdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlLFxuXHRcdHBhcmVudDogcGFyZW50XG5cdH07XG5cblx0aWYgKG8uYWxpYXMpIHtcblx0XHR2YXIgYWxpYXNlcyA9IEFycmF5LmlzQXJyYXkoby5hbGlhcykgPyBvLmFsaWFzIDogW28uYWxpYXNdO1xuXHRcdEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGVudi5jbGFzc2VzLCBhbGlhc2VzKTtcblx0fVxuXG5cdF8uaG9va3MucnVuKCd3cmFwJywgZW52KTtcblxuXHR2YXIgYXR0cmlidXRlcyA9IE9iamVjdC5rZXlzKGVudi5hdHRyaWJ1dGVzKS5tYXAoZnVuY3Rpb24obmFtZSkge1xuXHRcdHJldHVybiBuYW1lICsgJz1cIicgKyAoZW52LmF0dHJpYnV0ZXNbbmFtZV0gfHwgJycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKSArICdcIic7XG5cdH0pLmpvaW4oJyAnKTtcblxuXHRyZXR1cm4gJzwnICsgZW52LnRhZyArICcgY2xhc3M9XCInICsgZW52LmNsYXNzZXMuam9pbignICcpICsgJ1wiJyArIChhdHRyaWJ1dGVzID8gJyAnICsgYXR0cmlidXRlcyA6ICcnKSArICc+JyArIGVudi5jb250ZW50ICsgJzwvJyArIGVudi50YWcgKyAnPic7XG5cbn07XG5cbmlmICghX3NlbGYuZG9jdW1lbnQpIHtcblx0aWYgKCFfc2VsZi5hZGRFdmVudExpc3RlbmVyKSB7XG5cdFx0Ly8gaW4gTm9kZS5qc1xuXHRcdHJldHVybiBfO1xuXHR9XG5cblx0aWYgKCFfLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcikge1xuXHRcdC8vIEluIHdvcmtlclxuXHRcdF9zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZ0KSB7XG5cdFx0XHR2YXIgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpLFxuXHRcdFx0XHRsYW5nID0gbWVzc2FnZS5sYW5ndWFnZSxcblx0XHRcdFx0Y29kZSA9IG1lc3NhZ2UuY29kZSxcblx0XHRcdFx0aW1tZWRpYXRlQ2xvc2UgPSBtZXNzYWdlLmltbWVkaWF0ZUNsb3NlO1xuXG5cdFx0XHRfc2VsZi5wb3N0TWVzc2FnZShfLmhpZ2hsaWdodChjb2RlLCBfLmxhbmd1YWdlc1tsYW5nXSwgbGFuZykpO1xuXHRcdFx0aWYgKGltbWVkaWF0ZUNsb3NlKSB7XG5cdFx0XHRcdF9zZWxmLmNsb3NlKCk7XG5cdFx0XHR9XG5cdFx0fSwgZmFsc2UpO1xuXHR9XG5cblx0cmV0dXJuIF87XG59XG5cbi8vR2V0IGN1cnJlbnQgc2NyaXB0IGFuZCBoaWdobGlnaHRcbnZhciBzY3JpcHQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0IHx8IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIikpLnBvcCgpO1xuXG5pZiAoc2NyaXB0KSB7XG5cdF8uZmlsZW5hbWUgPSBzY3JpcHQuc3JjO1xuXG5cdGlmICghXy5tYW51YWwgJiYgIXNjcmlwdC5oYXNBdHRyaWJ1dGUoJ2RhdGEtbWFudWFsJykpIHtcblx0XHRpZihkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIikge1xuXHRcdFx0aWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcblx0XHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfLmhpZ2hsaWdodEFsbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChfLmhpZ2hsaWdodEFsbCwgMTYpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBfLmhpZ2hsaWdodEFsbCk7XG5cdFx0fVxuXHR9XG59XG5cbnJldHVybiBfO1xuXG59KShfc2VsZik7XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRtb2R1bGUuZXhwb3J0cyA9IFByaXNtO1xufVxuXG4vLyBoYWNrIGZvciBjb21wb25lbnRzIHRvIHdvcmsgY29ycmVjdGx5IGluIG5vZGUuanNcbmlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuXHRnbG9iYWwuUHJpc20gPSBQcmlzbTtcbn1cblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLW1hcmt1cC5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG5QcmlzbS5sYW5ndWFnZXMubWFya3VwID0ge1xuXHQnY29tbWVudCc6IC88IS0tW1xcc1xcU10qPy0tPi8sXG5cdCdwcm9sb2cnOiAvPFxcP1tcXHNcXFNdKz9cXD8+Lyxcblx0J2RvY3R5cGUnOiAvPCFET0NUWVBFW1xcc1xcU10rPz4vaSxcblx0J2NkYXRhJzogLzwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XV0+L2ksXG5cdCd0YWcnOiB7XG5cdFx0cGF0dGVybjogLzxcXC8/KD8hXFxkKVteXFxzPlxcLz0kPCVdKyg/Olxccyg/OlxccypbXlxccz5cXC89XSsoPzpcXHMqPVxccyooPzpcIlteXCJdKlwifCdbXiddKid8W15cXHMnXCI+PV0rKD89W1xccz5dKSl8KD89W1xccy8+XSkpKSspP1xccypcXC8/Pi9pLFxuXHRcdGdyZWVkeTogdHJ1ZSxcblx0XHRpbnNpZGU6IHtcblx0XHRcdCd0YWcnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9ePFxcLz9bXlxccz5cXC9dKy9pLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQncHVuY3R1YXRpb24nOiAvXjxcXC8/Lyxcblx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC89XFxzKig/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXlxccydcIj49XSspL2ksXG5cdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IFtcblx0XHRcdFx0XHRcdC9ePS8sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHBhdHRlcm46IC9eKFxccyopW1wiJ118W1wiJ10kLyxcblx0XHRcdFx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCdwdW5jdHVhdGlvbic6IC9cXC8/Pi8sXG5cdFx0XHQnYXR0ci1uYW1lJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvW15cXHM+XFwvXSsvLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cdH0sXG5cdCdlbnRpdHknOiAvJiM/W1xcZGEtel17MSw4fTsvaVxufTtcblxuUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cFsndGFnJ10uaW5zaWRlWydhdHRyLXZhbHVlJ10uaW5zaWRlWydlbnRpdHknXSA9XG5cdFByaXNtLmxhbmd1YWdlcy5tYXJrdXBbJ2VudGl0eSddO1xuXG4vLyBQbHVnaW4gdG8gbWFrZSBlbnRpdHkgdGl0bGUgc2hvdyB0aGUgcmVhbCBlbnRpdHksIGlkZWEgYnkgUm9tYW4gS29tYXJvdlxuUHJpc20uaG9va3MuYWRkKCd3cmFwJywgZnVuY3Rpb24oZW52KSB7XG5cblx0aWYgKGVudi50eXBlID09PSAnZW50aXR5Jykge1xuXHRcdGVudi5hdHRyaWJ1dGVzWyd0aXRsZSddID0gZW52LmNvbnRlbnQucmVwbGFjZSgvJmFtcDsvLCAnJicpO1xuXHR9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLCAnYWRkSW5saW5lZCcsIHtcblx0LyoqXG5cdCAqIEFkZHMgYW4gaW5saW5lZCBsYW5ndWFnZSB0byBtYXJrdXAuXG5cdCAqXG5cdCAqIEFuIGV4YW1wbGUgb2YgYW4gaW5saW5lZCBsYW5ndWFnZSBpcyBDU1Mgd2l0aCBgPHN0eWxlPmAgdGFncy5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgVGhlIG5hbWUgb2YgdGhlIHRhZyB0aGF0IGNvbnRhaW5zIHRoZSBpbmxpbmVkIGxhbmd1YWdlLiBUaGlzIG5hbWUgd2lsbCBiZSB0cmVhdGVkIGFzXG5cdCAqIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nIFRoZSBsYW5ndWFnZSBrZXkuXG5cdCAqIEBleGFtcGxlXG5cdCAqIGFkZElubGluZWQoJ3N0eWxlJywgJ2NzcycpO1xuXHQgKi9cblx0dmFsdWU6IGZ1bmN0aW9uIGFkZElubGluZWQodGFnTmFtZSwgbGFuZykge1xuXHRcdHZhciBpbmNsdWRlZENkYXRhSW5zaWRlID0ge307XG5cdFx0aW5jbHVkZWRDZGF0YUluc2lkZVsnbGFuZ3VhZ2UtJyArIGxhbmddID0ge1xuXHRcdFx0cGF0dGVybjogLyhePCFcXFtDREFUQVxcWylbXFxzXFxTXSs/KD89XFxdXFxdPiQpL2ksXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXNbbGFuZ11cblx0XHR9O1xuXHRcdGluY2x1ZGVkQ2RhdGFJbnNpZGVbJ2NkYXRhJ10gPSAvXjwhXFxbQ0RBVEFcXFt8XFxdXFxdPiQvaTtcblxuXHRcdHZhciBpbnNpZGUgPSB7XG5cdFx0XHQnaW5jbHVkZWQtY2RhdGEnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC88IVxcW0NEQVRBXFxbW1xcc1xcU10qP1xcXVxcXT4vaSxcblx0XHRcdFx0aW5zaWRlOiBpbmNsdWRlZENkYXRhSW5zaWRlXG5cdFx0XHR9XG5cdFx0fTtcblx0XHRpbnNpZGVbJ2xhbmd1YWdlLScgKyBsYW5nXSA9IHtcblx0XHRcdHBhdHRlcm46IC9bXFxzXFxTXSsvLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXNbbGFuZ11cblx0XHR9O1xuXG5cdFx0dmFyIGRlZiA9IHt9O1xuXHRcdGRlZlt0YWdOYW1lXSA9IHtcblx0XHRcdHBhdHRlcm46IFJlZ0V4cCgvKDxfX1tcXHNcXFNdKj8+KSg/OjwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdPlxccyp8W1xcc1xcU10pKj8oPz08XFwvX18+KS8uc291cmNlLnJlcGxhY2UoL19fL2csIHRhZ05hbWUpLCAnaScpLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGdyZWVkeTogdHJ1ZSxcblx0XHRcdGluc2lkZTogaW5zaWRlXG5cdFx0fTtcblxuXHRcdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ21hcmt1cCcsICdjZGF0YScsIGRlZik7XG5cdH1cbn0pO1xuXG5QcmlzbS5sYW5ndWFnZXMueG1sID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnbWFya3VwJywge30pO1xuUHJpc20ubGFuZ3VhZ2VzLmh0bWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuUHJpc20ubGFuZ3VhZ2VzLm1hdGhtbCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5QcmlzbS5sYW5ndWFnZXMuc3ZnID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWNzcy5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG4oZnVuY3Rpb24gKFByaXNtKSB7XG5cblx0dmFyIHN0cmluZyA9IC8oXCJ8JykoPzpcXFxcKD86XFxyXFxufFtcXHNcXFNdKXwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxLztcblxuXHRQcmlzbS5sYW5ndWFnZXMuY3NzID0ge1xuXHRcdCdjb21tZW50JzogL1xcL1xcKltcXHNcXFNdKj9cXCpcXC8vLFxuXHRcdCdhdHJ1bGUnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvQFtcXHctXSs/W1xcc1xcU10qPyg/Ojt8KD89XFxzKlxceykpL2ksXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0J3J1bGUnOiAvQFtcXHctXSsvXG5cdFx0XHRcdC8vIFNlZSByZXN0IGJlbG93XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQndXJsJzogUmVnRXhwKCd1cmxcXFxcKCg/OicgKyBzdHJpbmcuc291cmNlICsgJ3wuKj8pXFxcXCknLCAnaScpLFxuXHRcdCdzZWxlY3Rvcic6IFJlZ0V4cCgnW157fVxcXFxzXSg/Oltee307XCJcXCddfCcgKyBzdHJpbmcuc291cmNlICsgJykqPyg/PVxcXFxzKlxcXFx7KScpLFxuXHRcdCdzdHJpbmcnOiB7XG5cdFx0XHRwYXR0ZXJuOiBzdHJpbmcsXG5cdFx0XHRncmVlZHk6IHRydWVcblx0XHR9LFxuXHRcdCdwcm9wZXJ0eSc6IC9bLV9hLXpcXHhBMC1cXHVGRkZGXVstXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKjopL2ksXG5cdFx0J2ltcG9ydGFudCc6IC8haW1wb3J0YW50XFxiL2ksXG5cdFx0J2Z1bmN0aW9uJzogL1stYS16MC05XSsoPz1cXCgpL2ksXG5cdFx0J3B1bmN0dWF0aW9uJzogL1soKXt9OzosXS9cblx0fTtcblxuXHRQcmlzbS5sYW5ndWFnZXMuY3NzWydhdHJ1bGUnXS5pbnNpZGUucmVzdCA9IFByaXNtLmxhbmd1YWdlcy5jc3M7XG5cblx0dmFyIG1hcmt1cCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdGlmIChtYXJrdXApIHtcblx0XHRtYXJrdXAudGFnLmFkZElubGluZWQoJ3N0eWxlJywgJ2NzcycpO1xuXG5cdFx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnaW5zaWRlJywgJ2F0dHItdmFsdWUnLCB7XG5cdFx0XHQnc3R5bGUtYXR0cic6IHtcblx0XHRcdFx0cGF0dGVybjogL1xccypzdHlsZT0oXCJ8JykoPzpcXFxcW1xcc1xcU118KD8hXFwxKVteXFxcXF0pKlxcMS9pLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQnYXR0ci1uYW1lJzoge1xuXHRcdFx0XHRcdFx0cGF0dGVybjogL15cXHMqc3R5bGUvaSxcblx0XHRcdFx0XHRcdGluc2lkZTogbWFya3VwLnRhZy5pbnNpZGVcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9eXFxzKj1cXHMqWydcIl18WydcIl1cXHMqJC8sXG5cdFx0XHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdFx0XHRwYXR0ZXJuOiAvLisvaSxcblx0XHRcdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0YWxpYXM6ICdsYW5ndWFnZS1jc3MnXG5cdFx0XHR9XG5cdFx0fSwgbWFya3VwLnRhZyk7XG5cdH1cblxufShQcmlzbSkpO1xuXG5cbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgQmVnaW4gcHJpc20tY2xpa2UuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuUHJpc20ubGFuZ3VhZ2VzLmNsaWtlID0ge1xuXHQnY29tbWVudCc6IFtcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcXSlcXC9cXCpbXFxzXFxTXSo/KD86XFwqXFwvfCQpLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXnxbXlxcXFw6XSlcXC9cXC8uKi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0Z3JlZWR5OiB0cnVlXG5cdFx0fVxuXHRdLFxuXHQnc3RyaW5nJzoge1xuXHRcdHBhdHRlcm46IC8oW1wiJ10pKD86XFxcXCg/OlxcclxcbnxbXFxzXFxTXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS8sXG5cdFx0Z3JlZWR5OiB0cnVlXG5cdH0sXG5cdCdjbGFzcy1uYW1lJzoge1xuXHRcdHBhdHRlcm46IC8oKD86XFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylcXHMrKXwoPzpjYXRjaFxccytcXCgpKVtcXHcuXFxcXF0rL2ksXG5cdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRpbnNpZGU6IHtcblx0XHRcdHB1bmN0dWF0aW9uOiAvWy5cXFxcXS9cblx0XHR9XG5cdH0sXG5cdCdrZXl3b3JkJzogL1xcYig/OmlmfGVsc2V8d2hpbGV8ZG98Zm9yfHJldHVybnxpbnxpbnN0YW5jZW9mfGZ1bmN0aW9ufG5ld3x0cnl8dGhyb3d8Y2F0Y2h8ZmluYWxseXxudWxsfGJyZWFrfGNvbnRpbnVlKVxcYi8sXG5cdCdib29sZWFuJzogL1xcYig/OnRydWV8ZmFsc2UpXFxiLyxcblx0J2Z1bmN0aW9uJzogL1xcdysoPz1cXCgpLyxcblx0J251bWJlcic6IC9cXGIweFtcXGRhLWZdK1xcYnwoPzpcXGJcXGQrXFwuP1xcZCp8XFxCXFwuXFxkKykoPzplWystXT9cXGQrKT8vaSxcblx0J29wZXJhdG9yJzogLy0tP3xcXCtcXCs/fCE9Pz0/fDw9P3w+PT98PT0/PT98JiY/fFxcfFxcfD98XFw/fFxcKnxcXC98fnxcXF58JS8sXG5cdCdwdW5jdHVhdGlvbic6IC9be31bXFxdOygpLC46XS9cbn07XG5cblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBCZWdpbiBwcmlzbS1qYXZhc2NyaXB0LmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cblByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0ID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnY2xpa2UnLCB7XG5cdCdjbGFzcy1uYW1lJzogW1xuXHRcdFByaXNtLmxhbmd1YWdlcy5jbGlrZVsnY2xhc3MtbmFtZSddLFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXnxbXiRcXHdcXHhBMC1cXHVGRkZGXSlbXyRBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFwuKD86cHJvdG90eXBlfGNvbnN0cnVjdG9yKSkvLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdH1cblx0XSxcblx0J2tleXdvcmQnOiBbXG5cdFx0e1xuXHRcdFx0cGF0dGVybjogLygoPzpefH0pXFxzKikoPzpjYXRjaHxmaW5hbGx5KVxcYi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvKF58W14uXSlcXGIoPzphc3xhc3luYyg/PVxccyooPzpmdW5jdGlvblxcYnxcXCh8WyRcXHdcXHhBMC1cXHVGRkZGXXwkKSl8YXdhaXR8YnJlYWt8Y2FzZXxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxcYi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0fSxcblx0XSxcblx0J251bWJlcic6IC9cXGIoPzooPzowW3hYXVtcXGRBLUZhLWZdK3wwW2JCXVswMV0rfDBbb09dWzAtN10rKW4/fFxcZCtufE5hTnxJbmZpbml0eSlcXGJ8KD86XFxiXFxkK1xcLj9cXGQqfFxcQlxcLlxcZCspKD86W0VlXVsrLV0/XFxkKyk/Lyxcblx0Ly8gQWxsb3cgZm9yIGFsbCBub24tQVNDSUkgY2hhcmFjdGVycyAoU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIwMDg0NDQpXG5cdCdmdW5jdGlvbic6IC9bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKig/OlxcLlxccyooPzphcHBseXxiaW5kfGNhbGwpXFxzKik/XFwoKS8sXG5cdCdvcGVyYXRvcic6IC8tWy09XT98XFwrWys9XT98IT0/PT98PDw/PT98Pj4/Pj89P3w9KD86PT0/fD4pP3wmWyY9XT98XFx8W3w9XT98XFwqXFwqPz0/fFxcLz0/fH58XFxePT98JT0/fFxcP3xcXC57M30vXG59KTtcblxuUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRbJ2NsYXNzLW5hbWUnXVswXS5wYXR0ZXJuID0gLyhcXGIoPzpjbGFzc3xpbnRlcmZhY2V8ZXh0ZW5kc3xpbXBsZW1lbnRzfGluc3RhbmNlb2Z8bmV3KVxccyspW1xcdy5cXFxcXSsvXG5cblByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2phdmFzY3JpcHQnLCAna2V5d29yZCcsIHtcblx0J3JlZ2V4Jzoge1xuXHRcdHBhdHRlcm46IC8oKD86XnxbXiRcXHdcXHhBMC1cXHVGRkZGLlwiJ1xcXSlcXHNdKVxccyopXFwvKFxcWyg/OlteXFxdXFxcXFxcclxcbl18XFxcXC4pKl18XFxcXC58W14vXFxcXFxcW1xcclxcbl0pK1xcL1tnaW15dV17MCw1fSg/PVxccyooJHxbXFxyXFxuLC47fSlcXF1dKSkvLFxuXHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0Z3JlZWR5OiB0cnVlXG5cdH0sXG5cdC8vIFRoaXMgbXVzdCBiZSBkZWNsYXJlZCBiZWZvcmUga2V5d29yZCBiZWNhdXNlIHdlIHVzZSBcImZ1bmN0aW9uXCIgaW5zaWRlIHRoZSBsb29rLWZvcndhcmRcblx0J2Z1bmN0aW9uLXZhcmlhYmxlJzoge1xuXHRcdHBhdHRlcm46IC9bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKls9Ol1cXHMqKD86YXN5bmNcXHMqKT8oPzpcXGJmdW5jdGlvblxcYnwoPzpcXCgoPzpbXigpXXxcXChbXigpXSpcXCkpKlxcKXxbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKVxccyo9PikpLyxcblx0XHRhbGlhczogJ2Z1bmN0aW9uJ1xuXHR9LFxuXHQncGFyYW1ldGVyJzogW1xuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oZnVuY3Rpb24oPzpcXHMrW18kQS1aYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKik/XFxzKlxcKFxccyopKD8hXFxzKSg/OlteKCldfFxcKFteKCldKlxcKSkrPyg/PVxccypcXCkpLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0fSxcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvW18kYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKig/PVxccyo9PikvaSxcblx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXFwoXFxzKikoPyFcXHMpKD86W14oKV18XFwoW14oKV0qXFwpKSs/KD89XFxzKlxcKVxccyo9PikvLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oKD86XFxifFxcc3xeKSg/ISg/OmFzfGFzeW5jfGF3YWl0fGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZpbmFsbHl8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKSg/IVskXFx3XFx4QTAtXFx1RkZGRl0pKSg/OltfJEEtWmEtelxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSpcXHMqKVxcKFxccyopKD8hXFxzKSg/OlteKCldfFxcKFteKCldKlxcKSkrPyg/PVxccypcXClcXHMqXFx7KS8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFxuXHRcdH1cblx0XSxcblx0J2NvbnN0YW50JzogL1xcYltBLVpdKD86W0EtWl9dfFxcZHg/KSpcXGIvXG59KTtcblxuUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdzdHJpbmcnLCB7XG5cdCd0ZW1wbGF0ZS1zdHJpbmcnOiB7XG5cdFx0cGF0dGVybjogL2AoPzpcXFxcW1xcc1xcU118XFwke1tefV0rfXxbXlxcXFxgXSkqYC8sXG5cdFx0Z3JlZWR5OiB0cnVlLFxuXHRcdGluc2lkZToge1xuXHRcdFx0J2ludGVycG9sYXRpb24nOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9cXCR7W159XSt9Lyxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J2ludGVycG9sYXRpb24tcHVuY3R1YXRpb24nOiB7XG5cdFx0XHRcdFx0XHRwYXR0ZXJuOiAvXlxcJHt8fSQvLFxuXHRcdFx0XHRcdFx0YWxpYXM6ICdwdW5jdHVhdGlvbidcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlc3Q6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQnc3RyaW5nJzogL1tcXHNcXFNdKy9cblx0XHR9XG5cdH1cbn0pO1xuXG5pZiAoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCkge1xuXHRQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5hZGRJbmxpbmVkKCdzY3JpcHQnLCAnamF2YXNjcmlwdCcpO1xufVxuXG5QcmlzbS5sYW5ndWFnZXMuanMgPSBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdDtcblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWZpbGUtaGlnaGxpZ2h0LmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdGlmICh0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgfHwgIXNlbGYuUHJpc20gfHwgIXNlbGYuZG9jdW1lbnQgfHwgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtFbGVtZW50fSBbY29udGFpbmVyPWRvY3VtZW50XVxuXHQgKi9cblx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0ID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0Y29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIEV4dGVuc2lvbnMgPSB7XG5cdFx0XHQnanMnOiAnamF2YXNjcmlwdCcsXG5cdFx0XHQncHknOiAncHl0aG9uJyxcblx0XHRcdCdyYic6ICdydWJ5Jyxcblx0XHRcdCdwczEnOiAncG93ZXJzaGVsbCcsXG5cdFx0XHQncHNtMSc6ICdwb3dlcnNoZWxsJyxcblx0XHRcdCdzaCc6ICdiYXNoJyxcblx0XHRcdCdiYXQnOiAnYmF0Y2gnLFxuXHRcdFx0J2gnOiAnYycsXG5cdFx0XHQndGV4JzogJ2xhdGV4J1xuXHRcdH07XG5cblx0XHRBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgncHJlW2RhdGEtc3JjXScpKS5mb3JFYWNoKGZ1bmN0aW9uIChwcmUpIHtcblx0XHRcdC8vIGlnbm9yZSBpZiBhbHJlYWR5IGxvYWRlZFxuXHRcdFx0aWYgKHByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3JjLWxvYWRlZCcpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbG9hZCBjdXJyZW50XG5cdFx0XHR2YXIgc3JjID0gcHJlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcblxuXHRcdFx0dmFyIGxhbmd1YWdlLCBwYXJlbnQgPSBwcmU7XG5cdFx0XHR2YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pO1xuXHRcdFx0d2hpbGUgKHBhcmVudCAmJiAhbGFuZy50ZXN0KHBhcmVudC5jbGFzc05hbWUpKSB7XG5cdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdGxhbmd1YWdlID0gKHByZS5jbGFzc05hbWUubWF0Y2gobGFuZykgfHwgWywgJyddKVsxXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFsYW5ndWFnZSkge1xuXHRcdFx0XHR2YXIgZXh0ZW5zaW9uID0gKHNyYy5tYXRjaCgvXFwuKFxcdyspJC8pIHx8IFssICcnXSlbMV07XG5cdFx0XHRcdGxhbmd1YWdlID0gRXh0ZW5zaW9uc1tleHRlbnNpb25dIHx8IGV4dGVuc2lvbjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2RlJyk7XG5cdFx0XHRjb2RlLmNsYXNzTmFtZSA9ICdsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cblx0XHRcdHByZS50ZXh0Q29udGVudCA9ICcnO1xuXG5cdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ0xvYWRpbmfigKYnO1xuXG5cdFx0XHRwcmUuYXBwZW5kQ2hpbGQoY29kZSk7XG5cblx0XHRcdHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXHRcdFx0eGhyLm9wZW4oJ0dFVCcsIHNyYywgdHJ1ZSk7XG5cblx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0KSB7XG5cblx0XHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA8IDQwMCAmJiB4aHIucmVzcG9uc2VUZXh0KSB7XG5cdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0geGhyLnJlc3BvbnNlVGV4dDtcblxuXHRcdFx0XHRcdFx0UHJpc20uaGlnaGxpZ2h0RWxlbWVudChjb2RlKTtcblx0XHRcdFx0XHRcdC8vIG1hcmsgYXMgbG9hZGVkXG5cdFx0XHRcdFx0XHRwcmUuc2V0QXR0cmlidXRlKCdkYXRhLXNyYy1sb2FkZWQnLCAnJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHhoci5zdGF0dXMgPj0gNDAwKSB7XG5cdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ+KcliBFcnJvciAnICsgeGhyLnN0YXR1cyArICcgd2hpbGUgZmV0Y2hpbmcgZmlsZTogJyArIHhoci5zdGF0dXNUZXh0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAn4pyWIEVycm9yOiBGaWxlIGRvZXMgbm90IGV4aXN0IG9yIGlzIGVtcHR5Jztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdHhoci5zZW5kKG51bGwpO1xuXHRcdH0pO1xuXG5cdFx0aWYgKFByaXNtLnBsdWdpbnMudG9vbGJhcikge1xuXHRcdFx0UHJpc20ucGx1Z2lucy50b29sYmFyLnJlZ2lzdGVyQnV0dG9uKCdkb3dubG9hZC1maWxlJywgZnVuY3Rpb24gKGVudikge1xuXHRcdFx0XHR2YXIgcHJlID0gZW52LmVsZW1lbnQucGFyZW50Tm9kZTtcblx0XHRcdFx0aWYgKCFwcmUgfHwgIS9wcmUvaS50ZXN0KHByZS5ub2RlTmFtZSkgfHwgIXByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3JjJykgfHwgIXByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtbGluaycpKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBzcmMgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuXHRcdFx0XHR2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0XHRcdFx0YS50ZXh0Q29udGVudCA9IHByZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtbGluay1sYWJlbCcpIHx8ICdEb3dubG9hZCc7XG5cdFx0XHRcdGEuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICcnKTtcblx0XHRcdFx0YS5ocmVmID0gc3JjO1xuXHRcdFx0XHRyZXR1cm4gYTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHR9O1xuXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gZXhlY3V0ZSBpbnNpZGUgaGFuZGxlciwgZm9yIGRyb3BwaW5nIEV2ZW50IGFzIGFyZ3VtZW50XG5cdFx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0KCk7XG5cdH0pO1xuXG59KSgpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3ByaXNtanMvcHJpc20uanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGZyb20gPSBmdW5jdGlvbihvcHRzLCBwbHVnaW5zKSB7XG4gIHZhciBwYXJlbnQgPSAob3B0cy5wYXJlbnQgfHwgb3B0cykubm9kZVR5cGUgPT09IDEgPyAob3B0cy5wYXJlbnQgfHwgb3B0cykgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdHMucGFyZW50IHx8IG9wdHMpLFxuICAgIHNsaWRlcyA9IFtdLmZpbHRlci5jYWxsKHR5cGVvZiBvcHRzLnNsaWRlcyA9PT0gJ3N0cmluZycgPyBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChvcHRzLnNsaWRlcykgOiAob3B0cy5zbGlkZXMgfHwgcGFyZW50LmNoaWxkcmVuKSwgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLm5vZGVOYW1lICE9PSAnU0NSSVBUJzsgfSksXG4gICAgYWN0aXZlU2xpZGUgPSBzbGlkZXNbMF0sXG4gICAgbGlzdGVuZXJzID0ge30sXG5cbiAgICBhY3RpdmF0ZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG4gICAgICBpZiAoIXNsaWRlc1tpbmRleF0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmaXJlKCdkZWFjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG4gICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1tpbmRleF07XG4gICAgICBmaXJlKCdhY3RpdmF0ZScsIGNyZWF0ZUV2ZW50RGF0YShhY3RpdmVTbGlkZSwgY3VzdG9tRGF0YSkpO1xuICAgIH0sXG5cbiAgICBzbGlkZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICBmaXJlKCdzbGlkZScsIGNyZWF0ZUV2ZW50RGF0YShzbGlkZXNbaW5kZXhdLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoaW5kZXgsIGN1c3RvbURhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RlcCA9IGZ1bmN0aW9uKG9mZnNldCwgY3VzdG9tRGF0YSkge1xuICAgICAgdmFyIHNsaWRlSW5kZXggPSBzbGlkZXMuaW5kZXhPZihhY3RpdmVTbGlkZSkgKyBvZmZzZXQ7XG5cbiAgICAgIGZpcmUob2Zmc2V0ID4gMCA/ICduZXh0JyA6ICdwcmV2JywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoc2xpZGVJbmRleCwgY3VzdG9tRGF0YSk7XG4gICAgfSxcblxuICAgIG9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IChsaXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdKSkucHVzaChjYWxsYmFjayk7XG4gICAgICByZXR1cm4gb2ZmLmJpbmQobnVsbCwgZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgfSxcblxuICAgIG9mZiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIGxpc3RlbmVyc1tldmVudE5hbWVdID0gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24obGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyICE9PSBjYWxsYmFjazsgfSk7XG4gICAgfSxcblxuICAgIGZpcmUgPSBmdW5jdGlvbihldmVudE5hbWUsIGV2ZW50RGF0YSkge1xuICAgICAgcmV0dXJuIChsaXN0ZW5lcnNbZXZlbnROYW1lXSB8fCBbXSlcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbihub3RDYW5jZWxsZWQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIG5vdENhbmNlbGxlZCAmJiBjYWxsYmFjayhldmVudERhdGEpICE9PSBmYWxzZTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIGNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGVsLCBldmVudERhdGEpIHtcbiAgICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCB7fTtcbiAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlcy5pbmRleE9mKGVsKTtcbiAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IGVsO1xuICAgICAgcmV0dXJuIGV2ZW50RGF0YTtcbiAgICB9LFxuXG4gICAgZGVjayA9IHtcbiAgICAgIG9uOiBvbixcbiAgICAgIG9mZjogb2ZmLFxuICAgICAgZmlyZTogZmlyZSxcbiAgICAgIHNsaWRlOiBzbGlkZSxcbiAgICAgIG5leHQ6IHN0ZXAuYmluZChudWxsLCAxKSxcbiAgICAgIHByZXY6IHN0ZXAuYmluZChudWxsLCAtMSksXG4gICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgIHNsaWRlczogc2xpZGVzXG4gICAgfTtcblxuICAocGx1Z2lucyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICBwbHVnaW4oZGVjayk7XG4gIH0pO1xuXG4gIGFjdGl2YXRlKDApO1xuXG4gIHJldHVybiBkZWNrO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGZyb206IGZyb21cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS9saWIvYmVzcG9rZS5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiFcbiAqIGJlc3Bva2UtdGhlbWUtbmVidWxhIHYxLjAuMVxuICpcbiAqIENvcHlyaWdodCAyMDE0LCBNYXJrIERhbGdsZWlzaFxuICogVGhpcyBjb250ZW50IGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogXG4gKi9cblxuIWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoZSk7ZWxzZXt2YXIgbztcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P289d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/bz1nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJihvPXNlbGYpO3ZhciBmPW87Zj1mLmJlc3Bva2V8fChmLmJlc3Bva2U9e30pLGY9Zi50aGVtZXN8fChmLnRoZW1lcz17fSksZi5uZWJ1bGE9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cbnZhciBjbGFzc2VzID0gX2RlcmVxXygnYmVzcG9rZS1jbGFzc2VzJyk7XG52YXIgaW5zZXJ0Q3NzID0gX2RlcmVxXygnaW5zZXJ0LWNzcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3NzID0gXCIvKiEgbm9ybWFsaXplLmNzcyB2My4wLjAgfCBNSVQgTGljZW5zZSB8IGdpdC5pby9ub3JtYWxpemUgKi9odG1se2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJX1ib2R5e21hcmdpbjowfWFydGljbGUsYXNpZGUsZGV0YWlscyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLGhncm91cCxtYWluLG5hdixzZWN0aW9uLHN1bW1hcnl7ZGlzcGxheTpibG9ja31hdWRpbyxjYW52YXMscHJvZ3Jlc3MsdmlkZW97ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9YXVkaW86bm90KFtjb250cm9sc10pe2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MH1baGlkZGVuXSx0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9YXtiYWNrZ3JvdW5kOjAgMH1hOmFjdGl2ZSxhOmhvdmVye291dGxpbmU6MH1hYmJyW3RpdGxlXXtib3JkZXItYm90dG9tOjFweCBkb3R0ZWR9Yntmb250LXdlaWdodDo3MDB9ZGZue2ZvbnQtc3R5bGU6aXRhbGljfWgxe2ZvbnQtc2l6ZToyZW19bWFya3tiYWNrZ3JvdW5kOiNmZjA7Y29sb3I6IzAwMH1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN1cHt0b3A6LS41ZW19c3Vie2JvdHRvbTotLjI1ZW19aW1ne2JvcmRlcjowfXN2Zzpub3QoOnJvb3Qpe292ZXJmbG93OmhpZGRlbn1maWd1cmV7bWFyZ2luOjFlbSA0MHB4fWhye2JveC1zaXppbmc6Y29udGVudC1ib3h9cHJle292ZXJmbG93OmF1dG99Y29kZSxrYmQscHJlLHNhbXB7Zm9udC1zaXplOjFlbX1rYmQscHJlLHNhbXB7Zm9udC1mYW1pbHk6bW9ub3NwYWNlLG1vbm9zcGFjZX1idXR0b24saW5wdXQsb3B0Z3JvdXAsc2VsZWN0LHRleHRhcmVhe2NvbG9yOmluaGVyaXQ7Zm9udDppbmhlcml0O21hcmdpbjowfWJ1dHRvbntvdmVyZmxvdzp2aXNpYmxlfWJ1dHRvbixzZWxlY3R7dGV4dC10cmFuc2Zvcm06bm9uZX1idXR0b24saHRtbCBpbnB1dFt0eXBlPVxcXCJidXR0b25cXFwiXSxpbnB1dFt0eXBlPVxcXCJyZXNldFxcXCJdLGlucHV0W3R5cGU9XFxcInN1Ym1pdFxcXCJdey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247Y3Vyc29yOnBvaW50ZXJ9YnV0dG9uW2Rpc2FibGVkXSxodG1sIGlucHV0W2Rpc2FibGVkXXtjdXJzb3I6ZGVmYXVsdH1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIsaW5wdXQ6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOjA7cGFkZGluZzowfWlucHV0e2xpbmUtaGVpZ2h0Om5vcm1hbH1pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLGlucHV0W3R5cGU9XFxcInJhZGlvXFxcIl17Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH1pbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixpbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbntoZWlnaHQ6YXV0b31pbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXXstd2Via2l0LWFwcGVhcmFuY2U6dGV4dGZpZWxkO2JveC1zaXppbmc6Y29udGVudC1ib3h9aW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWNhbmNlbC1idXR0b24saW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb257LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9ZmllbGRzZXR7Ym9yZGVyOjFweCBzb2xpZCBzaWx2ZXI7bWFyZ2luOjAgMnB4O3BhZGRpbmc6LjM1ZW0gLjYyNWVtIC43NWVtfWxlZ2VuZHtib3JkZXI6MDtwYWRkaW5nOjB9dGV4dGFyZWF7b3ZlcmZsb3c6YXV0b31vcHRncm91cHtmb250LXdlaWdodDo3MDB9dGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JvcmRlci1zcGFjaW5nOjB9dGQsdGgsKntwYWRkaW5nOjB9KnttYXJnaW46MH1odG1sey13ZWJraXQtdGV4dC1zaXplLWFkanVzdDphdXRvOy1tcy10ZXh0LXNpemUtYWRqdXN0OmF1dG87dGV4dC1zaXplLWFkanVzdDphdXRvfS5iZXNwb2tlLXBhcmVudHtmb250LXNpemU6MS41ZW07YmFja2dyb3VuZDojMTExO2NvbG9yOiNkZGQ7Zm9udC1mYW1pbHk6ZnV0dXJhLGhlbHZldGljYSxhcmlhbCxhcmlhbCxzYW5zLXNlcmlmO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZCAxcyBlYXNlO3RyYW5zaXRpb246YmFja2dyb3VuZCAxcyBlYXNlO2JhY2tncm91bmQtcG9zaXRpb246NTAlIDUwJX0uYmVzcG9rZS1wYXJlbnQsLmJlc3Bva2Utc2NhbGUtcGFyZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowfS5iZXNwb2tlLXNjYWxlLXBhcmVudHtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6MX0uYmVzcG9rZS1zY2FsZS1wYXJlbnQgLmJlc3Bva2UtYWN0aXZle3BvaW50ZXItZXZlbnRzOmF1dG99LmJlc3Bva2Utc2xpZGV7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjVzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC41cyBlYXNlO3dpZHRoOjk0MHB4O2hlaWdodDo0ODBweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi00NzBweDttYXJnaW4tdG9wOi0yNDBweDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LXdlYmtpdC1mbGV4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy13ZWJraXQtZmxleC1kaXJlY3Rpb246Y29sdW1uOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy13ZWJraXQtanVzdGlmeS1jb250ZW50OmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3otaW5kZXg6MX0uYmVzcG9rZS1hY3RpdmV7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi41czt0cmFuc2l0aW9uLWRlbGF5Oi41c30uYmVzcG9rZS1hY3RpdmVbZGF0YS1iZXNwb2tlLWJhY2tkcm9wXXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6Ljc1czt0cmFuc2l0aW9uLWRlbGF5Oi43NXN9LmJlc3Bva2UtaW5hY3RpdmV7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmV9LmJlc3Bva2UtYmFja2Ryb3B7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7aGVpZ2h0Oi4zdnc7ei1pbmRleDoxfS5iZXNwb2tlLXByb2dyZXNzLWJhcntiYWNrZ3JvdW5kOiNkZGQ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO2hlaWdodDoxMDAlOy13ZWJraXQtdHJhbnNpdGlvbjp3aWR0aCAxcyBlYXNlO3RyYW5zaXRpb246d2lkdGggMXMgZWFzZX0uYmVzcG9rZS1idWxsZXR7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlfS5iZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZXtvcGFjaXR5OjB9c3Ryb25ne2ZvbnQtd2VpZ2h0OjQwMH1ocnt3aWR0aDo1MCU7bWFyZ2luOjFyZW0gYXV0bztoZWlnaHQ6MXB4O2JvcmRlcjowO2JhY2tncm91bmQ6I2RkZH1oMyxwLGxpe3BhZGRpbmctbGVmdDoyMHB4O3BhZGRpbmctcmlnaHQ6MjBweH1oMyxoNCxwLGxpLHByZXtmb250LXdlaWdodDoyMDB9aDF7bGluZS1oZWlnaHQ6MS40ZW07cGFkZGluZzoxZW07Ym9yZGVyOjFweCBzb2xpZCAjZGRkO2JvcmRlci1sZWZ0LXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOjA7bWluLXdpZHRoOjhlbX1oMSxoMntsZXR0ZXItc3BhY2luZzouM2VtO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtmb250LXdlaWdodDo0MDA7bWFyZ2luOi4xN2VtIDA7cG9zaXRpb246cmVsYXRpdmV9aDJ7bGluZS1oZWlnaHQ6MS4xZW07cGFkZGluZzowIDAgMCAuM2VtfWgze2ZvbnQtZmFtaWx5OmRpZG90LHRpbWVzIG5ldyByb21hbixzZXJpZjtmb250LXN0eWxlOml0YWxpYztmb250LXNpemU6MS4yZW07bGluZS1oZWlnaHQ6MS42ZW07bWFyZ2luOi41ZW0gMH1oNHt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC1zaXplOi44ZW07bGluZS1oZWlnaHQ6MS44ZW07bGV0dGVyLXNwYWNpbmc6LjNlbTttYXJnaW46MWVtIDB9dWwsb2x7cGFkZGluZzowO21hcmdpbjowO3RleHQtYWxpZ246bGVmdH1saXtsaXN0LXN0eWxlOm5vbmU7bWFyZ2luOi4yZW07Zm9udC1zdHlsZTpub3JtYWw7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCl9bGk6YmVmb3Jle2NvbnRlbnQ6J1xcXFwyMDE0JzttYXJnaW4tcmlnaHQ6NHB4fXByZXtiYWNrZ3JvdW5kOm5vbmUhaW1wb3J0YW50fWNvZGV7Zm9udC1mYW1pbHk6cHJlc3RpZ2UgZWxpdGUgc3RkLGNvbnNvbGFzLGNvdXJpZXIgbmV3LG1vbm9zcGFjZSFpbXBvcnRhbnQ7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6MjAwIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnR9YXtwYWRkaW5nLWxlZnQ6LjNlbTtjb2xvcjpjdXJyZW50Q29sb3I7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgY3VycmVudENvbG9yfS5lbXBoYXRpY3tiYWNrZ3JvdW5kOiNmMzB9LnNpbmdsZS13b3Jkc3t3b3JkLXNwYWNpbmc6OTk5OXB4O2xpbmUtaGVpZ2h0OjIuOWVtO292ZXJmbG93OmhpZGRlbn0uYmVzcG9rZS1iYWNrZHJvcHtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSA2cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlLHRyYW5zZm9ybSA2cyBlYXNlO2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKXNjYWxlKDEuMyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMClzY2FsZSgxLjMpfS5iZXNwb2tlLWJhY2tkcm9wLWFjdGl2ZSwuYmVzcG9rZS1iYWNrZHJvcC1iZWZvcmV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKX0uYmVzcG9rZS1iYWNrZHJvcC1iZWZvcmV7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi4yczt0cmFuc2l0aW9uLWRlbGF5Oi4yc30uYmVzcG9rZS1iYWNrZHJvcC1hY3RpdmV7b3BhY2l0eTouNX1cIjtcbiAgaW5zZXJ0Q3NzKGNzcywgeyBwcmVwZW5kOiB0cnVlIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgY2xhc3NlcygpKGRlY2spO1xuICB9O1xufTtcblxufSx7XCJiZXNwb2tlLWNsYXNzZXNcIjoyLFwiaW5zZXJ0LWNzc1wiOjN9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGFkZENsYXNzID0gZnVuY3Rpb24oZWwsIGNscykge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLScgKyBjbHMpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbCwgY2xzKSB7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZVxuICAgICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoJ2Jlc3Bva2UtJyArIGNscyArJyhcXFxcc3wkKScsICdnJyksICcgJylcbiAgICAgICAgICAudHJpbSgpO1xuICAgICAgfSxcblxuICAgICAgZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uKGVsLCBpbmRleCkge1xuICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSBkZWNrLnNsaWRlc1tkZWNrLnNsaWRlKCldLFxuICAgICAgICAgIG9mZnNldCA9IGluZGV4IC0gZGVjay5zbGlkZSgpLFxuICAgICAgICAgIG9mZnNldENsYXNzID0gb2Zmc2V0ID4gMCA/ICdhZnRlcicgOiAnYmVmb3JlJztcblxuICAgICAgICBbJ2JlZm9yZSgtXFxcXGQrKT8nLCAnYWZ0ZXIoLVxcXFxkKyk/JywgJ2FjdGl2ZScsICdpbmFjdGl2ZSddLm1hcChyZW1vdmVDbGFzcy5iaW5kKG51bGwsIGVsKSk7XG5cbiAgICAgICAgaWYgKGVsICE9PSBhY3RpdmVTbGlkZSkge1xuICAgICAgICAgIFsnaW5hY3RpdmUnLCBvZmZzZXRDbGFzcywgb2Zmc2V0Q2xhc3MgKyAnLScgKyBNYXRoLmFicyhvZmZzZXQpXS5tYXAoYWRkQ2xhc3MuYmluZChudWxsLCBlbCkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgYWRkQ2xhc3MoZGVjay5wYXJlbnQsICdwYXJlbnQnKTtcbiAgICBkZWNrLnNsaWRlcy5tYXAoZnVuY3Rpb24oZWwpIHsgYWRkQ2xhc3MoZWwsICdzbGlkZScpOyB9KTtcblxuICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgZGVjay5zbGlkZXMubWFwKGRlYWN0aXZhdGUpO1xuICAgICAgYWRkQ2xhc3MoZS5zbGlkZSwgJ2FjdGl2ZScpO1xuICAgICAgcmVtb3ZlQ2xhc3MoZS5zbGlkZSwgJ2luYWN0aXZlJyk7XG4gICAgfSk7XG4gIH07XG59O1xuXG59LHt9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpbnNlcnRlZCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MsIG9wdGlvbnMpIHtcbiAgICBpZiAoaW5zZXJ0ZWRbY3NzXSkgcmV0dXJuO1xuICAgIGluc2VydGVkW2Nzc10gPSB0cnVlO1xuICAgIFxuICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuXG4gICAgaWYgKCd0ZXh0Q29udGVudCcgaW4gZWxlbSkge1xuICAgICAgZWxlbS50ZXh0Q29udGVudCA9IGNzcztcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgfVxuICAgIFxuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnByZXBlbmQpIHtcbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoZWxlbSwgaGVhZC5jaGlsZE5vZGVzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgIH1cbn07XG5cbn0se31dfSx7fSxbMV0pXG4oMSlcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLXRoZW1lLW5lYnVsYS9kaXN0L2Jlc3Bva2UtdGhlbWUtbmVidWxhLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBpc0hvcml6b250YWwgPSBvcHRpb25zICE9PSAndmVydGljYWwnO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDM0IHx8IC8vIFBBR0UgRE9XTlxuICAgICAgICAoZS53aGljaCA9PSAzMiAmJiAhZS5zaGlmdEtleSkgfHwgLy8gU1BBQ0UgV0lUSE9VVCBTSElGVFxuICAgICAgICAoaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzkpIHx8IC8vIFJJR0hUXG4gICAgICAgICghaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gNDApIC8vIERPV05cbiAgICAgICkgeyBkZWNrLm5leHQoKTsgfVxuXG4gICAgICBpZiAoZS53aGljaCA9PSAzMyB8fCAvLyBQQUdFIFVQXG4gICAgICAgIChlLndoaWNoID09IDMyICYmIGUuc2hpZnRLZXkpIHx8IC8vIFNQQUNFICsgU0hJRlRcbiAgICAgICAgKGlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM3KSB8fCAvLyBMRUZUXG4gICAgICAgICghaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzgpIC8vIFVQXG4gICAgICApIHsgZGVjay5wcmV2KCk7IH1cbiAgICB9KTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS1rZXlzL2xpYi9iZXNwb2tlLWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGF4aXMgPSBvcHRpb25zID09ICd2ZXJ0aWNhbCcgPyAnWScgOiAnWCcsXG4gICAgICBzdGFydFBvc2l0aW9uLFxuICAgICAgZGVsdGE7XG5cbiAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICBzdGFydFBvc2l0aW9uID0gZS50b3VjaGVzWzBdWydwYWdlJyArIGF4aXNdO1xuICAgICAgICBkZWx0YSA9IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZGVsdGEgPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc10gLSBzdGFydFBvc2l0aW9uO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVjay5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiA1MCkge1xuICAgICAgICBkZWNrW2RlbHRhID4gMCA/ICdwcmV2JyA6ICduZXh0J10oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS10b3VjaC9saWIvYmVzcG9rZS10b3VjaC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgYWN0aXZlU2xpZGVJbmRleCxcbiAgICAgIGFjdGl2ZUJ1bGxldEluZGV4LFxuXG4gICAgICBidWxsZXRzID0gZGVjay5zbGlkZXMubWFwKGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/IG9wdGlvbnMgOiAnW2RhdGEtYmVzcG9rZS1idWxsZXRdJykpLCAwKTtcbiAgICAgIH0pLFxuXG4gICAgICBuZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXh0U2xpZGVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXggKyAxO1xuXG4gICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KDEpKSB7XG4gICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggKyAxKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1tuZXh0U2xpZGVJbmRleF0pIHtcbiAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChuZXh0U2xpZGVJbmRleCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHByZXYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHByZXZTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCAtIDE7XG5cbiAgICAgICAgaWYgKGFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQoLTEpKSB7XG4gICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggLSAxKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1twcmV2U2xpZGVJbmRleF0pIHtcbiAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChwcmV2U2xpZGVJbmRleCwgYnVsbGV0c1twcmV2U2xpZGVJbmRleF0ubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGFjdGl2YXRlQnVsbGV0ID0gZnVuY3Rpb24oc2xpZGVJbmRleCwgYnVsbGV0SW5kZXgpIHtcbiAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IHNsaWRlSW5kZXg7XG4gICAgICAgIGFjdGl2ZUJ1bGxldEluZGV4ID0gYnVsbGV0SW5kZXg7XG5cbiAgICAgICAgYnVsbGV0cy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlLCBzKSB7XG4gICAgICAgICAgc2xpZGUuZm9yRWFjaChmdW5jdGlvbihidWxsZXQsIGIpIHtcbiAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldCcpO1xuXG4gICAgICAgICAgICBpZiAocyA8IHNsaWRlSW5kZXggfHwgcyA9PT0gc2xpZGVJbmRleCAmJiBiIDw9IGJ1bGxldEluZGV4KSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWluYWN0aXZlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtaW5hY3RpdmUnKTtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWFjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocyA9PT0gc2xpZGVJbmRleCAmJiBiID09PSBidWxsZXRJbmRleCkge1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtY3VycmVudCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWN1cnJlbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0ID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBidWxsZXRzW2FjdGl2ZVNsaWRlSW5kZXhdW2FjdGl2ZUJ1bGxldEluZGV4ICsgb2Zmc2V0XSAhPT0gdW5kZWZpbmVkO1xuICAgICAgfTtcblxuICAgIGRlY2sub24oJ25leHQnLCBuZXh0KTtcbiAgICBkZWNrLm9uKCdwcmV2JywgcHJldik7XG5cbiAgICBkZWNrLm9uKCdzbGlkZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGFjdGl2YXRlQnVsbGV0KGUuaW5kZXgsIDApO1xuICAgIH0pO1xuXG4gICAgYWN0aXZhdGVCdWxsZXQoMCwgMCk7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtYnVsbGV0cy9saWIvYmVzcG9rZS1idWxsZXRzLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGJhY2tkcm9wcztcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhY2tkcm9wRm9yU2xpZGUoc2xpZGUpIHtcbiAgICAgIHZhciBiYWNrZHJvcEF0dHJpYnV0ZSA9IHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWJhY2tkcm9wJyk7XG5cbiAgICAgIGlmIChiYWNrZHJvcEF0dHJpYnV0ZSkge1xuICAgICAgICB2YXIgYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYmFja2Ryb3AuY2xhc3NOYW1lID0gYmFja2Ryb3BBdHRyaWJ1dGU7XG4gICAgICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYmFja2Ryb3AnKTtcbiAgICAgICAgZGVjay5wYXJlbnQuYXBwZW5kQ2hpbGQoYmFja2Ryb3ApO1xuICAgICAgICByZXR1cm4gYmFja2Ryb3A7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NlcyhlbCkge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhY2tkcm9wcy5pbmRleE9mKGVsKSxcbiAgICAgICAgICBjdXJyZW50SW5kZXggPSBkZWNrLnNsaWRlKCk7XG5cbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdhY3RpdmUnKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdpbmFjdGl2ZScpO1xuICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2JlZm9yZScpO1xuICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2FmdGVyJyk7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2luYWN0aXZlJyk7XG4gICAgICAgICAgYWRkQ2xhc3MoZWwsIGluZGV4IDwgY3VycmVudEluZGV4ID8gJ2JlZm9yZScgOiAnYWZ0ZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1iYWNrZHJvcC0nICsgY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJhY2tkcm9wLScgKyBjbGFzc05hbWUpO1xuICAgIH1cblxuICAgIGJhY2tkcm9wcyA9IGRlY2suc2xpZGVzXG4gICAgICAubWFwKGNyZWF0ZUJhY2tkcm9wRm9yU2xpZGUpO1xuXG4gICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGJhY2tkcm9wcy5mb3JFYWNoKHVwZGF0ZUNsYXNzZXMpO1xuICAgIH0pO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLWJhY2tkcm9wL2xpYi9iZXNwb2tlLWJhY2tkcm9wLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBwYXJlbnQgPSBkZWNrLnBhcmVudCxcbiAgICAgIGZpcnN0U2xpZGUgPSBkZWNrLnNsaWRlc1swXSxcbiAgICAgIHNsaWRlSGVpZ2h0ID0gZmlyc3RTbGlkZS5vZmZzZXRIZWlnaHQsXG4gICAgICBzbGlkZVdpZHRoID0gZmlyc3RTbGlkZS5vZmZzZXRXaWR0aCxcbiAgICAgIHVzZVpvb20gPSBvcHRpb25zID09PSAnem9vbScgfHwgKCd6b29tJyBpbiBwYXJlbnQuc3R5bGUgJiYgb3B0aW9ucyAhPT0gJ3RyYW5zZm9ybScpLFxuXG4gICAgICB3cmFwID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXNjYWxlLXBhcmVudCc7XG4gICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWxlbWVudCk7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgICAgfSxcblxuICAgICAgZWxlbWVudHMgPSB1c2Vab29tID8gZGVjay5zbGlkZXMgOiBkZWNrLnNsaWRlcy5tYXAod3JhcCksXG5cbiAgICAgIHRyYW5zZm9ybVByb3BlcnR5ID0gKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgIHZhciBwcmVmaXhlcyA9ICdNb3ogV2Via2l0IE8gbXMnLnNwbGl0KCcgJyk7XG4gICAgICAgIHJldHVybiBwcmVmaXhlcy5yZWR1Y2UoZnVuY3Rpb24oY3VycmVudFByb3BlcnR5LCBwcmVmaXgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyBwcm9wZXJ0eSBpbiBwYXJlbnQuc3R5bGUgPyBwcmVmaXggKyBwcm9wZXJ0eSA6IGN1cnJlbnRQcm9wZXJ0eTtcbiAgICAgICAgICB9LCBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH0oJ1RyYW5zZm9ybScpKSxcblxuICAgICAgc2NhbGUgPSB1c2Vab29tID9cbiAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnpvb20gPSByYXRpbztcbiAgICAgICAgfSA6XG4gICAgICAgIGZ1bmN0aW9uKHJhdGlvLCBlbGVtZW50KSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZVt0cmFuc2Zvcm1Qcm9wZXJ0eV0gPSAnc2NhbGUoJyArIHJhdGlvICsgJyknO1xuICAgICAgICB9LFxuXG4gICAgICBzY2FsZUFsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeFNjYWxlID0gcGFyZW50Lm9mZnNldFdpZHRoIC8gc2xpZGVXaWR0aCxcbiAgICAgICAgICB5U2NhbGUgPSBwYXJlbnQub2Zmc2V0SGVpZ2h0IC8gc2xpZGVIZWlnaHQ7XG5cbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChzY2FsZS5iaW5kKG51bGwsIE1hdGgubWluKHhTY2FsZSwgeVNjYWxlKSkpO1xuICAgICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzY2FsZUFsbCk7XG4gICAgc2NhbGVBbGwoKTtcbiAgfTtcblxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLXNjYWxlL2xpYi9iZXNwb2tlLXNjYWxlLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGFjdGl2YXRlU2xpZGUgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgdmFyIGluZGV4VG9BY3RpdmF0ZSA9IC0xIDwgaW5kZXggJiYgaW5kZXggPCBkZWNrLnNsaWRlcy5sZW5ndGggPyBpbmRleCA6IDA7XG4gICAgICBpZiAoaW5kZXhUb0FjdGl2YXRlICE9PSBkZWNrLnNsaWRlKCkpIHtcbiAgICAgICAgZGVjay5zbGlkZShpbmRleFRvQWN0aXZhdGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcGFyc2VIYXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLFxuICAgICAgICBzbGlkZU51bWJlck9yTmFtZSA9IHBhcnNlSW50KGhhc2gsIDEwKTtcblxuICAgICAgaWYgKGhhc2gpIHtcbiAgICAgICAgaWYgKHNsaWRlTnVtYmVyT3JOYW1lKSB7XG4gICAgICAgICAgYWN0aXZhdGVTbGlkZShzbGlkZU51bWJlck9yTmFtZSAtIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlY2suc2xpZGVzLmZvckVhY2goZnVuY3Rpb24oc2xpZGUsIGkpIHtcbiAgICAgICAgICAgIGlmIChzbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1oYXNoJykgPT09IGhhc2ggfHwgc2xpZGUuaWQgPT09IGhhc2gpIHtcbiAgICAgICAgICAgICAgYWN0aXZhdGVTbGlkZShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgcGFyc2VIYXNoKCk7XG5cbiAgICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgc2xpZGVOYW1lID0gZS5zbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1oYXNoJykgfHwgZS5zbGlkZS5pZDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBzbGlkZU5hbWUgfHwgZS5pbmRleCArIDE7XG4gICAgICB9KTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBwYXJzZUhhc2gpO1xuICAgIH0sIDApO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLWhhc2gvbGliL2Jlc3Bva2UtaGFzaC5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkZWNrKSB7XG4gICAgdmFyIHByb2dyZXNzUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgcHJvcCA9IG9wdGlvbnMgPT09ICd2ZXJ0aWNhbCcgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgICBwcm9ncmVzc1BhcmVudC5jbGFzc05hbWUgPSAnYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnQnO1xuICAgIHByb2dyZXNzQmFyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXByb2dyZXNzLWJhcic7XG4gICAgcHJvZ3Jlc3NQYXJlbnQuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCYXIpO1xuICAgIGRlY2sucGFyZW50LmFwcGVuZENoaWxkKHByb2dyZXNzUGFyZW50KTtcblxuICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGVbcHJvcF0gPSAoZS5pbmRleCAqIDEwMCAvIChkZWNrLnNsaWRlcy5sZW5ndGggLSAxKSkgKyAnJSc7XG4gICAgfSk7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtcHJvZ3Jlc3MvbGliL2Jlc3Bva2UtcHJvZ3Jlc3MuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qZ2xvYmFsIG1vZHVsZTp0cnVlLCByZXF1aXJlOnRydWUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBwbHVnaW5OYW1lID0gXCJpbmRleGZpbmdlclwiLFxuICAgIC8vIEhhY2sgdG8gZ2V0IGFyb3VuZCBoYXZpbmcgdG8gd3JpdGUgYWxsIGJyb3dzZXIgY29kZSB3aXRoIHJlcXVpcmUoKS5cbiAgICBicm93c2VyR2xvYmFsID0gKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIGYoXCJyZXR1cm4gdGhpc1wiKSgpO1xuICAgIH0oRnVuY3Rpb24pKSxcbiAgICBjb252ZW5pZW50ID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuY29udmVuaWVudCkgfHwgcmVxdWlyZShcImJlc3Bva2UtY29udmVuaWVudFwiKSksXG4gICAgY3YgPSBjb252ZW5pZW50LmJ1aWxkZXIocGx1Z2luTmFtZSksXG5cbiAgICBwbHVnaW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWNrZXIgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgY3ZCb3VuZFRvRGVjayA9IGN2LmFjdGl2YXRlRGVjayhkZWNrKSxcblxuICAgICAgICAgICAgICAgIG9mZiA9IHt9LFxuXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBudWxsLFxuXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IC0xLFxuXG4gICAgICAgICAgICAgICAgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2ZmLnNhdmVBY3RpdmVTbGlkZSA9IHRoaXMub24oXCJhY3RpdmF0ZVwiLCB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5zYXZlQWN0aXZlU2xpZGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc2F2ZUFjdGl2ZVNsaWRlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZSA9IGUuc2xpZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gZS5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0QWN0aXZlU2xpZGVJbmRleDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suZ2V0QWN0aXZlU2xpZGUgPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZS5iaW5kKGRlY2spO1xuICAgICAgICAgICAgICAgICAgICBkZWNrLmdldEFjdGl2ZVNsaWRlSW5kZXggPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZUluZGV4LmJpbmQoZGVjayk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5lbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyLmNhbGwoZGVjayk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlY2tlcjtcbiAgICB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLWluZGV4ZmluZ2VyL2xpYi9iZXNwb2tlLWluZGV4ZmluZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgY29uc29sZTp0cnVlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgcGx1Z2luTmFtZSA9IFwiY29udmVuaWVudFwiLFxuICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfShGdW5jdGlvbikpLFxuXG4gICAgY3YsXG5cbiAgICAvLyBUaGUgZGVmYXVsdHMgb2JqZWN0IGlzIHBhc3NlZCBhcyBhIHJlZmVyZW5jZSwgYW5kIGNhbiBiZSBtb2RpZmllZCBieSBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRJbml0XG4gICAgZGVmYXVsdHMgPSB7XG4gICAgICAgIGxvZ2dlcjoge1xuICAgICAgICAgICAgbG9nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBwaGFudG9tLXBvbHlmaWxsLmpzIHByb2JsZW1zIGJpbmRpbmcgY29uc29sZS5sb2cgKHdpbmRvdy5jb25zb2xlLmxvZylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtZXJnZWQgPSB7fTtcblxuICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcbiAgICAgICAgbWVyZ2VkLmxvZ2dlciA9IHt9O1xuICAgICAgICBtZXJnZWQubG9nZ2VyLmxvZyA9IChicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zICYmIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyICYmIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZykgfHwgZGVmYXVsdHMubG9nZ2VyLmxvZztcblxuICAgICAgICBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zID0gbWVyZ2VkO1xuICAgIH0sXG5cbiAgICBwbHVnaW4gPSB7fSxcblxuICAgIGRlY2tzU3RvcmFnZXMgPSBbXSxcblxuICAgIGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVja0FscmVhZHlTdG9yZWQgPSBkZWNrc1N0b3JhZ2VzLnNvbWUoZnVuY3Rpb24oZGVja1N0b3JhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNrU3RvcmFnZS5kZWNrID09PSBkZWNrO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGVja0FscmVhZHlTdG9yZWQ7XG4gICAgfSxcblxuICAgIHN0b3JlRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgdmFyIGRlY2tBbHJlYWR5U3RvcmVkID0gaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2soZGVjayk7XG5cbiAgICAgICAgaWYgKCFkZWNrQWxyZWFkeVN0b3JlZCkge1xuICAgICAgICAgICAgZGVja3NTdG9yYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkZWNrOiBkZWNrLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IHt9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbiA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcbiAgICAgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWNrKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayksXG4gICAgICAgICAgICBpc1N0b3JhZ2VJbml0aWF0ZWQgPSAhIShzdG9yYWdlICYmIHN0b3JhZ2VbcGx1Z2luTmFtZV0pO1xuXG4gICAgICAgIHJldHVybiBpc1N0b3JhZ2VJbml0aWF0ZWQ7XG4gICAgfSxcblxuICAgIGluaXRpYXRlRGVja1BsdWdpblN0b3JhZ2UgPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG4gICAgICAgIGlmICghcGx1Z2luTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVjaykge1xuICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXG4gICAgICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgICAgICAgc3RvcmVEZWNrKGRlY2spO1xuICAgICAgICAgICAgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3JhZ2VbcGx1Z2luTmFtZV0gPSB7fTtcbiAgICB9LFxuXG4gICAgaXNOdW1iZXIgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgwODIvdmFsaWRhdGUtbnVtYmVycy1pbi1qYXZhc2NyaXB0LWlzbnVtZXJpY1xuICAgICAgICAvLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE4MzA4NDRcbiAgICAgICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbiAgICB9LFxuXG4gICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpbml0T3B0aW9ucygpO1xuICAgIH07XG5cbi8vIEZvciBwbHVnaW5zIHRoZW1zZWx2ZXNcbnBsdWdpbi5idWlsZGVyID0gZnVuY3Rpb24gc2VsZihvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgcGx1Z2luIG9wdGlvbnMgd2VyZSBub3QgcHJvcGVybHkgZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBwbHVnaW5OYW1lOiBvcHRpb25zXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnBsdWdpbk5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSBwbHVnaW4gbmFtZSB3YXMgbm90IHByb3Blcmx5IGRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIHZhciBleHRlcm5hbCA9IHt9LFxuXG4gICAgICAgIHRhZyA9IFwiYmVzcG9rZS5cIiArIG9wdGlvbnMucGx1Z2luTmFtZSxcblxuICAgICAgICBnZW5lcmF0ZUVycm9yT2JqZWN0ID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcih0YWcgKyBcIjogXCIgKyBtZXNzYWdlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudE5hbWVzcGFjZSA9IG9wdGlvbnMucGx1Z2luTmFtZSxcblxuICAgICAgICBldmVudEluTmFtZXNwYWNlID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnROYW1lc3BhY2UgKyBcIi5cIiArIGV2ZW50TmFtZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuICAgICAgICAvLyBNaW1pY2luZywgYW5kIGV4dGVuZGluZyx0aGUgaW50ZXJuYWwgY3JlYXRlRXZlbnREYXRhIGJlc3Bva2UgdXNlc1xuICAgICAgICBjcmVhdGVFdmVudERhdGEgPSBmdW5jdGlvbihkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcGx1Z2luLmNyZWF0ZUV2ZW50RGF0YS5jYWxsKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFRPRE86IGNyZWF0ZSBhIHNlY29uZCBvYmplY3QgYm91bmQgdG8gYm90aCB0aGlzIGV4dGVybmFsIG9iamVjdCBhbmQgdGhlIGRlY2ssXG4gICAgICAgIC8vIHRvIGF2b2lkIHBhc3NpbmcgdGhlIGRlY2sgcGFyYW1ldGVyIGV2ZXJ5IHRpbWUuIChXaGljaCBjYW4gYmUgYWxsZXZpYXRlZCB3aXRoIHNpbXBsZXIgZnVuY3Rpb24gYmluZGluZyB0aG91Z2guKVxuICAgICAgICBmaXJlID0gZnVuY3Rpb24oZGVjaywgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgY3VzdG9tRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlY2suZmlyZShldmVudEluTmFtZXNwYWNlKGV2ZW50TmFtZSksIGNyZWF0ZUV2ZW50RGF0YShkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgY3VzdG9tRGF0YSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxvZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHByZWZpeGVzID0gW3RhZ107XG5cbiAgICAgICAgICAgIC8vIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZyBpcyBkeW5hbWljLCBzbyBjYW4ndCBiaW5kIGRpcmVjdGx5IHRvIGl0XG4gICAgICAgICAgICBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cuYXBwbHkoYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nLCBwcmVmaXhlcy5jb25jYXQocGx1Z2luLmNvcHlBcnJheShhcmd1bWVudHMpKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICAgICAgdmFyIGlzU3RvcmFnZUluaXRpYXRlZCA9IGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luKG9wdGlvbnMucGx1Z2luTmFtZSwgZGVjayk7XG5cbiAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VJbml0aWF0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlICdcIiArIG9wdGlvbnMucGx1Z2luTmFtZSArIFwiJyBwbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhY3RpdmF0ZWQgZm9yIHRoaXMgZGVjaywgY2FuJ3QgYWN0aXZhdGUgaXQgdHdpY2UuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmRUb0RlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgZGVja0JvdW5kID0ge307XG5cbiAgICAgICAgICAgIGRlY2tCb3VuZC5jcmVhdGVFdmVudERhdGEgPSBleHRlcm5hbC5jcmVhdGVFdmVudERhdGEuYmluZCh0aGlzLCBkZWNrKTtcbiAgICAgICAgICAgIGRlY2tCb3VuZC5maXJlID0gZXh0ZXJuYWwuZmlyZS5iaW5kKHRoaXMsIGRlY2spO1xuICAgICAgICAgICAgZGVja0JvdW5kLmdldFN0b3JhZ2UgPSBleHRlcm5hbC5nZXRTdG9yYWdlLmJpbmQodGhpcywgZGVjayk7XG4gICAgICAgICAgICBkZWNrQm91bmQubG9nID0gZXh0ZXJuYWwubG9nLmJpbmQodGhpcywgZGVjayk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWNrQm91bmQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWN0aXZhdGVEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICAgICAgdmFyIGRlY2tCb3VuZDtcblxuICAgICAgICAgICAgdGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrKGRlY2spO1xuICAgICAgICAgICAgaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZShvcHRpb25zLnBsdWdpbk5hbWUsIGRlY2spO1xuXG4gICAgICAgICAgICBkZWNrQm91bmQgPSBiaW5kVG9EZWNrKGRlY2spO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVja0JvdW5kO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmRFeHRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXh0ZXJuYWwuY3JlYXRlRXZlbnREYXRhID0gY3JlYXRlRXZlbnREYXRhLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5nZW5lcmF0ZUVycm9yT2JqZWN0ID0gZ2VuZXJhdGVFcnJvck9iamVjdC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZXh0ZXJuYWwuZmlyZSA9IGZpcmUuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGV4dGVybmFsLmxvZyA9IGxvZy5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZXh0ZXJuYWwuYWN0aXZhdGVEZWNrID0gYWN0aXZhdGVEZWNrLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5nZXRTdG9yYWdlID0gcGx1Z2luLmdldERlY2tQbHVnaW5TdG9yYWdlLmJpbmQodGhpcywgb3B0aW9ucy5wbHVnaW5OYW1lKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBiaW5kRXh0ZXJuYWwoKTtcbiAgICAgICAgfTtcblxuICAgIGluaXQoKTtcblxuICAgIHJldHVybiBleHRlcm5hbDtcbn07XG5cbnBsdWdpbi5nZXREZWNrU3RvcmFnZSA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgc3RvcmFnZSA9IG51bGw7XG5cbiAgICBkZWNrc1N0b3JhZ2VzLnNvbWUoZnVuY3Rpb24oZGVja1N0b3JhZ2UpIHtcbiAgICAgICAgaWYgKGRlY2tTdG9yYWdlLmRlY2sgPT09IGRlY2spIHtcbiAgICAgICAgICAgIHN0b3JhZ2UgPSBkZWNrU3RvcmFnZS5zdG9yYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RvcmFnZTtcbn07XG5cbnBsdWdpbi5nZXREZWNrUGx1Z2luU3RvcmFnZSA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcbiAgICBpZiAoIXBsdWdpbk5hbWUpIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcblxuICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwic3RvcmFnZSB3YXMgbm90IGluaXRpYXRlZCBmb3IgdGhpcyBkZWNrLlwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RvcmFnZVtwbHVnaW5OYW1lXTtcbn07XG5cbi8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4vLyBNaW1pY2luZywgYW5kIGV4dGVuZGluZyx0aGUgaW50ZXJuYWwgY3JlYXRlRXZlbnREYXRhIGJlc3Bva2UgdXNlc1xucGx1Z2luLmNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpIHtcbiAgICBldmVudERhdGEgPSBldmVudERhdGEgfHwge307XG5cbiAgICBldmVudERhdGEuZXZlbnROYW1lc3BhY2UgPSBldmVudE5hbWVzcGFjZSB8fCBudWxsO1xuXG4gICAgZXZlbnREYXRhLmV2ZW50TmFtZSA9IGV2ZW50TmFtZSB8fCBudWxsO1xuXG4gICAgLy8gQ2FuIGJlIGVpdGhlciBhIERPTS9icm93c2VyIGV2ZW50IG9yIGEgYmVzcG9rZSBldmVudFxuICAgIGV2ZW50RGF0YS5pbm5lckV2ZW50ID0gaW5uZXJFdmVudCB8fCBudWxsO1xuXG4gICAgaWYgKGlzTnVtYmVyKHNsaWRlKSkge1xuICAgICAgICBldmVudERhdGEuaW5kZXggPSBzbGlkZTtcbiAgICAgICAgZXZlbnREYXRhLnNsaWRlID0gdGhpcy5zbGlkZXNbc2xpZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHRoaXMuc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuICAgICAgICBldmVudERhdGEuc2xpZGUgPSBzbGlkZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXZlbnREYXRhO1xufTtcblxucGx1Z2luLmNvcHlBcnJheSA9IGZ1bmN0aW9uKGFycikge1xuICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGFyciwgMCk7XG59O1xuXG5jdiA9IHBsdWdpbi5idWlsZGVyKHBsdWdpbk5hbWUpO1xuXG5pbml0KCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtY29udmVuaWVudC9saWIvYmVzcG9rZS1jb252ZW5pZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgcmVxdWlyZTp0cnVlLCB3aW5kb3c6dHJ1ZSwgZG9jdW1lbnQ6dHJ1ZSwgTWF0aDp0cnVlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgcGx1Z2luTmFtZSA9IFwic2Vjb25kYXJ5XCIsXG4gICAgLy8gSGFjayB0byBnZXQgYXJvdW5kIGhhdmluZyB0byB3cml0ZSBhbGwgYnJvd3NlciBjb2RlIHdpdGggcmVxdWlyZSgpLlxuICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfShGdW5jdGlvbikpLFxuICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCByZXF1aXJlKFwiYmVzcG9rZS1jb252ZW5pZW50XCIpKSxcbiAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblxuICAgIC8vIE1ha2luZyBzdXJlIGluZGV4ZmluZ2VyIGlzIGF2YWlsYWJsZS5cbiAgICAvLyBUT0RPOiBjaGVjayB0aGF0IGluZGV4ZmluZ2VyIGhhcyBiZWVuIGxvYWRlZDsgbWF5YmUgY2hlY2tpbmcgZm9yIGRlY2suZ2V0QWN0aXZlU2xpZGUoKS5cbiAgICBpbmRleGZpbmdlciA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmluZGV4ZmluZ2VyKSB8fCByZXF1aXJlKFwiYmVzcG9rZS1pbmRleGZpbmdlclwiKSksXG5cbiAgICBLZXlDb25zdGFudHMgPSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50I1ZpcnR1YWxfa2V5X2NvZGVzXG4gICAgICAgIFM6IDB4NTMsIC8vICg4MykgXCJTXCIga2V5LlxuICAgIH0sXG5cbiAgICBkZWZhdWx0cyA9IHtcbiAgICAgICAgbm90ZXM6IFwiYXNpZGVcIixcbiAgICAgICAga2V5czoge1xuICAgICAgICAgICAgdG9nZ2xlOiBLZXlDb25zdGFudHMuU1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHJhbmRvbUludGVnZXIgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICAgICAgICAvLyBUT0RPOiBsb29rIGZvciBzb21lb25lIGVsc2UncyBpbXBsZW1lbnRhdGlvbiAtIHRoZXkndmUgcHJvYmFibHkgY292ZXJlZCBhbGwgdGhlIGNvcm5lciBjYXNlcy5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgZG8gZm9yIDAgPD0gZnJvbSA8IHRvIDwgKHJhbmRvbSdzIHJlc29sdXRpb24pIHRob3VnaC5cbiAgICAgICAgdmFyIGRpZmYsXG4gICAgICAgICAgICBybmQ7XG5cbiAgICAgICAgaWYgKHRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRvID0gZnJvbTtcbiAgICAgICAgICAgIGZyb20gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlmZiA9IHRvIC0gZnJvbTtcblxuICAgICAgICBybmQgPSBmcm9tICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGlmZik7XG5cbiAgICAgICAgcmV0dXJuIHJuZDtcbiAgICB9LFxuXG4gICAgYmFzZVdpbmRvd05hbWUgPSBwbHVnaW5OYW1lICsgXCItd2luZG93LVwiLFxuXG4gICAgZ2VuZXJhdGVXaW5kb3dOYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBybmQgPSByYW5kb21JbnRlZ2VyKDEwMDAsIDEwMDAwKSxcbiAgICAgICAgICAgIHdpbmRvd05hbWUgPSBiYXNlV2luZG93TmFtZSArIHJuZDtcblxuICAgICAgICByZXR1cm4gd2luZG93TmFtZTtcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgIGRvYy5ib2R5LmlubmVySFRNTCA9IFwiPGgxPk5vdGVzPC9oMT48ZGl2IGlkPSdub3Rlcyc+PC9kaXY+XCI7XG4gICAgfSxcblxuICAgIHBsdWdpbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlY2tlciA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgICAgIHZhciBjdkJvdW5kVG9EZWNrID0gY3YuYWN0aXZhdGVEZWNrKGRlY2spLFxuXG4gICAgICAgICAgICAgICAgb2ZmID0ge30sXG5cbiAgICAgICAgICAgICAgICB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGdldE5vdGVzRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkud2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudCAmJiB0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3Rlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBpc09wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnNlY29uZGFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ID0gcy53aW5kb3csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXNJbml0aWFsaXplZCwgaXNOb3ROdWxsLCBpc05vdENsb3NlZCwgaXNPd25lZEJ5VGhpc1dpbmRvdywgY29udGFpbnNOb3Rlc0VsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAhIShzICE9PSB1bmRlZmluZWQgJiYgdyAhPT0gbnVsbCAmJiB3LmNsb3NlZCAhPT0gdHJ1ZSAmJiB3Lm9wZW5lciA9PT0gd2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpICE9PSBudWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBvcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cgPSB3aW5kb3cub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVTZWNvbmRhcnlXaW5kb3dDb250ZW50cyh0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOb3RlcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUgPSB0aGlzLmdldEFjdGl2ZVNsaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlTm90ZXMgPSBjb252ZW5pZW50LmNvcHlBcnJheShzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMubm90ZXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm90ZXMgPSBzbGlkZU5vdGVzLnJlZHVjZShmdW5jdGlvbihub3Rlc0h0bWwsIHNsaWRlTm90ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3Rlc0h0bWwgKyBzbGlkZU5vdGUub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gYWxsTm90ZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5V2luZG93TmFtZTogZ2VuZXJhdGVXaW5kb3dOYW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXROb3Rlc0VsZW1lbnQ6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5nZXROb3Rlc0VsZW1lbnQuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmlzT3Blbi5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLm9wZW4uYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuY2xvc2UuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuZm9jdXMuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLnRvZ2dsZS5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5zeW5jaHJvbml6ZS5iaW5kKGRlY2spXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG1lcmdlIGZ1bmN0aW9uP1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzID0ge307XG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzLnRvZ2dsZSA9IChvcHRpb25zLmtleXMgJiYgb3B0aW9ucy5rZXlzLnRvZ2dsZSkgfHwgZGVmYXVsdHMua2V5cy50b2dnbGU7XG5cbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLm5vdGVzID0gb3B0aW9ucy5ub3RlcyB8fCBkZWZhdWx0cy5ub3RlcztcblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gbWVyZ2VkO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBrZXlEb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudEhhbmRsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBObyBtb2RpZmllciBrZXlzLCBwbGVhc2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlLmFsdEtleSAmJiAhZS5jdHJsS2V5ICYmICFlLm1ldGFLZXkgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlZCA9IGV2ZW50SGFuZGxlZCB8fCAoZS53aGljaCA9PT0gb3B0aW9ucy5rZXlzLnRvZ2dsZSAmJiBjdkJvdW5kVG9EZWNrLmZpcmUoXCJ0b2dnbGVcIiwgZSkgJiYgZGVjay5zZWNvbmRhcnkudG9nZ2xlKCkgJiYgZGVjay5zZWNvbmRhcnkuc3luY2hyb25pemUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWV2ZW50SGFuZGxlZDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgb25CZWZvcmVVbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjay5zZWNvbmRhcnkuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgb25BY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeS5zeW5jaHJvbml6ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBlbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgZG9lc24ndCBzZWVtIHRvIHdvcmsgZm9yIG9uYmVmb3JldW5sb2FkXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IG9uQmVmb3JlVW5sb2FkO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleURvd25MaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBvZmYuYWN0aXZhdGUgPSBkZWNrLm9uKFwiYWN0aXZhdGVcIiwgb25BY3RpdmF0ZSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlY2tlcjtcbiAgICB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLXNlY29uZGFyeS9saWIvYmVzcG9rZS1zZWNvbmRhcnkuanNcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IFRlcm1pbmFsID0gcmVxdWlyZSgnZG9tLXRlcm1pbmFsL2xpYi90ZXJtaW5hbCcpXG5jb25zdCBwYXJzZXIgPSByZXF1aXJlKCd5YXJncy1wYXJzZXInKVxuY29uc3QgYm9vdCA9IHJlcXVpcmUoJy4vc3lzdGVtL2Jvb3QnKVxuXG5jb25zdCBjb21tYW5kcyA9IHtcbiAgbHM6IHJlcXVpcmUoJy4vY29tbWFuZHMvbHMnKSxcbiAgcHdkOiByZXF1aXJlKCcuL2NvbW1hbmRzL3B3ZCcpLFxuICBta2RpcjogcmVxdWlyZSgnLi9jb21tYW5kcy9ta2RpcicpLFxuICB0b3VjaDogcmVxdWlyZSgnLi9jb21tYW5kcy90b3VjaCcpLFxuICBjYXQ6IHJlcXVpcmUoJy4vY29tbWFuZHMvY2F0JyksXG4gIGNkOiByZXF1aXJlKCcuL2NvbW1hbmRzL2NkJyksXG4gIHJtOiByZXF1aXJlKCcuL2NvbW1hbmRzL3JtJyksXG4gIGNsZWFyOiByZXF1aXJlKCcuL2NvbW1hbmRzL2NsZWFyJyksXG4gIHRoZW1lOiByZXF1aXJlKCcuL2NvbW1hbmRzL3RoZW1lJyksXG4gIHZlcnNpb246IHJlcXVpcmUoJy4vY29tbWFuZHMvdmVyc2lvbicpLFxuXG4gIG5wbTogcmVxdWlyZSgnLi9jb21tYW5kcy9ucG0nKSxcbiAgJ2lwZnMtbnBtJzogcmVxdWlyZSgnLi9jb21tYW5kcy9pcGZzLW5wbScpXG59XG5cbmNvbW1hbmRzLmhlbHAgPSB7XG4gIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG4gICAgcmV0dXJuIGBDb21tYW5kczogJHtPYmplY3Qua2V5cyhjb21tYW5kcykuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKX08YnI+TW9yZSBoZWxwIGF2YWlsYWJsZSA8YSBjbGFzcz1cImV4dGVybmFsXCIgaHJlZj1cImh0dHA6Ly9naXRodWIuY29tL3Nhc2Fkam9saWMvZG9tLXRlcm1pbmFsXCIgdGFyZ2V0PVwiX2JsYW5rXCI+aGVyZTwvYT5gXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSAoZGVjaykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHRlcm1pbmFsID0gbmV3IFRlcm1pbmFsKCd0ZXJtaW5hbCcsIHt9LCB7XG4gICAgICBleGVjdXRlOiBmdW5jdGlvbihjbWQsIGFyZ3MpIHtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IGNvbW1hbmRzW2NtZF1cblxuICAgICAgICBpZiAoIWNvbW1hbmQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXJncyA9IHBhcnNlcihhcmdzLCBjb21tYW5kLmFyZ3MpXG5cbiAgICAgICAgICBsZXQgb3V0cHV0ID0gY29tbWFuZC5oYW5kbGVyKHRlcm1pbmFsLCBhcmdzKVxuXG4gICAgICAgICAgaWYgKG91dHB1dCA9PT0gdW5kZWZpbmVkIHx8IG91dHB1dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgb3V0cHV0ID0gJydcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZW9mIG91dHB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC9cXHQvZywgJycpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG91dHB1dFxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgICAgICByZXR1cm4gZXJyLm1lc3NhZ2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBib290KClcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvZGVjay5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuXG5cdHZhciBUZXJtaW5hbCA9IFRlcm1pbmFsIHx8IGZ1bmN0aW9uKGNvbnRhaW5lcklELCBvcHRpb25zKSB7XG5cdFx0aWYgKCFjb250YWluZXJJRCkgcmV0dXJuO1xuXG5cdFx0dmFyIGRlZmF1bHRzID0ge1xuXHRcdFx0d2VsY29tZTogJycsXG5cdFx0XHRwcm9tcHQ6ICcnLFxuXHRcdFx0c2VwYXJhdG9yOiAnJmd0OycsXG5cdFx0XHR0aGVtZTogJ2ludGVybGFjZWQnXG5cdFx0fTtcblxuXHRcdHZhciBvcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cztcblx0XHRvcHRpb25zLndlbGNvbWUgPSBvcHRpb25zLndlbGNvbWUgfHwgZGVmYXVsdHMud2VsY29tZTtcblx0XHRvcHRpb25zLnByb21wdCA9IG9wdGlvbnMucHJvbXB0IHx8IGRlZmF1bHRzLnByb21wdDtcblx0XHRvcHRpb25zLnNlcGFyYXRvciA9IG9wdGlvbnMuc2VwYXJhdG9yIHx8IGRlZmF1bHRzLnNlcGFyYXRvcjtcblx0XHRvcHRpb25zLnRoZW1lID0gb3B0aW9ucy50aGVtZSB8fCBkZWZhdWx0cy50aGVtZTtcblxuXHRcdHZhciBleHRlbnNpb25zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcblxuXHRcdHZhciBfaGlzdG9yeSA9IGxvY2FsU3RvcmFnZS5oaXN0b3J5ID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuaGlzdG9yeSkgOiBbXTtcblx0XHR2YXIgX2hpc3Rwb3MgPSBfaGlzdG9yeS5sZW5ndGg7XG5cdFx0dmFyIF9oaXN0dGVtcCA9ICcnO1xuXG5cdFx0Ly8gQ3JlYXRlIHRlcm1pbmFsIGFuZCBjYWNoZSBET00gbm9kZXM7XG5cdFx0dmFyIF90ZXJtaW5hbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklEKTtcblx0XHRfdGVybWluYWwuY2xhc3NMaXN0LmFkZCgndGVybWluYWwnKTtcblx0XHRfdGVybWluYWwuY2xhc3NMaXN0LmFkZCgndGVybWluYWwtJyArIG9wdGlvbnMudGhlbWUpO1xuXHRcdF90ZXJtaW5hbC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZUVuZCcsIFtcblx0XHRcdCc8ZGl2IGNsYXNzPVwiYmFja2dyb3VuZFwiPjxkaXYgY2xhc3M9XCJpbnRlcmxhY2VcIj48L2Rpdj48L2Rpdj4nLFxuXHRcdFx0JzxkaXYgY2xhc3M9XCJjb250YWluZXJcIj4nLFxuXHRcdFx0JzxvdXRwdXQ+PC9vdXRwdXQ+Jyxcblx0XHRcdCc8dGFibGUgY2xhc3M9XCJpbnB1dC1saW5lXCI+Jyxcblx0XHRcdCc8dHI+PHRkIG5vd3JhcD48ZGl2IGNsYXNzPVwicHJvbXB0XCI+JyArIG9wdGlvbnMucHJvbXB0ICsgb3B0aW9ucy5zZXBhcmF0b3IgKyAnPC9kaXY+PC90ZD48dGQgd2lkdGg9XCIxMDAlXCI+PGlucHV0IGNsYXNzPVwiY21kbGluZVwiIHNwZWxsY2hlY2s9XCJmYWxzZVwiIGF1dG9mb2N1cyAvPjwvdGQ+PC90cj4nLFxuXHRcdFx0JzwvdGFibGU+Jyxcblx0XHRcdCc8L2Rpdj4nXS5qb2luKCcnKSk7XG5cdFx0dmFyIF9jb250YWluZXIgPSBfdGVybWluYWwucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpO1xuXHRcdHZhciBfaW5wdXRMaW5lID0gX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaW5wdXQtbGluZScpO1xuXHRcdHZhciBfY21kTGluZSA9IF9jb250YWluZXIucXVlcnlTZWxlY3RvcignLmlucHV0LWxpbmUgLmNtZGxpbmUnKTtcblx0XHR2YXIgX291dHB1dCA9IF9jb250YWluZXIucXVlcnlTZWxlY3Rvcignb3V0cHV0Jyk7XG5cdFx0dmFyIF9wcm9tcHQgPSBfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wcm9tcHQnKTtcblx0XHR2YXIgX2JhY2tncm91bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFja2dyb3VuZCcpO1xuXG5cdFx0Ly8gSGFja2VyeSB0byByZXNpemUgdGhlIGludGVybGFjZSBiYWNrZ3JvdW5kIGltYWdlIGFzIHRoZSBjb250YWluZXIgZ3Jvd3MuXG5cdFx0X291dHB1dC5hZGRFdmVudExpc3RlbmVyKCdET01TdWJ0cmVlTW9kaWZpZWQnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHQvLyBXb3JrcyBiZXN0IHdpdGggdGhlIHNjcm9sbCBpbnRvIHZpZXcgd3JhcHBlZCBpbiBhIHNldFRpbWVvdXQuXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRfY21kTGluZS5zY3JvbGxJbnRvVmlldygpO1xuXHRcdFx0fSwgMCk7XG5cdFx0fSwgZmFsc2UpO1xuXG5cdFx0aWYgKG9wdGlvbnMud2VsY29tZSkge1xuXHRcdFx0b3V0cHV0KG9wdGlvbnMud2VsY29tZSk7XG5cdFx0fVxuXG5cdFx0X3Rlcm1pbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0X2NtZExpbmUuZm9jdXMoKTtcblx0XHR9LCBmYWxzZSk7XG5cblx0XHRfb3V0cHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9LCBmYWxzZSk7XG5cblx0XHQvLyBBbHdheXMgZm9yY2UgdGV4dCBjdXJzb3IgdG8gZW5kIG9mIGlucHV0IGxpbmUuXG5cdFx0X2NtZExpbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbnB1dFRleHRDbGljaywgZmFsc2UpO1xuXHRcdF9pbnB1dExpbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRfY21kTGluZS5mb2N1cygpO1xuXHRcdH0sIGZhbHNlKTtcblxuXHRcdC8vIEhhbmRsZSB1cC9kb3duIGtleSBwcmVzc2VzIGZvciBzaGVsbCBoaXN0b3J5IGFuZCBlbnRlciBmb3IgbmV3IGNvbW1hbmQuXG5cdFx0X2NtZExpbmUuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBoaXN0b3J5SGFuZGxlciwgZmFsc2UpO1xuXHRcdF9jbWRMaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBwcm9jZXNzTmV3Q29tbWFuZCwgdHJ1ZSk7XG5cblx0XHRmdW5jdGlvbiBpbnB1dFRleHRDbGljayhlKSB7XG5cdFx0XHR0aGlzLnZhbHVlID0gdGhpcy52YWx1ZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoaXN0b3J5SGFuZGxlcihlKSB7XG5cdFx0XHQvLyBDbGVhciBjb21tYW5kLWxpbmUgb24gRXNjYXBlIGtleS5cblx0XHRcdGlmIChlLmtleUNvZGUgPT0gMjcpIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9ICcnO1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChfaGlzdG9yeS5sZW5ndGggJiYgKGUua2V5Q29kZSA9PSAzOCB8fCBlLmtleUNvZGUgPT0gNDApKSB7XG5cdFx0XHRcdGlmIChfaGlzdG9yeVtfaGlzdHBvc10pIHtcblx0XHRcdFx0XHRfaGlzdG9yeVtfaGlzdHBvc10gPSB0aGlzLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdF9oaXN0dGVtcCA9IHRoaXMudmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09IDM4KSB7XG5cdFx0XHRcdFx0Ly8gVXAgYXJyb3cga2V5LlxuXHRcdFx0XHRcdF9oaXN0cG9zLS07XG5cdFx0XHRcdFx0aWYgKF9oaXN0cG9zIDwgMCkge1xuXHRcdFx0XHRcdFx0X2hpc3Rwb3MgPSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChlLmtleUNvZGUgPT0gNDApIHtcblx0XHRcdFx0XHQvLyBEb3duIGFycm93IGtleS5cblx0XHRcdFx0XHRfaGlzdHBvcysrO1xuXHRcdFx0XHRcdGlmIChfaGlzdHBvcyA+IF9oaXN0b3J5Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0X2hpc3Rwb3MgPSBfaGlzdG9yeS5sZW5ndGg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy52YWx1ZSA9IF9oaXN0b3J5W19oaXN0cG9zXSA/IF9oaXN0b3J5W19oaXN0cG9zXSA6IF9oaXN0dGVtcDtcblxuXHRcdFx0XHQvLyBNb3ZlIGN1cnNvciB0byBlbmQgb2YgaW5wdXQuXG5cdFx0XHRcdHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHByb2Nlc3NOZXdDb21tYW5kKGUpIHtcblx0XHRcdGlmIChjbWRMaW5lSXNWaXNpYmxlKCkpIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBoYW5kbGUgdGhlIEVudGVyIGtleS5cblx0XHRcdGlmIChlLmtleUNvZGUgIT0gMTMpIHJldHVybjtcblxuXHRcdFx0dmFyIGNtZGxpbmUgPSB0aGlzLnZhbHVlO1xuXG5cdFx0XHQvLyBTYXZlIHNoZWxsIGhpc3RvcnkuXG5cdFx0XHRpZiAoY21kbGluZSkge1xuXHRcdFx0XHRfaGlzdG9yeVtfaGlzdG9yeS5sZW5ndGhdID0gY21kbGluZTtcblx0XHRcdFx0bG9jYWxTdG9yYWdlWydoaXN0b3J5J10gPSBKU09OLnN0cmluZ2lmeShfaGlzdG9yeSk7XG5cdFx0XHRcdF9oaXN0cG9zID0gX2hpc3RvcnkubGVuZ3RoO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEdXBsaWNhdGUgY3VycmVudCBpbnB1dCBhbmQgYXBwZW5kIHRvIG91dHB1dCBzZWN0aW9uLlxuXHRcdFx0dmFyIGxpbmUgPSB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2xvbmVOb2RlKHRydWUpO1xuXHRcdFx0bGluZS5yZW1vdmVBdHRyaWJ1dGUoJ2lkJylcblx0XHRcdGxpbmUuY2xhc3NMaXN0LmFkZCgnbGluZScpO1xuXHRcdFx0dmFyIGlucHV0ID0gbGluZS5xdWVyeVNlbGVjdG9yKCdpbnB1dC5jbWRsaW5lJyk7XG5cdFx0XHRpbnB1dC5hdXRvZm9jdXMgPSBmYWxzZTtcblx0XHRcdGlucHV0LnJlYWRPbmx5ID0gdHJ1ZTtcblx0XHRcdGlucHV0Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBpbnB1dC52YWx1ZSk7XG5cdFx0XHRpbnB1dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlucHV0KTtcblx0XHRcdF9vdXRwdXQuYXBwZW5kQ2hpbGQobGluZSk7XG5cblx0XHRcdC8vIEhpZGUgY29tbWFuZCBsaW5lIHVudGlsIHdlJ3JlIGRvbmUgcHJvY2Vzc2luZyBpbnB1dC5cblx0XHRcdF9pbnB1dExpbmUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cblx0XHRcdC8vIENsZWFyL3NldHVwIGxpbmUgZm9yIG5leHQgaW5wdXQuXG5cdFx0XHR0aGlzLnZhbHVlID0gJyc7XG5cblx0XHRcdC8vIFBhcnNlIG91dCBjb21tYW5kLCBhcmdzLCBhbmQgdHJpbSBvZmYgd2hpdGVzcGFjZS5cblx0XHRcdGlmIChjbWRsaW5lICYmIGNtZGxpbmUudHJpbSgpKSB7XG5cdFx0XHRcdHZhciBhcmdzID0gY21kbGluZS5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbih2YWwsIGkpIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0dmFyIGNtZCA9IGFyZ3NbMF07XG5cdFx0XHRcdGFyZ3MgPSBhcmdzLnNwbGljZSgxKTsgLy8gUmVtb3ZlIGNtZCBmcm9tIGFyZyBsaXN0LlxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY21kKSB7XG5cdFx0XHRcdHZhciByZXNwb25zZSA9IGZhbHNlO1xuXHRcdFx0XHRmb3IgKHZhciBpbmRleCBpbiBleHRlbnNpb25zKSB7XG5cdFx0XHRcdFx0dmFyIGV4dCA9IGV4dGVuc2lvbnNbaW5kZXhdO1xuXHRcdFx0XHRcdGlmIChleHQuZXhlY3V0ZSkgcmVzcG9uc2UgPSBleHQuZXhlY3V0ZShjbWQsIGFyZ3MpO1xuXHRcdFx0XHRcdGlmIChyZXNwb25zZSAhPT0gZmFsc2UpIGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChyZXNwb25zZSA9PT0gZmFsc2UpIHJlc3BvbnNlID0gY21kICsgJzogY29tbWFuZCBub3QgZm91bmQnO1xuXHRcdFx0XHRvdXRwdXQocmVzcG9uc2UgfHwgJycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaG93IHRoZSBjb21tYW5kIGxpbmUuXG5cdFx0XHRfaW5wdXRMaW5lLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNsZWFyKCkge1xuXHRcdFx0X291dHB1dC5pbm5lckhUTUwgPSAnJztcblx0XHRcdF9jbWRMaW5lLnZhbHVlID0gJyc7XG5cdFx0XHRfYmFja2dyb3VuZC5zdHlsZS5taW5IZWlnaHQgPSAnJztcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvdXRwdXQoaHRtbCkge1xuXHRcdFx0X291dHB1dC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZUVuZCcsIGh0bWwpO1xuXHRcdFx0X2NtZExpbmUuc2Nyb2xsSW50b1ZpZXcoKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjbWRMaW5lSXNWaXNpYmxlICgpIHtcblx0XHRcdGxldCBwYXJlbnQgPSBfY21kTGluZS5wYXJlbnRFbGVtZW50XG5cblx0XHRcdHdoaWxlIChwYXJlbnQpIHtcblx0XHRcdFx0aWYgKChwYXJlbnQuY2xhc3NOYW1lIHx8ICcnKS5pbmNsdWRlcygnYWN0aXZlJykpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnRcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2xlYXI6IGNsZWFyLFxuXHRcdFx0c2V0UHJvbXB0OiBmdW5jdGlvbihwcm9tcHQpIHsgX3Byb21wdC5pbm5lckhUTUwgPSBwcm9tcHQgKyBvcHRpb25zLnNlcGFyYXRvcjsgfSxcblx0XHRcdGdldFByb21wdDogZnVuY3Rpb24oKSB7IHJldHVybiBfcHJvbXB0LmlubmVySFRNTC5yZXBsYWNlKG5ldyBSZWdFeHAob3B0aW9ucy5zZXBhcmF0b3IgKyAnJCcpLCAnJyk7IH0sXG5cdFx0XHRzZXRUaGVtZTogZnVuY3Rpb24odGhlbWUpIHsgX3Rlcm1pbmFsLmNsYXNzTGlzdC5yZW1vdmUoJ3Rlcm1pbmFsLScgKyBvcHRpb25zLnRoZW1lKTsgb3B0aW9ucy50aGVtZSA9IHRoZW1lOyBfdGVybWluYWwuY2xhc3NMaXN0LmFkZCgndGVybWluYWwtJyArIG9wdGlvbnMudGhlbWUpOyB9LFxuXHRcdFx0Z2V0VGhlbWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gb3B0aW9ucy50aGVtZTsgfSxcblx0XHRcdHByaW50OiBvdXRwdXRcblx0XHR9XG5cdH07XG5cblx0Ly8gbm9kZS5qc1xuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IFRlcm1pbmFsO1xuXG5cdC8vIHdlYiBicm93c2Vyc1xuXHR9IGVsc2Uge1xuXHRcdHZhciBvbGRUZXJtaW5hbCA9IGdsb2JhbC5UZXJtaW5hbDtcblx0XHRUZXJtaW5hbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0Z2xvYmFsLlRlcm1pbmFsID0gb2xkVGVybWluYWw7XG5cdFx0XHRyZXR1cm4gVGVybWluYWw7XG5cdFx0fTtcblx0XHRnbG9iYWwuVGVybWluYWwgPSBUZXJtaW5hbDtcblx0fVxuXG59KSh0aGlzKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9kb20tdGVybWluYWwvbGliL3Rlcm1pbmFsLmpzXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY2FtZWxDYXNlID0gcmVxdWlyZSgnY2FtZWxjYXNlJylcbnZhciBkZWNhbWVsaXplID0gcmVxdWlyZSgnZGVjYW1lbGl6ZScpXG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxudmFyIHRva2VuaXplQXJnU3RyaW5nID0gcmVxdWlyZSgnLi9saWIvdG9rZW5pemUtYXJnLXN0cmluZycpXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuXG5mdW5jdGlvbiBwYXJzZSAoYXJncywgb3B0cykge1xuICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuICAvLyBhbGxvdyBhIHN0cmluZyBhcmd1bWVudCB0byBiZSBwYXNzZWQgaW4gcmF0aGVyXG4gIC8vIHRoYW4gYW4gYXJndiBhcnJheS5cbiAgYXJncyA9IHRva2VuaXplQXJnU3RyaW5nKGFyZ3MpXG5cbiAgLy8gYWxpYXNlcyBtaWdodCBoYXZlIHRyYW5zaXRpdmUgcmVsYXRpb25zaGlwcywgbm9ybWFsaXplIHRoaXMuXG4gIHZhciBhbGlhc2VzID0gY29tYmluZUFsaWFzZXMob3B0cy5hbGlhcyB8fCB7fSlcbiAgdmFyIGNvbmZpZ3VyYXRpb24gPSBPYmplY3QuYXNzaWduKHtcbiAgICAnc2hvcnQtb3B0aW9uLWdyb3Vwcyc6IHRydWUsXG4gICAgJ2NhbWVsLWNhc2UtZXhwYW5zaW9uJzogdHJ1ZSxcbiAgICAnZG90LW5vdGF0aW9uJzogdHJ1ZSxcbiAgICAncGFyc2UtbnVtYmVycyc6IHRydWUsXG4gICAgJ2Jvb2xlYW4tbmVnYXRpb24nOiB0cnVlLFxuICAgICduZWdhdGlvbi1wcmVmaXgnOiAnbm8tJyxcbiAgICAnZHVwbGljYXRlLWFyZ3VtZW50cy1hcnJheSc6IHRydWUsXG4gICAgJ2ZsYXR0ZW4tZHVwbGljYXRlLWFycmF5cyc6IHRydWUsXG4gICAgJ3BvcHVsYXRlLS0nOiBmYWxzZSxcbiAgICAnY29tYmluZS1hcnJheXMnOiBmYWxzZSxcbiAgICAnc2V0LXBsYWNlaG9sZGVyLWtleSc6IGZhbHNlLFxuICAgICdoYWx0LWF0LW5vbi1vcHRpb24nOiBmYWxzZSxcbiAgICAnc3RyaXAtYWxpYXNlZCc6IGZhbHNlLFxuICAgICdzdHJpcC1kYXNoZWQnOiBmYWxzZVxuICB9LCBvcHRzLmNvbmZpZ3VyYXRpb24pXG4gIHZhciBkZWZhdWx0cyA9IG9wdHMuZGVmYXVsdCB8fCB7fVxuICB2YXIgY29uZmlnT2JqZWN0cyA9IG9wdHMuY29uZmlnT2JqZWN0cyB8fCBbXVxuICB2YXIgZW52UHJlZml4ID0gb3B0cy5lbnZQcmVmaXhcbiAgdmFyIG5vdEZsYWdzT3B0aW9uID0gY29uZmlndXJhdGlvblsncG9wdWxhdGUtLSddXG4gIHZhciBub3RGbGFnc0FyZ3YgPSBub3RGbGFnc09wdGlvbiA/ICctLScgOiAnXydcbiAgdmFyIG5ld0FsaWFzZXMgPSB7fVxuICAvLyBhbGxvdyBhIGkxOG4gaGFuZGxlciB0byBiZSBwYXNzZWQgaW4sIGRlZmF1bHQgdG8gYSBmYWtlIG9uZSAodXRpbC5mb3JtYXQpLlxuICB2YXIgX18gPSBvcHRzLl9fIHx8IHV0aWwuZm9ybWF0XG4gIHZhciBlcnJvciA9IG51bGxcbiAgdmFyIGZsYWdzID0ge1xuICAgIGFsaWFzZXM6IHt9LFxuICAgIGFycmF5czoge30sXG4gICAgYm9vbHM6IHt9LFxuICAgIHN0cmluZ3M6IHt9LFxuICAgIG51bWJlcnM6IHt9LFxuICAgIGNvdW50czoge30sXG4gICAgbm9ybWFsaXplOiB7fSxcbiAgICBjb25maWdzOiB7fSxcbiAgICBkZWZhdWx0ZWQ6IHt9LFxuICAgIG5hcmdzOiB7fSxcbiAgICBjb2VyY2lvbnM6IHt9LFxuICAgIGtleXM6IFtdXG4gIH1cbiAgdmFyIG5lZ2F0aXZlID0gL14tWzAtOV0rKFxcLlswLTldKyk/L1xuICB2YXIgbmVnYXRlZEJvb2xlYW4gPSBuZXcgUmVnRXhwKCdeLS0nICsgY29uZmlndXJhdGlvblsnbmVnYXRpb24tcHJlZml4J10gKyAnKC4rKScpXG5cbiAgO1tdLmNvbmNhdChvcHRzLmFycmF5KS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAob3B0KSB7XG4gICAgdmFyIGtleSA9IG9wdC5rZXkgfHwgb3B0XG5cbiAgICAvLyBhc3NpZ24gdG8gZmxhZ3NbYm9vbHN8c3RyaW5nc3xudW1iZXJzXVxuICAgIGNvbnN0IGFzc2lnbm1lbnQgPSBPYmplY3Qua2V5cyhvcHQpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gKHtcbiAgICAgICAgYm9vbGVhbjogJ2Jvb2xzJyxcbiAgICAgICAgc3RyaW5nOiAnc3RyaW5ncycsXG4gICAgICAgIG51bWJlcjogJ251bWJlcnMnXG4gICAgICB9KVtrZXldXG4gICAgfSkuZmlsdGVyKEJvb2xlYW4pLnBvcCgpXG5cbiAgICAvLyBhc3NpZ24ga2V5IHRvIGJlIGNvZXJjZWRcbiAgICBpZiAoYXNzaWdubWVudCkge1xuICAgICAgZmxhZ3NbYXNzaWdubWVudF1ba2V5XSA9IHRydWVcbiAgICB9XG5cbiAgICBmbGFncy5hcnJheXNba2V5XSA9IHRydWVcbiAgICBmbGFncy5rZXlzLnB1c2goa2V5KVxuICB9KVxuXG4gIDtbXS5jb25jYXQob3B0cy5ib29sZWFuKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZmxhZ3MuYm9vbHNba2V5XSA9IHRydWVcbiAgICBmbGFncy5rZXlzLnB1c2goa2V5KVxuICB9KVxuXG4gIDtbXS5jb25jYXQob3B0cy5zdHJpbmcpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBmbGFncy5zdHJpbmdzW2tleV0gPSB0cnVlXG4gICAgZmxhZ3Mua2V5cy5wdXNoKGtleSlcbiAgfSlcblxuICA7W10uY29uY2F0KG9wdHMubnVtYmVyKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZmxhZ3MubnVtYmVyc1trZXldID0gdHJ1ZVxuICAgIGZsYWdzLmtleXMucHVzaChrZXkpXG4gIH0pXG5cbiAgO1tdLmNvbmNhdChvcHRzLmNvdW50KS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZmxhZ3MuY291bnRzW2tleV0gPSB0cnVlXG4gICAgZmxhZ3Mua2V5cy5wdXNoKGtleSlcbiAgfSlcblxuICA7W10uY29uY2F0KG9wdHMubm9ybWFsaXplKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZmxhZ3Mubm9ybWFsaXplW2tleV0gPSB0cnVlXG4gICAgZmxhZ3Mua2V5cy5wdXNoKGtleSlcbiAgfSlcblxuICBPYmplY3Qua2V5cyhvcHRzLm5hcmcgfHwge30pLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBmbGFncy5uYXJnc1trXSA9IG9wdHMubmFyZ1trXVxuICAgIGZsYWdzLmtleXMucHVzaChrKVxuICB9KVxuXG4gIE9iamVjdC5rZXlzKG9wdHMuY29lcmNlIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgZmxhZ3MuY29lcmNpb25zW2tdID0gb3B0cy5jb2VyY2Vba11cbiAgICBmbGFncy5rZXlzLnB1c2goaylcbiAgfSlcblxuICBpZiAoQXJyYXkuaXNBcnJheShvcHRzLmNvbmZpZykgfHwgdHlwZW9mIG9wdHMuY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIDtbXS5jb25jYXQob3B0cy5jb25maWcpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGZsYWdzLmNvbmZpZ3Nba2V5XSA9IHRydWVcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIE9iamVjdC5rZXlzKG9wdHMuY29uZmlnIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICBmbGFncy5jb25maWdzW2tdID0gb3B0cy5jb25maWdba11cbiAgICB9KVxuICB9XG5cbiAgLy8gY3JlYXRlIGEgbG9va3VwIHRhYmxlIHRoYXQgdGFrZXMgaW50byBhY2NvdW50IGFsbFxuICAvLyBjb21iaW5hdGlvbnMgb2YgYWxpYXNlczoge2Y6IFsnZm9vJ10sIGZvbzogWydmJ119XG4gIGV4dGVuZEFsaWFzZXMob3B0cy5rZXksIGFsaWFzZXMsIG9wdHMuZGVmYXVsdCwgZmxhZ3MuYXJyYXlzKVxuXG4gIC8vIGFwcGx5IGRlZmF1bHQgdmFsdWVzIHRvIGFsbCBhbGlhc2VzLlxuICBPYmplY3Qua2V5cyhkZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgKGZsYWdzLmFsaWFzZXNba2V5XSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoYWxpYXMpIHtcbiAgICAgIGRlZmF1bHRzW2FsaWFzXSA9IGRlZmF1bHRzW2tleV1cbiAgICB9KVxuICB9KVxuXG4gIHZhciBhcmd2ID0geyBfOiBbXSB9XG5cbiAgT2JqZWN0LmtleXMoZmxhZ3MuYm9vbHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVmYXVsdHMsIGtleSkpIHtcbiAgICAgIHNldEFyZyhrZXksIGRlZmF1bHRzW2tleV0pXG4gICAgICBzZXREZWZhdWx0ZWQoa2V5KVxuICAgIH1cbiAgfSlcblxuICB2YXIgbm90RmxhZ3MgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhcmcgPSBhcmdzW2ldXG4gICAgdmFyIGJyb2tlblxuICAgIHZhciBrZXlcbiAgICB2YXIgbGV0dGVyc1xuICAgIHZhciBtXG4gICAgdmFyIG5leHRcbiAgICB2YXIgdmFsdWVcblxuICAgIC8vIC0tIHNlcGFyYXRlZCBieSA9XG4gICAgaWYgKGFyZy5tYXRjaCgvXi0tLis9LykgfHwgKFxuICAgICAgIWNvbmZpZ3VyYXRpb25bJ3Nob3J0LW9wdGlvbi1ncm91cHMnXSAmJiBhcmcubWF0Y2goL14tLis9LylcbiAgICApKSB7XG4gICAgICAvLyBVc2luZyBbXFxzXFxTXSBpbnN0ZWFkIG9mIC4gYmVjYXVzZSBqcyBkb2Vzbid0IHN1cHBvcnQgdGhlXG4gICAgICAvLyAnZG90YWxsJyByZWdleCBtb2RpZmllci4gU2VlOlxuICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTA2ODMwOC8xMzIxNlxuICAgICAgbSA9IGFyZy5tYXRjaCgvXi0tPyhbXj1dKyk9KFtcXHNcXFNdKikkLylcblxuICAgICAgLy8gbmFyZ3MgZm9ybWF0ID0gJy0tZj1tb25rZXkgd2FzaGluZyBjYXQnXG4gICAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKG1bMV0sIGZsYWdzLm5hcmdzKSkge1xuICAgICAgICBhcmdzLnNwbGljZShpICsgMSwgMCwgbVsyXSlcbiAgICAgICAgaSA9IGVhdE5hcmdzKGksIG1bMV0sIGFyZ3MpXG4gICAgICAvLyBhcnJheXMgZm9ybWF0ID0gJy0tZj1hIGIgYydcbiAgICAgIH0gZWxzZSBpZiAoY2hlY2tBbGxBbGlhc2VzKG1bMV0sIGZsYWdzLmFycmF5cykgJiYgYXJncy5sZW5ndGggPiBpICsgMSkge1xuICAgICAgICBhcmdzLnNwbGljZShpICsgMSwgMCwgbVsyXSlcbiAgICAgICAgaSA9IGVhdEFycmF5KGksIG1bMV0sIGFyZ3MpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRBcmcobVsxXSwgbVsyXSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZy5tYXRjaChuZWdhdGVkQm9vbGVhbikgJiYgY29uZmlndXJhdGlvblsnYm9vbGVhbi1uZWdhdGlvbiddKSB7XG4gICAgICBrZXkgPSBhcmcubWF0Y2gobmVnYXRlZEJvb2xlYW4pWzFdXG4gICAgICBzZXRBcmcoa2V5LCBmYWxzZSlcblxuICAgIC8vIC0tIHNlcGVyYXRlZCBieSBzcGFjZS5cbiAgICB9IGVsc2UgaWYgKGFyZy5tYXRjaCgvXi0tLisvKSB8fCAoXG4gICAgICAhY29uZmlndXJhdGlvblsnc2hvcnQtb3B0aW9uLWdyb3VwcyddICYmIGFyZy5tYXRjaCgvXi1bXi1dKy8pXG4gICAgKSkge1xuICAgICAga2V5ID0gYXJnLm1hdGNoKC9eLS0/KC4rKS8pWzFdXG5cbiAgICAgIC8vIG5hcmdzIGZvcm1hdCA9ICctLWZvbyBhIGIgYydcbiAgICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncykpIHtcbiAgICAgICAgaSA9IGVhdE5hcmdzKGksIGtleSwgYXJncylcbiAgICAgIC8vIGFycmF5IGZvcm1hdCA9ICctLWZvbyBhIGIgYydcbiAgICAgIH0gZWxzZSBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYXJyYXlzKSAmJiBhcmdzLmxlbmd0aCA+IGkgKyAxKSB7XG4gICAgICAgIGkgPSBlYXRBcnJheShpLCBrZXksIGFyZ3MpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0ID0gZmxhZ3MubmFyZ3Nba2V5XSA9PT0gMCA/IHVuZGVmaW5lZCA6IGFyZ3NbaSArIDFdXG5cbiAgICAgICAgaWYgKG5leHQgIT09IHVuZGVmaW5lZCAmJiAoIW5leHQubWF0Y2goL14tLykgfHxcbiAgICAgICAgICBuZXh0Lm1hdGNoKG5lZ2F0aXZlKSkgJiZcbiAgICAgICAgICAhY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYm9vbHMpICYmXG4gICAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpIHtcbiAgICAgICAgICBzZXRBcmcoa2V5LCBuZXh0KVxuICAgICAgICAgIGkrK1xuICAgICAgICB9IGVsc2UgaWYgKC9eKHRydWV8ZmFsc2UpJC8udGVzdChuZXh0KSkge1xuICAgICAgICAgIHNldEFyZyhrZXksIG5leHQpXG4gICAgICAgICAgaSsrXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0QXJnKGtleSwgZGVmYXVsdFZhbHVlKGtleSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIC8vIGRvdC1ub3RhdGlvbiBmbGFnIHNlcGVyYXRlZCBieSAnPScuXG4gICAgfSBlbHNlIGlmIChhcmcubWF0Y2goL14tLlxcLi4rPS8pKSB7XG4gICAgICBtID0gYXJnLm1hdGNoKC9eLShbXj1dKyk9KFtcXHNcXFNdKikkLylcbiAgICAgIHNldEFyZyhtWzFdLCBtWzJdKVxuXG4gICAgLy8gZG90LW5vdGF0aW9uIGZsYWcgc2VwZXJhdGVkIGJ5IHNwYWNlLlxuICAgIH0gZWxzZSBpZiAoYXJnLm1hdGNoKC9eLS5cXC4uKy8pKSB7XG4gICAgICBuZXh0ID0gYXJnc1tpICsgMV1cbiAgICAgIGtleSA9IGFyZy5tYXRjaCgvXi0oLlxcLi4rKS8pWzFdXG5cbiAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgIW5leHQubWF0Y2goL14tLykgJiZcbiAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSAmJlxuICAgICAgICAhY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuY291bnRzKSkge1xuICAgICAgICBzZXRBcmcoa2V5LCBuZXh0KVxuICAgICAgICBpKytcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEFyZyhrZXksIGRlZmF1bHRWYWx1ZShrZXkpKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJnLm1hdGNoKC9eLVteLV0rLykgJiYgIWFyZy5tYXRjaChuZWdhdGl2ZSkpIHtcbiAgICAgIGxldHRlcnMgPSBhcmcuc2xpY2UoMSwgLTEpLnNwbGl0KCcnKVxuICAgICAgYnJva2VuID0gZmFsc2VcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZXR0ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIG5leHQgPSBhcmcuc2xpY2UoaiArIDIpXG5cbiAgICAgICAgaWYgKGxldHRlcnNbaiArIDFdICYmIGxldHRlcnNbaiArIDFdID09PSAnPScpIHtcbiAgICAgICAgICB2YWx1ZSA9IGFyZy5zbGljZShqICsgMylcbiAgICAgICAgICBrZXkgPSBsZXR0ZXJzW2pdXG5cbiAgICAgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLWY9bW9ua2V5IHdhc2hpbmcgY2F0J1xuICAgICAgICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncykpIHtcbiAgICAgICAgICAgIGFyZ3Muc3BsaWNlKGkgKyAxLCAwLCB2YWx1ZSlcbiAgICAgICAgICAgIGkgPSBlYXROYXJncyhpLCBrZXksIGFyZ3MpXG4gICAgICAgICAgLy8gYXJyYXkgZm9ybWF0ID0gJy1mPWEgYiBjJ1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYXJyYXlzKSAmJiBhcmdzLmxlbmd0aCA+IGkgKyAxKSB7XG4gICAgICAgICAgICBhcmdzLnNwbGljZShpICsgMSwgMCwgdmFsdWUpXG4gICAgICAgICAgICBpID0gZWF0QXJyYXkoaSwga2V5LCBhcmdzKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRBcmcoa2V5LCB2YWx1ZSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicm9rZW4gPSB0cnVlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0ID09PSAnLScpIHtcbiAgICAgICAgICBzZXRBcmcobGV0dGVyc1tqXSwgbmV4dClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3VycmVudCBsZXR0ZXIgaXMgYW4gYWxwaGFiZXRpYyBjaGFyYWN0ZXIgYW5kIG5leHQgdmFsdWUgaXMgYSBudW1iZXJcbiAgICAgICAgaWYgKC9bQS1aYS16XS8udGVzdChsZXR0ZXJzW2pdKSAmJlxuICAgICAgICAgIC9eLT9cXGQrKFxcLlxcZCopPyhlLT9cXGQrKT8kLy50ZXN0KG5leHQpKSB7XG4gICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQpXG4gICAgICAgICAgYnJva2VuID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGV0dGVyc1tqICsgMV0gJiYgbGV0dGVyc1tqICsgMV0ubWF0Y2goL1xcVy8pKSB7XG4gICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQpXG4gICAgICAgICAgYnJva2VuID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIGRlZmF1bHRWYWx1ZShsZXR0ZXJzW2pdKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBrZXkgPSBhcmcuc2xpY2UoLTEpWzBdXG5cbiAgICAgIGlmICghYnJva2VuICYmIGtleSAhPT0gJy0nKSB7XG4gICAgICAgIC8vIG5hcmdzIGZvcm1hdCA9ICctZiBhIGIgYydcbiAgICAgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm5hcmdzKSkge1xuICAgICAgICAgIGkgPSBlYXROYXJncyhpLCBrZXksIGFyZ3MpXG4gICAgICAgIC8vIGFycmF5IGZvcm1hdCA9ICctZiBhIGIgYydcbiAgICAgICAgfSBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpICYmIGFyZ3MubGVuZ3RoID4gaSArIDEpIHtcbiAgICAgICAgICBpID0gZWF0QXJyYXkoaSwga2V5LCBhcmdzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHQgPSBhcmdzW2kgKyAxXVxuXG4gICAgICAgICAgaWYgKG5leHQgIT09IHVuZGVmaW5lZCAmJiAoIS9eKC18LS0pW14tXS8udGVzdChuZXh0KSB8fFxuICAgICAgICAgICAgbmV4dC5tYXRjaChuZWdhdGl2ZSkpICYmXG4gICAgICAgICAgICAhY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYm9vbHMpICYmXG4gICAgICAgICAgICAhY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuY291bnRzKSkge1xuICAgICAgICAgICAgc2V0QXJnKGtleSwgbmV4dClcbiAgICAgICAgICAgIGkrK1xuICAgICAgICAgIH0gZWxzZSBpZiAoL14odHJ1ZXxmYWxzZSkkLy50ZXN0KG5leHQpKSB7XG4gICAgICAgICAgICBzZXRBcmcoa2V5LCBuZXh0KVxuICAgICAgICAgICAgaSsrXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEFyZyhrZXksIGRlZmF1bHRWYWx1ZShrZXkpKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJnID09PSAnLS0nKSB7XG4gICAgICBub3RGbGFncyA9IGFyZ3Muc2xpY2UoaSArIDEpXG4gICAgICBicmVha1xuICAgIH0gZWxzZSBpZiAoY29uZmlndXJhdGlvblsnaGFsdC1hdC1ub24tb3B0aW9uJ10pIHtcbiAgICAgIG5vdEZsYWdzID0gYXJncy5zbGljZShpKVxuICAgICAgYnJlYWtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJndi5fLnB1c2gobWF5YmVDb2VyY2VOdW1iZXIoJ18nLCBhcmcpKVxuICAgIH1cbiAgfVxuXG4gIC8vIG9yZGVyIG9mIHByZWNlZGVuY2U6XG4gIC8vIDEuIGNvbW1hbmQgbGluZSBhcmdcbiAgLy8gMi4gdmFsdWUgZnJvbSBlbnYgdmFyXG4gIC8vIDMuIHZhbHVlIGZyb20gY29uZmlnIGZpbGVcbiAgLy8gNC4gdmFsdWUgZnJvbSBjb25maWcgb2JqZWN0c1xuICAvLyA1LiBjb25maWd1cmVkIGRlZmF1bHQgdmFsdWVcbiAgYXBwbHlFbnZWYXJzKGFyZ3YsIHRydWUpIC8vIHNwZWNpYWwgY2FzZTogY2hlY2sgZW52IHZhcnMgdGhhdCBwb2ludCB0byBjb25maWcgZmlsZVxuICBhcHBseUVudlZhcnMoYXJndiwgZmFsc2UpXG4gIHNldENvbmZpZyhhcmd2KVxuICBzZXRDb25maWdPYmplY3RzKClcbiAgYXBwbHlEZWZhdWx0c0FuZEFsaWFzZXMoYXJndiwgZmxhZ3MuYWxpYXNlcywgZGVmYXVsdHMpXG4gIGFwcGx5Q29lcmNpb25zKGFyZ3YpXG4gIGlmIChjb25maWd1cmF0aW9uWydzZXQtcGxhY2Vob2xkZXIta2V5J10pIHNldFBsYWNlaG9sZGVyS2V5cyhhcmd2KVxuXG4gIC8vIGZvciBhbnkgY291bnRzIGVpdGhlciBub3QgaW4gYXJncyBvciB3aXRob3V0IGFuIGV4cGxpY2l0IGRlZmF1bHQsIHNldCB0byAwXG4gIE9iamVjdC5rZXlzKGZsYWdzLmNvdW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFoYXNLZXkoYXJndiwga2V5LnNwbGl0KCcuJykpKSBzZXRBcmcoa2V5LCAwKVxuICB9KVxuXG4gIC8vICctLScgZGVmYXVsdHMgdG8gdW5kZWZpbmVkLlxuICBpZiAobm90RmxhZ3NPcHRpb24gJiYgbm90RmxhZ3MubGVuZ3RoKSBhcmd2W25vdEZsYWdzQXJndl0gPSBbXVxuICBub3RGbGFncy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBhcmd2W25vdEZsYWdzQXJndl0ucHVzaChrZXkpXG4gIH0pXG5cbiAgaWYgKGNvbmZpZ3VyYXRpb25bJ2NhbWVsLWNhc2UtZXhwYW5zaW9uJ10gJiYgY29uZmlndXJhdGlvblsnc3RyaXAtZGFzaGVkJ10pIHtcbiAgICBPYmplY3Qua2V5cyhhcmd2KS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJy0tJyAmJiBrZXkuaW5jbHVkZXMoJy0nKSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgZGVsZXRlIGFyZ3Zba2V5XVxuICAgIH0pXG4gIH1cblxuICBpZiAoY29uZmlndXJhdGlvblsnc3RyaXAtYWxpYXNlZCddKSB7XG4gICAgLy8gWFhYIFN3aXRjaCB0byBbXS5jb25jYXQoLi4uT2JqZWN0LnZhbHVlcyhhbGlhc2VzKSkgb25jZSBub2RlLmpzIDYgaXMgZHJvcHBlZFxuICAgIDtbXS5jb25jYXQoLi4uT2JqZWN0LmtleXMoYWxpYXNlcykubWFwKGsgPT4gYWxpYXNlc1trXSkpLmZvckVhY2goYWxpYXMgPT4ge1xuICAgICAgaWYgKGNvbmZpZ3VyYXRpb25bJ2NhbWVsLWNhc2UtZXhwYW5zaW9uJ10pIHtcbiAgICAgICAgZGVsZXRlIGFyZ3ZbYWxpYXMuc3BsaXQoJy4nKS5tYXAocHJvcCA9PiBjYW1lbENhc2UocHJvcCkpLmpvaW4oJy4nKV1cbiAgICAgIH1cblxuICAgICAgZGVsZXRlIGFyZ3ZbYWxpYXNdXG4gICAgfSlcbiAgfVxuXG4gIC8vIGhvdyBtYW55IGFyZ3VtZW50cyBzaG91bGQgd2UgY29uc3VtZSwgYmFzZWRcbiAgLy8gb24gdGhlIG5hcmdzIG9wdGlvbj9cbiAgZnVuY3Rpb24gZWF0TmFyZ3MgKGksIGtleSwgYXJncykge1xuICAgIHZhciBpaVxuICAgIGNvbnN0IHRvRWF0ID0gY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MubmFyZ3MpXG5cbiAgICAvLyBuYXJncyB3aWxsIG5vdCBjb25zdW1lIGZsYWcgYXJndW1lbnRzLCBlLmcuLCAtYWJjLCAtLWZvbyxcbiAgICAvLyBhbmQgdGVybWluYXRlcyB3aGVuIG9uZSBpcyBvYnNlcnZlZC5cbiAgICB2YXIgYXZhaWxhYmxlID0gMFxuICAgIGZvciAoaWkgPSBpICsgMTsgaWkgPCBhcmdzLmxlbmd0aDsgaWkrKykge1xuICAgICAgaWYgKCFhcmdzW2lpXS5tYXRjaCgvXi1bXjAtOV0vKSkgYXZhaWxhYmxlKytcbiAgICAgIGVsc2UgYnJlYWtcbiAgICB9XG5cbiAgICBpZiAoYXZhaWxhYmxlIDwgdG9FYXQpIGVycm9yID0gRXJyb3IoX18oJ05vdCBlbm91Z2ggYXJndW1lbnRzIGZvbGxvd2luZzogJXMnLCBrZXkpKVxuXG4gICAgY29uc3QgY29uc3VtZWQgPSBNYXRoLm1pbihhdmFpbGFibGUsIHRvRWF0KVxuICAgIGZvciAoaWkgPSBpICsgMTsgaWkgPCAoY29uc3VtZWQgKyBpICsgMSk7IGlpKyspIHtcbiAgICAgIHNldEFyZyhrZXksIGFyZ3NbaWldKVxuICAgIH1cblxuICAgIHJldHVybiAoaSArIGNvbnN1bWVkKVxuICB9XG5cbiAgLy8gaWYgYW4gb3B0aW9uIGlzIGFuIGFycmF5LCBlYXQgYWxsIG5vbi1oeXBoZW5hdGVkIGFyZ3VtZW50c1xuICAvLyBmb2xsb3dpbmcgaXQuLi4gWVVNIVxuICAvLyBlLmcuLCAtLWZvbyBhcHBsZSBiYW5hbmEgY2F0IGJlY29tZXMgW1wiYXBwbGVcIiwgXCJiYW5hbmFcIiwgXCJjYXRcIl1cbiAgZnVuY3Rpb24gZWF0QXJyYXkgKGksIGtleSwgYXJncykge1xuICAgIHZhciBzdGFydCA9IGkgKyAxXG4gICAgdmFyIGFyZ3NUb1NldCA9IFtdXG4gICAgdmFyIG11bHRpcGxlQXJyYXlGbGFnID0gaSA+IDBcbiAgICBmb3IgKHZhciBpaSA9IGkgKyAxOyBpaSA8IGFyZ3MubGVuZ3RoOyBpaSsrKSB7XG4gICAgICBpZiAoL14tLy50ZXN0KGFyZ3NbaWldKSAmJiAhbmVnYXRpdmUudGVzdChhcmdzW2lpXSkpIHtcbiAgICAgICAgaWYgKGlpID09PSBzdGFydCkge1xuICAgICAgICAgIHNldEFyZyhrZXksIGRlZmF1bHRGb3JUeXBlKCdhcnJheScpKVxuICAgICAgICB9XG4gICAgICAgIG11bHRpcGxlQXJyYXlGbGFnID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgaSA9IGlpXG4gICAgICBhcmdzVG9TZXQucHVzaChhcmdzW2lpXSlcbiAgICB9XG4gICAgaWYgKG11bHRpcGxlQXJyYXlGbGFnKSB7XG4gICAgICBzZXRBcmcoa2V5LCBhcmdzVG9TZXQubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NWYWx1ZShrZXksIGFyZylcbiAgICAgIH0pKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcmdzVG9TZXQuZm9yRWFjaChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHNldEFyZyhrZXksIGFyZylcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGlcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFyZyAoa2V5LCB2YWwpIHtcbiAgICB1bnNldERlZmF1bHRlZChrZXkpXG5cbiAgICBpZiAoLy0vLnRlc3Qoa2V5KSAmJiBjb25maWd1cmF0aW9uWydjYW1lbC1jYXNlLWV4cGFuc2lvbiddKSB7XG4gICAgICB2YXIgYWxpYXMgPSBrZXkuc3BsaXQoJy4nKS5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIGNhbWVsQ2FzZShwcm9wKVxuICAgICAgfSkuam9pbignLicpXG4gICAgICBhZGROZXdBbGlhcyhrZXksIGFsaWFzKVxuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IHByb2Nlc3NWYWx1ZShrZXksIHZhbClcblxuICAgIHZhciBzcGxpdEtleSA9IGtleS5zcGxpdCgnLicpXG4gICAgc2V0S2V5KGFyZ3YsIHNwbGl0S2V5LCB2YWx1ZSlcblxuICAgIC8vIGhhbmRsZSBwb3B1bGF0aW5nIGFsaWFzZXMgb2YgdGhlIGZ1bGwga2V5XG4gICAgaWYgKGZsYWdzLmFsaWFzZXNba2V5XSkge1xuICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgeCA9IHguc3BsaXQoJy4nKVxuICAgICAgICBzZXRLZXkoYXJndiwgeCwgdmFsdWUpXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIGhhbmRsZSBwb3B1bGF0aW5nIGFsaWFzZXMgb2YgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGRvdC1ub3RhdGlvbiBrZXlcbiAgICBpZiAoc3BsaXRLZXkubGVuZ3RoID4gMSAmJiBjb25maWd1cmF0aW9uWydkb3Qtbm90YXRpb24nXSkge1xuICAgICAgOyhmbGFncy5hbGlhc2VzW3NwbGl0S2V5WzBdXSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICB4ID0geC5zcGxpdCgnLicpXG5cbiAgICAgICAgLy8gZXhwYW5kIGFsaWFzIHdpdGggbmVzdGVkIG9iamVjdHMgaW4ga2V5XG4gICAgICAgIHZhciBhID0gW10uY29uY2F0KHNwbGl0S2V5KVxuICAgICAgICBhLnNoaWZ0KCkgLy8gbnVrZSB0aGUgb2xkIGtleS5cbiAgICAgICAgeCA9IHguY29uY2F0KGEpXG5cbiAgICAgICAgc2V0S2V5KGFyZ3YsIHgsIHZhbHVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBTZXQgbm9ybWFsaXplIGdldHRlciBhbmQgc2V0dGVyIHdoZW4ga2V5IGlzIGluICdub3JtYWxpemUnIGJ1dCBpc24ndCBhbiBhcnJheVxuICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ub3JtYWxpemUpICYmICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB7XG4gICAgICB2YXIga2V5cyA9IFtrZXldLmNvbmNhdChmbGFncy5hbGlhc2VzW2tleV0gfHwgW10pXG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBhcmd2Ll9fZGVmaW5lU2V0dGVyX18oa2V5LCBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHZhbCA9IHBhdGgubm9ybWFsaXplKHYpXG4gICAgICAgIH0pXG5cbiAgICAgICAgYXJndi5fX2RlZmluZUdldHRlcl9fKGtleSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/IHBhdGgubm9ybWFsaXplKHZhbCkgOiB2YWxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkTmV3QWxpYXMgKGtleSwgYWxpYXMpIHtcbiAgICBpZiAoIShmbGFncy5hbGlhc2VzW2tleV0gJiYgZmxhZ3MuYWxpYXNlc1trZXldLmxlbmd0aCkpIHtcbiAgICAgIGZsYWdzLmFsaWFzZXNba2V5XSA9IFthbGlhc11cbiAgICAgIG5ld0FsaWFzZXNbYWxpYXNdID0gdHJ1ZVxuICAgIH1cbiAgICBpZiAoIShmbGFncy5hbGlhc2VzW2FsaWFzXSAmJiBmbGFncy5hbGlhc2VzW2FsaWFzXS5sZW5ndGgpKSB7XG4gICAgICBhZGROZXdBbGlhcyhhbGlhcywga2V5KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZSAoa2V5LCB2YWwpIHtcbiAgICAvLyBzdHJpbmdzIG1heSBiZSBxdW90ZWQsIGNsZWFuIHRoaXMgdXAgYXMgd2UgYXNzaWduIHZhbHVlcy5cbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICh2YWxbMF0gPT09IFwiJ1wiIHx8IHZhbFswXSA9PT0gJ1wiJykgJiZcbiAgICAgIHZhbFt2YWwubGVuZ3RoIC0gMV0gPT09IHZhbFswXVxuICAgICkge1xuICAgICAgdmFsID0gdmFsLnN1YnN0cmluZygxLCB2YWwubGVuZ3RoIC0gMSlcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgcGFyc2luZyBib29sZWFuIGFyZ3VtZW50cyAtLWZvbz10cnVlIC0tYmFyIGZhbHNlLlxuICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykgfHwgY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuY291bnRzKSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB2YWwgPSB2YWwgPT09ICd0cnVlJ1xuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IG1heWJlQ29lcmNlTnVtYmVyKGtleSwgdmFsKVxuXG4gICAgLy8gaW5jcmVtZW50IGEgY291bnQgZ2l2ZW4gYXMgYXJnIChlaXRoZXIgbm8gdmFsdWUgb3IgdmFsdWUgcGFyc2VkIGFzIGJvb2xlYW4pXG4gICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykgJiYgKGlzVW5kZWZpbmVkKHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykpIHtcbiAgICAgIHZhbHVlID0gaW5jcmVtZW50XG4gICAgfVxuXG4gICAgLy8gU2V0IG5vcm1hbGl6ZWQgdmFsdWUgd2hlbiBrZXkgaXMgaW4gJ25vcm1hbGl6ZScgYW5kIGluICdhcnJheXMnXG4gICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm5vcm1hbGl6ZSkgJiYgY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYXJyYXlzKSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgdmFsdWUgPSB2YWwubWFwKHBhdGgubm9ybWFsaXplKVxuICAgICAgZWxzZSB2YWx1ZSA9IHBhdGgubm9ybWFsaXplKHZhbClcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICBmdW5jdGlvbiBtYXliZUNvZXJjZU51bWJlciAoa2V5LCB2YWx1ZSkge1xuICAgIGlmICghY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3Muc3RyaW5ncykgJiYgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvZXJjaW9ucykpIHtcbiAgICAgIGNvbnN0IHNob3VsZENvZXJjZU51bWJlciA9IGlzTnVtYmVyKHZhbHVlKSAmJiBjb25maWd1cmF0aW9uWydwYXJzZS1udW1iZXJzJ10gJiYgKFxuICAgICAgICBOdW1iZXIuaXNTYWZlSW50ZWdlcihNYXRoLmZsb29yKHZhbHVlKSlcbiAgICAgIClcbiAgICAgIGlmIChzaG91bGRDb2VyY2VOdW1iZXIgfHwgKCFpc1VuZGVmaW5lZCh2YWx1ZSkgJiYgY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MubnVtYmVycykpKSB2YWx1ZSA9IE51bWJlcih2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBzZXQgYXJncyBmcm9tIGNvbmZpZy5qc29uIGZpbGUsIHRoaXMgc2hvdWxkIGJlXG4gIC8vIGFwcGxpZWQgbGFzdCBzbyB0aGF0IGRlZmF1bHRzIGNhbiBiZSBhcHBsaWVkLlxuICBmdW5jdGlvbiBzZXRDb25maWcgKGFyZ3YpIHtcbiAgICB2YXIgY29uZmlnTG9va3VwID0ge31cblxuICAgIC8vIGV4cGFuZCBkZWZhdWx0cy9hbGlhc2VzLCBpbi1jYXNlIGFueSBoYXBwZW4gdG8gcmVmZXJlbmNlXG4gICAgLy8gdGhlIGNvbmZpZy5qc29uIGZpbGUuXG4gICAgYXBwbHlEZWZhdWx0c0FuZEFsaWFzZXMoY29uZmlnTG9va3VwLCBmbGFncy5hbGlhc2VzLCBkZWZhdWx0cylcblxuICAgIE9iamVjdC5rZXlzKGZsYWdzLmNvbmZpZ3MpLmZvckVhY2goZnVuY3Rpb24gKGNvbmZpZ0tleSkge1xuICAgICAgdmFyIGNvbmZpZ1BhdGggPSBhcmd2W2NvbmZpZ0tleV0gfHwgY29uZmlnTG9va3VwW2NvbmZpZ0tleV1cbiAgICAgIGlmIChjb25maWdQYXRoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGNvbmZpZyA9IG51bGxcbiAgICAgICAgICB2YXIgcmVzb2x2ZWRDb25maWdQYXRoID0gcGF0aC5yZXNvbHZlKHByb2Nlc3MuY3dkKCksIGNvbmZpZ1BhdGgpXG5cbiAgICAgICAgICBpZiAodHlwZW9mIGZsYWdzLmNvbmZpZ3NbY29uZmlnS2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uZmlnID0gZmxhZ3MuY29uZmlnc1tjb25maWdLZXldKHJlc29sdmVkQ29uZmlnUGF0aClcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uZmlnID0gZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbmZpZyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgIGVycm9yID0gY29uZmlnXG4gICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25maWcgPSByZXF1aXJlKHJlc29sdmVkQ29uZmlnUGF0aClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXRDb25maWdPYmplY3QoY29uZmlnKVxuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIGlmIChhcmd2W2NvbmZpZ0tleV0pIGVycm9yID0gRXJyb3IoX18oJ0ludmFsaWQgSlNPTiBjb25maWcgZmlsZTogJXMnLCBjb25maWdQYXRoKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBzZXQgYXJncyBmcm9tIGNvbmZpZyBvYmplY3QuXG4gIC8vIGl0IHJlY3Vyc2l2ZWx5IGNoZWNrcyBuZXN0ZWQgb2JqZWN0cy5cbiAgZnVuY3Rpb24gc2V0Q29uZmlnT2JqZWN0IChjb25maWcsIHByZXYpIHtcbiAgICBPYmplY3Qua2V5cyhjb25maWcpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gY29uZmlnW2tleV1cbiAgICAgIHZhciBmdWxsS2V5ID0gcHJldiA/IHByZXYgKyAnLicgKyBrZXkgOiBrZXlcblxuICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGFuIGlubmVyIG9iamVjdCBhbmQgd2UgaGF2ZSBkb3Qtbm90YXRpb25cbiAgICAgIC8vIGVuYWJsZWQsIHRyZWF0IGlubmVyIG9iamVjdHMgaW4gY29uZmlnIHRoZSBzYW1lIGFzXG4gICAgICAvLyBoZWF2aWx5IG5lc3RlZCBkb3Qgbm90YXRpb25zIChmb28uYmFyLmFwcGxlKS5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiBjb25maWd1cmF0aW9uWydkb3Qtbm90YXRpb24nXSkge1xuICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0IGJ1dCBub3QgYW4gYXJyYXksIGNoZWNrIG5lc3RlZCBvYmplY3RcbiAgICAgICAgc2V0Q29uZmlnT2JqZWN0KHZhbHVlLCBmdWxsS2V5KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc2V0dGluZyBhcmd1bWVudHMgdmlhIENMSSB0YWtlcyBwcmVjZWRlbmNlIG92ZXJcbiAgICAgICAgLy8gdmFsdWVzIHdpdGhpbiB0aGUgY29uZmlnIGZpbGUuXG4gICAgICAgIGlmICghaGFzS2V5KGFyZ3YsIGZ1bGxLZXkuc3BsaXQoJy4nKSkgfHwgKGZsYWdzLmRlZmF1bHRlZFtmdWxsS2V5XSkgfHwgKGZsYWdzLmFycmF5c1tmdWxsS2V5XSAmJiBjb25maWd1cmF0aW9uWydjb21iaW5lLWFycmF5cyddKSkge1xuICAgICAgICAgIHNldEFyZyhmdWxsS2V5LCB2YWx1ZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBzZXQgYWxsIGNvbmZpZyBvYmplY3RzIHBhc3NlZCBpbiBvcHRzXG4gIGZ1bmN0aW9uIHNldENvbmZpZ09iamVjdHMgKCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnT2JqZWN0cyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuICAgIGNvbmZpZ09iamVjdHMuZm9yRWFjaChmdW5jdGlvbiAoY29uZmlnT2JqZWN0KSB7XG4gICAgICBzZXRDb25maWdPYmplY3QoY29uZmlnT2JqZWN0KVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUVudlZhcnMgKGFyZ3YsIGNvbmZpZ09ubHkpIHtcbiAgICBpZiAodHlwZW9mIGVudlByZWZpeCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuXG4gICAgdmFyIHByZWZpeCA9IHR5cGVvZiBlbnZQcmVmaXggPT09ICdzdHJpbmcnID8gZW52UHJlZml4IDogJydcbiAgICBPYmplY3Qua2V5cyhwcm9jZXNzLmVudikuZm9yRWFjaChmdW5jdGlvbiAoZW52VmFyKSB7XG4gICAgICBpZiAocHJlZml4ID09PSAnJyB8fCBlbnZWYXIubGFzdEluZGV4T2YocHJlZml4LCAwKSA9PT0gMCkge1xuICAgICAgICAvLyBnZXQgYXJyYXkgb2YgbmVzdGVkIGtleXMgYW5kIGNvbnZlcnQgdGhlbSB0byBjYW1lbCBjYXNlXG4gICAgICAgIHZhciBrZXlzID0gZW52VmFyLnNwbGl0KCdfXycpLm1hcChmdW5jdGlvbiAoa2V5LCBpKSB7XG4gICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIGtleSA9IGtleS5zdWJzdHJpbmcocHJlZml4Lmxlbmd0aClcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNhbWVsQ2FzZShrZXkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKCgoY29uZmlnT25seSAmJiBmbGFncy5jb25maWdzW2tleXMuam9pbignLicpXSkgfHwgIWNvbmZpZ09ubHkpICYmICghaGFzS2V5KGFyZ3YsIGtleXMpIHx8IGZsYWdzLmRlZmF1bHRlZFtrZXlzLmpvaW4oJy4nKV0pKSB7XG4gICAgICAgICAgc2V0QXJnKGtleXMuam9pbignLicpLCBwcm9jZXNzLmVudltlbnZWYXJdKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGx5Q29lcmNpb25zIChhcmd2KSB7XG4gICAgdmFyIGNvZXJjZVxuICAgIHZhciBhcHBsaWVkID0ge31cbiAgICBPYmplY3Qua2V5cyhhcmd2KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghYXBwbGllZC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7IC8vIElmIHdlIGhhdmVuJ3QgYWxyZWFkeSBjb2VyY2VkIHRoaXMgb3B0aW9uIHZpYSBvbmUgb2YgaXRzIGFsaWFzZXNcbiAgICAgICAgY29lcmNlID0gY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuY29lcmNpb25zKVxuICAgICAgICBpZiAodHlwZW9mIGNvZXJjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBjb2VyY2UoYXJndltrZXldKVxuICAgICAgICAgICAgOyhbXS5jb25jYXQoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdLCBrZXkpKS5mb3JFYWNoKGFsaSA9PiB7XG4gICAgICAgICAgICAgIGFwcGxpZWRbYWxpXSA9IGFyZ3ZbYWxpXSA9IHZhbHVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZXJyb3IgPSBlcnJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0UGxhY2Vob2xkZXJLZXlzIChhcmd2KSB7XG4gICAgZmxhZ3Mua2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIC8vIGRvbid0IHNldCBwbGFjZWhvbGRlciBrZXlzIGZvciBkb3Qgbm90YXRpb24gb3B0aW9ucyAnZm9vLmJhcicuXG4gICAgICBpZiAofmtleS5pbmRleE9mKCcuJykpIHJldHVyblxuICAgICAgaWYgKHR5cGVvZiBhcmd2W2tleV0gPT09ICd1bmRlZmluZWQnKSBhcmd2W2tleV0gPSB1bmRlZmluZWRcbiAgICB9KVxuICAgIHJldHVybiBhcmd2XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseURlZmF1bHRzQW5kQWxpYXNlcyAob2JqLCBhbGlhc2VzLCBkZWZhdWx0cykge1xuICAgIE9iamVjdC5rZXlzKGRlZmF1bHRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghaGFzS2V5KG9iaiwga2V5LnNwbGl0KCcuJykpKSB7XG4gICAgICAgIHNldEtleShvYmosIGtleS5zcGxpdCgnLicpLCBkZWZhdWx0c1trZXldKVxuXG4gICAgICAgIDsoYWxpYXNlc1trZXldIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgaWYgKGhhc0tleShvYmosIHguc3BsaXQoJy4nKSkpIHJldHVyblxuICAgICAgICAgIHNldEtleShvYmosIHguc3BsaXQoJy4nKSwgZGVmYXVsdHNba2V5XSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gaGFzS2V5IChvYmosIGtleXMpIHtcbiAgICB2YXIgbyA9IG9ialxuXG4gICAgaWYgKCFjb25maWd1cmF0aW9uWydkb3Qtbm90YXRpb24nXSkga2V5cyA9IFtrZXlzLmpvaW4oJy4nKV1cblxuICAgIGtleXMuc2xpY2UoMCwgLTEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgbyA9IChvW2tleV0gfHwge30pXG4gICAgfSlcblxuICAgIHZhciBrZXkgPSBrZXlzW2tleXMubGVuZ3RoIC0gMV1cblxuICAgIGlmICh0eXBlb2YgbyAhPT0gJ29iamVjdCcpIHJldHVybiBmYWxzZVxuICAgIGVsc2UgcmV0dXJuIGtleSBpbiBvXG4gIH1cblxuICBmdW5jdGlvbiBzZXRLZXkgKG9iaiwga2V5cywgdmFsdWUpIHtcbiAgICB2YXIgbyA9IG9ialxuXG4gICAgaWYgKCFjb25maWd1cmF0aW9uWydkb3Qtbm90YXRpb24nXSkga2V5cyA9IFtrZXlzLmpvaW4oJy4nKV1cblxuICAgIGtleXMuc2xpY2UoMCwgLTEpLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICAgIGlmICh0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgb1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb1trZXldID0ge31cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvW2tleV0gIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkob1trZXldKSkge1xuICAgICAgICAvLyBlbnN1cmUgdGhhdCBvW2tleV0gaXMgYW4gYXJyYXksIGFuZCB0aGF0IHRoZSBsYXN0IGl0ZW0gaXMgYW4gZW1wdHkgb2JqZWN0LlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvW2tleV0pKSB7XG4gICAgICAgICAgb1trZXldLnB1c2goe30pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb1trZXldID0gW29ba2V5XSwge31dXG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSB3YW50IHRvIHVwZGF0ZSB0aGUgZW1wdHkgb2JqZWN0IGF0IHRoZSBlbmQgb2YgdGhlIG9ba2V5XSBhcnJheSwgc28gc2V0IG8gdG8gdGhhdCBvYmplY3RcbiAgICAgICAgbyA9IG9ba2V5XVtvW2tleV0ubGVuZ3RoIC0gMV1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG8gPSBvW2tleV1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdmFyIGtleSA9IGtleXNba2V5cy5sZW5ndGggLSAxXVxuXG4gICAgdmFyIGlzVHlwZUFycmF5ID0gY2hlY2tBbGxBbGlhc2VzKGtleXMuam9pbignLicpLCBmbGFncy5hcnJheXMpXG4gICAgdmFyIGlzVmFsdWVBcnJheSA9IEFycmF5LmlzQXJyYXkodmFsdWUpXG4gICAgdmFyIGR1cGxpY2F0ZSA9IGNvbmZpZ3VyYXRpb25bJ2R1cGxpY2F0ZS1hcmd1bWVudHMtYXJyYXknXVxuXG4gICAgLy8gbmFyZ3MgaGFzIGhpZ2hlciBwcmlvcml0eSB0aGFuIGR1cGxpY2F0ZVxuICAgIGlmICghZHVwbGljYXRlICYmIGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm5hcmdzKSkge1xuICAgICAgZHVwbGljYXRlID0gdHJ1ZVxuICAgICAgaWYgKCghaXNVbmRlZmluZWQob1trZXldKSAmJiBmbGFncy5uYXJnc1trZXldID09PSAxKSB8fCAoQXJyYXkuaXNBcnJheShvW2tleV0pICYmIG9ba2V5XS5sZW5ndGggPT09IGZsYWdzLm5hcmdzW2tleV0pKSB7XG4gICAgICAgIG9ba2V5XSA9IHVuZGVmaW5lZFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2YWx1ZSA9PT0gaW5jcmVtZW50KSB7XG4gICAgICBvW2tleV0gPSBpbmNyZW1lbnQob1trZXldKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvW2tleV0pKSB7XG4gICAgICBpZiAoZHVwbGljYXRlICYmIGlzVHlwZUFycmF5ICYmIGlzVmFsdWVBcnJheSkge1xuICAgICAgICBvW2tleV0gPSBjb25maWd1cmF0aW9uWydmbGF0dGVuLWR1cGxpY2F0ZS1hcnJheXMnXSA/IG9ba2V5XS5jb25jYXQodmFsdWUpIDogKEFycmF5LmlzQXJyYXkob1trZXldWzBdKSA/IG9ba2V5XSA6IFtvW2tleV1dKS5jb25jYXQoW3ZhbHVlXSlcbiAgICAgIH0gZWxzZSBpZiAoIWR1cGxpY2F0ZSAmJiBCb29sZWFuKGlzVHlwZUFycmF5KSA9PT0gQm9vbGVhbihpc1ZhbHVlQXJyYXkpKSB7XG4gICAgICAgIG9ba2V5XSA9IHZhbHVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvW2tleV0gPSBvW2tleV0uY29uY2F0KFt2YWx1ZV0pXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvW2tleV0gPT09IHVuZGVmaW5lZCAmJiBpc1R5cGVBcnJheSkge1xuICAgICAgb1trZXldID0gaXNWYWx1ZUFycmF5ID8gdmFsdWUgOiBbdmFsdWVdXG4gICAgfSBlbHNlIGlmIChkdXBsaWNhdGUgJiYgIShvW2tleV0gPT09IHVuZGVmaW5lZCB8fCBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykgfHwgY2hlY2tBbGxBbGlhc2VzKGtleXMuam9pbignLicpLCBmbGFncy5ib29scykgfHwgY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuY291bnRzKSkpIHtcbiAgICAgIG9ba2V5XSA9IFsgb1trZXldLCB2YWx1ZSBdXG4gICAgfSBlbHNlIHtcbiAgICAgIG9ba2V5XSA9IHZhbHVlXG4gICAgfVxuICB9XG5cbiAgLy8gZXh0ZW5kIHRoZSBhbGlhc2VzIGxpc3Qgd2l0aCBpbmZlcnJlZCBhbGlhc2VzLlxuICBmdW5jdGlvbiBleHRlbmRBbGlhc2VzICguLi5hcmdzKSB7XG4gICAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIE9iamVjdC5rZXlzKG9iaiB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIC8vIHNob3J0LWNpcmN1aXQgaWYgd2UndmUgYWxyZWFkeSBhZGRlZCBhIGtleVxuICAgICAgICAvLyB0byB0aGUgYWxpYXNlcyBhcnJheSwgZm9yIGV4YW1wbGUgaXQgbWlnaHRcbiAgICAgICAgLy8gZXhpc3QgaW4gYm90aCAnb3B0cy5kZWZhdWx0JyBhbmQgJ29wdHMua2V5Jy5cbiAgICAgICAgaWYgKGZsYWdzLmFsaWFzZXNba2V5XSkgcmV0dXJuXG5cbiAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldID0gW10uY29uY2F0KGFsaWFzZXNba2V5XSB8fCBbXSlcbiAgICAgICAgLy8gRm9yIFwiLS1vcHRpb24tbmFtZVwiLCBhbHNvIHNldCBhcmd2Lm9wdGlvbk5hbWVcbiAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmNvbmNhdChrZXkpLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICBpZiAoLy0vLnRlc3QoeCkgJiYgY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSkge1xuICAgICAgICAgICAgdmFyIGMgPSBjYW1lbENhc2UoeClcbiAgICAgICAgICAgIGlmIChjICE9PSBrZXkgJiYgZmxhZ3MuYWxpYXNlc1trZXldLmluZGV4T2YoYykgPT09IC0xKSB7XG4gICAgICAgICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5wdXNoKGMpXG4gICAgICAgICAgICAgIG5ld0FsaWFzZXNbY10gPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAvLyBGb3IgXCItLW9wdGlvbk5hbWVcIiwgYWxzbyBzZXQgYXJndlsnb3B0aW9uLW5hbWUnXVxuICAgICAgICBmbGFncy5hbGlhc2VzW2tleV0uY29uY2F0KGtleSkuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgIGlmICh4Lmxlbmd0aCA+IDEgJiYgL1tBLVpdLy50ZXN0KHgpICYmIGNvbmZpZ3VyYXRpb25bJ2NhbWVsLWNhc2UtZXhwYW5zaW9uJ10pIHtcbiAgICAgICAgICAgIHZhciBjID0gZGVjYW1lbGl6ZSh4LCAnLScpXG4gICAgICAgICAgICBpZiAoYyAhPT0ga2V5ICYmIGZsYWdzLmFsaWFzZXNba2V5XS5pbmRleE9mKGMpID09PSAtMSkge1xuICAgICAgICAgICAgICBmbGFncy5hbGlhc2VzW2tleV0ucHVzaChjKVxuICAgICAgICAgICAgICBuZXdBbGlhc2VzW2NdID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICBmbGFncy5hbGlhc2VzW3hdID0gW2tleV0uY29uY2F0KGZsYWdzLmFsaWFzZXNba2V5XS5maWx0ZXIoZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgIHJldHVybiB4ICE9PSB5XG4gICAgICAgICAgfSkpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvLyBjaGVjayBpZiBhIGZsYWcgaXMgc2V0IGZvciBhbnkgb2YgYSBrZXkncyBhbGlhc2VzLlxuICBmdW5jdGlvbiBjaGVja0FsbEFsaWFzZXMgKGtleSwgZmxhZykge1xuICAgIHZhciBpc1NldCA9IGZhbHNlXG4gICAgdmFyIHRvQ2hlY2sgPSBbXS5jb25jYXQoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdLCBrZXkpXG5cbiAgICB0b0NoZWNrLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGZsYWdba2V5XSkgaXNTZXQgPSBmbGFnW2tleV1cbiAgICB9KVxuXG4gICAgcmV0dXJuIGlzU2V0XG4gIH1cblxuICBmdW5jdGlvbiBzZXREZWZhdWx0ZWQgKGtleSkge1xuICAgIFtdLmNvbmNhdChmbGFncy5hbGlhc2VzW2tleV0gfHwgW10sIGtleSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgZmxhZ3MuZGVmYXVsdGVkW2tdID0gdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiB1bnNldERlZmF1bHRlZCAoa2V5KSB7XG4gICAgW10uY29uY2F0KGZsYWdzLmFsaWFzZXNba2V5XSB8fCBbXSwga2V5KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICBkZWxldGUgZmxhZ3MuZGVmYXVsdGVkW2tdXG4gICAgfSlcbiAgfVxuXG4gIC8vIG1ha2UgYSBiZXN0IGVmZm9yIHRvIHBpY2sgYSBkZWZhdWx0IHZhbHVlXG4gIC8vIGZvciBhbiBvcHRpb24gYmFzZWQgb24gbmFtZSBhbmQgdHlwZS5cbiAgZnVuY3Rpb24gZGVmYXVsdFZhbHVlIChrZXkpIHtcbiAgICBpZiAoIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSAmJlxuICAgICAgICAhY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuY291bnRzKSAmJlxuICAgICAgICBgJHtrZXl9YCBpbiBkZWZhdWx0cykge1xuICAgICAgcmV0dXJuIGRlZmF1bHRzW2tleV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRlZmF1bHRGb3JUeXBlKGd1ZXNzVHlwZShrZXkpKVxuICAgIH1cbiAgfVxuXG4gIC8vIHJldHVybiBhIGRlZmF1bHQgdmFsdWUsIGdpdmVuIHRoZSB0eXBlIG9mIGEgZmxhZy4sXG4gIC8vIGUuZy4sIGtleSBvZiB0eXBlICdzdHJpbmcnIHdpbGwgZGVmYXVsdCB0byAnJywgcmF0aGVyIHRoYW4gJ3RydWUnLlxuICBmdW5jdGlvbiBkZWZhdWx0Rm9yVHlwZSAodHlwZSkge1xuICAgIHZhciBkZWYgPSB7XG4gICAgICBib29sZWFuOiB0cnVlLFxuICAgICAgc3RyaW5nOiAnJyxcbiAgICAgIG51bWJlcjogdW5kZWZpbmVkLFxuICAgICAgYXJyYXk6IFtdXG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZlt0eXBlXVxuICB9XG5cbiAgLy8gZ2l2ZW4gYSBmbGFnLCBlbmZvcmNlIGEgZGVmYXVsdCB0eXBlLlxuICBmdW5jdGlvbiBndWVzc1R5cGUgKGtleSkge1xuICAgIHZhciB0eXBlID0gJ2Jvb2xlYW4nXG5cbiAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3Muc3RyaW5ncykpIHR5cGUgPSAnc3RyaW5nJ1xuICAgIGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm51bWJlcnMpKSB0eXBlID0gJ251bWJlcidcbiAgICBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB0eXBlID0gJ2FycmF5J1xuXG4gICAgcmV0dXJuIHR5cGVcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTnVtYmVyICh4KSB7XG4gICAgaWYgKHggPT09IG51bGwgfHwgeCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2VcbiAgICAvLyBpZiBsb2FkZWQgZnJvbSBjb25maWcsIG1heSBhbHJlYWR5IGJlIGEgbnVtYmVyLlxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHJldHVybiB0cnVlXG4gICAgLy8gaGV4YWRlY2ltYWwuXG4gICAgaWYgKC9eMHhbMC05YS1mXSskL2kudGVzdCh4KSkgcmV0dXJuIHRydWVcbiAgICAvLyBkb24ndCB0cmVhdCAwMTIzIGFzIGEgbnVtYmVyOyBhcyBpdCBkcm9wcyB0aGUgbGVhZGluZyAnMCcuXG4gICAgaWYgKHgubGVuZ3RoID4gMSAmJiB4WzBdID09PSAnMCcpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiAvXlstXT8oPzpcXGQrKD86XFwuXFxkKik/fFxcLlxcZCspKGVbLStdP1xcZCspPyQvLnRlc3QoeClcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVW5kZWZpbmVkIChudW0pIHtcbiAgICByZXR1cm4gbnVtID09PSB1bmRlZmluZWRcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYXJndjogYXJndixcbiAgICBlcnJvcjogZXJyb3IsXG4gICAgYWxpYXNlczogZmxhZ3MuYWxpYXNlcyxcbiAgICBuZXdBbGlhc2VzOiBuZXdBbGlhc2VzLFxuICAgIGNvbmZpZ3VyYXRpb246IGNvbmZpZ3VyYXRpb25cbiAgfVxufVxuXG4vLyBpZiBhbnkgYWxpYXNlcyByZWZlcmVuY2UgZWFjaCBvdGhlciwgd2Ugc2hvdWxkXG4vLyBtZXJnZSB0aGVtIHRvZ2V0aGVyLlxuZnVuY3Rpb24gY29tYmluZUFsaWFzZXMgKGFsaWFzZXMpIHtcbiAgdmFyIGFsaWFzQXJyYXlzID0gW11cbiAgdmFyIGNoYW5nZSA9IHRydWVcbiAgdmFyIGNvbWJpbmVkID0ge31cblxuICAvLyB0dXJuIGFsaWFzIGxvb2t1cCBoYXNoIHtrZXk6IFsnYWxpYXMxJywgJ2FsaWFzMiddfSBpbnRvXG4gIC8vIGEgc2ltcGxlIGFycmF5IFsna2V5JywgJ2FsaWFzMScsICdhbGlhczInXVxuICBPYmplY3Qua2V5cyhhbGlhc2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBhbGlhc0FycmF5cy5wdXNoKFxuICAgICAgW10uY29uY2F0KGFsaWFzZXNba2V5XSwga2V5KVxuICAgIClcbiAgfSlcblxuICAvLyBjb21iaW5lIGFycmF5cyB1bnRpbCB6ZXJvIGNoYW5nZXMgYXJlXG4gIC8vIG1hZGUgaW4gYW4gaXRlcmF0aW9uLlxuICB3aGlsZSAoY2hhbmdlKSB7XG4gICAgY2hhbmdlID0gZmFsc2VcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsaWFzQXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBpaSA9IGkgKyAxOyBpaSA8IGFsaWFzQXJyYXlzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICB2YXIgaW50ZXJzZWN0ID0gYWxpYXNBcnJheXNbaV0uZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgcmV0dXJuIGFsaWFzQXJyYXlzW2lpXS5pbmRleE9mKHYpICE9PSAtMVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChpbnRlcnNlY3QubGVuZ3RoKSB7XG4gICAgICAgICAgYWxpYXNBcnJheXNbaV0gPSBhbGlhc0FycmF5c1tpXS5jb25jYXQoYWxpYXNBcnJheXNbaWldKVxuICAgICAgICAgIGFsaWFzQXJyYXlzLnNwbGljZShpaSwgMSlcbiAgICAgICAgICBjaGFuZ2UgPSB0cnVlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG1hcCBhcnJheXMgYmFjayB0byB0aGUgaGFzaC1sb29rdXAgKGRlLWR1cGUgd2hpbGVcbiAgLy8gd2UncmUgYXQgaXQpLlxuICBhbGlhc0FycmF5cy5mb3JFYWNoKGZ1bmN0aW9uIChhbGlhc0FycmF5KSB7XG4gICAgYWxpYXNBcnJheSA9IGFsaWFzQXJyYXkuZmlsdGVyKGZ1bmN0aW9uICh2LCBpLCBzZWxmKSB7XG4gICAgICByZXR1cm4gc2VsZi5pbmRleE9mKHYpID09PSBpXG4gICAgfSlcbiAgICBjb21iaW5lZFthbGlhc0FycmF5LnBvcCgpXSA9IGFsaWFzQXJyYXlcbiAgfSlcblxuICByZXR1cm4gY29tYmluZWRcbn1cblxuLy8gdGhpcyBmdW5jdGlvbiBzaG91bGQgb25seSBiZSBjYWxsZWQgd2hlbiBhIGNvdW50IGlzIGdpdmVuIGFzIGFuIGFyZ1xuLy8gaXQgaXMgTk9UIGNhbGxlZCB0byBzZXQgYSBkZWZhdWx0IHZhbHVlXG4vLyB0aHVzIHdlIGNhbiBzdGFydCB0aGUgY291bnQgYXQgMSBpbnN0ZWFkIG9mIDBcbmZ1bmN0aW9uIGluY3JlbWVudCAob3JpZykge1xuICByZXR1cm4gb3JpZyAhPT0gdW5kZWZpbmVkID8gb3JpZyArIDEgOiAxXG59XG5cbmZ1bmN0aW9uIFBhcnNlciAoYXJncywgb3B0cykge1xuICB2YXIgcmVzdWx0ID0gcGFyc2UoYXJncy5zbGljZSgpLCBvcHRzKVxuXG4gIHJldHVybiByZXN1bHQuYXJndlxufVxuXG4vLyBwYXJzZSBhcmd1bWVudHMgYW5kIHJldHVybiBkZXRhaWxlZFxuLy8gbWV0YSBpbmZvcm1hdGlvbiwgYWxpYXNlcywgZXRjLlxuUGFyc2VyLmRldGFpbGVkID0gZnVuY3Rpb24gKGFyZ3MsIG9wdHMpIHtcbiAgcmV0dXJuIHBhcnNlKGFyZ3Muc2xpY2UoKSwgb3B0cylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQYXJzZXJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi95YXJncy1wYXJzZXIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcHJvY2Vzcy9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHByZXNlcnZlQ2FtZWxDYXNlID0gc3RyaW5nID0+IHtcblx0bGV0IGlzTGFzdENoYXJMb3dlciA9IGZhbHNlO1xuXHRsZXQgaXNMYXN0Q2hhclVwcGVyID0gZmFsc2U7XG5cdGxldCBpc0xhc3RMYXN0Q2hhclVwcGVyID0gZmFsc2U7XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBjaGFyYWN0ZXIgPSBzdHJpbmdbaV07XG5cblx0XHRpZiAoaXNMYXN0Q2hhckxvd2VyICYmIC9bYS16QS1aXS8udGVzdChjaGFyYWN0ZXIpICYmIGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpID09PSBjaGFyYWN0ZXIpIHtcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zbGljZSgwLCBpKSArICctJyArIHN0cmluZy5zbGljZShpKTtcblx0XHRcdGlzTGFzdENoYXJMb3dlciA9IGZhbHNlO1xuXHRcdFx0aXNMYXN0TGFzdENoYXJVcHBlciA9IGlzTGFzdENoYXJVcHBlcjtcblx0XHRcdGlzTGFzdENoYXJVcHBlciA9IHRydWU7XG5cdFx0XHRpKys7XG5cdFx0fSBlbHNlIGlmIChpc0xhc3RDaGFyVXBwZXIgJiYgaXNMYXN0TGFzdENoYXJVcHBlciAmJiAvW2EtekEtWl0vLnRlc3QoY2hhcmFjdGVyKSAmJiBjaGFyYWN0ZXIudG9Mb3dlckNhc2UoKSA9PT0gY2hhcmFjdGVyKSB7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgaSAtIDEpICsgJy0nICsgc3RyaW5nLnNsaWNlKGkgLSAxKTtcblx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSBmYWxzZTtcblx0XHRcdGlzTGFzdENoYXJMb3dlciA9IHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlzTGFzdENoYXJMb3dlciA9IGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpID09PSBjaGFyYWN0ZXIgJiYgY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkgIT09IGNoYXJhY3Rlcjtcblx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKSA9PT0gY2hhcmFjdGVyICYmIGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpICE9PSBjaGFyYWN0ZXI7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cmluZztcbn07XG5cbmNvbnN0IGNhbWVsQ2FzZSA9IChpbnB1dCwgb3B0aW9ucykgPT4ge1xuXHRpZiAoISh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IEFycmF5LmlzQXJyYXkoaW5wdXQpKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBpbnB1dCB0byBiZSBgc3RyaW5nIHwgc3RyaW5nW11gJyk7XG5cdH1cblxuXHRvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0cGFzY2FsQ2FzZTogZmFsc2Vcblx0fSwgb3B0aW9ucyk7XG5cblx0Y29uc3QgcG9zdFByb2Nlc3MgPSB4ID0+IG9wdGlvbnMucGFzY2FsQ2FzZSA/IHguY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB4LnNsaWNlKDEpIDogeDtcblxuXHRpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0XHRpbnB1dCA9IGlucHV0Lm1hcCh4ID0+IHgudHJpbSgpKVxuXHRcdFx0LmZpbHRlcih4ID0+IHgubGVuZ3RoKVxuXHRcdFx0LmpvaW4oJy0nKTtcblx0fSBlbHNlIHtcblx0XHRpbnB1dCA9IGlucHV0LnRyaW0oKTtcblx0fVxuXG5cdGlmIChpbnB1dC5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRpZiAoaW5wdXQubGVuZ3RoID09PSAxKSB7XG5cdFx0cmV0dXJuIG9wdGlvbnMucGFzY2FsQ2FzZSA/IGlucHV0LnRvVXBwZXJDYXNlKCkgOiBpbnB1dC50b0xvd2VyQ2FzZSgpO1xuXHR9XG5cblx0Y29uc3QgaGFzVXBwZXJDYXNlID0gaW5wdXQgIT09IGlucHV0LnRvTG93ZXJDYXNlKCk7XG5cblx0aWYgKGhhc1VwcGVyQ2FzZSkge1xuXHRcdGlucHV0ID0gcHJlc2VydmVDYW1lbENhc2UoaW5wdXQpO1xuXHR9XG5cblx0aW5wdXQgPSBpbnB1dFxuXHRcdC5yZXBsYWNlKC9eW18uXFwtIF0rLywgJycpXG5cdFx0LnRvTG93ZXJDYXNlKClcblx0XHQucmVwbGFjZSgvW18uXFwtIF0rKFxcd3wkKS9nLCAoXywgcDEpID0+IHAxLnRvVXBwZXJDYXNlKCkpXG5cdFx0LnJlcGxhY2UoL1xcZCsoXFx3fCQpL2csIG0gPT4gbS50b1VwcGVyQ2FzZSgpKTtcblxuXHRyZXR1cm4gcG9zdFByb2Nlc3MoaW5wdXQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbENhc2U7XG4vLyBUT0RPOiBSZW1vdmUgdGhpcyBmb3IgdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGNhbWVsQ2FzZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi95YXJncy1wYXJzZXIvfi9jYW1lbGNhc2UvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0ciwgc2VwKSB7XG5cdGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgc3RyaW5nJyk7XG5cdH1cblxuXHRzZXAgPSB0eXBlb2Ygc2VwID09PSAndW5kZWZpbmVkJyA/ICdfJyA6IHNlcDtcblxuXHRyZXR1cm4gc3RyXG5cdFx0LnJlcGxhY2UoLyhbYS16XFxkXSkoW0EtWl0pL2csICckMScgKyBzZXAgKyAnJDInKVxuXHRcdC5yZXBsYWNlKC8oW0EtWl0rKShbQS1aXVthLXpcXGRdKykvZywgJyQxJyArIHNlcCArICckMicpXG5cdFx0LnRvTG93ZXJDYXNlKCk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2RlY2FtZWxpemUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyByZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggYXJyYXkgd2l0aCBkaXJlY3RvcnkgbmFtZXMgdGhlcmVcbi8vIG11c3QgYmUgbm8gc2xhc2hlcywgZW1wdHkgZWxlbWVudHMsIG9yIGRldmljZSBuYW1lcyAoYzpcXCkgaW4gdGhlIGFycmF5XG4vLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2hcbi8vIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBwYXRocylcbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkge1xuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgbGFzdCA9IHBhcnRzW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFydHM7XG59XG5cbi8vIFNwbGl0IGEgZmlsZW5hbWUgaW50byBbcm9vdCwgZGlyLCBiYXNlbmFtZSwgZXh0XSwgdW5peCB2ZXJzaW9uXG4vLyAncm9vdCcgaXMganVzdCBhIHNsYXNoLCBvciBub3RoaW5nLlxudmFyIHNwbGl0UGF0aFJlID1cbiAgICAvXihcXC8/fCkoW1xcc1xcU10qPykoKD86XFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKSg/OltcXC9dKikkLztcbnZhciBzcGxpdFBhdGggPSBmdW5jdGlvbihmaWxlbmFtZSkge1xuICByZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG59O1xuXG4vLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgdmFyIHBhdGggPSAoaSA+PSAwKSA/IGFyZ3VtZW50c1tpXSA6IHByb2Nlc3MuY3dkKCk7XG5cbiAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXNcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLyc7XG4gIH1cblxuICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICByZXR1cm4gKChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoKSB8fCAnLic7XG59O1xuXG4vLyBwYXRoLm5vcm1hbGl6ZShwYXRoKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBpc0Fic29sdXRlID0gZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpLFxuICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJztcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIWlzQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBwYXRoID0gJy4nO1xuICB9XG4gIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcbiAgICBwYXRoICs9ICcvJztcbiAgfVxuXG4gIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5qb2luID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHJldHVybiBleHBvcnRzLm5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH0pLmpvaW4oJy8nKSk7XG59O1xuXG5cbi8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlbGF0aXZlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgZnJvbSA9IGV4cG9ydHMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gIHRvID0gZXhwb3J0cy5yZXNvbHZlKHRvKS5zdWJzdHIoMSk7XG5cbiAgZnVuY3Rpb24gdHJpbShhcnIpIHtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuICAgIGZvciAoOyBlbmQgPj0gMDsgZW5kLS0pIHtcbiAgICAgIGlmIChhcnJbZW5kXSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG4gIH1cblxuICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7XG5cbiAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcbiAgdmFyIHNhbWVQYXJ0c0xlbmd0aCA9IGxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcbiAgICAgIHNhbWVQYXJ0c0xlbmd0aCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHNhbWVQYXJ0c0xlbmd0aDsgaSA8IGZyb21QYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7XG4gIH1cblxuICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO1xuXG4gIHJldHVybiBvdXRwdXRQYXJ0cy5qb2luKCcvJyk7XG59O1xuXG5leHBvcnRzLnNlcCA9ICcvJztcbmV4cG9ydHMuZGVsaW1pdGVyID0gJzonO1xuXG5leHBvcnRzLmRpcm5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciByZXN1bHQgPSBzcGxpdFBhdGgocGF0aCksXG4gICAgICByb290ID0gcmVzdWx0WzBdLFxuICAgICAgZGlyID0gcmVzdWx0WzFdO1xuXG4gIGlmICghcm9vdCAmJiAhZGlyKSB7XG4gICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyXG4gICAgcmV0dXJuICcuJztcbiAgfVxuXG4gIGlmIChkaXIpIHtcbiAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgcmV0dXJuIHJvb3QgKyBkaXI7XG59O1xuXG5cbmV4cG9ydHMuYmFzZW5hbWUgPSBmdW5jdGlvbihwYXRoLCBleHQpIHtcbiAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG4gIC8vIFRPRE86IG1ha2UgdGhpcyBjb21wYXJpc29uIGNhc2UtaW5zZW5zaXRpdmUgb24gd2luZG93cz9cbiAgaWYgKGV4dCAmJiBmLnN1YnN0cigtMSAqIGV4dC5sZW5ndGgpID09PSBleHQpIHtcbiAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gZjtcbn07XG5cblxuZXhwb3J0cy5leHRuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gc3BsaXRQYXRoKHBhdGgpWzNdO1xufTtcblxuZnVuY3Rpb24gZmlsdGVyICh4cywgZikge1xuICAgIGlmICh4cy5maWx0ZXIpIHJldHVybiB4cy5maWx0ZXIoZik7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGYoeHNbaV0sIGksIHhzKSkgcmVzLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBTdHJpbmcucHJvdG90eXBlLnN1YnN0ciAtIG5lZ2F0aXZlIGluZGV4IGRvbid0IHdvcmsgaW4gSUU4XG52YXIgc3Vic3RyID0gJ2FiJy5zdWJzdHIoLTEpID09PSAnYidcbiAgICA/IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfVxuICAgIDogZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikge1xuICAgICAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IHN0ci5sZW5ndGggKyBzdGFydDtcbiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7XG4gICAgfVxuO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3BhdGgtYnJvd3NlcmlmeS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gdGFrZSBhbiB1bi1zcGxpdCBhcmd2IHN0cmluZyBhbmQgdG9rZW5pemUgaXQuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmdTdHJpbmcpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJnU3RyaW5nKSkge1xuICAgIHJldHVybiBhcmdTdHJpbmcubWFwKGUgPT4gdHlwZW9mIGUgIT09ICdzdHJpbmcnID8gZSArICcnIDogZSlcbiAgfVxuXG4gIGFyZ1N0cmluZyA9IGFyZ1N0cmluZy50cmltKClcblxuICB2YXIgaSA9IDBcbiAgdmFyIHByZXZDID0gbnVsbFxuICB2YXIgYyA9IG51bGxcbiAgdmFyIG9wZW5pbmcgPSBudWxsXG4gIHZhciBhcmdzID0gW11cblxuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgYXJnU3RyaW5nLmxlbmd0aDsgaWkrKykge1xuICAgIHByZXZDID0gY1xuICAgIGMgPSBhcmdTdHJpbmcuY2hhckF0KGlpKVxuXG4gICAgLy8gc3BsaXQgb24gc3BhY2VzIHVubGVzcyB3ZSdyZSBpbiBxdW90ZXMuXG4gICAgaWYgKGMgPT09ICcgJyAmJiAhb3BlbmluZykge1xuICAgICAgaWYgKCEocHJldkMgPT09ICcgJykpIHtcbiAgICAgICAgaSsrXG4gICAgICB9XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIC8vIGRvbid0IHNwbGl0IHRoZSBzdHJpbmcgaWYgd2UncmUgaW4gbWF0Y2hpbmdcbiAgICAvLyBvcGVuaW5nIG9yIGNsb3Npbmcgc2luZ2xlIGFuZCBkb3VibGUgcXVvdGVzLlxuICAgIGlmIChjID09PSBvcGVuaW5nKSB7XG4gICAgICBvcGVuaW5nID0gbnVsbFxuICAgIH0gZWxzZSBpZiAoKGMgPT09IFwiJ1wiIHx8IGMgPT09ICdcIicpICYmICFvcGVuaW5nKSB7XG4gICAgICBvcGVuaW5nID0gY1xuICAgIH1cblxuICAgIGlmICghYXJnc1tpXSkgYXJnc1tpXSA9ICcnXG4gICAgYXJnc1tpXSArPSBjXG4gIH1cblxuICByZXR1cm4gYXJnc1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3lhcmdzLXBhcnNlci9saWIvdG9rZW5pemUtYXJnLXN0cmluZy5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNsb3dMb2csXG4gIHNlcmllcyxcbiAgcmFuZG9tTnVtYmVyXG59XG5cbmZ1bmN0aW9uIHJhbmRvbU51bWJlciAobWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbn1cblxuZnVuY3Rpb24gc2xvd0xvZyh0LCBpdGVyYXRvciwgbWluLCBtYXgsIGRvbmUpIHtcbiAgbGV0IG5leHQgPSBpdGVyYXRvci5uZXh0KClcblxuICBpZiAobmV4dCA9PT0gdW5kZWZpbmVkIHx8IG5leHQgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZG9uZSgpXG4gIH1cblxuICB0LnByaW50KG5leHQucmVwbGFjZSgvXFx0L2csICcnKSArICc8YnIvPicpXG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgc2xvd0xvZyh0LCBpdGVyYXRvciwgbWluLCBtYXgsIGRvbmUpXG4gIH0sIHJhbmRvbU51bWJlcihtaW4sIG1heCkpXG59XG5cbmZ1bmN0aW9uIHNlcmllcyAob3BzLCBkb25lKSB7XG4gIGNvbnN0IG9wID0gb3BzLnNoaWZ0KClcblxuICBvcCgoZXJyLCByZXMpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gZG9uZShlcnIpXG4gICAgfVxuXG4gICAgaWYgKCFvcHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZG9uZShudWxsLCByZXMpXG4gICAgfVxuXG4gICAgcmV0dXJuIHNlcmllcyhvcHMsIGRvbmUpXG4gIH0pXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL3V0aWwuanNcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBtYXAgPSB7XG5cdFwiLi9pbmRleFwiOiAxNixcblx0XCIuL2luZGV4LmpzXCI6IDE2LFxuXHRcIi4vbGliL3Rva2VuaXplLWFyZy1zdHJpbmdcIjogMjEsXG5cdFwiLi9saWIvdG9rZW5pemUtYXJnLXN0cmluZy5qc1wiOiAyMVxufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xufTtcbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAyMztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi95YXJncy1wYXJzZXIgXlxcLlxcLy4qJFxuLy8gbW9kdWxlIGlkID0gMjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3QgdXNlcnMgPSByZXF1aXJlKCcuL3VzZXJzJylcbmNvbnN0IGdyb3VwcyA9IHJlcXVpcmUoJy4vZ3JvdXBzJylcbmNvbnN0IGZzID0gcmVxdWlyZSgnLi9mcycpXG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBncm91cHMuYWRkKCdyb290JylcbiAgZ3JvdXBzLmFkZCgnd2hlZWwnKVxuICBncm91cHMuYWRkKCdzdGFmZicpXG4gIGdyb3Vwcy5hZGQoJ2FsZXgnKVxuXG4gIHVzZXJBZGQoJ3Jvb3QnLCBbXSlcbiAgdXNlckFkZCgnYWxleCcsIFsnd2hlZWwnLCAnc3RhZmYnXSlcblxuICBmcy5jZCgnL2hvbWUvYWxleCcpXG59XG5cbmZ1bmN0aW9uIHVzZXJBZGQgKG5hbWUsIGdyb3Vwcykge1xuICBsZXQgaG9tZSA9IGAvaG9tZS8ke25hbWV9YFxuXG4gIGlmIChuYW1lID09PSAncm9vdCcpIHtcbiAgICBob21lID0gJy9yb290J1xuICB9XG5cbiAgdXNlcnMuYWRkKG5hbWUsIGhvbWUsIG5hbWUsIGdyb3VwcylcblxuICBpZiAobmFtZSA9PT0gJ3Jvb3QnKSB7XG4gICAgZnMubWtkaXIoaG9tZSwgdXNlcnMuaWRzKCdyb290JykpXG4gIH0gZWxzZSB7XG4gICAgZnMubWtkaXIoJy9ob21lJywgdXNlcnMuaWRzKCdyb290JykpXG4gICAgZnMubWtkaXIoaG9tZSwgdXNlcnMuaWRzKG5hbWUpKVxuICB9XG5cbiAgZnMubWtkaXIoYCR7aG9tZX0vRG9jdW1lbnRzYCwgdXNlcnMuaWRzKG5hbWUpKVxuICBmcy5ta2RpcihgJHtob21lfS9Db2RlYCwgdXNlcnMuaWRzKG5hbWUpKVxuICBmcy53cml0ZShgJHtob21lfS8uYmFzaF9oaXN0b3J5YCwgYGxzXG4gIGxzXG4gIG1rZGlyXG4gIHJtIC1yZiAvYCwgdXNlcnMuaWRzKG5hbWUpKVxuICBmcy53cml0ZShgJHtob21lfS8uYmFzaF9wcm9maWxlYCwgYHNvdXJjZSAvZXRjL3Byb2ZpbGVcblxuICBleHBvcnQgTlZNX0RJUj1cIi8ke2hvbWV9fS8ubnZtXCJcbiAgWyAtcyBcIiROVk1fRElSL252bS5zaFwiIF0gJiYgLiBcIiROVk1fRElSL252bS5zaFwiICAjIFRoaXMgbG9hZHMgbnZtXG5cbiAgbnZtIHVzZSAxMGAsIHVzZXJzLmlkcyhuYW1lKSlcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvc3lzdGVtL2Jvb3QuanNcbi8vIG1vZHVsZSBpZCA9IDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGdyb3VwcyA9IHJlcXVpcmUoJy4vZ3JvdXBzJylcblxubGV0IG5leHRVaWQgPSAwXG5jb25zdCB1c2VycyA9IHt9XG5cbmNvbnN0IHVzZXJBcGkgPSB7XG4gIGFkZDogKG5hbWUsIGhvbWUsIGdyb3VwLCBzdXBwbGVtZW50YXJ5R3JvdXBzKSA9PiB7XG4gICAgdXNlcnNbbmV4dFVpZF0gPSB7XG4gICAgICB1aWQ6IG5leHRVaWQsXG4gICAgICBnaWQ6IGdyb3Vwcy5maW5kKGdyb3VwKS5naWQsXG4gICAgICBuYW1lLFxuICAgICAgaG9tZSxcbiAgICAgIGdyb3Vwczogc3VwcGxlbWVudGFyeUdyb3Vwcy5tYXAoZ3JvdXAgPT4gZ3JvdXBzLmZpbmQoZ3JvdXApLmdpZClcbiAgICB9XG5cbiAgICBuZXh0VWlkKytcbiAgfSxcbiAgZmluZDogKGlkKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycgfHwgaWQgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHVzZXJzKS5maW5kKHVzZXIgPT4gdXNlci5uYW1lID09PSBpZClcbiAgICB9XG5cbiAgICByZXR1cm4gdXNlcnNbaWRdXG4gIH0sXG4gIGlkczogKGlkKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdXNlckFwaS5maW5kKGlkKVxuXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdWlkOiByZXN1bHQudWlkLFxuICAgICAgICBnaWQ6IHJlc3VsdC5naWQsXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdXNlckFwaVxuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL3N5c3RlbS91c2Vycy5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibGV0IG5leHRHaWQgPSAwXG5jb25zdCBncm91cHMgPSB7fVxuXG5jb25zdCBncm91cEFwaSA9IHtcbiAgYWRkOiAobmFtZSkgPT4ge1xuICAgIGdyb3Vwc1tuZXh0R2lkXSA9IHtcbiAgICAgIGdpZDogbmV4dEdpZCxcbiAgICAgIG5hbWVcbiAgICB9XG5cbiAgICBuZXh0R2lkKytcbiAgfSxcbiAgZmluZDogKGlkKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycgfHwgaWQgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGdyb3VwcykuZmluZChnID0+IGcubmFtZSA9PT0gaWQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGdyb3Vwc1tpZF1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdyb3VwQXBpXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL3N5c3RlbS9ncm91cHMuanNcbi8vIG1vZHVsZSBpZCA9IDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IHtcbiAgcmVzb2x2ZVxufSA9IHJlcXVpcmUoJ3BhdGgnKVxuXG5jb25zdCBjcmVhdGVEaXIgPSAoeyB1aWQsIGdpZCB9ID0ge30pID0+IHtcbiAgcmV0dXJuIHtcbiAgICB1aWQ6IHVpZCB8fCAwLFxuICAgIGdpZDogZ2lkIHx8IDAsXG4gICAgc2l6ZSAoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5jaGlsZHJlbikucmVkdWNlKChhY2MsIGN1cnIpID0+IHtcbiAgICAgICAgcmV0dXJuIGFjYyArIHRoaXMuY2hpbGRyZW5bY3Vycl0uc2l6ZSgpXG4gICAgICB9LCAwKVxuICAgIH0sXG4gICAgbXRpbWU6IG5ldyBEYXRlKCksXG4gICAgY2hpbGRyZW46IHsgfVxuICB9XG59XG5cbmNvbnN0IGNyZWF0ZUZpbGUgPSAoY29udGVudCA9ICcnLCB7IHVpZCwgZ2lkIH0gPSB7fSkgPT4ge1xuICByZXR1cm4ge1xuICAgIHVpZDogdWlkIHx8IDAsXG4gICAgZ2lkOiBnaWQgfHwgMCxcbiAgICBzaXplICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoXG4gICAgfSxcbiAgICBtdGltZTogbmV3IERhdGUoKSxcbiAgICBjb250ZW50XG4gIH1cbn1cblxubGV0IHB3ZCA9ICcvaG9tZS9hbGV4J1xuY29uc3QgZmlsZVN5c3RlbSA9IGNyZWF0ZURpcih7XG4gIHVpZDogMCxcbiAgZ2lkOiAwXG59KVxuXG5jb25zdCBmcyA9IHtcbiAgcHdkOiAoKSA9PiB7XG4gICAgcmV0dXJuIHB3ZFxuICB9LFxuICBnZXROb2RlOiAoaW5wdXQpID0+IHtcbiAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQpXG5cbiAgICBpZiAocGF0aCA9PT0gJy8nKSB7XG4gICAgICByZXR1cm4gZmlsZVN5c3RlbVxuICAgIH1cblxuICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15cXC8rL2csICcnKS5yZXBsYWNlKC9cXC8rJC9nLCAnJylcbiAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKVxuICAgIGxldCBub2RlID0gZmlsZVN5c3RlbS5jaGlsZHJlbltwYXJ0c1swXV1cblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV0pIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dXG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGVcbiAgfSxcbiAgbWtkaXI6IChpbnB1dCwgb3B0cykgPT4ge1xuICAgIGxldCBwYXRoID0gbm9ybWFsaXNlUGF0aChpbnB1dClcblxuICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15cXC8rL2csICcnKS5yZXBsYWNlKC9cXC8rJC9nLCAnJylcbiAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKVxuICAgIGxldCBub2RlID0gZmlsZVN5c3RlbVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV1cblxuICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIG5vZGUgPSBjaGlsZFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5wIHx8IGkgPT09IHBhcnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dID0gY3JlYXRlRGlyKG9wdHMpXG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBta2RpcjogJHtpbnB1dH06IE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnlgKVxuICAgIH1cbiAgfSxcbiAgd3JpdGU6IChpbnB1dCwgY29udGVudCwgb3B0cykgPT4ge1xuICAgIGxldCBwYXRoID0gbm9ybWFsaXNlUGF0aChpbnB1dClcblxuICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15cXC8rL2csICcnKS5yZXBsYWNlKC9cXC8rJC9nLCAnJylcbiAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKVxuICAgIGxldCBub2RlID0gZmlsZVN5c3RlbVxuXG4gICAgY29uc3QgZmlsZSA9IHBhcnRzLnBvcCgpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSBub2RlLmNoaWxkcmVuW3BhcnRzW2ldXVxuXG4gICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgbm9kZSA9IGNoaWxkXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRzLnApIHtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dID0gY3JlYXRlRGlyKG9wdHMpXG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKGB0b3VjaDogJHtpbnB1dH06IE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnlgKVxuICAgIH1cblxuICAgIG5vZGUuY2hpbGRyZW5bZmlsZV0gPSBjcmVhdGVGaWxlKGNvbnRlbnQsIG9wdHMpXG4gIH0sXG4gIHJlYWQ6IChpbnB1dCkgPT4ge1xuICAgIGxldCBwYXRoID0gbm9ybWFsaXNlUGF0aChpbnB1dClcbiAgICBjb25zdCBub2RlID0gZnMuZ2V0Tm9kZShwYXRoKVxuXG4gICAgaWYgKCFub2RlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlYWQ6ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZS5jb250ZW50XG4gIH0sXG4gIHJtOiAoaW5wdXQsIG9wdHMpID0+IHtcbiAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQpXG5cbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwvKy9nLCAnJykucmVwbGFjZSgvXFwvKyQvZywgJycpXG4gICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJylcbiAgICBsZXQgbm9kZSA9IGZpbGVTeXN0ZW1cblxuICAgIGNvbnN0IGZpbGUgPSBwYXJ0cy5wb3AoKVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV1cblxuICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIG5vZGUgPSBjaGlsZFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHJtOiAke2lucHV0fTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApXG4gICAgfVxuXG4gICAgaWYgKCFub2RlLmNoaWxkcmVuW2ZpbGVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHJtOiAke2lucHV0fTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApXG4gICAgfVxuXG4gICAgaWYgKG5vZGUuY2hpbGRyZW5bZmlsZV0uY2hpbGRyZW4gJiYgIW9wdHMucikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBybTogJHtpbnB1dH06IGlzIGEgZGlyZWN0b3J5YClcbiAgICB9XG5cbiAgICBkZWxldGUgbm9kZS5jaGlsZHJlbltmaWxlXVxuICB9LFxuICBjZDogKGlucHV0KSA9PiB7XG4gICAgbGV0IHBhdGggPSBub3JtYWxpc2VQYXRoKGlucHV0KVxuICAgIGNvbnN0IG5vZGUgPSBmcy5nZXROb2RlKHBhdGgpXG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgLWJhc2g6IGNkOiAke2lucHV0fTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApXG4gICAgfVxuXG4gICAgcHdkID0gcGF0aFxuICB9LFxuICBsczogKGlucHV0KSA9PiB7XG4gICAgbGV0IHBhdGggPSBub3JtYWxpc2VQYXRoKGlucHV0IHx8IHB3ZClcbiAgICBjb25zdCBub2RlID0gZnMuZ2V0Tm9kZShwYXRoKVxuXG4gICAgaWYgKCFub2RlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlYWQ6ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcbiAgICB9XG5cbiAgICBpZiAobm9kZS5jb250ZW50KSB7XG4gICAgICByZXR1cm4gW3tcbiAgICAgICAgbmFtZTogcGF0aC5zcGxpdCgnLycpLnBvcCgpLFxuICAgICAgICBub2RlOiBub2RlXG4gICAgICB9XVxuICAgIH1cblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhub2RlLmNoaWxkcmVuKVxuICAgICAgLm1hcChuYW1lID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIG5vZGU6IG5vZGUuY2hpbGRyZW5bbmFtZV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgfSxcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXNlUGF0aCAoaW5wdXQpIHtcbiAgbGV0IHBhdGggPSBpbnB1dFxuXG4gIGlmIChwYXRoLnN1YnN0cmluZygwLCAxKSAhPT0gJy8nKSB7XG4gICAgcGF0aCA9IGAke3B3ZH0vJHtwYXRofWBcbiAgfVxuXG4gIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcLysvZywgJy8nKVxuICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwvKy9nLCAnJykucmVwbGFjZSgvXFwvKyQvZywgJycpXG4gIHBhdGggPSBgLyR7cGF0aH1gXG5cbiAgcGF0aCA9IHJlc29sdmUocGF0aClcblxuICByZXR1cm4gcGF0aFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL3N5c3RlbS9mcy5qc1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3QgZnMgPSByZXF1aXJlKCcuLi9zeXN0ZW0vZnMnKVxuY29uc3QgdXNlcnMgPSByZXF1aXJlKCcuLi9zeXN0ZW0vdXNlcnMnKVxuY29uc3QgZ3JvdXBzID0gcmVxdWlyZSgnLi4vc3lzdGVtL2dyb3VwcycpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuICAgIGxldCBmaWxlcyA9IGZzLmxzKGFyZ3MuX1swXSlcbiAgICBmaWxlcyA9IGZpbGVzLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXG5cbiAgICBpZiAoIWFyZ3MuYSkge1xuICAgICAgZmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLm5hbWUuc3Vic3RyaW5nKDAsIDEpICE9PSAnLicpXG4gICAgfVxuXG4gICAgaWYgKGFyZ3MubCkge1xuICAgICAgcmV0dXJuIGBcbiAgICAgIDx0YWJsZT48dGJvZHk+XG4gICAgICAgICR7XG4gICAgICAgICAgZmlsZXNcbiAgICAgICAgICAubWFwKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjaGlsZC5ub2RlXG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbm9kZS5tdGltZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLUdCJywge1xuICAgICAgICAgICAgICBkYXk6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgbW9udGg6ICdzaG9ydCcsXG4gICAgICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgbWludXRlOiAnMi1kaWdpdCdcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJldHVybiBgPHRyPlxuICAgICAgICAgICAgICA8dGQ+JHtub2RlLmNoaWxkcmVuID8gJ2QnIDogJy0nfXJ3LXItLXItLSZuYnNwOzwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD4ke3VzZXJzLmZpbmQobm9kZS51aWQpLm5hbWV9Jm5ic3A7PC90ZD5cbiAgICAgICAgICAgICAgPHRkPiR7Z3JvdXBzLmZpbmQobm9kZS5naWQpLm5hbWV9Jm5ic3A7PC90ZD5cbiAgICAgICAgICAgICAgPHRkPiR7bm9kZS5zaXplKCl9Jm5ic3A7PC90ZD5cbiAgICAgICAgICAgICAgPHRkPiR7ZGF0ZX0mbmJzcDs8L3RkPlxuICAgICAgICAgICAgICA8dGQ+JHtjaGlsZC5uYW1lfTwvdGQ+XG4gICAgICAgICAgICA8L3RyPmBcbiAgICAgICAgICB9KS5qb2luKCcnKVxuICAgICAgICB9XG4gICAgICA8dGJvZHk+PC90YWJsZT5gXG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbGVzXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSlcbiAgICAgIC5tYXAoZmlsZSA9PiBmaWxlLm5hbWUpXG4gICAgICAuam9pbignICcpXG4gIH0sXG4gIGFyZ3M6IHtcbiAgICBib29sZWFuOiBbXG4gICAgICAnbCcsXG4gICAgICAnYSdcbiAgICBdXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbWFuZHMvbHMuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGZzID0gcmVxdWlyZSgnLi4vc3lzdGVtL2ZzJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICgpID0+IHtcbiAgICByZXR1cm4gZnMucHdkKClcbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9wd2QuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGZzID0gcmVxdWlyZSgnLi4vc3lzdGVtL2ZzJylcbmNvbnN0IHVzZXJzID0gcmVxdWlyZSgnLi4vc3lzdGVtL3VzZXJzJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG4gICAgY29uc3QgeyBfIH0gPSBhcmdzXG5cbiAgICBpZiAoIV8ubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzYWdlOiBta2RpciBbLXB2XSBbLW0gbW9kZV0gZGlyZWN0b3J5IC4uLicpXG4gICAgfVxuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IF8ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZzLm1rZGlyKF9baV0sIHtcbiAgICAgICAgdWlkOiB1c2Vycy5maW5kKCdhbGV4JykudWlkLFxuICAgICAgICBnaWQ6IHVzZXJzLmZpbmQoJ2FsZXgnKS5naWQsXG4gICAgICAgIHA6IGFyZ3MucFxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gJydcbiAgfSxcbiAgYXJnczoge1xuICAgIGJvb2xlYW46IFtcbiAgICAgICdwJ1xuICAgIF1cbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9ta2Rpci5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3QgZnMgPSByZXF1aXJlKCcuLi9zeXN0ZW0vZnMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcbiAgICBjb25zdCB7IF8gfSA9IGFyZ3NcblxuICAgIGlmICghXy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXNhZ2U6IHRvdWNoIFstQSBbLV1bW2hoXW1tXVNTXSBbLWFjZmhtXSBbLXIgZmlsZV0gWy10IFtbQ0NdWVldTU1ERGhobW1bLlNTXV0gZmlsZSAuLi4nKVxuICAgIH1cblxuICAgIGZzLndyaXRlKF9bMF0sICcnLCB7XG4gICAgICB1aWQ6IGZzLnVzZXIoNTAwKS51aWQsXG4gICAgICBnaWQ6IGZzLnVzZXIoNTAwKS5naWRcbiAgICB9KVxuXG4gICAgcmV0dXJuICcnXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbWFuZHMvdG91Y2guanNcbi8vIG1vZHVsZSBpZCA9IDM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGZzID0gcmVxdWlyZSgnLi4vc3lzdGVtL2ZzJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG4gICAgbGV0IG5vZGUgPSBmcy5nZXROb2RlKGFyZ3MuX1swXSlcblxuICAgIGlmICghbm9kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYXQ6ICR7YXJncy5fWzBdfTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApXG4gICAgfVxuXG4gICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgY2F0OiAke2FyZ3MuX1swXX06IElzIGEgZGlyZWN0b3J5YClcbiAgICB9XG5cbiAgICByZXR1cm4gYDxwcmU+JHtub2RlLmNvbnRlbnR9PC9wcmU+YFxuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL2NhdC5qc1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3QgZnMgPSByZXF1aXJlKCcuLi9zeXN0ZW0vZnMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcbiAgICBjb25zdCB7IF8gfSA9IGFyZ3NcblxuICAgIGlmICghXy5sZW5ndGgpIHtcbiAgICAgIF8ucHVzaCgnL2hvbWUvYWxleCcpXG4gICAgfVxuXG4gICAgZnMuY2QoX1swXSlcblxuICAgIHJldHVybiAnJ1xuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL2NkLmpzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjb25zdCBmcyA9IHJlcXVpcmUoJy4uL3N5c3RlbS9mcycpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuICAgIGNvbnN0IHsgXyB9ID0gYXJnc1xuXG4gICAgaWYgKCFfLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2FnZTogcm0gWy1mIHwgLWldIFstZFBScnZXXSBmaWxlIC4uLiB1bmxpbmsgZmlsZScpXG4gICAgfVxuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IF8ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZzLnJtKF9baV0sIGFyZ3MpXG4gICAgfVxuXG4gICAgcmV0dXJuICcnXG4gIH0sXG4gIGFyZ3M6IHtcbiAgICBib29sZWFuOiBbXG4gICAgICAncicsXG4gICAgICAnZidcbiAgICBdXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbWFuZHMvcm0uanNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICh0KSA9PiB7XG4gICAgdC5jbGVhcigpXG5cbiAgICByZXR1cm4gJydcbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9jbGVhci5qc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcbiAgICBpZiAoIWFyZ3MuXy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0LmdldFRoZW1lKClcbiAgICB9XG5cbiAgICBpZiAoYXJncy5fLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVG9vIG1hbnkgYXJndW1lbnRzJylcbiAgICB9XG5cbiAgICBpZiAoYXJncy5fWzBdLm1hdGNoKC9eaW50ZXJsYWNlZHxtb2Rlcm58d2hpdGUkLykpIHtcbiAgICAgIHQuc2V0VGhlbWUoYXJnc1swXSlcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0aGVtZScpXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbWFuZHMvdGhlbWUuanNcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICgpID0+IHtcbiAgICByZXR1cm4gJzEuMC4yJ1xuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL3ZlcnNpb24uanNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IHtcbiAgc2xvd0xvZ1xufSA9IHJlcXVpcmUoJy4uLy4uL3V0aWwnKVxuXG5jb25zdCBzdWJDb21tYW5kcyA9IHtcbiAgaW5zdGFsbDogcmVxdWlyZSgnLi9pbnN0YWxsJylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG4gICAgY29uc3Qgc3ViQ29tbWFuZCA9IGFyZ3MuXy5zaGlmdCgpXG5cbiAgICBpZiAoc3ViQ29tbWFuZHNbc3ViQ29tbWFuZF0pIHtcbiAgICAgIHJldHVybiBzdWJDb21tYW5kc1tzdWJDb21tYW5kXS5oYW5kbGVyKHQsIGFyZ3MpXG4gICAgfVxuXG4gICAgcmV0dXJuIGA8cHJlPlVzYWdlOiBucG0gPGNvbW1hbmQ+XG5cbndoZXJlIDxjb21tYW5kPiBpcyBvbmUgb2Y6XG4gICAgJHtPYmplY3Qua2V5cyhzdWJDb21tYW5kcykuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKX1cblxubnBtIDxjb21tYW5kPiAtaCAgcXVpY2sgaGVscCBvbiA8Y29tbWFuZD5cbm5wbSAtbCAgICAgICAgICAgIGRpc3BsYXkgZnVsbCB1c2FnZSBpbmZvXG5ucG0gaGVscCA8dGVybT4gICBzZWFyY2ggZm9yIGhlbHAgb24gPHRlcm0+XG5ucG0gaGVscCBucG0gICAgICBpbnZvbHZlZCBvdmVydmlld1xuXG5TcGVjaWZ5IGNvbmZpZ3MgaW4gdGhlIGluaS1mb3JtYXR0ZWQgZmlsZTpcbiAgICAvaG9tZS9hbGV4Ly5ucG1yY1xub3Igb24gdGhlIGNvbW1hbmQgbGluZSB2aWE6IG5wbSA8Y29tbWFuZD4gLS1rZXkgdmFsdWVcbkNvbmZpZyBpbmZvIGNhbiBiZSB2aWV3ZWQgdmlhOiBucG0gaGVscCBjb25maWdcblxubnBtQDYuNC4xIC9ob21lL2FsZXgvLm52bS92ZXJzaW9ucy9ub2RlL3YxMC4xNS4zL2xpYi9ub2RlX21vZHVsZXMvbnBtPC9wcmU+YFxuICB9LFxuICBhcmdzOiB7XG4gICAgYm9vbGVhbjogW1xuICAgICAgJ3NhdmUnLCAnc2F2ZS1kZXYnLCAncHJvZHVjdGlvbicsICdnJywgJ2dsb2JhbCdcbiAgICBdXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbWFuZHMvbnBtL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjb25zdCB7XG4gIG5wbUluc3RhbGxMb2dcbn0gPSByZXF1aXJlKCcuL3V0aWwnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcbiAgICBucG1JbnN0YWxsTG9nKHQsIHtcbiAgICAgIG5hbWU6IGFyZ3MuX1swXSxcbiAgICAgIGRlcGVuZGVuY2llczogW1xuICAgICAgICAnZG5zY2FjaGUnLFxuICAgICAgICAnZXhwcmVzcy1odHRwLXByb3h5JyxcbiAgICAgICAgJ2lwZnNkLWN0bCcsXG4gICAgICAgICdpcGZzLWh0dHAtY2xpZW50JyxcbiAgICAgICAgJ2lwZnMnLFxuICAgICAgICAnZXhwcmVzcycsXG4gICAgICAgICdkZWJ1ZycsXG4gICAgICAgICdvbmNlJyxcbiAgICAgICAgJ3JlcXVlc3QnLFxuICAgICAgICAncmMnLFxuICAgICAgICAncmVxdWVzdC1wcm9taXNlJyxcbiAgICAgICAgJ3lhcmdzJyxcbiAgICAgICAgJ0B5YXJucGtnJTJmbG9ja2ZpbGUnLFxuICAgICAgICAnaXBmcy1yZWdpc3RyeS1taXJyb3ItY29tbW9uJyxcbiAgICAgICAgJ3doaWNoLXByb21pc2UnXG4gICAgICBdXG4gICAgfSlcbiAgfVxufVxuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL25wbS9pbnN0YWxsLmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjb25zdCB7XG4gIHNsb3dMb2csXG4gIHJhbmRvbU51bWJlclxufSA9IHJlcXVpcmUoJy4uLy4uL3V0aWwnKVxuXG5jb25zdCBucG1JbnN0YWxsTG9nID0gKHQsIHBrZykgPT4ge1xuICBsZXQgZGVwcyA9IFtcbiAgICAnbnBtIGluZm8gaXQgd29ya2VkIGlmIGl0IGVuZHMgd2l0aCBvaycsXG4gICAgJ25wbSBpbmZvIHVzaW5nIG5wbUA2LjQuMScsXG4gICAgJ25wbSBpbmZvIHVzaW5nIG5vZGVAdjEwLjE1LjMnLFxuICAgIGBucG0gaHR0cCBmZXRjaCBHRVQgMzA0IGh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnLyR7cGtnLm5hbWV9IDk5N21zIChmcm9tIGNhY2hlKWAsXG4gICAgJ25wbSB0aW1pbmcgc3RhZ2U6bG9hZEN1cnJlbnRUcmVlIENvbXBsZXRlZCBpbiA2MjQ4bXMnLFxuICAgICducG0gdGltaW5nIHN0YWdlOmxvYWRJZGVhbFRyZWU6Y2xvbmVDdXJyZW50VHJlZSBDb21wbGV0ZWQgaW4gMzZtcycsXG4gICAgJ25wbSB0aW1pbmcgc3RhZ2U6bG9hZElkZWFsVHJlZTpsb2FkU2hyaW5rd3JhcCBDb21wbGV0ZWQgaW4gMjQ1Mm1zJ1xuICBdXG5cbiAgcGtnLmRlcGVuZGVuY2llcy5mb3JFYWNoKGRlcCA9PiB7XG4gICAgZGVwcy5wdXNoKGBucG0gaHR0cCBmZXRjaCBHRVQgMzA0IGh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnLyR7ZGVwfSAke3JhbmRvbU51bWJlcigxMDAsIDUwMCl9bXMgKGZyb20gY2FjaGUpYClcbiAgfSlcblxuICBwa2cuZGVwZW5kZW5jaWVzLmZvckVhY2goZGVwID0+IHtcbiAgICBkZXBzLnB1c2goYG5wbSBpbmZvIGxpZmVjeWNsZSAke2RlcH1AMC44LjB+cG9zdGluc3RhbGw6ICR7ZGVwfUAwLjguMGApXG4gIH0pXG5cbiAgZGVwcyA9IGRlcHMuY29uY2F0KFtcbiAgICAnbnBtIHRpbWluZyBhY3Rpb246cG9zdGluc3RhbGwgQ29tcGxldGVkIGluIDM5MW1zJyxcbiAgICAnbnBtIHRpbWluZyBzdGFnZTpleGVjdXRlQWN0aW9ucyBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuICAgICducG0gdGltaW5nIHN0YWdlOnJvbGxiYWNrRmFpbGVkT3B0aW9uYWwgQ29tcGxldGVkIGluIDJtcycsXG4gICAgJ25wbSB0aW1pbmcgc3RhZ2U6cnVuVG9wTGV2ZWxMaWZlY3ljbGVzIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG4gICAgYCsgJHtwa2cubmFtZX1AMC4xNi4zYCxcbiAgICAnYWRkZWQgMTYzIHBhY2thZ2VzIGZyb20gMjg1IGNvbnRyaWJ1dG9ycyBhbmQgdXBkYXRlZCAxMTMyIHBhY2thZ2VzIGluIDk3Ljc2MXMnLFxuICAgICducG0gdGltaW5nIG5wbSBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuICAgICducG0gaW5mbyBvaydcbiAgXSlcblxuICBjb25zdCBzdGFydCA9IERhdGUubm93KClcblxuICBzbG93TG9nKHQsIHtcbiAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgbGluZSA9IGRlcHMuc2hpZnQoKVxuXG4gICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpbmUucmVwbGFjZSgnJXRpbWUlJywgRGF0ZS5ub3coKSAtIHN0YXJ0KVxuICAgIH1cbiAgfSwgNTAsIDIwMCwgKCkgPT4ge30pXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBucG1JbnN0YWxsTG9nXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9ucG0vdXRpbC5qc1xuLy8gbW9kdWxlIGlkID0gNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3Qge1xuICBzbG93TG9nXG59ID0gcmVxdWlyZSgnLi4vLi4vdXRpbCcpXG5cbmNvbnN0IHN1YkNvbW1hbmRzID0ge1xuICBpbml0OiByZXF1aXJlKCcuL2luaXQnKSxcbiAgaW5zdGFsbDogcmVxdWlyZSgnLi9pbnN0YWxsJylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG4gICAgY29uc3Qgc3ViQ29tbWFuZCA9IGFyZ3MuXy5zaGlmdCgpXG5cbiAgICBpZiAoc3ViQ29tbWFuZHNbc3ViQ29tbWFuZF0pIHtcbiAgICAgIHJldHVybiBzdWJDb21tYW5kc1tzdWJDb21tYW5kXS5oYW5kbGVyKHQsIGFyZ3MpXG4gICAgfVxuXG4gICAgY29uc3QgbG9nID0gW1xuICAgICAgJ/CfkanigI3wn5qAIFN0YXJ0aW5nIGxvY2FsIHByb3h5JyxcbiAgICAgICfwn5qAIFNlcnZlciBydW5uaW5nIG9uIHBvcnQgNDk4MjAnLFxuICAgICAgJ/CfjoEgSW5zdGFsbGluZyBkZXBlbmRlbmNpZXMgd2l0aCAvVXNlcnMvYWxleC8ubnZtL3ZlcnNpb25zL25vZGUvdjEwLjE1LjMvYmluL25wbScsXG4gICAgICAnbnBtIGluZm8gaXQgd29ya2VkIGlmIGl0IGVuZHMgd2l0aCBvaycsXG4gICAgICAnbnBtIGluZm8gdXNpbmcgbnBtQDYuNC4xJyxcbiAgICAgICducG0gaW5mbyB1c2luZyBub2RlQHYxMC4xNS4zJyxcblxuICAgICAgYDxwcmU+VXNhZ2U6IG5wbSA8Y29tbWFuZD5cblxud2hlcmUgPGNvbW1hbmQ+IGlzIG9uZSBvZjpcbiAgICBhY2Nlc3MsIGFkZHVzZXIsIGF1ZGl0LCBiaW4sIGJ1Z3MsIGMsIGNhY2hlLCBjaSwgY2l0LFxuICAgIGNvbXBsZXRpb24sIGNvbmZpZywgY3JlYXRlLCBkZHAsIGRlZHVwZSwgZGVwcmVjYXRlLFxuICAgIGRpc3QtdGFnLCBkb2NzLCBkb2N0b3IsIGVkaXQsIGV4cGxvcmUsIGdldCwgaGVscCxcbiAgICBoZWxwLXNlYXJjaCwgaG9vaywgaSwgaW5pdCwgaW5zdGFsbCwgaW5zdGFsbC10ZXN0LCBpdCwgbGluayxcbiAgICBsaXN0LCBsbiwgbG9naW4sIGxvZ291dCwgbHMsIG91dGRhdGVkLCBvd25lciwgcGFjaywgcGluZyxcbiAgICBwcmVmaXgsIHByb2ZpbGUsIHBydW5lLCBwdWJsaXNoLCByYiwgcmVidWlsZCwgcmVwbywgcmVzdGFydCxcbiAgICByb290LCBydW4sIHJ1bi1zY3JpcHQsIHMsIHNlLCBzZWFyY2gsIHNldCwgc2hyaW5rd3JhcCwgc3RhcixcbiAgICBzdGFycywgc3RhcnQsIHN0b3AsIHQsIHRlYW0sIHRlc3QsIHRva2VuLCB0c3QsIHVuLFxuICAgIHVuaW5zdGFsbCwgdW5wdWJsaXNoLCB1bnN0YXIsIHVwLCB1cGRhdGUsIHYsIHZlcnNpb24sIHZpZXcsXG4gICAgd2hvYW1pXG5cbm5wbSA8Y29tbWFuZD4gLWggIHF1aWNrIGhlbHAgb24gPGNvbW1hbmQ+XG5ucG0gLWwgICAgICAgICAgICBkaXNwbGF5IGZ1bGwgdXNhZ2UgaW5mb1xubnBtIGhlbHAgPHRlcm0+ICAgc2VhcmNoIGZvciBoZWxwIG9uIDx0ZXJtPlxubnBtIGhlbHAgbnBtICAgICAgaW52b2x2ZWQgb3ZlcnZpZXdcblxuU3BlY2lmeSBjb25maWdzIGluIHRoZSBpbmktZm9ybWF0dGVkIGZpbGU6XG4gICAgL1VzZXJzL2FsZXgvLm5wbXJjXG5vciBvbiB0aGUgY29tbWFuZCBsaW5lIHZpYTogbnBtIDxjb21tYW5kPiAtLWtleSB2YWx1ZVxuQ29uZmlnIGluZm8gY2FuIGJlIHZpZXdlZCB2aWE6IG5wbSBoZWxwIGNvbmZpZ1xuXG5ucG1ANi40LjEgL1VzZXJzL2FsZXgvLm52bS92ZXJzaW9ucy9ub2RlL3YxMC4xNS4zL2xpYi9ub2RlX21vZHVsZXMvbnBtXG7wn46BIC9Vc2Vycy9hbGV4Ly5udm0vdmVyc2lvbnMvbm9kZS92MTAuMTUuMy9iaW4vbnBtIGV4aXRlZCB3aXRoIGNvZGUgMVxu8J+ktyBObyBwYWNrYWdlLWxvY2suanNvbiBmb3VuZDwvcHJlPmBcbiAgICBdXG5cbiAgICBzbG93TG9nKHQsIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxvZy5zaGlmdCgpXG4gICAgICB9XG4gICAgfSwgNTAsIDIwMCwgKCkgPT4ge30pXG5cbiAgICByZXR1cm4gJydcbiAgfSxcbiAgYXJnczoge1xuICAgIGJvb2xlYW46IFtcbiAgICAgICdzYXZlJyxcbiAgICAgICd5J1xuICAgIF1cbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9pcGZzLW5wbS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3QgZnMgPSByZXF1aXJlKCcuLi8uLi9zeXN0ZW0vZnMnKVxuY29uc3QgdXNlcnMgPSByZXF1aXJlKCcuLi8uLi9zeXN0ZW0vdXNlcnMnKVxuY29uc3Qge1xuICBzbG93TG9nXG59ID0gcmVxdWlyZSgnLi4vLi4vdXRpbCcpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuICAgIGNvbnN0IHB3ZCA9IGZzLnB3ZCgpXG4gICAgY29uc3QgcHJvaiA9IHB3ZC5zcGxpdCgnLycpLnBvcCgpXG5cbiAgICBjb25zdCBjb250ZW50ID0gYHtcbiAgXCJuYW1lXCI6IFwiJHtwcm9qfVwiLFxuICBcInZlcnNpb25cIjogXCIxLjAuMFwiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gIFwibWFpblwiOiBcImluZGV4LmpzXCIsXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJ0ZXN0XCI6IFwiZWNobyBcXFxcXCJFcnJvcjogbm8gdGVzdCBzcGVjaWZpZWRcXFxcXCIgJiYgZXhpdCAxXCJcbiAgfSxcbiAgXCJrZXl3b3Jkc1wiOiBbXSxcbiAgXCJhdXRob3JcIjogXCJcIixcbiAgXCJsaWNlbnNlXCI6IFwiSVNDXCJcbn1gXG5cbiAgICBmcy53cml0ZShgJHtwd2R9L3BhY2thZ2UuanNvbmAsIGNvbnRlbnQsIHVzZXJzLmlkcygnYWxleCcpKVxuXG4gICAgcmV0dXJuIGA8cHJlPldyb3RlIHRvICR7cHdkfS9wYWNrYWdlLmpzb246XG5cbiAgICAke2NvbnRlbnR9PC9wcmU+YFxuICB9LFxuICBhcmdzOiB7XG4gICAgYm9vbGVhbjogW1xuICAgICAgJ3knXG4gICAgXVxuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL2lwZnMtbnBtL2luaXQuanNcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGZzID0gcmVxdWlyZSgnLi4vLi4vc3lzdGVtL2ZzJylcbmNvbnN0IHVzZXJzID0gcmVxdWlyZSgnLi4vLi4vc3lzdGVtL3VzZXJzJylcbmNvbnN0IHtcbiAgc2xvd0xvZyxcbiAgcmFuZG9tTnVtYmVyXG59ID0gcmVxdWlyZSgnLi4vLi4vdXRpbCcpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuICAgIGNvbnN0IHB3ZCA9IGZzLnB3ZCgpXG4gICAgY29uc3QgcGtnID0gYCR7cHdkfS9wYWNrYWdlLmpzb25gXG4gICAgY29uc3QgY29udGVudCA9IGZzLnJlYWQocGtnKVxuICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShjb250ZW50KVxuXG4gICAgaWYgKGFyZ3MuXy5sZW5ndGgpIHtcbiAgICAgIC8vIGluc3RhbGwgYSBwYWNrYWdlXG4gICAgICBucG1JbnN0YWxsU2luZ2xlUGFja2FnZUxvZyh0LCBhcmdzLl9bMF0pXG5cbiAgICAgIGlmIChhcmdzLnNhdmUpIHtcbiAgICAgICAgbWFuaWZlc3QuZGVwZW5kZW5jaWVzID0gbWFuaWZlc3QuZGVwZW5kZW5jaWVzIHx8IHt9XG4gICAgICAgIG1hbmlmZXN0LmRlcGVuZGVuY2llc1thcmdzLl9bMF1dID0gJ145LjAuMCdcblxuICAgICAgICBmcy53cml0ZShwa2csIEpTT04uc3RyaW5naWZ5KG1hbmlmZXN0LCBudWxsLCAyKSwgdXNlcnMuaWRzKCdhbGV4JykpXG4gICAgICAgIGZzLndyaXRlKGAke3B3ZH0vcGFja2FnZS1sb2NrLmpzb25gLCBge1xuICBcIm5hbWVcIjogXCIke21hbmlmZXN0Lm5hbWV9XCIsXG4gIFwidmVyc2lvblwiOiBcIjEuMC4wXCIsXG4gIFwibG9ja2ZpbGVWZXJzaW9uXCI6IDEsXG4gIFwicmVxdWlyZXNcIjogdHJ1ZSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiJHthcmdzLl9bMF19XCI6IHtcbiAgICAgIFwidmVyc2lvblwiOiBcIjkuMC4wXCIsXG4gICAgICBcInJlc29sdmVkXCI6IFwiaHR0cHM6Ly9yZWdpc3RyeS5qcy5pcGZzLmlvLyR7YXJncy5fWzBdfS8tLyR7YXJncy5fWzBdfS05LjAuMC50Z3pcIixcbiAgICAgIFwiaW50ZWdyaXR5XCI6IFwic2hhNTEyLXQvT1loaEoyU0QrWUdCUWNqWThHenpESEVrOWYzbmVyeGp0ZmE2dGxNWGZlN2Zycy9Xb3podkNOb0d2cE0wUDNiTmYzR3E1WlJNbEdyNWYzcjQvTjhBPT1cIlxuICAgIH1cbiAgfVxufWApXG4gICAgICAgIGZzLm1rZGlyKGAke3B3ZH0vbm9kZV9tb2R1bGVzYCwgdXNlcnMuaWRzKCdhbGV4JykpXG4gICAgICAgIGZzLm1rZGlyKGAke3B3ZH0vbm9kZV9tb2R1bGVzLyR7YXJncy5fWzBdfWAsIHVzZXJzLmlkcygnYWxleCcpKVxuICAgICAgICBmcy53cml0ZShgJHtwd2R9L25vZGVfbW9kdWxlcy8ke2FyZ3MuX1swXX0vcGFja2FnZS5qc29uYCwgJ0kgYW0gYSB2ZXJ5IG5pY2UgcGFja2FnZScsIHVzZXJzLmlkcygnYWxleCcpKVxuICAgICAgICBmcy53cml0ZShgJHtwd2R9L25vZGVfbW9kdWxlcy8ke2FyZ3MuX1swXX0vaW5kZXguanNgLCAnTG9vayBhdCBtZSBiZWluZyBhbiBpbXBsZW1lbnRhdGlvbicsIHVzZXJzLmlkcygnYWxleCcpKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbnN0YWxsIGFsbCBvZiB0aGUgcGFja2FnZXNcbiAgICB9XG4gIH0sXG4gIGFyZ3M6IHtcbiAgICBib29sZWFuOiBbXG4gICAgICAnc2F2ZSdcbiAgICBdXG4gIH1cbn1cblxuY29uc3QgbnBtSW5zdGFsbFNpbmdsZVBhY2thZ2VMb2cgPSAodCwgcGtnKSA9PiB7XG4gIGxldCBsb2dzID0gW1xuICAgICfwn5Gp4oCN8J+agCBTdGFydGluZyBsb2NhbCBwcm94eScsXG4gICAgJ/CfmoAgU2VydmVyIHJ1bm5pbmcgb24gcG9ydCA2MDAwMCcsXG4gICAgJ/CfjoEgSW5zdGFsbGluZyBkZXBlbmRlbmNpZXMgd2l0aCAvaG9tZS9hbGV4Ly5udm0vdmVyc2lvbnMvbm9kZS92MTAuMTUuMy9iaW4vbnBtJyxcbiAgICAnbnBtIGluZm8gaXQgd29ya2VkIGlmIGl0IGVuZHMgd2l0aCBvaycsXG4gICAgJ25wbSBpbmZvIHVzaW5nIG5wbUA2LjQuMScsXG4gICAgJ25wbSBpbmZvIHVzaW5nIG5vZGVAdjEwLjE1LjMnLFxuICAgICfwn5iIIFNwYXduaW5nIGFuIGluLXByb2Nlc3MgSVBGUyBub2RlIHVzaW5nIHJlcG8gYXQgL2hvbWUvYWxleC8uanNpcGZzMicsXG4gICAgJ1N3YXJtIGxpc3RlbmluZyBvbiAvaXA0LzEyNy4wLjAuMS90Y3AvNjAwMTUvaXBmcy9RbVZZRGVMZzJVc2Z2WTF0WVF1SERONWlvaUNpZW5nZk5HaW1NRmJuanl2YmpiJyxcbiAgICAnU3dhcm0gbGlzdGVuaW5nIG9uIC9wMnAtY2lyY3VpdC9pcGZzL1FtVllEZUxnMlVzZnZZMXRZUXVIRE41aW9pQ2llbmdmTkdpbU1GYm5qeXZiamInLFxuICAgICdTd2FybSBsaXN0ZW5pbmcgb24gL3AycC1jaXJjdWl0L2lwNC8xMjcuMC4wLjEvdGNwLzYwMDE1L2lwZnMvUW1WWURlTGcyVXNmdlkxdFlRdUhETjVpb2lDaWVuZ2ZOR2ltTUZibmp5dmJqYicsXG4gICAgJ/Cfl4LvuI8gIExvYWRpbmcgcmVnaXN0cnkgaW5kZXggZnJvbSBodHRwczovL3JlZ2lzdHJ5LmpzLmlwZnMuaW8nLFxuICAgICfimI7vuI8gIERpYWxsaW5nIHJlZ2lzdHJ5IG1pcnJvciAvaXA0LzM1LjE3OC4xOTIuMTE5L3RjcC8xMDAzNi9pcGZzL1FtY3RRNFQxU3YxYUJUdFJodHptUnd2QWY4c3Z0SExQaEpXV2J2NndmVmNyUk4sL2RuczQvcmVnaXN0cnkuanMuaXBmcy5pby90Y3AvMTAwMzYvaXBmcy9RbWN0UTRUMVN2MWFCVHRSaHR6bVJ3dkFmOHN2dEhMUGhKV1didjZ3ZlZjclJOJyxcbiAgICAn8J+Tse+4jyBDb25uZWN0ZWQgdG8gcmVnaXN0cnknLFxuICAgIGDwn4aVIE5ldyB2ZXJzaW9ucyBvZiAke3BrZ30gZGV0ZWN0ZWQgLSAxLjAuMCwgMS4wLjEsIDEuMS4wLCAxLjEuMSwgMS4yLjAsIDEuMi4xLCAxLjMuMCwgMS40LjAsIDEuNC4xLCAxLjUuMCwgMi4wLjAsIDIuMC4xLCAyLjAuMiwgMi4wLjMsIDIuMC41LCAyLjAuNiwgMi4wLjcsIDIuMC44LCAyLjEuMCwgMi4xLjEsIDIuMS4yLCAyLjEuMywgMi4xLjQsIDIuMi4wLCAyLjMuMCwgMi40LjAsIDMuMC4wLCAzLjAuMSwgMy4xLjAsIDMuMS4xLCAzLjEuMiwgNC4wLjAsIDQuMC4xLCA0LjAuMiwgNC4wLjMsIDQuMC40LCA0LjEuMCwgNS4wLjAsIDYuMC4wLCA3LjAuMCwgNy4wLjEsIDcuMC4yLCA3LjEuMCwgNy4yLjAsIDcuMi4xLCA4LjAuMSwgOC4wLjIsIDguMS4xLCA5LjAuMCwgOC4xLjBgLFxuICAgIGDwn5OEIEdFVCAvJHtwa2d9IDIwMCAyODU3bXNgLFxuICAgIGBucG0gaHR0cCBmZXRjaCBHRVQgMjAwIGh0dHA6Ly9sb2NhbGhvc3Q6NjAwMDAvJHtwa2d9IDI5MDdtc2AsXG4gICAgJ25wbSBXQVJOIGZvb0AxLjAuMCBObyBkZXNjcmlwdGlvbicsXG4gICAgJ25wbSBXQVJOIGZvb0AxLjAuMCBObyByZXBvc2l0b3J5IGZpZWxkLicsXG4gICAgJyAnLFxuICAgICfwn5OEIFBPU1QgLy0vbnBtL3YxL3NlY3VyaXR5L2F1ZGl0cy9xdWljayAyMDAgNDM5bXMnLFxuICAgICducG0gdGltaW5nIGF1ZGl0IHN1Ym1pdCBDb21wbGV0ZWQgaW4gNDkzbXMnLFxuICAgICducG0gaHR0cCBmZXRjaCBQT1NUIDIwMCBodHRwOi8vbG9jYWxob3N0OjYwMDAwLy0vbnBtL3YxL3NlY3VyaXR5L2F1ZGl0cy9xdWljayA0OTJtcycsXG4gICAgJ25wbSB0aW1pbmcgYXVkaXQgYm9keSBDb21wbGV0ZWQgaW4gMG1zJyxcbiAgICBgKyAke3BrZ31AOS4wLjBgLFxuICAgICdhZGRlZCAxIHBhY2thZ2UgZnJvbSAxIGNvbnRyaWJ1dG9yIGFuZCBhdWRpdGVkIDEgcGFja2FnZSBpbiAldGltZSVtcycsXG4gICAgJ2ZvdW5kIDAgdnVsbmVyYWJpbGl0aWVzJyxcbiAgICAnICcsXG4gICAgJ25wbSB0aW1pbmcgbnBtIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG4gICAgJ25wbSBpbmZvIG9rICcsXG4gICAgJ/CfjoEgL1VzZXJzL2FsZXgvLm52bS92ZXJzaW9ucy9ub2RlL3YxMC4xNS4zL2Jpbi9ucG0gZXhpdGVkIHdpdGggY29kZSAwJyxcbiAgICAn8J+UjyBVcGRhdGluZyBwYWNrYWdlLWxvY2suanNvbidcbiAgXVxuXG4gIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKVxuXG4gIHNsb3dMb2codCwge1xuICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBsaW5lID0gbG9ncy5zaGlmdCgpXG5cbiAgICAgIGlmICghbGluZSkge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGluZS5yZXBsYWNlKCcldGltZSUnLCBEYXRlLm5vdygpIC0gc3RhcnQpXG4gICAgfVxuICB9LCAyMDAsIDUwMCwgKCkgPT4ge30pXG59XG5cblxuXG5jb25zdCBucG1JbnN0YWxsTG9nID0gKHQsIHBrZykgPT4ge1xuICBsZXQgZGVwcyA9IFtcbiAgICAnbnBtIGluZm8gaXQgd29ya2VkIGlmIGl0IGVuZHMgd2l0aCBvaycsXG4gICAgJ25wbSBpbmZvIHVzaW5nIG5wbUA2LjQuMScsXG4gICAgJ25wbSBpbmZvIHVzaW5nIG5vZGVAdjEwLjE1LjMnLFxuICAgIGBucG0gaHR0cCBmZXRjaCBHRVQgMzA0IGh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnLyR7cGtnLm5hbWV9IDk5N21zIChmcm9tIGNhY2hlKWAsXG4gICAgJ25wbSB0aW1pbmcgc3RhZ2U6bG9hZEN1cnJlbnRUcmVlIENvbXBsZXRlZCBpbiA2MjQ4bXMnLFxuICAgICducG0gdGltaW5nIHN0YWdlOmxvYWRJZGVhbFRyZWU6Y2xvbmVDdXJyZW50VHJlZSBDb21wbGV0ZWQgaW4gMzZtcycsXG4gICAgJ25wbSB0aW1pbmcgc3RhZ2U6bG9hZElkZWFsVHJlZTpsb2FkU2hyaW5rd3JhcCBDb21wbGV0ZWQgaW4gMjQ1Mm1zJ1xuICBdXG5cbiAgcGtnLmRlcGVuZGVuY2llcy5mb3JFYWNoKGRlcCA9PiB7XG4gICAgZGVwcy5wdXNoKGBucG0gaHR0cCBmZXRjaCBHRVQgMzA0IGh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnLyR7ZGVwfSAke3JhbmRvbU51bWJlcigxMDAsIDUwMCl9bXMgKGZyb20gY2FjaGUpYClcbiAgfSlcblxuICBwa2cuZGVwZW5kZW5jaWVzLmZvckVhY2goZGVwID0+IHtcbiAgICBkZXBzLnB1c2goYG5wbSBpbmZvIGxpZmVjeWNsZSAke2RlcH1AMC44LjB+cG9zdGluc3RhbGw6ICR7ZGVwfUAwLjguMGApXG4gIH0pXG5cbiAgZGVwcyA9IGRlcHMuY29uY2F0KFtcbiAgICAnbnBtIHRpbWluZyBhY3Rpb246cG9zdGluc3RhbGwgQ29tcGxldGVkIGluIDM5MW1zJyxcbiAgICAnbnBtIHRpbWluZyBzdGFnZTpleGVjdXRlQWN0aW9ucyBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuICAgICducG0gdGltaW5nIHN0YWdlOnJvbGxiYWNrRmFpbGVkT3B0aW9uYWwgQ29tcGxldGVkIGluIDJtcycsXG4gICAgJ25wbSB0aW1pbmcgc3RhZ2U6cnVuVG9wTGV2ZWxMaWZlY3ljbGVzIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG4gICAgYCsgJHtwa2cubmFtZX1AMC4xNi4zYCxcbiAgICAnYWRkZWQgMTYzIHBhY2thZ2VzIGZyb20gMjg1IGNvbnRyaWJ1dG9ycyBhbmQgdXBkYXRlZCAxMTMyIHBhY2thZ2VzIGluIDk3Ljc2MXMnLFxuICAgICducG0gdGltaW5nIG5wbSBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuICAgICducG0gaW5mbyBvaydcbiAgXSlcblxuICBjb25zdCBzdGFydCA9IERhdGUubm93KClcblxuICBzbG93TG9nKHQsIHtcbiAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgbGluZSA9IGRlcHMuc2hpZnQoKVxuXG4gICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpbmUucmVwbGFjZSgnJXRpbWUlJywgRGF0ZS5ub3coKSAtIHN0YXJ0KVxuICAgIH1cbiAgfSwgNTAsIDIwMCwgKCkgPT4ge30pXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL2lwZnMtbnBtL2luc3RhbGwuanNcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdfQ==
