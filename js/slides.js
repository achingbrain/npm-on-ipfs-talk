"use strict";!function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){n(1);var i=n(2),r=n(3),a=n(4),o=n(5),s=n(6),l=n(7),c=n(8),u=n(9),d=n(10),p=n(11),g=n(13),f=[r(),a(),o(),s(".delayed, .bullet"),l(),c(),u(),d(),p(),g()];try{n(!function(){var e=new Error('Cannot find module "plugins"');throw e.code="MODULE_NOT_FOUND",e}())(f)}catch(e){}var h=i.from("article",f);try{n(!function(){var e=new Error('Cannot find module "deck"');throw e.code="MODULE_NOT_FOUND",e}())(h)}catch(e){}},function(t,e){(function(e){var c="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},u=function(){var l=/\blang(?:uage)?-([\w-]+)\b/i,t=0,C=c.Prism={manual:c.Prism&&c.Prism.manual,disableWorkerMessageHandler:c.Prism&&c.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof o?new o(e.type,C.util.encode(e.content),e.alias):"Array"===C.util.type(e)?e.map(C.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e,n){var t=C.util.type(e);switch(n=n||{},t){case"Object":if(n[C.util.objId(e)])return n[C.util.objId(e)];r={};for(var i in n[C.util.objId(e)]=r,e)e.hasOwnProperty(i)&&(r[i]=C.util.clone(e[i],n));return r;case"Array":if(n[C.util.objId(e)])return n[C.util.objId(e)];var r=[];return n[C.util.objId(e)]=r,e.forEach(function(e,t){r[t]=C.util.clone(e,n)}),r}return e}},languages:{extend:function(e,t){var n=C.util.clone(C.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(n,e,t,i){var r=(i=i||C.languages)[n];if(2==arguments.length){for(var a in t=e)t.hasOwnProperty(a)&&(r[a]=t[a]);return r}var o={};for(var s in r)if(r.hasOwnProperty(s)){if(s==e)for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);o[s]=r[s]}return C.languages.DFS(C.languages,function(e,t){t===i[n]&&e!=n&&(this[e]=o)}),i[n]=o},DFS:function(e,t,n,i){for(var r in i=i||{},e)e.hasOwnProperty(r)&&(t.call(e,r,e[r],n||r),"Object"!==C.util.type(e[r])||i[C.util.objId(e[r])]?"Array"!==C.util.type(e[r])||i[C.util.objId(e[r])]||(i[C.util.objId(e[r])]=!0,C.languages.DFS(e[r],t,r,i)):(i[C.util.objId(e[r])]=!0,C.languages.DFS(e[r],t,null,i)))}},plugins:{},highlightAll:function(e,t){C.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};C.hooks.run("before-highlightall",i);for(var r,a=i.elements||e.querySelectorAll(i.selector),o=0;r=a[o++];)C.highlightElement(r,!0===t,i.callback)},highlightElement:function(e,t,n){for(var i,r,a=e;a&&!l.test(a.className);)a=a.parentNode;a&&(i=(a.className.match(l)||[,""])[1].toLowerCase(),r=C.languages[i]),e.className=e.className.replace(l,"").replace(/\s+/g," ")+" language-"+i,e.parentNode&&(a=e.parentNode,/pre/i.test(a.nodeName)&&(a.className=a.className.replace(l,"").replace(/\s+/g," ")+" language-"+i));var o={element:e,language:i,grammar:r,code:e.textContent};if(C.hooks.run("before-sanity-check",o),!o.code||!o.grammar)return o.code&&(C.hooks.run("before-highlight",o),o.element.textContent=o.code,C.hooks.run("after-highlight",o)),void C.hooks.run("complete",o);if(C.hooks.run("before-highlight",o),t&&c.Worker){var s=new Worker(C.filename);s.onmessage=function(e){o.highlightedCode=e.data,C.hooks.run("before-insert",o),o.element.innerHTML=o.highlightedCode,n&&n.call(o.element),C.hooks.run("after-highlight",o),C.hooks.run("complete",o)},s.postMessage(JSON.stringify({language:o.language,code:o.code,immediateClose:!0}))}else o.highlightedCode=C.highlight(o.code,o.grammar,o.language),C.hooks.run("before-insert",o),o.element.innerHTML=o.highlightedCode,n&&n.call(e),C.hooks.run("after-highlight",o),C.hooks.run("complete",o)},highlight:function(e,t,n){var i={code:e,grammar:t,language:n};return C.hooks.run("before-tokenize",i),i.tokens=C.tokenize(i.code,i.grammar),C.hooks.run("after-tokenize",i),o.stringify(C.util.encode(i.tokens),i.language)},matchGrammar:function(e,t,n,i,r,a,o){var s=C.Token;for(var l in n)if(n.hasOwnProperty(l)&&n[l]){if(l==o)return;var c=n[l];c="Array"===C.util.type(c)?c:[c];for(var u=0;u<c.length;++u){var d=c[u],p=d.inside,g=!!d.lookbehind,f=!!d.greedy,h=0,b=d.alias;if(f&&!d.pattern.global){var m=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,m+"g")}d=d.pattern||d;for(var v=i,y=r;v<t.length;y+=t[v].length,++v){var k=t[v];if(t.length>e.length)return;if(!(k instanceof s)){if(f&&v!=t.length-1){if(d.lastIndex=y,!(O=d.exec(e)))break;for(var w=O.index+(g?O[1].length:0),x=O.index+O[0].length,E=v,A=y,S=t.length;E<S&&(A<x||!t[E].type&&!t[E-1].greedy);++E)(A+=t[E].length)<=w&&(++v,y=A);if(t[v]instanceof s)continue;N=E-v,k=e.slice(y,A),O.index-=y}else{d.lastIndex=0;var O=d.exec(k),N=1}if(O){g&&(h=O[1]?O[1].length:0);x=(w=O.index+h)+(O=O[0].slice(h)).length;var j=k.slice(0,w),F=k.slice(x),z=[v,N];j&&(++v,y+=j.length,z.push(j));var L=new s(l,p?C.tokenize(O,p):O,b,O,f);if(z.push(L),F&&z.push(F),Array.prototype.splice.apply(t,z),1!=N&&C.matchGrammar(e,t,n,v,y,!0,l),a)break}else if(a)break}}}}},tokenize:function(e,t,n){var i=[e],r=t.rest;if(r){for(var a in r)t[a]=r[a];delete t.rest}return C.matchGrammar(e,i,t,0,0,!1),i},hooks:{all:{},add:function(e,t){var n=C.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=C.hooks.all[e];if(n&&n.length)for(var i,r=0;i=n[r++];)i(t)}}},o=C.Token=function(e,t,n,i,r){this.type=e,this.content=t,this.alias=n,this.length=0|(i||"").length,this.greedy=!!r};if(o.stringify=function(t,n,e){if("string"==typeof t)return t;if("Array"===C.util.type(t))return t.map(function(e){return o.stringify(e,n,t)}).join("");var i={type:t.type,content:o.stringify(t.content,n,e),tag:"span",classes:["token",t.type],attributes:{},language:n,parent:e};if(t.alias){var r="Array"===C.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(i.classes,r)}C.hooks.run("wrap",i);var a=Object.keys(i.attributes).map(function(e){return e+'="'+(i.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(a?" "+a:"")+">"+i.content+"</"+i.tag+">"},!c.document)return c.addEventListener&&(C.disableWorkerMessageHandler||c.addEventListener("message",function(e){var t=JSON.parse(e.data),n=t.language,i=t.code,r=t.immediateClose;c.postMessage(C.highlight(i,C.languages[n],n)),r&&c.close()},!1)),c.Prism;var e=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return e&&(C.filename=e.src,C.manual||e.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(C.highlightAll):window.setTimeout(C.highlightAll,16):document.addEventListener("DOMContentLoaded",C.highlightAll))),c.Prism}();void 0!==t&&t.exports&&(t.exports=u),void 0!==e&&(e.Prism=u),u.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/(^|[^\\])["']/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},u.languages.markup.tag.inside["attr-value"].inside.entity=u.languages.markup.entity,u.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),u.languages.xml=u.languages.markup,u.languages.html=u.languages.markup,u.languages.mathml=u.languages.markup,u.languages.svg=u.languages.markup,u.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^{}\s][^{};]*?(?=\s*\{)/,string:{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},u.languages.css.atrule.inside.rest=u.languages.css,u.languages.markup&&(u.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:!0,inside:u.languages.css,alias:"language-css",greedy:!0}}),u.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:u.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:u.languages.css}},alias:"language-css"}},u.languages.markup.tag)),u.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},u.languages.javascript=u.languages.extend("clike",{keyword:/\b(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),u.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[[^\]\r\n]+]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=\s*(?:function\b|(?:\([^()]*\)|[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/i,alias:"function"},constant:/\b[A-Z][A-Z\d_]*\b/}),u.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}}}),u.languages.javascript["template-string"].inside.interpolation.inside.rest=u.languages.javascript,u.languages.markup&&u.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:u.languages.javascript,alias:"language-javascript",greedy:!0}}),u.languages.js=u.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(e){for(var t,n=e.getAttribute("data-src"),i=e,r=/\blang(?:uage)?-([\w-]+)\b/i;i&&!r.test(i.className);)i=i.parentNode;if(i&&(t=(e.className.match(r)||[,""])[1]),!t){var a=(n.match(/\.(\w+)$/)||[,""])[1];t=l[a]||a}var o=document.createElement("code");o.className="language-"+t,e.textContent="",o.textContent="Loading…",e.appendChild(o);var s=new XMLHttpRequest;s.open("GET",n,!0),s.onreadystatechange=function(){4==s.readyState&&(s.status<400&&s.responseText?(o.textContent=s.responseText,u.highlightElement(o)):400<=s.status?o.textContent="✖ Error "+s.status+" while fetching file: "+s.statusText:o.textContent="✖ Error: File does not exist or is empty")},s.send(null)}),u.plugins.toolbar&&u.plugins.toolbar.registerButton("download-file",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var n=t.getAttribute("data-src"),i=document.createElement("a");return i.textContent=t.getAttribute("data-download-link-label")||"Download",i.setAttribute("download",""),i.href=n,i}})},document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight))}).call(e,function(){return this}())},function(e,t){e.exports={from:function(e,t){var n=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),i=[].filter.call("string"==typeof e.slides?n.querySelectorAll(e.slides):e.slides||n.children,function(e){return"SCRIPT"!==e.nodeName}),r=i[0],a={},o=function(e,t){i[e]&&(c("deactivate",u(r,t)),r=i[e],c("activate",u(r,t)))},s=function(e,t){var n=i.indexOf(r)+e;c(0<e?"next":"prev",u(r,t))&&o(n,t)},l=function(e,t){a[e]=(a[e]||[]).filter(function(e){return e!==t})},c=function(e,n){return(a[e]||[]).reduce(function(e,t){return e&&!1!==t(n)},!0)},u=function(e,t){return(t=t||{}).index=i.indexOf(e),t.slide=e,t},d={on:function(e,t){return(a[e]||(a[e]=[])).push(t),l.bind(null,e,t)},off:l,fire:c,slide:function(e,t){if(!arguments.length)return i.indexOf(r);c("slide",u(i[e],t))&&o(e,t)},next:s.bind(null,1),prev:s.bind(null,-1),parent:n,slides:i};return(t||[]).forEach(function(e){e(d)}),o(0),d}}},function(e,t,n){var i;i=function(){return function i(r,a,o){function s(n,e){if(!a[n]){if(!r[n]){if(l)return l(n,!0);throw new Error("Cannot find module '"+n+"'")}var t=a[n]={exports:{}};r[n][0].call(t.exports,function(e){var t=r[n][1][e];return s(t||e)},t,t.exports,i,r,a,o)}return a[n].exports}for(var l=!1,e=0;e<o.length;e++)s(o[e]);return s}({1:[function(e,t,n){var i=e("bespoke-classes"),r=e("insert-css");t.exports=function(){return r('/*! normalize.css v3.0.0 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:0 0}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b{font-weight:700}dfn{font-style:italic}h1{font-size:2em}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-size:1em}kbd,pre,samp{font-family:monospace,monospace}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th,*{padding:0}*{margin:0}html{-webkit-text-size-adjust:auto;-ms-text-size-adjust:auto;text-size-adjust:auto}.bespoke-parent{font-size:1.5em;background:#111;color:#ddd;font-family:futura,helvetica,arial,arial,sans-serif;overflow:hidden;text-align:center;-webkit-transition:background 1s ease;transition:background 1s ease;background-position:50% 50%}.bespoke-parent,.bespoke-scale-parent{position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-scale-parent{pointer-events:none;z-index:1}.bespoke-scale-parent .bespoke-active{pointer-events:auto}.bespoke-slide{-webkit-transition:opacity .5s ease;transition:opacity .5s ease;width:940px;height:480px;position:absolute;top:50%;left:50%;margin-left:-470px;margin-top:-240px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:1}.bespoke-active{-webkit-transition-delay:.5s;transition-delay:.5s}.bespoke-active[data-bespoke-backdrop]{-webkit-transition-delay:.75s;transition-delay:.75s}.bespoke-inactive{opacity:0;pointer-events:none}.bespoke-backdrop{-webkit-transition:opacity 1s ease;position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-progress-parent{position:absolute;top:0;left:0;right:0;height:.3vw;z-index:1}.bespoke-progress-bar{background:#ddd;position:absolute;top:0;left:0;height:100%;-webkit-transition:width 1s ease;transition:width 1s ease}.bespoke-bullet{-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.bespoke-bullet-inactive{opacity:0}strong{font-weight:400}hr{width:50%;margin:1rem auto;height:1px;border:0;background:#ddd}h3,p,li{padding-left:20px;padding-right:20px}h3,h4,p,li,pre{font-weight:200}h1{line-height:1.4em;padding:1em;border:1px solid #ddd;border-left-width:0;border-right-width:0;min-width:8em}h1,h2{letter-spacing:.3em;text-transform:uppercase;font-weight:400;margin:.17em 0;position:relative}h2{line-height:1.1em;padding:0 0 0 .3em}h3{font-family:didot,times new roman,serif;font-style:italic;font-size:1.2em;line-height:1.6em;margin:.5em 0}h4{text-transform:uppercase;font-size:.8em;line-height:1.8em;letter-spacing:.3em;margin:1em 0}ul,ol{padding:0;margin:0;text-align:left}li{list-style:none;margin:.2em;font-style:normal;-webkit-transform:translateX(-6px);-ms-transform:translateX(-6px);transform:translateX(-6px)}li:before{content:\'\\2014\';margin-right:4px}pre{background:none!important}code{font-family:prestige elite std,consolas,courier new,monospace!important;font-style:normal;font-weight:200!important;text-align:left}a{padding-left:.3em;color:currentColor;text-decoration:none;border-bottom:1px solid currentColor}.emphatic{background:#f30}.single-words{word-spacing:9999px;line-height:2.9em;overflow:hidden}.bespoke-backdrop{opacity:0;-webkit-transition:opacity 1s ease,-webkit-transform 6s ease;transition:opacity 1s ease,transform 6s ease;background-size:cover;background-position:50% 50%;-webkit-transform:translateZ(0)scale(1.3);transform:translateZ(0)scale(1.3)}.bespoke-backdrop-active,.bespoke-backdrop-before{-webkit-transform:translateZ(0);transform:translateZ(0)}.bespoke-backdrop-before{-webkit-transition-delay:.2s;transition-delay:.2s}.bespoke-backdrop-active{opacity:.5}',{prepend:!0}),function(e){i()(e)}}},{"bespoke-classes":2,"insert-css":3}],2:[function(e,t,n){t.exports=function(){return function(a){var o=function(e,t){e.classList.add("bespoke-"+t)},s=function(e,t){e.className=e.className.replace(new RegExp("bespoke-"+t+"(\\s|$)","g")," ").trim()},t=function(e,t){var n=a.slides[a.slide()],i=t-a.slide(),r=0<i?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(s.bind(null,e)),e!==n&&["inactive",r,r+"-"+Math.abs(i)].map(o.bind(null,e))};o(a.parent,"parent"),a.slides.map(function(e){o(e,"slide")}),a.on("activate",function(e){a.slides.map(t),o(e.slide,"active"),s(e.slide,"inactive")})}}},{}],3:[function(e,t,n){var r={};t.exports=function(e,t){if(!r[e]){r[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var i=document.getElementsByTagName("head")[0];t&&t.prepend?i.insertBefore(n,i.childNodes[0]):i.appendChild(n)}}},{}]},{},[1])(1)},e.exports=i()},function(e,t){e.exports=function(e){return function(t){var n="vertical"!==e;document.addEventListener("keydown",function(e){(34==e.which||32==e.which&&!e.shiftKey||n&&39==e.which||!n&&40==e.which)&&t.next(),(33==e.which||32==e.which&&e.shiftKey||n&&37==e.which||!n&&38==e.which)&&t.prev()})}}},function(e,t){e.exports=function(r){return function(e){var t,n,i="vertical"==r?"Y":"X";e.parent.addEventListener("touchstart",function(e){1==e.touches.length&&(t=e.touches[0]["page"+i],n=0)}),e.parent.addEventListener("touchmove",function(e){1==e.touches.length&&(e.preventDefault(),n=e.touches[0]["page"+i]-t)}),e.parent.addEventListener("touchend",function(){50<Math.abs(n)&&e[0<n?"prev":"next"]()})}}},function(e,t){e.exports=function(o){return function(e){var t,n,a=e.slides.map(function(e){return[].slice.call(e.querySelectorAll("string"==typeof o?o:"[data-bespoke-bullet]"),0)}),i=function(i,r){t=i,n=r,a.forEach(function(e,n){e.forEach(function(e,t){e.classList.add("bespoke-bullet"),n<i||n===i&&t<=r?(e.classList.add("bespoke-bullet-active"),e.classList.remove("bespoke-bullet-inactive")):(e.classList.add("bespoke-bullet-inactive"),e.classList.remove("bespoke-bullet-active")),n===i&&t===r?e.classList.add("bespoke-bullet-current"):e.classList.remove("bespoke-bullet-current")})})},r=function(e){return void 0!==a[t][n+e]};e.on("next",function(){var e=t+1;if(r(1))return i(t,n+1),!1;a[e]&&i(e,0)}),e.on("prev",function(){var e=t-1;if(r(-1))return i(t,n-1),!1;a[e]&&i(e,a[e].length-1)}),e.on("slide",function(e){i(e.index,0)}),i(0,0)}}},function(e,t){e.exports=function(){return function(i){var r;function e(e){if(e){var t=r.indexOf(e),n=i.slide();a(e,"active"),a(e,"inactive"),a(e,"before"),a(e,"after"),t!==n?(o(e,"inactive"),o(e,t<n?"before":"after")):o(e,"active")}}function a(e,t){e.classList.remove("bespoke-backdrop-"+t)}function o(e,t){e.classList.add("bespoke-backdrop-"+t)}r=i.slides.map(function(e){var t=e.getAttribute("data-bespoke-backdrop");if(t){var n=document.createElement("div");return n.className=t,n.classList.add("bespoke-backdrop"),i.parent.appendChild(n),n}}),i.on("activate",function(){r.forEach(e)})}}},function(e,t){e.exports=function(d){return function(e){var n,i=e.parent,t=e.slides[0],r=t.offsetHeight,a=t.offsetWidth,o="zoom"===d||"zoom"in i.style&&"transform"!==d,s=o?e.slides:e.slides.map(function(e){var t=document.createElement("div");return t.className="bespoke-scale-parent",e.parentNode.insertBefore(t,e),t.appendChild(e),t}),l=(n="Transform","Moz Webkit O ms".split(" ").reduce(function(e,t){return t+n in i.style?t+n:e},n.toLowerCase())),c=o?function(e,t){t.style.zoom=e}:function(e,t){t.style[l]="scale("+e+")"},u=function(){var e=i.offsetWidth/a,t=i.offsetHeight/r;s.forEach(c.bind(null,Math.min(e,t)))};window.addEventListener("resize",u),u()}}},function(e,t){e.exports=function(){return function(i){var r=function(e){var t=-1<e&&e<i.slides.length?e:0;t!==i.slide()&&i.slide(t)},e=function(){var n=window.location.hash.slice(1),e=parseInt(n,10);n&&(e?r(e-1):i.slides.forEach(function(e,t){e.getAttribute("data-bespoke-hash")!==n&&e.id!==n||r(t)}))};setTimeout(function(){e(),i.on("activate",function(e){var t=e.slide.getAttribute("data-bespoke-hash")||e.slide.id;window.location.hash=t||e.index+1}),window.addEventListener("hashchange",e)},0)}}},function(e,t){e.exports=function(r){return function(t){var e=document.createElement("div"),n=document.createElement("div"),i="vertical"===r?"height":"width";e.className="bespoke-progress-parent",n.className="bespoke-progress-bar",e.appendChild(n),t.parent.appendChild(e),t.on("activate",function(e){n.style[i]=100*e.index/(t.slides.length-1)+"%"})}}},function(e,t,n){var i=Function("return this")(),a=(i.bespoke&&i.bespoke.plugins&&i.bespoke.plugins.convenient||n(12)).builder("indexfinger");e.exports=function(e){return function(e){a.activateDeck(e);var t={},n=null,i=-1,r={enableActiveSlideListener:function(){t.saveActiveSlide=this.on("activate",r.saveActiveSlide.bind(this))},saveActiveSlide:function(e){n=e.slide,i=e.index},getActiveSlide:function(){return n},getActiveSlideIndex:function(){return i}};e.getActiveSlide=r.getActiveSlide.bind(e),e.getActiveSlideIndex=r.getActiveSlideIndex.bind(e),r.enableActiveSlideListener.call(e)}}},function(e,t){var l,n,c=Function("return this")(),i={logger:{log:function(){console.log.apply(console,arguments)}}},u={},r=[],d=function(e){(function(t){if(!t)throw l.generateErrorObject("deck must be defined.");return r.some(function(e){return e.deck===t})})(e)||r.push({deck:e,storage:{}})};u.builder=function(t){if(!t)throw l.generateErrorObject("The plugin options were not properly defined.");if("string"==typeof t&&(t={pluginName:t}),"string"!=typeof t.pluginName)throw l.generateErrorObject("The plugin name was not properly defined.");var n={},i="bespoke."+t.pluginName,a=t.pluginName,o=function(e,t,n,i,r,a){return u.createEventData.call(e,t,n,i,r,a)},e=function(e,t,n,i,r){return e.fire(a+"."+t,o(e,a,t,n,i,r))},r=function(e){if(function(e,t){if(!e)throw l.generateErrorObject("pluginName must be defined.");if(!t)throw l.generateErrorObject("deck must be defined.");var n=u.getDeckStorage(t);return!(!n||!n[e])}(t.pluginName,e))throw l.generateErrorObject("The '"+t.pluginName+"' plugin has already been activated for this deck, can't activate it twice.")},s=function(e){return r(e),function(e,t){if(!e)throw l.generateErrorObject("pluginName must be defined.");if(!t)throw l.generateErrorObject("deck must be defined.");var n=u.getDeckStorage(t);n||(d(t),n=u.getDeckStorage(t)),n[e]={}}(t.pluginName,e),function(e){var t={};return t.createEventData=n.createEventData.bind(this,e),t.fire=n.fire.bind(this,e),t.getStorage=n.getStorage.bind(this,e),t.log=n.log.bind(this,e),t}(e)};return function(){n.createEventData=o.bind(this),n.generateErrorObject=function(e){return new Error(i+": "+e)}.bind(this),n.fire=e.bind(this),n.log=function(){var e=[i];c.convenientOptions.logger.log.apply(c.convenientOptions.logger.log,e.concat(u.copyArray(arguments)))}.bind(this),n.activateDeck=s.bind(this),n.getStorage=u.getDeckPluginStorage.bind(this,t.pluginName)}(),n},u.getDeckStorage=function(t){if(!t)throw l.generateErrorObject("deck must be defined.");var n=null;return r.some(function(e){return e.deck===t&&(n=e.storage,!0)}),n},u.getDeckPluginStorage=function(e,t){if(!e)throw l.generateErrorObject("pluginName must be defined.");if(!t)throw l.generateErrorObject("deck must be defined.");var n=u.getDeckStorage(t);if(!n)throw l.generateErrorObject("storage was not initiated for this deck.");return n[e]},u.createEventData=function(e,t,n,i,r){var a;return(r=r||{}).eventNamespace=e||null,r.eventName=t||null,r.innerEvent=n||null,a=i,!isNaN(parseFloat(a))&&isFinite(a)?(r.index=i,r.slide=this.slides[i]):(r.index=this.slides.indexOf(i),r.slide=i),r},u.copyArray=function(e){return[].slice.call(e,0)},l=u.builder("convenient"),(n={logger:{}}).logger.log=c.convenientOptions&&c.convenientOptions.logger&&c.convenientOptions.logger.log||i.logger.log,c.convenientOptions=n,e.exports=u},function(e,t,n){var i="secondary",r=Function("return this")(),c=r.bespoke&&r.bespoke.plugins&&r.bespoke.plugins.convenient||n(12),u=c.builder(i),d=(r.bespoke&&r.bespoke.plugins&&r.bespoke.plugins.indexfinger||n(11),{notes:"aside",keys:{toggle:83}}),p=function(){var e,t,n;return"secondary-window-"+(e=1e3,void 0===(t=1e4)&&(t=e,e=0),n=t-e,e+Math.floor(Math.random()*n))};e.exports=function(l){return function(n){var e,i=u.activateDeck(n),t={},r={getNotesElement:function(){return this.secondary.window&&this.secondary.window.document&&this.secondary.window.document.getElementById("notes")},isOpen:function(){var e=this.secondary,t=e.window;return!(void 0===e||null===t||!0===t.closed||t.opener!==window||null===this.secondary.getNotesElement())},open:function(){return this.secondary.isOpen()||(this.secondary.window=window.open(),this.secondary.window.document.body.innerHTML="<h1>Notes</h1><div id='notes'></div>"),this.secondary.isOpen()},close:function(){return this.secondary.isOpen()&&this.secondary.window.close(),!this.secondary.isOpen()},focus:function(){return this.secondary.isOpen()&&this.secondary.window.focus(),this.secondary.isOpen()},toggle:function(){return this.secondary.isOpen()?this.secondary.close():this.secondary.open(),this.secondary.isOpen()},synchronize:function(){var e,t,n;return!!this.secondary.isOpen()&&(e=this.secondary.getNotesElement(),t=this.getActiveSlide(),n=c.copyArray(t.querySelectorAll(l.notes)).reduce(function(e,t){return e+t.outerHTML},""),e.innerHTML=n,this.secondary.isOpen())}},a=function(e){var t=!1;return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||(t=t||e.which===l.keys.toggle&&i.fire("toggle",e)&&n.secondary.toggle()&&n.secondary.synchronize()),t&&e.preventDefault(),!t},o=function(){return n.secondary.close(),null},s=function(){n.secondary.synchronize()};l=l||{},(e={}).keys={},e.keys.toggle=l.keys&&l.keys.toggle||d.keys.toggle,e.notes=l.notes||d.notes,l=e,n.secondary={window:null,secondaryWindowName:p(),getNotesElement:r.getNotesElement.bind(n),isOpen:r.isOpen.bind(n),open:r.open.bind(n),close:r.close.bind(n),focus:r.focus.bind(n),toggle:r.toggle.bind(n),synchronize:r.synchronize.bind(n)},window.onbeforeunload=o,document.addEventListener("keydown",a,!1),t.activate=n.on("activate",s)}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlcy5qcyIsIndlYnBhY2svYm9vdHN0cmFwIGI0ZDRkZmRiZGY0MTIxMmFiZDQ5Iiwibm9kZV9tb2R1bGVzL0BhY2hpbmdicmFpbi9zbGlkZXMvdGVtcC9zbGlkZXMuanMiLCJub2RlX21vZHVsZXMvcHJpc21qcy9wcmlzbS5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlL2xpYi9iZXNwb2tlLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtdGhlbWUtbmVidWxhL2Rpc3QvYmVzcG9rZS10aGVtZS1uZWJ1bGEuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1rZXlzL2xpYi9iZXNwb2tlLWtleXMuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS10b3VjaC9saWIvYmVzcG9rZS10b3VjaC5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWJ1bGxldHMvbGliL2Jlc3Bva2UtYnVsbGV0cy5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWJhY2tkcm9wL2xpYi9iZXNwb2tlLWJhY2tkcm9wLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2Utc2NhbGUvbGliL2Jlc3Bva2Utc2NhbGUuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1oYXNoL2xpYi9iZXNwb2tlLWhhc2guanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1wcm9ncmVzcy9saWIvYmVzcG9rZS1wcm9ncmVzcy5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWluZGV4ZmluZ2VyL2xpYi9iZXNwb2tlLWluZGV4ZmluZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtY29udmVuaWVudC9saWIvYmVzcG9rZS1jb252ZW5pZW50LmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2Utc2Vjb25kYXJ5L2xpYi9iZXNwb2tlLXNlY29uZGFyeS5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJiZXNwb2tlIiwidGhlbWUiLCJrZXlzIiwidG91Y2giLCJidWxsZXRzIiwiYmFja2Ryb3AiLCJzY2FsZSIsImhhc2giLCJwcm9ncmVzcyIsImluZGV4RmluZ2VyIiwic2Vjb25kYXJ5IiwicGx1Z2lucyIsImUiLCJFcnJvciIsImNvZGUiLCJlcnJvciIsImRlY2siLCJmcm9tIiwiX3NlbGYiLCJ3aW5kb3ciLCJXb3JrZXJHbG9iYWxTY29wZSIsInNlbGYiLCJQcmlzbSIsImxhbmciLCJ1bmlxdWVJZCIsIl8iLCJtYW51YWwiLCJkaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXIiLCJ1dGlsIiwiZW5jb2RlIiwidG9rZW5zIiwiVG9rZW4iLCJ0eXBlIiwiY29udGVudCIsImFsaWFzIiwibWFwIiwicmVwbGFjZSIsIm8iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsIm1hdGNoIiwib2JqSWQiLCJvYmoiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiY2xvbmUiLCJ2aXNpdGVkIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJmb3JFYWNoIiwidiIsImkiLCJsYW5ndWFnZXMiLCJleHRlbmQiLCJyZWRlZiIsImluc2VydEJlZm9yZSIsImluc2lkZSIsImJlZm9yZSIsImluc2VydCIsInJvb3QiLCJncmFtbWFyIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwibmV3VG9rZW4iLCJyZXQiLCJ0b2tlbiIsIkRGUyIsInRoaXMiLCJjYWxsYmFjayIsImhpZ2hsaWdodEFsbCIsImFzeW5jIiwiaGlnaGxpZ2h0QWxsVW5kZXIiLCJkb2N1bWVudCIsImNvbnRhaW5lciIsImVudiIsInNlbGVjdG9yIiwiaG9va3MiLCJydW4iLCJlbGVtZW50IiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGlnaGxpZ2h0RWxlbWVudCIsImxhbmd1YWdlIiwicGFyZW50IiwidGVzdCIsImNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJ0b0xvd2VyQ2FzZSIsIm5vZGVOYW1lIiwidGV4dENvbnRlbnQiLCJXb3JrZXIiLCJ3b3JrZXIiLCJmaWxlbmFtZSIsIm9ubWVzc2FnZSIsImV2dCIsImhpZ2hsaWdodGVkQ29kZSIsImRhdGEiLCJpbm5lckhUTUwiLCJwb3N0TWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbW1lZGlhdGVDbG9zZSIsImhpZ2hsaWdodCIsInRleHQiLCJ0b2tlbml6ZSIsIm1hdGNoR3JhbW1hciIsInN0cmFyciIsImluZGV4Iiwic3RhcnRQb3MiLCJvbmVzaG90IiwidGFyZ2V0IiwicGF0dGVybnMiLCJqIiwicGF0dGVybiIsImxvb2tiZWhpbmQiLCJncmVlZHkiLCJsb29rYmVoaW5kTGVuZ3RoIiwiZ2xvYmFsIiwiZmxhZ3MiLCJSZWdFeHAiLCJzb3VyY2UiLCJwb3MiLCJzdHIiLCJsYXN0SW5kZXgiLCJleGVjIiwidG8iLCJrIiwibGVuIiwiZGVsTnVtIiwic2xpY2UiLCJhZnRlciIsImFyZ3MiLCJwdXNoIiwid3JhcHBlZCIsIkFycmF5Iiwic3BsaWNlIiwiYXBwbHkiLCJyZXN0IiwiYWxsIiwiYWRkIiwibmFtZSIsImNhbGxiYWNrcyIsIm1hdGNoZWRTdHIiLCJqb2luIiwidGFnIiwiY2xhc3NlcyIsImF0dHJpYnV0ZXMiLCJhbGlhc2VzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1lc3NhZ2UiLCJwYXJzZSIsImNsb3NlIiwic2NyaXB0IiwiY3VycmVudFNjcmlwdCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicG9wIiwic3JjIiwiaGFzQXR0cmlidXRlIiwicmVhZHlTdGF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiLCJtYXJrdXAiLCJjb21tZW50IiwicHJvbG9nIiwiZG9jdHlwZSIsImNkYXRhIiwicHVuY3R1YXRpb24iLCJuYW1lc3BhY2UiLCJhdHRyLXZhbHVlIiwiYXR0ci1uYW1lIiwiZW50aXR5IiwieG1sIiwiaHRtbCIsIm1hdGhtbCIsInN2ZyIsImNzcyIsImF0cnVsZSIsInJ1bGUiLCJ1cmwiLCJzdHJpbmciLCJwcm9wZXJ0eSIsImltcG9ydGFudCIsImZ1bmN0aW9uIiwic3R5bGUiLCJzdHlsZS1hdHRyIiwiY2xpa2UiLCJjbGFzcy1uYW1lIiwia2V5d29yZCIsImJvb2xlYW4iLCJudW1iZXIiLCJvcGVyYXRvciIsImphdmFzY3JpcHQiLCJyZWdleCIsImZ1bmN0aW9uLXZhcmlhYmxlIiwiY29uc3RhbnQiLCJ0ZW1wbGF0ZS1zdHJpbmciLCJpbnRlcnBvbGF0aW9uIiwiaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvbiIsImpzIiwicXVlcnlTZWxlY3RvciIsImZpbGVIaWdobGlnaHQiLCJFeHRlbnNpb25zIiwicHkiLCJyYiIsInBzMSIsInBzbTEiLCJzaCIsImJhdCIsImgiLCJ0ZXgiLCJwcmUiLCJnZXRBdHRyaWJ1dGUiLCJleHRlbnNpb24iLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwic2VuZCIsInRvb2xiYXIiLCJyZWdpc3RlckJ1dHRvbiIsImEiLCJzZXRBdHRyaWJ1dGUiLCJocmVmIiwib3B0cyIsIm5vZGVUeXBlIiwic2xpZGVzIiwiZmlsdGVyIiwiY2hpbGRyZW4iLCJlbCIsImFjdGl2ZVNsaWRlIiwibGlzdGVuZXJzIiwiYWN0aXZhdGUiLCJjdXN0b21EYXRhIiwiZmlyZSIsImNyZWF0ZUV2ZW50RGF0YSIsInN0ZXAiLCJvZmZzZXQiLCJzbGlkZUluZGV4IiwiaW5kZXhPZiIsIm9mZiIsImV2ZW50TmFtZSIsImxpc3RlbmVyIiwiZXZlbnREYXRhIiwicmVkdWNlIiwibm90Q2FuY2VsbGVkIiwic2xpZGUiLCJvbiIsImJpbmQiLCJuZXh0IiwicHJldiIsInBsdWdpbiIsInQiLCJuIiwiciIsInMiLCJ1IiwiZiIsIjEiLCJfZGVyZXFfIiwiaW5zZXJ0Q3NzIiwicHJlcGVuZCIsImJlc3Bva2UtY2xhc3NlcyIsImluc2VydC1jc3MiLCIyIiwiYWRkQ2xhc3MiLCJjbHMiLCJjbGFzc0xpc3QiLCJyZW1vdmVDbGFzcyIsInRyaW0iLCJkZWFjdGl2YXRlIiwib2Zmc2V0Q2xhc3MiLCJNYXRoIiwiYWJzIiwiMyIsImluc2VydGVkIiwib3B0aW9ucyIsImVsZW0iLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImhlYWQiLCJjaGlsZE5vZGVzIiwiaXNIb3Jpem9udGFsIiwid2hpY2giLCJzaGlmdEtleSIsInN0YXJ0UG9zaXRpb24iLCJkZWx0YSIsImF4aXMiLCJ0b3VjaGVzIiwicHJldmVudERlZmF1bHQiLCJhY3RpdmVTbGlkZUluZGV4IiwiYWN0aXZlQnVsbGV0SW5kZXgiLCJhY3RpdmF0ZUJ1bGxldCIsImJ1bGxldEluZGV4IiwiYnVsbGV0IiwiYiIsInJlbW92ZSIsImFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQiLCJ1bmRlZmluZWQiLCJuZXh0U2xpZGVJbmRleCIsInByZXZTbGlkZUluZGV4IiwiYmFja2Ryb3BzIiwidXBkYXRlQ2xhc3NlcyIsImN1cnJlbnRJbmRleCIsImJhY2tkcm9wQXR0cmlidXRlIiwiZmlyc3RTbGlkZSIsInNsaWRlSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwic2xpZGVXaWR0aCIsIm9mZnNldFdpZHRoIiwidXNlWm9vbSIsIndyYXBwZXIiLCJ0cmFuc2Zvcm1Qcm9wZXJ0eSIsInNwbGl0IiwiY3VycmVudFByb3BlcnR5IiwicHJlZml4IiwicmF0aW8iLCJ6b29tIiwic2NhbGVBbGwiLCJ4U2NhbGUiLCJ5U2NhbGUiLCJtaW4iLCJhY3RpdmF0ZVNsaWRlIiwiaW5kZXhUb0FjdGl2YXRlIiwicGFyc2VIYXNoIiwibG9jYXRpb24iLCJzbGlkZU51bWJlck9yTmFtZSIsInBhcnNlSW50Iiwic2xpZGVOYW1lIiwicHJvZ3Jlc3NQYXJlbnQiLCJwcm9ncmVzc0JhciIsInByb3AiLCJicm93c2VyR2xvYmFsIiwiRnVuY3Rpb24iLCJjdiIsImNvbnZlbmllbnQiLCJidWlsZGVyIiwiYWN0aXZhdGVEZWNrIiwidW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMiLCJlbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyIiwic2F2ZUFjdGl2ZVNsaWRlIiwiZ2V0QWN0aXZlU2xpZGUiLCJnZXRBY3RpdmVTbGlkZUluZGV4IiwibWVyZ2VkIiwiZGVmYXVsdHMiLCJsb2dnZXIiLCJsb2ciLCJjb25zb2xlIiwiZGVja3NTdG9yYWdlcyIsInN0b3JlRGVjayIsImdlbmVyYXRlRXJyb3JPYmplY3QiLCJzb21lIiwiZGVja1N0b3JhZ2UiLCJpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayIsInN0b3JhZ2UiLCJwbHVnaW5OYW1lIiwiZXh0ZXJuYWwiLCJldmVudE5hbWVzcGFjZSIsImlubmVyRXZlbnQiLCJ0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2siLCJnZXREZWNrU3RvcmFnZSIsImlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luIiwiaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZSIsImRlY2tCb3VuZCIsImdldFN0b3JhZ2UiLCJiaW5kVG9EZWNrIiwicHJlZml4ZXMiLCJjb252ZW5pZW50T3B0aW9ucyIsImNvbmNhdCIsImNvcHlBcnJheSIsImdldERlY2tQbHVnaW5TdG9yYWdlIiwiYmluZEV4dGVybmFsIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJhcnIiLCJpbmRleGZpbmdlciIsIm5vdGVzIiwidG9nZ2xlIiwiZ2VuZXJhdGVXaW5kb3dOYW1lIiwiZGlmZiIsImZsb29yIiwicmFuZG9tIiwiY3ZCb3VuZFRvRGVjayIsInVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcyIsImdldE5vdGVzRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwiaXNPcGVuIiwidyIsImNsb3NlZCIsIm9wZW5lciIsImJvZHkiLCJmb2N1cyIsInN5bmNocm9uaXplIiwiYWxsTm90ZXMiLCJub3Rlc0h0bWwiLCJzbGlkZU5vdGUiLCJvdXRlckhUTUwiLCJrZXlEb3duTGlzdGVuZXIiLCJldmVudEhhbmRsZWQiLCJhbHRLZXkiLCJjdHJsS2V5IiwibWV0YUtleSIsIm9uQmVmb3JlVW5sb2FkIiwib25BY3RpdmF0ZSIsInNlY29uZGFyeVdpbmRvd05hbWUiLCJvbmJlZm9yZXVubG9hZCJdLCJtYXBwaW5ncyI6ImNBQVMsU0FBVUEsR0NDbkIsSUFBQUMsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUMsUUFBQSxHQUNBRSxHQUFBSCxFQUNBSSxRQUFBLEdBVUEsT0FOQVAsRUFBQUcsR0FBQUssS0FBQUgsRUFBQUQsUUFBQUMsRUFBQUEsRUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsUUFBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBTyxFQUFBVCxFQUdBRSxFQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBLEdBR0FULEVBQUEsR0R0Q1MsQ0NjVCxDQUNBLFNBQUFHLEVBQUFELEVBQUFGLEdDZkFBLEVBQUEsR0FDQSxJQUFBVSxFQUFBVixFQUFBLEdBQ0FXLEVBQUFYLEVBQUEsR0FDQVksRUFBQVosRUFBQSxHQUNBYSxFQUFBYixFQUFBLEdBQ0FjLEVBQUFkLEVBQUEsR0FDQWUsRUFBQWYsRUFBQSxHQUNBZ0IsRUFBQWhCLEVBQUEsR0FDQWlCLEVBQUFqQixFQUFBLEdBQ0FrQixFQUFBbEIsRUFBQSxJQUNBbUIsRUFBQW5CLEVBQUEsSUFDQW9CLEVBQUFwQixFQUFBLElBRUFxQixFQUFBLENBQ0FWLElBQ0FDLElBQ0FDLElBQ0FDLEVBQUEscUJBQ0FDLElBQ0FDLElBQ0FDLElBQ0FDLElBQ0FDLElBQ0FDLEtBR0EsSUFDQXBCLEdBQUEsV0FBQSxJQUFBc0IsRUFBQSxJQUFBQyxNQUFBLGdDQUFBLE1BQUFELEVBQUFFLEtBQUEsbUJBQUFGLEVBQUEsR0FBQXRCLENBQUFxQixHQUNDLE1BQUFJLElBSUQsSUFBQUMsRUFBQWhCLEVBQUFpQixLQUFBLFVBQUFO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ZUFHQU0sR0FDQXhZLEVBQUEwUixrQkFHQThHLEdBR0FJLEVBQUEsV0FHQSxPQUZBeFksRUFBQU4sVUFBQThJLFFBRUEsTUFHQWlRLEVBQUEsV0FDQXpZLEVBQUFOLFVBQUFvWSxlQWhDQXJILEVBQUFBLEdBQUEsSUFGQW1FLEVBQUEsSUFJQTFWLEtBQUEsR0FDQTBWLEVBQUExVixLQUFBNlgsT0FBQXRHLEVBQUF2UixNQUFBdVIsRUFBQXZSLEtBQUE2WCxRQUFBbEMsRUFBQTNWLEtBQUE2WCxPQUVBbkMsRUFBQWtDLE1BQUFyRyxFQUFBcUcsT0FBQWpDLEVBQUFpQyxNQUVBckcsRUFBQW1FLEVBekJBNVUsRUFBQU4sVUFBQSxDQUNBUyxPQUFBLEtBQ0F1WSxvQkFBQTFCLElBQ0FNLGdCQUFBRCxFQUFBQyxnQkFBQXpJLEtBQUE3TyxHQUNBd1gsT0FBQUgsRUFBQUcsT0FBQTNJLEtBQUE3TyxHQUNBME0sS0FBQTJLLEVBQUEzSyxLQUFBbUMsS0FBQTdPLEdBQ0F3SSxNQUFBNk8sRUFBQTdPLE1BQUFxRyxLQUFBN08sR0FDQTZYLE1BQUFSLEVBQUFRLE1BQUFoSixLQUFBN08sR0FDQStXLE9BQUFNLEVBQUFOLE9BQUFsSSxLQUFBN08sR0FDQThYLFlBQUFULEVBQUFTLFlBQUFqSixLQUFBN08sSUE4Q0FHLE9BQUF3WSxlQUFBSCxFQUVBL1UsU0FBQTRFLGlCQUFBLFVBQUE4UCxHQUFBLEdBQ0E5SixFQUFBUixTQUFBN04sRUFBQTRPLEdBQUEsV0FBQTZKIiwiZmlsZSI6InNsaWRlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMSlcblx0Y29uc3QgYmVzcG9rZSA9IF9fd2VicGFja19yZXF1aXJlX18oMilcblx0Y29uc3QgdGhlbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpXG5cdGNvbnN0IGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpXG5cdGNvbnN0IHRvdWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KVxuXHRjb25zdCBidWxsZXRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KVxuXHRjb25zdCBiYWNrZHJvcCA9IF9fd2VicGFja19yZXF1aXJlX18oNylcblx0Y29uc3Qgc2NhbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpXG5cdGNvbnN0IGhhc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdGNvbnN0IHByb2dyZXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0Y29uc3QgaW5kZXhGaW5nZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKVxuXHRjb25zdCBzZWNvbmRhcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKVxuXHRcblx0dmFyIHBsdWdpbnMgPSBbXG5cdCAgdGhlbWUoKSxcblx0ICBrZXlzKCksXG5cdCAgdG91Y2goKSxcblx0ICBidWxsZXRzKCcuZGVsYXllZCwgLmJ1bGxldCcpLFxuXHQgIGJhY2tkcm9wKCksXG5cdCAgc2NhbGUoKSxcblx0ICBoYXNoKCksXG5cdCAgcHJvZ3Jlc3MoKSxcblx0ICBpbmRleEZpbmdlcigpLFxuXHQgIHNlY29uZGFyeSgpXG5cdF1cblx0XG5cdHRyeSB7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwicGx1Z2luc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSkocGx1Z2lucylcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XG5cdH1cblx0XG5cdHZhciBkZWNrID0gYmVzcG9rZS5mcm9tKCdhcnRpY2xlJywgcGx1Z2lucylcblx0XG5cdHRyeSB7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiZGVja1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSkoZGVjaylcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1jb3JlLmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdHZhciBfc2VsZiA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcblx0XHQ/IHdpbmRvdyAgIC8vIGlmIGluIGJyb3dzZXJcblx0XHQ6IChcblx0XHRcdCh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSlcblx0XHRcdD8gc2VsZiAvLyBpZiBpbiB3b3JrZXJcblx0XHRcdDoge30gICAvLyBpZiBpbiBub2RlIGpzXG5cdFx0KTtcblx0XG5cdC8qKlxuXHQgKiBQcmlzbTogTGlnaHR3ZWlnaHQsIHJvYnVzdCwgZWxlZ2FudCBzeW50YXggaGlnaGxpZ2h0aW5nXG5cdCAqIE1JVCBsaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwL1xuXHQgKiBAYXV0aG9yIExlYSBWZXJvdSBodHRwOi8vbGVhLnZlcm91Lm1lXG5cdCAqL1xuXHRcblx0dmFyIFByaXNtID0gKGZ1bmN0aW9uKCl7XG5cdFxuXHQvLyBQcml2YXRlIGhlbHBlciB2YXJzXG5cdHZhciBsYW5nID0gL1xcYmxhbmcoPzp1YWdlKT8tKFtcXHctXSspXFxiL2k7XG5cdHZhciB1bmlxdWVJZCA9IDA7XG5cdFxuXHR2YXIgXyA9IF9zZWxmLlByaXNtID0ge1xuXHRcdG1hbnVhbDogX3NlbGYuUHJpc20gJiYgX3NlbGYuUHJpc20ubWFudWFsLFxuXHRcdGRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcjogX3NlbGYuUHJpc20gJiYgX3NlbGYuUHJpc20uZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyLFxuXHRcdHV0aWw6IHtcblx0XHRcdGVuY29kZTogZnVuY3Rpb24gKHRva2Vucykge1xuXHRcdFx0XHRpZiAodG9rZW5zIGluc3RhbmNlb2YgVG9rZW4pIHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFRva2VuKHRva2Vucy50eXBlLCBfLnV0aWwuZW5jb2RlKHRva2Vucy5jb250ZW50KSwgdG9rZW5zLmFsaWFzKTtcblx0XHRcdFx0fSBlbHNlIGlmIChfLnV0aWwudHlwZSh0b2tlbnMpID09PSAnQXJyYXknKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRva2Vucy5tYXAoXy51dGlsLmVuY29kZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRva2Vucy5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC9cXHUwMGEwL2csICcgJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFxuXHRcdFx0dHlwZTogZnVuY3Rpb24gKG8pIHtcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5tYXRjaCgvXFxbb2JqZWN0IChcXHcrKVxcXS8pWzFdO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRvYmpJZDogZnVuY3Rpb24gKG9iaikge1xuXHRcdFx0XHRpZiAoIW9ialsnX19pZCddKSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgJ19faWQnLCB7IHZhbHVlOiArK3VuaXF1ZUlkIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBvYmpbJ19faWQnXTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gRGVlcCBjbG9uZSBhIGxhbmd1YWdlIGRlZmluaXRpb24gKGUuZy4gdG8gZXh0ZW5kIGl0KVxuXHRcdFx0Y2xvbmU6IGZ1bmN0aW9uIChvLCB2aXNpdGVkKSB7XG5cdFx0XHRcdHZhciB0eXBlID0gXy51dGlsLnR5cGUobyk7XG5cdFx0XHRcdHZpc2l0ZWQgPSB2aXNpdGVkIHx8IHt9O1xuXHRcblx0XHRcdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdFx0XHRcdGlmICh2aXNpdGVkW18udXRpbC5vYmpJZChvKV0pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZpc2l0ZWRbXy51dGlsLm9iaklkKG8pXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBjbG9uZSA9IHt9O1xuXHRcdFx0XHRcdFx0dmlzaXRlZFtfLnV0aWwub2JqSWQobyldID0gY2xvbmU7XG5cdFxuXHRcdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIG8pIHtcblx0XHRcdFx0XHRcdFx0aWYgKG8uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdFx0XHRcdGNsb25lW2tleV0gPSBfLnV0aWwuY2xvbmUob1trZXldLCB2aXNpdGVkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdHJldHVybiBjbG9uZTtcblx0XG5cdFx0XHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRcdFx0aWYgKHZpc2l0ZWRbXy51dGlsLm9iaklkKG8pXSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmlzaXRlZFtfLnV0aWwub2JqSWQobyldO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFyIGNsb25lID0gW107XG5cdFx0XHRcdFx0XHR2aXNpdGVkW18udXRpbC5vYmpJZChvKV0gPSBjbG9uZTtcblx0XG5cdFx0XHRcdFx0XHRvLmZvckVhY2goZnVuY3Rpb24gKHYsIGkpIHtcblx0XHRcdFx0XHRcdFx0Y2xvbmVbaV0gPSBfLnV0aWwuY2xvbmUodiwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBvO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGxhbmd1YWdlczoge1xuXHRcdFx0ZXh0ZW5kOiBmdW5jdGlvbiAoaWQsIHJlZGVmKSB7XG5cdFx0XHRcdHZhciBsYW5nID0gXy51dGlsLmNsb25lKF8ubGFuZ3VhZ2VzW2lkXSk7XG5cdFxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gcmVkZWYpIHtcblx0XHRcdFx0XHRsYW5nW2tleV0gPSByZWRlZltrZXldO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gbGFuZztcblx0XHRcdH0sXG5cdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBJbnNlcnQgYSB0b2tlbiBiZWZvcmUgYW5vdGhlciB0b2tlbiBpbiBhIGxhbmd1YWdlIGxpdGVyYWxcblx0XHRcdCAqIEFzIHRoaXMgbmVlZHMgdG8gcmVjcmVhdGUgdGhlIG9iamVjdCAod2UgY2Fubm90IGFjdHVhbGx5IGluc2VydCBiZWZvcmUga2V5cyBpbiBvYmplY3QgbGl0ZXJhbHMpLFxuXHRcdFx0ICogd2UgY2Fubm90IGp1c3QgcHJvdmlkZSBhbiBvYmplY3QsIHdlIG5lZWQgYW5vYmplY3QgYW5kIGEga2V5LlxuXHRcdFx0ICogQHBhcmFtIGluc2lkZSBUaGUga2V5IChvciBsYW5ndWFnZSBpZCkgb2YgdGhlIHBhcmVudFxuXHRcdFx0ICogQHBhcmFtIGJlZm9yZSBUaGUga2V5IHRvIGluc2VydCBiZWZvcmUuIElmIG5vdCBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIGFwcGVuZHMgaW5zdGVhZC5cblx0XHRcdCAqIEBwYXJhbSBpbnNlcnQgT2JqZWN0IHdpdGggdGhlIGtleS92YWx1ZSBwYWlycyB0byBpbnNlcnRcblx0XHRcdCAqIEBwYXJhbSByb290IFRoZSBvYmplY3QgdGhhdCBjb250YWlucyBgaW5zaWRlYC4gSWYgZXF1YWwgdG8gUHJpc20ubGFuZ3VhZ2VzLCBpdCBjYW4gYmUgb21pdHRlZC5cblx0XHRcdCAqL1xuXHRcdFx0aW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAoaW5zaWRlLCBiZWZvcmUsIGluc2VydCwgcm9vdCkge1xuXHRcdFx0XHRyb290ID0gcm9vdCB8fCBfLmxhbmd1YWdlcztcblx0XHRcdFx0dmFyIGdyYW1tYXIgPSByb290W2luc2lkZV07XG5cdFxuXHRcdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7XG5cdFx0XHRcdFx0aW5zZXJ0ID0gYXJndW1lbnRzWzFdO1xuXHRcblx0XHRcdFx0XHRmb3IgKHZhciBuZXdUb2tlbiBpbiBpbnNlcnQpIHtcblx0XHRcdFx0XHRcdGlmIChpbnNlcnQuaGFzT3duUHJvcGVydHkobmV3VG9rZW4pKSB7XG5cdFx0XHRcdFx0XHRcdGdyYW1tYXJbbmV3VG9rZW5dID0gaW5zZXJ0W25ld1Rva2VuXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiBncmFtbWFyO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR2YXIgcmV0ID0ge307XG5cdFxuXHRcdFx0XHRmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cdFxuXHRcdFx0XHRcdGlmIChncmFtbWFyLmhhc093blByb3BlcnR5KHRva2VuKSkge1xuXHRcblx0XHRcdFx0XHRcdGlmICh0b2tlbiA9PSBiZWZvcmUpIHtcblx0XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIG5ld1Rva2VuIGluIGluc2VydCkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5zZXJ0Lmhhc093blByb3BlcnR5KG5ld1Rva2VuKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0W25ld1Rva2VuXSA9IGluc2VydFtuZXdUb2tlbl07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0cmV0W3Rva2VuXSA9IGdyYW1tYXJbdG9rZW5dO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gVXBkYXRlIHJlZmVyZW5jZXMgaW4gb3RoZXIgbGFuZ3VhZ2UgZGVmaW5pdGlvbnNcblx0XHRcdFx0Xy5sYW5ndWFnZXMuREZTKF8ubGFuZ3VhZ2VzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKHZhbHVlID09PSByb290W2luc2lkZV0gJiYga2V5ICE9IGluc2lkZSkge1xuXHRcdFx0XHRcdFx0dGhpc1trZXldID0gcmV0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFxuXHRcdFx0XHRyZXR1cm4gcm9vdFtpbnNpZGVdID0gcmV0O1xuXHRcdFx0fSxcblx0XG5cdFx0XHQvLyBUcmF2ZXJzZSBhIGxhbmd1YWdlIGRlZmluaXRpb24gd2l0aCBEZXB0aCBGaXJzdCBTZWFyY2hcblx0XHRcdERGUzogZnVuY3Rpb24obywgY2FsbGJhY2ssIHR5cGUsIHZpc2l0ZWQpIHtcblx0XHRcdFx0dmlzaXRlZCA9IHZpc2l0ZWQgfHwge307XG5cdFx0XHRcdGZvciAodmFyIGkgaW4gbykge1xuXHRcdFx0XHRcdGlmIChvLmhhc093blByb3BlcnR5KGkpKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKG8sIGksIG9baV0sIHR5cGUgfHwgaSk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKF8udXRpbC50eXBlKG9baV0pID09PSAnT2JqZWN0JyAmJiAhdmlzaXRlZFtfLnV0aWwub2JqSWQob1tpXSldKSB7XG5cdFx0XHRcdFx0XHRcdHZpc2l0ZWRbXy51dGlsLm9iaklkKG9baV0pXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdF8ubGFuZ3VhZ2VzLkRGUyhvW2ldLCBjYWxsYmFjaywgbnVsbCwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChfLnV0aWwudHlwZShvW2ldKSA9PT0gJ0FycmF5JyAmJiAhdmlzaXRlZFtfLnV0aWwub2JqSWQob1tpXSldKSB7XG5cdFx0XHRcdFx0XHRcdHZpc2l0ZWRbXy51dGlsLm9iaklkKG9baV0pXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdF8ubGFuZ3VhZ2VzLkRGUyhvW2ldLCBjYWxsYmFjaywgaSwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwbHVnaW5zOiB7fSxcblx0XG5cdFx0aGlnaGxpZ2h0QWxsOiBmdW5jdGlvbihhc3luYywgY2FsbGJhY2spIHtcblx0XHRcdF8uaGlnaGxpZ2h0QWxsVW5kZXIoZG9jdW1lbnQsIGFzeW5jLCBjYWxsYmFjayk7XG5cdFx0fSxcblx0XG5cdFx0aGlnaGxpZ2h0QWxsVW5kZXI6IGZ1bmN0aW9uKGNvbnRhaW5lciwgYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0XHR2YXIgZW52ID0ge1xuXHRcdFx0XHRjYWxsYmFjazogY2FsbGJhY2ssXG5cdFx0XHRcdHNlbGVjdG9yOiAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnXG5cdFx0XHR9O1xuXHRcblx0XHRcdF8uaG9va3MucnVuKFwiYmVmb3JlLWhpZ2hsaWdodGFsbFwiLCBlbnYpO1xuXHRcblx0XHRcdHZhciBlbGVtZW50cyA9IGVudi5lbGVtZW50cyB8fCBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChlbnYuc2VsZWN0b3IpO1xuXHRcblx0XHRcdGZvciAodmFyIGk9MCwgZWxlbWVudDsgZWxlbWVudCA9IGVsZW1lbnRzW2krK107KSB7XG5cdFx0XHRcdF8uaGlnaGxpZ2h0RWxlbWVudChlbGVtZW50LCBhc3luYyA9PT0gdHJ1ZSwgZW52LmNhbGxiYWNrKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRoaWdobGlnaHRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBhc3luYywgY2FsbGJhY2spIHtcblx0XHRcdC8vIEZpbmQgbGFuZ3VhZ2Vcblx0XHRcdHZhciBsYW5ndWFnZSwgZ3JhbW1hciwgcGFyZW50ID0gZWxlbWVudDtcblx0XG5cdFx0XHR3aGlsZSAocGFyZW50ICYmICFsYW5nLnRlc3QocGFyZW50LmNsYXNzTmFtZSkpIHtcblx0XHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0XHRsYW5ndWFnZSA9IChwYXJlbnQuY2xhc3NOYW1lLm1hdGNoKGxhbmcpIHx8IFssJyddKVsxXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRncmFtbWFyID0gXy5sYW5ndWFnZXNbbGFuZ3VhZ2VdO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNldCBsYW5ndWFnZSBvbiB0aGUgZWxlbWVudCwgaWYgbm90IHByZXNlbnRcblx0XHRcdGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShsYW5nLCAnJykucmVwbGFjZSgvXFxzKy9nLCAnICcpICsgJyBsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cdFxuXHRcdFx0aWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuXHRcdFx0XHQvLyBTZXQgbGFuZ3VhZ2Ugb24gdGhlIHBhcmVudCwgZm9yIHN0eWxpbmdcblx0XHRcdFx0cGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXHRcblx0XHRcdFx0aWYgKC9wcmUvaS50ZXN0KHBhcmVudC5ub2RlTmFtZSkpIHtcblx0XHRcdFx0XHRwYXJlbnQuY2xhc3NOYW1lID0gcGFyZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBjb2RlID0gZWxlbWVudC50ZXh0Q29udGVudDtcblx0XG5cdFx0XHR2YXIgZW52ID0ge1xuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50LFxuXHRcdFx0XHRsYW5ndWFnZTogbGFuZ3VhZ2UsXG5cdFx0XHRcdGdyYW1tYXI6IGdyYW1tYXIsXG5cdFx0XHRcdGNvZGU6IGNvZGVcblx0XHRcdH07XG5cdFxuXHRcdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS1zYW5pdHktY2hlY2snLCBlbnYpO1xuXHRcblx0XHRcdGlmICghZW52LmNvZGUgfHwgIWVudi5ncmFtbWFyKSB7XG5cdFx0XHRcdGlmIChlbnYuY29kZSkge1xuXHRcdFx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtaGlnaGxpZ2h0JywgZW52KTtcblx0XHRcdFx0XHRlbnYuZWxlbWVudC50ZXh0Q29udGVudCA9IGVudi5jb2RlO1xuXHRcdFx0XHRcdF8uaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLCBlbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWhpZ2hsaWdodCcsIGVudik7XG5cdFxuXHRcdFx0aWYgKGFzeW5jICYmIF9zZWxmLldvcmtlcikge1xuXHRcdFx0XHR2YXIgd29ya2VyID0gbmV3IFdvcmtlcihfLmZpbGVuYW1lKTtcblx0XG5cdFx0XHRcdHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldnQpIHtcblx0XHRcdFx0XHRlbnYuaGlnaGxpZ2h0ZWRDb2RlID0gZXZ0LmRhdGE7XG5cdFxuXHRcdFx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtaW5zZXJ0JywgZW52KTtcblx0XG5cdFx0XHRcdFx0ZW52LmVsZW1lbnQuaW5uZXJIVE1MID0gZW52LmhpZ2hsaWdodGVkQ29kZTtcblx0XG5cdFx0XHRcdFx0Y2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChlbnYuZWxlbWVudCk7XG5cdFx0XHRcdFx0Xy5ob29rcy5ydW4oJ2FmdGVyLWhpZ2hsaWdodCcsIGVudik7XG5cdFx0XHRcdFx0Xy5ob29rcy5ydW4oJ2NvbXBsZXRlJywgZW52KTtcblx0XHRcdFx0fTtcblx0XG5cdFx0XHRcdHdvcmtlci5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFx0bGFuZ3VhZ2U6IGVudi5sYW5ndWFnZSxcblx0XHRcdFx0XHRjb2RlOiBlbnYuY29kZSxcblx0XHRcdFx0XHRpbW1lZGlhdGVDbG9zZTogdHJ1ZVxuXHRcdFx0XHR9KSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0ZW52LmhpZ2hsaWdodGVkQ29kZSA9IF8uaGlnaGxpZ2h0KGVudi5jb2RlLCBlbnYuZ3JhbW1hciwgZW52Lmxhbmd1YWdlKTtcblx0XG5cdFx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtaW5zZXJ0JywgZW52KTtcblx0XG5cdFx0XHRcdGVudi5lbGVtZW50LmlubmVySFRNTCA9IGVudi5oaWdobGlnaHRlZENvZGU7XG5cdFxuXHRcdFx0XHRjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGVsZW1lbnQpO1xuXHRcblx0XHRcdFx0Xy5ob29rcy5ydW4oJ2FmdGVyLWhpZ2hsaWdodCcsIGVudik7XG5cdFx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0aGlnaGxpZ2h0OiBmdW5jdGlvbiAodGV4dCwgZ3JhbW1hciwgbGFuZ3VhZ2UpIHtcblx0XHRcdHZhciBlbnYgPSB7XG5cdFx0XHRcdGNvZGU6IHRleHQsXG5cdFx0XHRcdGdyYW1tYXI6IGdyYW1tYXIsXG5cdFx0XHRcdGxhbmd1YWdlOiBsYW5ndWFnZVxuXHRcdFx0fTtcblx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtdG9rZW5pemUnLCBlbnYpO1xuXHRcdFx0ZW52LnRva2VucyA9IF8udG9rZW5pemUoZW52LmNvZGUsIGVudi5ncmFtbWFyKTtcblx0XHRcdF8uaG9va3MucnVuKCdhZnRlci10b2tlbml6ZScsIGVudik7XG5cdFx0XHRyZXR1cm4gVG9rZW4uc3RyaW5naWZ5KF8udXRpbC5lbmNvZGUoZW52LnRva2VucyksIGVudi5sYW5ndWFnZSk7XG5cdFx0fSxcblx0XG5cdFx0bWF0Y2hHcmFtbWFyOiBmdW5jdGlvbiAodGV4dCwgc3RyYXJyLCBncmFtbWFyLCBpbmRleCwgc3RhcnRQb3MsIG9uZXNob3QsIHRhcmdldCkge1xuXHRcdFx0dmFyIFRva2VuID0gXy5Ub2tlbjtcblx0XG5cdFx0XHRmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cdFx0XHRcdGlmKCFncmFtbWFyLmhhc093blByb3BlcnR5KHRva2VuKSB8fCAhZ3JhbW1hclt0b2tlbl0pIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKHRva2VuID09IHRhcmdldCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0dmFyIHBhdHRlcm5zID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRcdHBhdHRlcm5zID0gKF8udXRpbC50eXBlKHBhdHRlcm5zKSA9PT0gXCJBcnJheVwiKSA/IHBhdHRlcm5zIDogW3BhdHRlcm5zXTtcblx0XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGF0dGVybnMubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0XHR2YXIgcGF0dGVybiA9IHBhdHRlcm5zW2pdLFxuXHRcdFx0XHRcdFx0aW5zaWRlID0gcGF0dGVybi5pbnNpZGUsXG5cdFx0XHRcdFx0XHRsb29rYmVoaW5kID0gISFwYXR0ZXJuLmxvb2tiZWhpbmQsXG5cdFx0XHRcdFx0XHRncmVlZHkgPSAhIXBhdHRlcm4uZ3JlZWR5LFxuXHRcdFx0XHRcdFx0bG9va2JlaGluZExlbmd0aCA9IDAsXG5cdFx0XHRcdFx0XHRhbGlhcyA9IHBhdHRlcm4uYWxpYXM7XG5cdFxuXHRcdFx0XHRcdGlmIChncmVlZHkgJiYgIXBhdHRlcm4ucGF0dGVybi5nbG9iYWwpIHtcblx0XHRcdFx0XHRcdC8vIFdpdGhvdXQgdGhlIGdsb2JhbCBmbGFnLCBsYXN0SW5kZXggd29uJ3Qgd29ya1xuXHRcdFx0XHRcdFx0dmFyIGZsYWdzID0gcGF0dGVybi5wYXR0ZXJuLnRvU3RyaW5nKCkubWF0Y2goL1tpbXV5XSokLylbMF07XG5cdFx0XHRcdFx0XHRwYXR0ZXJuLnBhdHRlcm4gPSBSZWdFeHAocGF0dGVybi5wYXR0ZXJuLnNvdXJjZSwgZmxhZ3MgKyBcImdcIik7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRwYXR0ZXJuID0gcGF0dGVybi5wYXR0ZXJuIHx8IHBhdHRlcm47XG5cdFxuXHRcdFx0XHRcdC8vIERvbuKAmXQgY2FjaGUgbGVuZ3RoIGFzIGl0IGNoYW5nZXMgZHVyaW5nIHRoZSBsb29wXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IGluZGV4LCBwb3MgPSBzdGFydFBvczsgaSA8IHN0cmFyci5sZW5ndGg7IHBvcyArPSBzdHJhcnJbaV0ubGVuZ3RoLCArK2kpIHtcblx0XG5cdFx0XHRcdFx0XHR2YXIgc3RyID0gc3RyYXJyW2ldO1xuXHRcblx0XHRcdFx0XHRcdGlmIChzdHJhcnIubGVuZ3RoID4gdGV4dC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0Ly8gU29tZXRoaW5nIHdlbnQgdGVycmlibHkgd3JvbmcsIEFCT1JULCBBQk9SVCFcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGlmIChzdHIgaW5zdGFuY2VvZiBUb2tlbikge1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRpZiAoZ3JlZWR5ICYmIGkgIT0gc3RyYXJyLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdFx0cGF0dGVybi5sYXN0SW5kZXggPSBwb3M7XG5cdFx0XHRcdFx0XHRcdHZhciBtYXRjaCA9IHBhdHRlcm4uZXhlYyh0ZXh0KTtcblx0XHRcdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgZnJvbSA9IG1hdGNoLmluZGV4ICsgKGxvb2tiZWhpbmQgPyBtYXRjaFsxXS5sZW5ndGggOiAwKSxcblx0XHRcdFx0XHRcdFx0ICAgIHRvID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgsXG5cdFx0XHRcdFx0XHRcdCAgICBrID0gaSxcblx0XHRcdFx0XHRcdFx0ICAgIHAgPSBwb3M7XG5cdFxuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBsZW4gPSBzdHJhcnIubGVuZ3RoOyBrIDwgbGVuICYmIChwIDwgdG8gfHwgKCFzdHJhcnJba10udHlwZSAmJiAhc3RyYXJyW2sgLSAxXS5ncmVlZHkpKTsgKytrKSB7XG5cdFx0XHRcdFx0XHRcdFx0cCArPSBzdHJhcnJba10ubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRcdC8vIE1vdmUgdGhlIGluZGV4IGkgdG8gdGhlIGVsZW1lbnQgaW4gc3RyYXJyIHRoYXQgaXMgY2xvc2VzdCB0byBmcm9tXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGZyb20gPj0gcCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0KytpO1xuXHRcdFx0XHRcdFx0XHRcdFx0cG9zID0gcDtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdC8vIElmIHN0cmFycltpXSBpcyBhIFRva2VuLCB0aGVuIHRoZSBtYXRjaCBzdGFydHMgaW5zaWRlIGFub3RoZXIgVG9rZW4sIHdoaWNoIGlzIGludmFsaWRcblx0XHRcdFx0XHRcdFx0aWYgKHN0cmFycltpXSBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdC8vIE51bWJlciBvZiB0b2tlbnMgdG8gZGVsZXRlIGFuZCByZXBsYWNlIHdpdGggdGhlIG5ldyBtYXRjaFxuXHRcdFx0XHRcdFx0XHRkZWxOdW0gPSBrIC0gaTtcblx0XHRcdFx0XHRcdFx0c3RyID0gdGV4dC5zbGljZShwb3MsIHApO1xuXHRcdFx0XHRcdFx0XHRtYXRjaC5pbmRleCAtPSBwb3M7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRwYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoc3RyKSxcblx0XHRcdFx0XHRcdFx0XHRkZWxOdW0gPSAxO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGlmICghbWF0Y2gpIHtcblx0XHRcdFx0XHRcdFx0aWYgKG9uZXNob3QpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0aWYobG9va2JlaGluZCkge1xuXHRcdFx0XHRcdFx0XHRsb29rYmVoaW5kTGVuZ3RoID0gbWF0Y2hbMV0gPyBtYXRjaFsxXS5sZW5ndGggOiAwO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdHZhciBmcm9tID0gbWF0Y2guaW5kZXggKyBsb29rYmVoaW5kTGVuZ3RoLFxuXHRcdFx0XHRcdFx0ICAgIG1hdGNoID0gbWF0Y2hbMF0uc2xpY2UobG9va2JlaGluZExlbmd0aCksXG5cdFx0XHRcdFx0XHQgICAgdG8gPSBmcm9tICsgbWF0Y2gubGVuZ3RoLFxuXHRcdFx0XHRcdFx0ICAgIGJlZm9yZSA9IHN0ci5zbGljZSgwLCBmcm9tKSxcblx0XHRcdFx0XHRcdCAgICBhZnRlciA9IHN0ci5zbGljZSh0byk7XG5cdFxuXHRcdFx0XHRcdFx0dmFyIGFyZ3MgPSBbaSwgZGVsTnVtXTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoYmVmb3JlKSB7XG5cdFx0XHRcdFx0XHRcdCsraTtcblx0XHRcdFx0XHRcdFx0cG9zICs9IGJlZm9yZS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdGFyZ3MucHVzaChiZWZvcmUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdHZhciB3cmFwcGVkID0gbmV3IFRva2VuKHRva2VuLCBpbnNpZGU/IF8udG9rZW5pemUobWF0Y2gsIGluc2lkZSkgOiBtYXRjaCwgYWxpYXMsIG1hdGNoLCBncmVlZHkpO1xuXHRcblx0XHRcdFx0XHRcdGFyZ3MucHVzaCh3cmFwcGVkKTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoYWZ0ZXIpIHtcblx0XHRcdFx0XHRcdFx0YXJncy5wdXNoKGFmdGVyKTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHN0cmFyciwgYXJncyk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKGRlbE51bSAhPSAxKVxuXHRcdFx0XHRcdFx0XHRfLm1hdGNoR3JhbW1hcih0ZXh0LCBzdHJhcnIsIGdyYW1tYXIsIGksIHBvcywgdHJ1ZSwgdG9rZW4pO1xuXHRcblx0XHRcdFx0XHRcdGlmIChvbmVzaG90KVxuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHR0b2tlbml6ZTogZnVuY3Rpb24odGV4dCwgZ3JhbW1hciwgbGFuZ3VhZ2UpIHtcblx0XHRcdHZhciBzdHJhcnIgPSBbdGV4dF07XG5cdFxuXHRcdFx0dmFyIHJlc3QgPSBncmFtbWFyLnJlc3Q7XG5cdFxuXHRcdFx0aWYgKHJlc3QpIHtcblx0XHRcdFx0Zm9yICh2YXIgdG9rZW4gaW4gcmVzdCkge1xuXHRcdFx0XHRcdGdyYW1tYXJbdG9rZW5dID0gcmVzdFt0b2tlbl07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGRlbGV0ZSBncmFtbWFyLnJlc3Q7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Xy5tYXRjaEdyYW1tYXIodGV4dCwgc3RyYXJyLCBncmFtbWFyLCAwLCAwLCBmYWxzZSk7XG5cdFxuXHRcdFx0cmV0dXJuIHN0cmFycjtcblx0XHR9LFxuXHRcblx0XHRob29rczoge1xuXHRcdFx0YWxsOiB7fSxcblx0XG5cdFx0XHRhZGQ6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuXHRcdFx0XHR2YXIgaG9va3MgPSBfLmhvb2tzLmFsbDtcblx0XG5cdFx0XHRcdGhvb2tzW25hbWVdID0gaG9va3NbbmFtZV0gfHwgW107XG5cdFxuXHRcdFx0XHRob29rc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0cnVuOiBmdW5jdGlvbiAobmFtZSwgZW52KSB7XG5cdFx0XHRcdHZhciBjYWxsYmFja3MgPSBfLmhvb2tzLmFsbFtuYW1lXTtcblx0XG5cdFx0XHRcdGlmICghY2FsbGJhY2tzIHx8ICFjYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRmb3IgKHZhciBpPTAsIGNhbGxiYWNrOyBjYWxsYmFjayA9IGNhbGxiYWNrc1tpKytdOykge1xuXHRcdFx0XHRcdGNhbGxiYWNrKGVudik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdFxuXHR2YXIgVG9rZW4gPSBfLlRva2VuID0gZnVuY3Rpb24odHlwZSwgY29udGVudCwgYWxpYXMsIG1hdGNoZWRTdHIsIGdyZWVkeSkge1xuXHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdFx0dGhpcy5jb250ZW50ID0gY29udGVudDtcblx0XHR0aGlzLmFsaWFzID0gYWxpYXM7XG5cdFx0Ly8gQ29weSBvZiB0aGUgZnVsbCBzdHJpbmcgdGhpcyB0b2tlbiB3YXMgY3JlYXRlZCBmcm9tXG5cdFx0dGhpcy5sZW5ndGggPSAobWF0Y2hlZFN0ciB8fCBcIlwiKS5sZW5ndGh8MDtcblx0XHR0aGlzLmdyZWVkeSA9ICEhZ3JlZWR5O1xuXHR9O1xuXHRcblx0VG9rZW4uc3RyaW5naWZ5ID0gZnVuY3Rpb24obywgbGFuZ3VhZ2UsIHBhcmVudCkge1xuXHRcdGlmICh0eXBlb2YgbyA9PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIG87XG5cdFx0fVxuXHRcblx0XHRpZiAoXy51dGlsLnR5cGUobykgPT09ICdBcnJheScpIHtcblx0XHRcdHJldHVybiBvLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0XHRcdHJldHVybiBUb2tlbi5zdHJpbmdpZnkoZWxlbWVudCwgbGFuZ3VhZ2UsIG8pO1xuXHRcdFx0fSkuam9pbignJyk7XG5cdFx0fVxuXHRcblx0XHR2YXIgZW52ID0ge1xuXHRcdFx0dHlwZTogby50eXBlLFxuXHRcdFx0Y29udGVudDogVG9rZW4uc3RyaW5naWZ5KG8uY29udGVudCwgbGFuZ3VhZ2UsIHBhcmVudCksXG5cdFx0XHR0YWc6ICdzcGFuJyxcblx0XHRcdGNsYXNzZXM6IFsndG9rZW4nLCBvLnR5cGVdLFxuXHRcdFx0YXR0cmlidXRlczoge30sXG5cdFx0XHRsYW5ndWFnZTogbGFuZ3VhZ2UsXG5cdFx0XHRwYXJlbnQ6IHBhcmVudFxuXHRcdH07XG5cdFxuXHRcdGlmIChvLmFsaWFzKSB7XG5cdFx0XHR2YXIgYWxpYXNlcyA9IF8udXRpbC50eXBlKG8uYWxpYXMpID09PSAnQXJyYXknID8gby5hbGlhcyA6IFtvLmFsaWFzXTtcblx0XHRcdEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGVudi5jbGFzc2VzLCBhbGlhc2VzKTtcblx0XHR9XG5cdFxuXHRcdF8uaG9va3MucnVuKCd3cmFwJywgZW52KTtcblx0XG5cdFx0dmFyIGF0dHJpYnV0ZXMgPSBPYmplY3Qua2V5cyhlbnYuYXR0cmlidXRlcykubWFwKGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRcdHJldHVybiBuYW1lICsgJz1cIicgKyAoZW52LmF0dHJpYnV0ZXNbbmFtZV0gfHwgJycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKSArICdcIic7XG5cdFx0fSkuam9pbignICcpO1xuXHRcblx0XHRyZXR1cm4gJzwnICsgZW52LnRhZyArICcgY2xhc3M9XCInICsgZW52LmNsYXNzZXMuam9pbignICcpICsgJ1wiJyArIChhdHRyaWJ1dGVzID8gJyAnICsgYXR0cmlidXRlcyA6ICcnKSArICc+JyArIGVudi5jb250ZW50ICsgJzwvJyArIGVudi50YWcgKyAnPic7XG5cdFxuXHR9O1xuXHRcblx0aWYgKCFfc2VsZi5kb2N1bWVudCkge1xuXHRcdGlmICghX3NlbGYuYWRkRXZlbnRMaXN0ZW5lcikge1xuXHRcdFx0Ly8gaW4gTm9kZS5qc1xuXHRcdFx0cmV0dXJuIF9zZWxmLlByaXNtO1xuXHRcdH1cblx0XG5cdFx0aWYgKCFfLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcikge1xuXHRcdFx0Ly8gSW4gd29ya2VyXG5cdFx0XHRfc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2dCkge1xuXHRcdFx0XHR2YXIgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpLFxuXHRcdFx0XHRcdGxhbmcgPSBtZXNzYWdlLmxhbmd1YWdlLFxuXHRcdFx0XHRcdGNvZGUgPSBtZXNzYWdlLmNvZGUsXG5cdFx0XHRcdFx0aW1tZWRpYXRlQ2xvc2UgPSBtZXNzYWdlLmltbWVkaWF0ZUNsb3NlO1xuXHRcblx0XHRcdFx0X3NlbGYucG9zdE1lc3NhZ2UoXy5oaWdobGlnaHQoY29kZSwgXy5sYW5ndWFnZXNbbGFuZ10sIGxhbmcpKTtcblx0XHRcdFx0aWYgKGltbWVkaWF0ZUNsb3NlKSB7XG5cdFx0XHRcdFx0X3NlbGYuY2xvc2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgZmFsc2UpO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIF9zZWxmLlByaXNtO1xuXHR9XG5cdFxuXHQvL0dldCBjdXJyZW50IHNjcmlwdCBhbmQgaGlnaGxpZ2h0XG5cdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0IHx8IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIikpLnBvcCgpO1xuXHRcblx0aWYgKHNjcmlwdCkge1xuXHRcdF8uZmlsZW5hbWUgPSBzY3JpcHQuc3JjO1xuXHRcblx0XHRpZiAoIV8ubWFudWFsICYmICFzY3JpcHQuaGFzQXR0cmlidXRlKCdkYXRhLW1hbnVhbCcpKSB7XG5cdFx0XHRpZihkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIikge1xuXHRcdFx0XHRpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuXHRcdFx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoXy5oaWdobGlnaHRBbGwpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KF8uaGlnaGxpZ2h0QWxsLCAxNik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgXy5oaWdobGlnaHRBbGwpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIF9zZWxmLlByaXNtO1xuXHRcblx0fSkoKTtcblx0XG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gUHJpc207XG5cdH1cblx0XG5cdC8vIGhhY2sgZm9yIGNvbXBvbmVudHMgdG8gd29yayBjb3JyZWN0bHkgaW4gbm9kZS5qc1xuXHRpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRnbG9iYWwuUHJpc20gPSBQcmlzbTtcblx0fVxuXHRcblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1tYXJrdXAuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCA9IHtcblx0XHQnY29tbWVudCc6IC88IS0tW1xcc1xcU10qPy0tPi8sXG5cdFx0J3Byb2xvZyc6IC88XFw/W1xcc1xcU10rP1xcPz4vLFxuXHRcdCdkb2N0eXBlJzogLzwhRE9DVFlQRVtcXHNcXFNdKz8+L2ksXG5cdFx0J2NkYXRhJzogLzwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XV0+L2ksXG5cdFx0J3RhZyc6IHtcblx0XHRcdHBhdHRlcm46IC88XFwvPyg/IVxcZClbXlxccz5cXC89JDwlXSsoPzpcXHMrW15cXHM+XFwvPV0rKD86PSg/OihcInwnKSg/OlxcXFxbXFxzXFxTXXwoPyFcXDEpW15cXFxcXSkqXFwxfFteXFxzJ1wiPj1dKykpPykqXFxzKlxcLz8+L2ksXG5cdFx0XHRncmVlZHk6IHRydWUsXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0J3RhZyc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvXjxcXC8/W15cXHM+XFwvXSsvaSxcblx0XHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9ePFxcLz8vLFxuXHRcdFx0XHRcdFx0J25hbWVzcGFjZSc6IC9eW15cXHM+XFwvOl0rOi9cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdhdHRyLXZhbHVlJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC89KD86KFwifCcpKD86XFxcXFtcXHNcXFNdfCg/IVxcMSlbXlxcXFxdKSpcXDF8W15cXHMnXCI+PV0rKS9pLFxuXHRcdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogW1xuXHRcdFx0XHRcdFx0XHQvXj0vLFxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0cGF0dGVybjogLyhefFteXFxcXF0pW1wiJ10vLFxuXHRcdFx0XHRcdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL1xcLz8+Lyxcblx0XHRcdFx0J2F0dHItbmFtZSc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvW15cXHM+XFwvXSsvLFxuXHRcdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdFx0J25hbWVzcGFjZSc6IC9eW15cXHM+XFwvOl0rOi9cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQnZW50aXR5JzogLyYjP1tcXGRhLXpdezEsOH07L2lcblx0fTtcblx0XG5cdFByaXNtLmxhbmd1YWdlcy5tYXJrdXBbJ3RhZyddLmluc2lkZVsnYXR0ci12YWx1ZSddLmluc2lkZVsnZW50aXR5J10gPVxuXHRcdFByaXNtLmxhbmd1YWdlcy5tYXJrdXBbJ2VudGl0eSddO1xuXHRcblx0Ly8gUGx1Z2luIHRvIG1ha2UgZW50aXR5IHRpdGxlIHNob3cgdGhlIHJlYWwgZW50aXR5LCBpZGVhIGJ5IFJvbWFuIEtvbWFyb3Zcblx0UHJpc20uaG9va3MuYWRkKCd3cmFwJywgZnVuY3Rpb24oZW52KSB7XG5cdFxuXHRcdGlmIChlbnYudHlwZSA9PT0gJ2VudGl0eScpIHtcblx0XHRcdGVudi5hdHRyaWJ1dGVzWyd0aXRsZSddID0gZW52LmNvbnRlbnQucmVwbGFjZSgvJmFtcDsvLCAnJicpO1xuXHRcdH1cblx0fSk7XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMueG1sID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblx0UHJpc20ubGFuZ3VhZ2VzLmh0bWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuXHRQcmlzbS5sYW5ndWFnZXMubWF0aG1sID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblx0UHJpc20ubGFuZ3VhZ2VzLnN2ZyA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdFxuXHRcblx0LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgICAgIEJlZ2luIHByaXNtLWNzcy5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuY3NzID0ge1xuXHRcdCdjb21tZW50JzogL1xcL1xcKltcXHNcXFNdKj9cXCpcXC8vLFxuXHRcdCdhdHJ1bGUnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvQFtcXHctXSs/Lio/KD86O3woPz1cXHMqXFx7KSkvaSxcblx0XHRcdGluc2lkZToge1xuXHRcdFx0XHQncnVsZSc6IC9AW1xcdy1dKy9cblx0XHRcdFx0Ly8gU2VlIHJlc3QgYmVsb3dcblx0XHRcdH1cblx0XHR9LFxuXHRcdCd1cmwnOiAvdXJsXFwoKD86KFtcIiddKSg/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDF8Lio/KVxcKS9pLFxuXHRcdCdzZWxlY3Rvcic6IC9bXnt9XFxzXVtee307XSo/KD89XFxzKlxceykvLFxuXHRcdCdzdHJpbmcnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvKFwifCcpKD86XFxcXCg/OlxcclxcbnxbXFxzXFxTXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS8sXG5cdFx0XHRncmVlZHk6IHRydWVcblx0XHR9LFxuXHRcdCdwcm9wZXJ0eSc6IC9bLV9hLXpcXHhBMC1cXHVGRkZGXVstXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKjopL2ksXG5cdFx0J2ltcG9ydGFudCc6IC9cXEIhaW1wb3J0YW50XFxiL2ksXG5cdFx0J2Z1bmN0aW9uJzogL1stYS16MC05XSsoPz1cXCgpL2ksXG5cdFx0J3B1bmN0dWF0aW9uJzogL1soKXt9OzpdL1xuXHR9O1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmNzc1snYXRydWxlJ10uaW5zaWRlLnJlc3QgPSBQcmlzbS5sYW5ndWFnZXMuY3NzO1xuXHRcblx0aWYgKFByaXNtLmxhbmd1YWdlcy5tYXJrdXApIHtcblx0XHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdtYXJrdXAnLCAndGFnJywge1xuXHRcdFx0J3N0eWxlJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvKDxzdHlsZVtcXHNcXFNdKj8+KVtcXHNcXFNdKj8oPz08XFwvc3R5bGU+KS9pLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5jc3MsXG5cdFx0XHRcdGFsaWFzOiAnbGFuZ3VhZ2UtY3NzJyxcblx0XHRcdFx0Z3JlZWR5OiB0cnVlXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFxuXHRcdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2luc2lkZScsICdhdHRyLXZhbHVlJywge1xuXHRcdFx0J3N0eWxlLWF0dHInOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9cXHMqc3R5bGU9KFwifCcpKD86XFxcXFtcXHNcXFNdfCg/IVxcMSlbXlxcXFxdKSpcXDEvaSxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J2F0dHItbmFtZSc6IHtcblx0XHRcdFx0XHRcdHBhdHRlcm46IC9eXFxzKnN0eWxlL2ksXG5cdFx0XHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL15cXHMqPVxccypbJ1wiXXxbJ1wiXVxccyokLyxcblx0XHRcdFx0XHQnYXR0ci12YWx1ZSc6IHtcblx0XHRcdFx0XHRcdHBhdHRlcm46IC8uKy9pLFxuXHRcdFx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuY3NzXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRhbGlhczogJ2xhbmd1YWdlLWNzcydcblx0XHRcdH1cblx0XHR9LCBQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZyk7XG5cdH1cblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1jbGlrZS5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuY2xpa2UgPSB7XG5cdFx0J2NvbW1lbnQnOiBbXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC8oXnxbXlxcXFxdKVxcL1xcKltcXHNcXFNdKj8oPzpcXCpcXC98JCkvLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcOl0pXFwvXFwvLiovLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0XHRncmVlZHk6IHRydWVcblx0XHRcdH1cblx0XHRdLFxuXHRcdCdzdHJpbmcnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvKFtcIiddKSg/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDEvLFxuXHRcdFx0Z3JlZWR5OiB0cnVlXG5cdFx0fSxcblx0XHQnY2xhc3MtbmFtZSc6IHtcblx0XHRcdHBhdHRlcm46IC8oKD86XFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylcXHMrKXwoPzpjYXRjaFxccytcXCgpKVtcXHcuXFxcXF0rL2ksXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdHB1bmN0dWF0aW9uOiAvWy5cXFxcXS9cblx0XHRcdH1cblx0XHR9LFxuXHRcdCdrZXl3b3JkJzogL1xcYig/OmlmfGVsc2V8d2hpbGV8ZG98Zm9yfHJldHVybnxpbnxpbnN0YW5jZW9mfGZ1bmN0aW9ufG5ld3x0cnl8dGhyb3d8Y2F0Y2h8ZmluYWxseXxudWxsfGJyZWFrfGNvbnRpbnVlKVxcYi8sXG5cdFx0J2Jvb2xlYW4nOiAvXFxiKD86dHJ1ZXxmYWxzZSlcXGIvLFxuXHRcdCdmdW5jdGlvbic6IC9bYS16MC05X10rKD89XFwoKS9pLFxuXHRcdCdudW1iZXInOiAvXFxiMHhbXFxkYS1mXStcXGJ8KD86XFxiXFxkK1xcLj9cXGQqfFxcQlxcLlxcZCspKD86ZVsrLV0/XFxkKyk/L2ksXG5cdFx0J29wZXJhdG9yJzogLy0tP3xcXCtcXCs/fCE9Pz0/fDw9P3w+PT98PT0/PT98JiY/fFxcfFxcfD98XFw/fFxcKnxcXC98fnxcXF58JS8sXG5cdFx0J3B1bmN0dWF0aW9uJzogL1t7fVtcXF07KCksLjpdL1xuXHR9O1xuXHRcblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1qYXZhc2NyaXB0LmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0ID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnY2xpa2UnLCB7XG5cdFx0J2tleXdvcmQnOiAvXFxiKD86YXN8YXN5bmN8YXdhaXR8YnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8ZmluYWxseXxmb3J8ZnJvbXxmdW5jdGlvbnxnZXR8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW58aW5zdGFuY2VvZnxpbnRlcmZhY2V8bGV0fG5ld3xudWxsfG9mfHBhY2thZ2V8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJldHVybnxzZXR8c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlb2Z8dmFyfHZvaWR8d2hpbGV8d2l0aHx5aWVsZClcXGIvLFxuXHRcdCdudW1iZXInOiAvXFxiKD86MFt4WF1bXFxkQS1GYS1mXSt8MFtiQl1bMDFdK3wwW29PXVswLTddK3xOYU58SW5maW5pdHkpXFxifCg/OlxcYlxcZCtcXC4/XFxkKnxcXEJcXC5cXGQrKSg/OltFZV1bKy1dP1xcZCspPy8sXG5cdFx0Ly8gQWxsb3cgZm9yIGFsbCBub24tQVNDSUkgY2hhcmFjdGVycyAoU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIwMDg0NDQpXG5cdFx0J2Z1bmN0aW9uJzogL1tfJGEtelxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSooPz1cXHMqXFwoKS9pLFxuXHRcdCdvcGVyYXRvcic6IC8tWy09XT98XFwrWys9XT98IT0/PT98PDw/PT98Pj4/Pj89P3w9KD86PT0/fD4pP3wmWyY9XT98XFx8W3w9XT98XFwqXFwqPz0/fFxcLz0/fH58XFxePT98JT0/fFxcP3xcXC57M30vXG5cdH0pO1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdrZXl3b3JkJywge1xuXHRcdCdyZWdleCc6IHtcblx0XHRcdHBhdHRlcm46IC8oKD86XnxbXiRcXHdcXHhBMC1cXHVGRkZGLlwiJ1xcXSlcXHNdKVxccyopXFwvKFxcW1teXFxdXFxyXFxuXStdfFxcXFwufFteL1xcXFxcXFtcXHJcXG5dKStcXC9bZ2lteXVdezAsNX0oPz1cXHMqKCR8W1xcclxcbiwuO30pXFxdXSkpLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRncmVlZHk6IHRydWVcblx0XHR9LFxuXHRcdC8vIFRoaXMgbXVzdCBiZSBkZWNsYXJlZCBiZWZvcmUga2V5d29yZCBiZWNhdXNlIHdlIHVzZSBcImZ1bmN0aW9uXCIgaW5zaWRlIHRoZSBsb29rLWZvcndhcmRcblx0XHQnZnVuY3Rpb24tdmFyaWFibGUnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvW18kYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKig/PVxccyo9XFxzKig/OmZ1bmN0aW9uXFxifCg/OlxcKFteKCldKlxcKXxbXyRhLXpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKVxccyo9PikpL2ksXG5cdFx0XHRhbGlhczogJ2Z1bmN0aW9uJ1xuXHRcdH0sXG5cdFx0J2NvbnN0YW50JzogL1xcYltBLVpdW0EtWlxcZF9dKlxcYi9cblx0fSk7XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdqYXZhc2NyaXB0JywgJ3N0cmluZycsIHtcblx0XHQndGVtcGxhdGUtc3RyaW5nJzoge1xuXHRcdFx0cGF0dGVybjogL2AoPzpcXFxcW1xcc1xcU118XFwke1tefV0rfXxbXlxcXFxgXSkqYC8sXG5cdFx0XHRncmVlZHk6IHRydWUsXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0J2ludGVycG9sYXRpb24nOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogL1xcJHtbXn1dK30vLFxuXHRcdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdFx0J2ludGVycG9sYXRpb24tcHVuY3R1YXRpb24nOiB7XG5cdFx0XHRcdFx0XHRcdHBhdHRlcm46IC9eXFwke3x9JC8sXG5cdFx0XHRcdFx0XHRcdGFsaWFzOiAncHVuY3R1YXRpb24nXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0cmVzdDogbnVsbCAvLyBTZWUgYmVsb3dcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdzdHJpbmcnOiAvW1xcc1xcU10rL1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cdFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0Wyd0ZW1wbGF0ZS1zdHJpbmcnXS5pbnNpZGVbJ2ludGVycG9sYXRpb24nXS5pbnNpZGUucmVzdCA9IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0O1xuXHRcblx0aWYgKFByaXNtLmxhbmd1YWdlcy5tYXJrdXApIHtcblx0XHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdtYXJrdXAnLCAndGFnJywge1xuXHRcdFx0J3NjcmlwdCc6IHtcblx0XHRcdFx0cGF0dGVybjogLyg8c2NyaXB0W1xcc1xcU10qPz4pW1xcc1xcU10qPyg/PTxcXC9zY3JpcHQ+KS9pLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0LFxuXHRcdFx0XHRhbGlhczogJ2xhbmd1YWdlLWphdmFzY3JpcHQnLFxuXHRcdFx0XHRncmVlZHk6IHRydWVcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmpzID0gUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHQ7XG5cdFxuXHRcblx0LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgICAgIEJlZ2luIHByaXNtLWZpbGUtaGlnaGxpZ2h0LmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdChmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyB8fCAhc2VsZi5QcmlzbSB8fCAhc2VsZi5kb2N1bWVudCB8fCAhZG9jdW1lbnQucXVlcnlTZWxlY3Rvcikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIEV4dGVuc2lvbnMgPSB7XG5cdFx0XHRcdCdqcyc6ICdqYXZhc2NyaXB0Jyxcblx0XHRcdFx0J3B5JzogJ3B5dGhvbicsXG5cdFx0XHRcdCdyYic6ICdydWJ5Jyxcblx0XHRcdFx0J3BzMSc6ICdwb3dlcnNoZWxsJyxcblx0XHRcdFx0J3BzbTEnOiAncG93ZXJzaGVsbCcsXG5cdFx0XHRcdCdzaCc6ICdiYXNoJyxcblx0XHRcdFx0J2JhdCc6ICdiYXRjaCcsXG5cdFx0XHRcdCdoJzogJ2MnLFxuXHRcdFx0XHQndGV4JzogJ2xhdGV4J1xuXHRcdFx0fTtcblx0XG5cdFx0XHRBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwcmVbZGF0YS1zcmNdJykpLmZvckVhY2goZnVuY3Rpb24gKHByZSkge1xuXHRcdFx0XHR2YXIgc3JjID0gcHJlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcblx0XG5cdFx0XHRcdHZhciBsYW5ndWFnZSwgcGFyZW50ID0gcHJlO1xuXHRcdFx0XHR2YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pO1xuXHRcdFx0XHR3aGlsZSAocGFyZW50ICYmICFsYW5nLnRlc3QocGFyZW50LmNsYXNzTmFtZSkpIHtcblx0XHRcdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0XHRcdGxhbmd1YWdlID0gKHByZS5jbGFzc05hbWUubWF0Y2gobGFuZykgfHwgWywgJyddKVsxXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKCFsYW5ndWFnZSkge1xuXHRcdFx0XHRcdHZhciBleHRlbnNpb24gPSAoc3JjLm1hdGNoKC9cXC4oXFx3KykkLykgfHwgWywgJyddKVsxXTtcblx0XHRcdFx0XHRsYW5ndWFnZSA9IEV4dGVuc2lvbnNbZXh0ZW5zaW9uXSB8fCBleHRlbnNpb247XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHZhciBjb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29kZScpO1xuXHRcdFx0XHRjb2RlLmNsYXNzTmFtZSA9ICdsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cdFxuXHRcdFx0XHRwcmUudGV4dENvbnRlbnQgPSAnJztcblx0XG5cdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAnTG9hZGluZ+KApic7XG5cdFxuXHRcdFx0XHRwcmUuYXBwZW5kQ2hpbGQoY29kZSk7XG5cdFxuXHRcdFx0XHR2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFxuXHRcdFx0XHR4aHIub3BlbignR0VUJywgc3JjLCB0cnVlKTtcblx0XG5cdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0aWYgKHhoci5yZWFkeVN0YXRlID09IDQpIHtcblx0XG5cdFx0XHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA8IDQwMCAmJiB4aHIucmVzcG9uc2VUZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSB4aHIucmVzcG9uc2VUZXh0O1xuXHRcblx0XHRcdFx0XHRcdFx0UHJpc20uaGlnaGxpZ2h0RWxlbWVudChjb2RlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgaWYgKHhoci5zdGF0dXMgPj0gNDAwKSB7XG5cdFx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAn4pyWIEVycm9yICcgKyB4aHIuc3RhdHVzICsgJyB3aGlsZSBmZXRjaGluZyBmaWxlOiAnICsgeGhyLnN0YXR1c1RleHQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9ICfinJYgRXJyb3I6IEZpbGUgZG9lcyBub3QgZXhpc3Qgb3IgaXMgZW1wdHknO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XG5cdFx0XHRcdHhoci5zZW5kKG51bGwpO1xuXHRcdFx0fSk7XG5cdFxuXHRcdFx0aWYgKFByaXNtLnBsdWdpbnMudG9vbGJhcikge1xuXHRcdFx0XHRQcmlzbS5wbHVnaW5zLnRvb2xiYXIucmVnaXN0ZXJCdXR0b24oJ2Rvd25sb2FkLWZpbGUnLCBmdW5jdGlvbiAoZW52KSB7XG5cdFx0XHRcdFx0dmFyIHByZSA9IGVudi5lbGVtZW50LnBhcmVudE5vZGU7XG5cdFx0XHRcdFx0aWYgKCFwcmUgfHwgIS9wcmUvaS50ZXN0KHByZS5ub2RlTmFtZSkgfHwgIXByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3JjJykgfHwgIXByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtbGluaycpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciBzcmMgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuXHRcdFx0XHRcdHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHRcdFx0XHRcdGEudGV4dENvbnRlbnQgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLWRvd25sb2FkLWxpbmstbGFiZWwnKSB8fCAnRG93bmxvYWQnO1xuXHRcdFx0XHRcdGEuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICcnKTtcblx0XHRcdFx0XHRhLmhyZWYgPSBzcmM7XG5cdFx0XHRcdFx0cmV0dXJuIGE7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcblx0XHR9O1xuXHRcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgc2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0KTtcblx0XG5cdH0pKCk7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGZyb20gPSBmdW5jdGlvbihvcHRzLCBwbHVnaW5zKSB7XG5cdCAgdmFyIHBhcmVudCA9IChvcHRzLnBhcmVudCB8fCBvcHRzKS5ub2RlVHlwZSA9PT0gMSA/IChvcHRzLnBhcmVudCB8fCBvcHRzKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0cy5wYXJlbnQgfHwgb3B0cyksXG5cdCAgICBzbGlkZXMgPSBbXS5maWx0ZXIuY2FsbCh0eXBlb2Ygb3B0cy5zbGlkZXMgPT09ICdzdHJpbmcnID8gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0cy5zbGlkZXMpIDogKG9wdHMuc2xpZGVzIHx8IHBhcmVudC5jaGlsZHJlbiksIGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbC5ub2RlTmFtZSAhPT0gJ1NDUklQVCc7IH0pLFxuXHQgICAgYWN0aXZlU2xpZGUgPSBzbGlkZXNbMF0sXG5cdCAgICBsaXN0ZW5lcnMgPSB7fSxcblx0XG5cdCAgICBhY3RpdmF0ZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG5cdCAgICAgIGlmICghc2xpZGVzW2luZGV4XSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZmlyZSgnZGVhY3RpdmF0ZScsIGNyZWF0ZUV2ZW50RGF0YShhY3RpdmVTbGlkZSwgY3VzdG9tRGF0YSkpO1xuXHQgICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1tpbmRleF07XG5cdCAgICAgIGZpcmUoJ2FjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIHNsaWRlID0gZnVuY3Rpb24oaW5kZXgsIGN1c3RvbURhdGEpIHtcblx0ICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0ICAgICAgICBmaXJlKCdzbGlkZScsIGNyZWF0ZUV2ZW50RGF0YShzbGlkZXNbaW5kZXhdLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoaW5kZXgsIGN1c3RvbURhdGEpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBzbGlkZXMuaW5kZXhPZihhY3RpdmVTbGlkZSk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgc3RlcCA9IGZ1bmN0aW9uKG9mZnNldCwgY3VzdG9tRGF0YSkge1xuXHQgICAgICB2YXIgc2xpZGVJbmRleCA9IHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKSArIG9mZnNldDtcblx0XG5cdCAgICAgIGZpcmUob2Zmc2V0ID4gMCA/ICduZXh0JyA6ICdwcmV2JywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoc2xpZGVJbmRleCwgY3VzdG9tRGF0YSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIG9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuXHQgICAgICAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgKGxpc3RlbmVyc1tldmVudE5hbWVdID0gW10pKS5wdXNoKGNhbGxiYWNrKTtcblx0ICAgICAgcmV0dXJuIG9mZi5iaW5kKG51bGwsIGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuXHQgICAgfSxcblx0XG5cdCAgICBvZmYgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG5cdCAgICAgIGxpc3RlbmVyc1tldmVudE5hbWVdID0gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24obGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyICE9PSBjYWxsYmFjazsgfSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGZpcmUgPSBmdW5jdGlvbihldmVudE5hbWUsIGV2ZW50RGF0YSkge1xuXHQgICAgICByZXR1cm4gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKVxuXHQgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24obm90Q2FuY2VsbGVkLCBjYWxsYmFjaykge1xuXHQgICAgICAgICAgcmV0dXJuIG5vdENhbmNlbGxlZCAmJiBjYWxsYmFjayhldmVudERhdGEpICE9PSBmYWxzZTtcblx0ICAgICAgICB9LCB0cnVlKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZWwsIGV2ZW50RGF0YSkge1xuXHQgICAgICBldmVudERhdGEgPSBldmVudERhdGEgfHwge307XG5cdCAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlcy5pbmRleE9mKGVsKTtcblx0ICAgICAgZXZlbnREYXRhLnNsaWRlID0gZWw7XG5cdCAgICAgIHJldHVybiBldmVudERhdGE7XG5cdCAgICB9LFxuXHRcblx0ICAgIGRlY2sgPSB7XG5cdCAgICAgIG9uOiBvbixcblx0ICAgICAgb2ZmOiBvZmYsXG5cdCAgICAgIGZpcmU6IGZpcmUsXG5cdCAgICAgIHNsaWRlOiBzbGlkZSxcblx0ICAgICAgbmV4dDogc3RlcC5iaW5kKG51bGwsIDEpLFxuXHQgICAgICBwcmV2OiBzdGVwLmJpbmQobnVsbCwgLTEpLFxuXHQgICAgICBwYXJlbnQ6IHBhcmVudCxcblx0ICAgICAgc2xpZGVzOiBzbGlkZXNcblx0ICAgIH07XG5cdFxuXHQgIChwbHVnaW5zIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuXHQgICAgcGx1Z2luKGRlY2spO1xuXHQgIH0pO1xuXHRcblx0ICBhY3RpdmF0ZSgwKTtcblx0XG5cdCAgcmV0dXJuIGRlY2s7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBmcm9tOiBmcm9tXG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHJlcXVpcmU7dmFyIHJlcXVpcmU7LyohXG5cdCAqIGJlc3Bva2UtdGhlbWUtbmVidWxhIHYxLjAuMVxuXHQgKlxuXHQgKiBDb3B5cmlnaHQgMjAxNCwgTWFyayBEYWxnbGVpc2hcblx0ICogVGhpcyBjb250ZW50IGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuXHQgKiBcblx0ICovXG5cdFxuXHQhZnVuY3Rpb24oZSl7aWYodHJ1ZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKGUpO2Vsc2V7dmFyIG87XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz9vPXdpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP289Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYobz1zZWxmKTt2YXIgZj1vO2Y9Zi5iZXNwb2tlfHwoZi5iZXNwb2tlPXt9KSxmPWYudGhlbWVzfHwoZi50aGVtZXM9e30pLGYubmVidWxhPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIHJlcXVpcmUobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcblx0dmFyIGNsYXNzZXMgPSBfZGVyZXFfKCdiZXNwb2tlLWNsYXNzZXMnKTtcblx0dmFyIGluc2VydENzcyA9IF9kZXJlcV8oJ2luc2VydC1jc3MnKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIGNzcyA9IFwiLyohIG5vcm1hbGl6ZS5jc3MgdjMuMC4wIHwgTUlUIExpY2Vuc2UgfCBnaXQuaW8vbm9ybWFsaXplICovaHRtbHtmb250LWZhbWlseTpzYW5zLXNlcmlmOy1tcy10ZXh0LXNpemUtYWRqdXN0OjEwMCU7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OjEwMCV9Ym9keXttYXJnaW46MH1hcnRpY2xlLGFzaWRlLGRldGFpbHMsZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsbWFpbixuYXYsc2VjdGlvbixzdW1tYXJ5e2Rpc3BsYXk6YmxvY2t9YXVkaW8sY2FudmFzLHByb2dyZXNzLHZpZGVve2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfWF1ZGlvOm5vdChbY29udHJvbHNdKXtkaXNwbGF5Om5vbmU7aGVpZ2h0OjB9W2hpZGRlbl0sdGVtcGxhdGV7ZGlzcGxheTpub25lfWF7YmFja2dyb3VuZDowIDB9YTphY3RpdmUsYTpob3ZlcntvdXRsaW5lOjB9YWJiclt0aXRsZV17Ym9yZGVyLWJvdHRvbToxcHggZG90dGVkfWJ7Zm9udC13ZWlnaHQ6NzAwfWRmbntmb250LXN0eWxlOml0YWxpY31oMXtmb250LXNpemU6MmVtfW1hcmt7YmFja2dyb3VuZDojZmYwO2NvbG9yOiMwMDB9c21hbGx7Zm9udC1zaXplOjgwJX1zdWIsc3Vwe2ZvbnQtc2l6ZTo3NSU7bGluZS1oZWlnaHQ6MDtwb3NpdGlvbjpyZWxhdGl2ZTt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX1zdXB7dG9wOi0uNWVtfXN1Yntib3R0b206LS4yNWVtfWltZ3tib3JkZXI6MH1zdmc6bm90KDpyb290KXtvdmVyZmxvdzpoaWRkZW59ZmlndXJle21hcmdpbjoxZW0gNDBweH1ocntib3gtc2l6aW5nOmNvbnRlbnQtYm94fXByZXtvdmVyZmxvdzphdXRvfWNvZGUsa2JkLHByZSxzYW1we2ZvbnQtc2l6ZToxZW19a2JkLHByZSxzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZSxtb25vc3BhY2V9YnV0dG9uLGlucHV0LG9wdGdyb3VwLHNlbGVjdCx0ZXh0YXJlYXtjb2xvcjppbmhlcml0O2ZvbnQ6aW5oZXJpdDttYXJnaW46MH1idXR0b257b3ZlcmZsb3c6dmlzaWJsZX1idXR0b24sc2VsZWN0e3RleHQtdHJhbnNmb3JtOm5vbmV9YnV0dG9uLGh0bWwgaW5wdXRbdHlwZT1cXFwiYnV0dG9uXFxcIl0saW5wdXRbdHlwZT1cXFwicmVzZXRcXFwiXSxpbnB1dFt0eXBlPVxcXCJzdWJtaXRcXFwiXXstd2Via2l0LWFwcGVhcmFuY2U6YnV0dG9uO2N1cnNvcjpwb2ludGVyfWJ1dHRvbltkaXNhYmxlZF0saHRtbCBpbnB1dFtkaXNhYmxlZF17Y3Vyc29yOmRlZmF1bHR9YnV0dG9uOjotbW96LWZvY3VzLWlubmVyLGlucHV0OjotbW96LWZvY3VzLWlubmVye2JvcmRlcjowO3BhZGRpbmc6MH1pbnB1dHtsaW5lLWhlaWdodDpub3JtYWx9aW5wdXRbdHlwZT1cXFwiY2hlY2tib3hcXFwiXSxpbnB1dFt0eXBlPVxcXCJyYWRpb1xcXCJde2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjB9aW5wdXRbdHlwZT1cXFwibnVtYmVyXFxcIl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24saW5wdXRbdHlwZT1cXFwibnVtYmVyXFxcIl06Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b257aGVpZ2h0OmF1dG99aW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl17LXdlYmtpdC1hcHBlYXJhbmNlOnRleHRmaWVsZDtib3gtc2l6aW5nOmNvbnRlbnQtYm94fWlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uLGlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uey13ZWJraXQtYXBwZWFyYW5jZTpub25lfWZpZWxkc2V0e2JvcmRlcjoxcHggc29saWQgc2lsdmVyO21hcmdpbjowIDJweDtwYWRkaW5nOi4zNWVtIC42MjVlbSAuNzVlbX1sZWdlbmR7Ym9yZGVyOjA7cGFkZGluZzowfXRleHRhcmVhe292ZXJmbG93OmF1dG99b3B0Z3JvdXB7Zm9udC13ZWlnaHQ6NzAwfXRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowfXRkLHRoLCp7cGFkZGluZzowfSp7bWFyZ2luOjB9aHRtbHstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6YXV0bzstbXMtdGV4dC1zaXplLWFkanVzdDphdXRvO3RleHQtc2l6ZS1hZGp1c3Q6YXV0b30uYmVzcG9rZS1wYXJlbnR7Zm9udC1zaXplOjEuNWVtO2JhY2tncm91bmQ6IzExMTtjb2xvcjojZGRkO2ZvbnQtZmFtaWx5OmZ1dHVyYSxoZWx2ZXRpY2EsYXJpYWwsYXJpYWwsc2Fucy1zZXJpZjtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpjZW50ZXI7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQgMXMgZWFzZTt0cmFuc2l0aW9uOmJhY2tncm91bmQgMXMgZWFzZTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCV9LmJlc3Bva2UtcGFyZW50LC5iZXNwb2tlLXNjYWxlLXBhcmVudHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uYmVzcG9rZS1zY2FsZS1wYXJlbnR7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OjF9LmJlc3Bva2Utc2NhbGUtcGFyZW50IC5iZXNwb2tlLWFjdGl2ZXtwb2ludGVyLWV2ZW50czphdXRvfS5iZXNwb2tlLXNsaWRley13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC41cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuNXMgZWFzZTt3aWR0aDo5NDBweDtoZWlnaHQ6NDgwcHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTttYXJnaW4tbGVmdDotNDcwcHg7bWFyZ2luLXRvcDotMjQwcHg7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi13ZWJraXQtZmxleDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDstd2Via2l0LWZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstd2Via2l0LWp1c3RpZnktY29udGVudDpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjt6LWluZGV4OjF9LmJlc3Bva2UtYWN0aXZley13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouNXM7dHJhbnNpdGlvbi1kZWxheTouNXN9LmJlc3Bva2UtYWN0aXZlW2RhdGEtYmVzcG9rZS1iYWNrZHJvcF17LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi43NXM7dHJhbnNpdGlvbi1kZWxheTouNzVzfS5iZXNwb2tlLWluYWN0aXZle29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lfS5iZXNwb2tlLWJhY2tkcm9wey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2U7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjB9LmJlc3Bva2UtcHJvZ3Jlc3MtcGFyZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2hlaWdodDouM3Z3O3otaW5kZXg6MX0uYmVzcG9rZS1wcm9ncmVzcy1iYXJ7YmFja2dyb3VuZDojZGRkO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtoZWlnaHQ6MTAwJTstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMXMgZWFzZTt0cmFuc2l0aW9uOndpZHRoIDFzIGVhc2V9LmJlc3Bva2UtYnVsbGV0ey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuM3MgZWFzZX0uYmVzcG9rZS1idWxsZXQtaW5hY3RpdmV7b3BhY2l0eTowfXN0cm9uZ3tmb250LXdlaWdodDo0MDB9aHJ7d2lkdGg6NTAlO21hcmdpbjoxcmVtIGF1dG87aGVpZ2h0OjFweDtib3JkZXI6MDtiYWNrZ3JvdW5kOiNkZGR9aDMscCxsaXtwYWRkaW5nLWxlZnQ6MjBweDtwYWRkaW5nLXJpZ2h0OjIwcHh9aDMsaDQscCxsaSxwcmV7Zm9udC13ZWlnaHQ6MjAwfWgxe2xpbmUtaGVpZ2h0OjEuNGVtO3BhZGRpbmc6MWVtO2JvcmRlcjoxcHggc29saWQgI2RkZDtib3JkZXItbGVmdC13aWR0aDowO2JvcmRlci1yaWdodC13aWR0aDowO21pbi13aWR0aDo4ZW19aDEsaDJ7bGV0dGVyLXNwYWNpbmc6LjNlbTt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC13ZWlnaHQ6NDAwO21hcmdpbjouMTdlbSAwO3Bvc2l0aW9uOnJlbGF0aXZlfWgye2xpbmUtaGVpZ2h0OjEuMWVtO3BhZGRpbmc6MCAwIDAgLjNlbX1oM3tmb250LWZhbWlseTpkaWRvdCx0aW1lcyBuZXcgcm9tYW4sc2VyaWY7Zm9udC1zdHlsZTppdGFsaWM7Zm9udC1zaXplOjEuMmVtO2xpbmUtaGVpZ2h0OjEuNmVtO21hcmdpbjouNWVtIDB9aDR7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO2ZvbnQtc2l6ZTouOGVtO2xpbmUtaGVpZ2h0OjEuOGVtO2xldHRlci1zcGFjaW5nOi4zZW07bWFyZ2luOjFlbSAwfXVsLG9se3BhZGRpbmc6MDttYXJnaW46MDt0ZXh0LWFsaWduOmxlZnR9bGl7bGlzdC1zdHlsZTpub25lO21hcmdpbjouMmVtO2ZvbnQtc3R5bGU6bm9ybWFsOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpfWxpOmJlZm9yZXtjb250ZW50OidcXFxcMjAxNCc7bWFyZ2luLXJpZ2h0OjRweH1wcmV7YmFja2dyb3VuZDpub25lIWltcG9ydGFudH1jb2Rle2ZvbnQtZmFtaWx5OnByZXN0aWdlIGVsaXRlIHN0ZCxjb25zb2xhcyxjb3VyaWVyIG5ldyxtb25vc3BhY2UhaW1wb3J0YW50O2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0OjIwMCFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpsZWZ0fWF7cGFkZGluZy1sZWZ0Oi4zZW07Y29sb3I6Y3VycmVudENvbG9yO3RleHQtZGVjb3JhdGlvbjpub25lO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGN1cnJlbnRDb2xvcn0uZW1waGF0aWN7YmFja2dyb3VuZDojZjMwfS5zaW5nbGUtd29yZHN7d29yZC1zcGFjaW5nOjk5OTlweDtsaW5lLWhlaWdodDoyLjllbTtvdmVyZmxvdzpoaWRkZW59LmJlc3Bva2UtYmFja2Ryb3B7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gNnMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZSx0cmFuc2Zvcm0gNnMgZWFzZTtiYWNrZ3JvdW5kLXNpemU6Y292ZXI7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUgNTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMClzY2FsZSgxLjMpO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApc2NhbGUoMS4zKX0uYmVzcG9rZS1iYWNrZHJvcC1hY3RpdmUsLmJlc3Bva2UtYmFja2Ryb3AtYmVmb3Jley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9LmJlc3Bva2UtYmFja2Ryb3AtYmVmb3Jley13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouMnM7dHJhbnNpdGlvbi1kZWxheTouMnN9LmJlc3Bva2UtYmFja2Ryb3AtYWN0aXZle29wYWNpdHk6LjV9XCI7XG5cdCAgaW5zZXJ0Q3NzKGNzcywgeyBwcmVwZW5kOiB0cnVlIH0pO1xuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgY2xhc3NlcygpKGRlY2spO1xuXHQgIH07XG5cdH07XG5cdFxuXHR9LHtcImJlc3Bva2UtY2xhc3Nlc1wiOjIsXCJpbnNlcnQtY3NzXCI6M31dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbihlbCwgY2xzKSB7XG5cdCAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS0nICsgY2xzKTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIHJlbW92ZUNsYXNzID0gZnVuY3Rpb24oZWwsIGNscykge1xuXHQgICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZVxuXHQgICAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cCgnYmVzcG9rZS0nICsgY2xzICsnKFxcXFxzfCQpJywgJ2cnKSwgJyAnKVxuXHQgICAgICAgICAgLnRyaW0oKTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGRlYWN0aXZhdGUgPSBmdW5jdGlvbihlbCwgaW5kZXgpIHtcblx0ICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSBkZWNrLnNsaWRlc1tkZWNrLnNsaWRlKCldLFxuXHQgICAgICAgICAgb2Zmc2V0ID0gaW5kZXggLSBkZWNrLnNsaWRlKCksXG5cdCAgICAgICAgICBvZmZzZXRDbGFzcyA9IG9mZnNldCA+IDAgPyAnYWZ0ZXInIDogJ2JlZm9yZSc7XG5cdFxuXHQgICAgICAgIFsnYmVmb3JlKC1cXFxcZCspPycsICdhZnRlcigtXFxcXGQrKT8nLCAnYWN0aXZlJywgJ2luYWN0aXZlJ10ubWFwKHJlbW92ZUNsYXNzLmJpbmQobnVsbCwgZWwpKTtcblx0XG5cdCAgICAgICAgaWYgKGVsICE9PSBhY3RpdmVTbGlkZSkge1xuXHQgICAgICAgICAgWydpbmFjdGl2ZScsIG9mZnNldENsYXNzLCBvZmZzZXRDbGFzcyArICctJyArIE1hdGguYWJzKG9mZnNldCldLm1hcChhZGRDbGFzcy5iaW5kKG51bGwsIGVsKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHRcblx0ICAgIGFkZENsYXNzKGRlY2sucGFyZW50LCAncGFyZW50Jyk7XG5cdCAgICBkZWNrLnNsaWRlcy5tYXAoZnVuY3Rpb24oZWwpIHsgYWRkQ2xhc3MoZWwsICdzbGlkZScpOyB9KTtcblx0XG5cdCAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgZGVjay5zbGlkZXMubWFwKGRlYWN0aXZhdGUpO1xuXHQgICAgICBhZGRDbGFzcyhlLnNsaWRlLCAnYWN0aXZlJyk7XG5cdCAgICAgIHJlbW92ZUNsYXNzKGUuc2xpZGUsICdpbmFjdGl2ZScpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblx0XG5cdH0se31dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHR2YXIgaW5zZXJ0ZWQgPSB7fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcywgb3B0aW9ucykge1xuXHQgICAgaWYgKGluc2VydGVkW2Nzc10pIHJldHVybjtcblx0ICAgIGluc2VydGVkW2Nzc10gPSB0cnVlO1xuXHQgICAgXG5cdCAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cdCAgICBlbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuXHRcblx0ICAgIGlmICgndGV4dENvbnRlbnQnIGluIGVsZW0pIHtcblx0ICAgICAgZWxlbS50ZXh0Q29udGVudCA9IGNzcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsZW0uc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHQgICAgfVxuXHQgICAgXG5cdCAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG5cdCAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnByZXBlbmQpIHtcblx0ICAgICAgICBoZWFkLmluc2VydEJlZm9yZShlbGVtLCBoZWFkLmNoaWxkTm9kZXNbMF0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVsZW0pO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0fSx7fV19LHt9LFsxXSlcblx0KDEpXG5cdH0pO1xuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGlzSG9yaXpvbnRhbCA9IG9wdGlvbnMgIT09ICd2ZXJ0aWNhbCc7XG5cdFxuXHQgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgaWYgKGUud2hpY2ggPT0gMzQgfHwgLy8gUEFHRSBET1dOXG5cdCAgICAgICAgKGUud2hpY2ggPT0gMzIgJiYgIWUuc2hpZnRLZXkpIHx8IC8vIFNQQUNFIFdJVEhPVVQgU0hJRlRcblx0ICAgICAgICAoaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzkpIHx8IC8vIFJJR0hUXG5cdCAgICAgICAgKCFpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSA0MCkgLy8gRE9XTlxuXHQgICAgICApIHsgZGVjay5uZXh0KCk7IH1cblx0XG5cdCAgICAgIGlmIChlLndoaWNoID09IDMzIHx8IC8vIFBBR0UgVVBcblx0ICAgICAgICAoZS53aGljaCA9PSAzMiAmJiBlLnNoaWZ0S2V5KSB8fCAvLyBTUEFDRSArIFNISUZUXG5cdCAgICAgICAgKGlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM3KSB8fCAvLyBMRUZUXG5cdCAgICAgICAgKCFpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzOCkgLy8gVVBcblx0ICAgICAgKSB7IGRlY2sucHJldigpOyB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYXhpcyA9IG9wdGlvbnMgPT0gJ3ZlcnRpY2FsJyA/ICdZJyA6ICdYJyxcblx0ICAgICAgc3RhcnRQb3NpdGlvbixcblx0ICAgICAgZGVsdGE7XG5cdFxuXHQgICAgZGVjay5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuXHQgICAgICAgIHN0YXJ0UG9zaXRpb24gPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc107XG5cdCAgICAgICAgZGVsdGEgPSAwO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHtcblx0ICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgZGVsdGEgPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc10gLSBzdGFydFBvc2l0aW9uO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uKCkge1xuXHQgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gNTApIHtcblx0ICAgICAgICBkZWNrW2RlbHRhID4gMCA/ICdwcmV2JyA6ICduZXh0J10oKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGFjdGl2ZVNsaWRlSW5kZXgsXG5cdCAgICAgIGFjdGl2ZUJ1bGxldEluZGV4LFxuXHRcblx0ICAgICAgYnVsbGV0cyA9IGRlY2suc2xpZGVzLm1hcChmdW5jdGlvbihzbGlkZSkge1xuXHQgICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/IG9wdGlvbnMgOiAnW2RhdGEtYmVzcG9rZS1idWxsZXRdJykpLCAwKTtcblx0ICAgICAgfSksXG5cdFxuXHQgICAgICBuZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIG5leHRTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCArIDE7XG5cdFxuXHQgICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KDEpKSB7XG5cdCAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChhY3RpdmVTbGlkZUluZGV4LCBhY3RpdmVCdWxsZXRJbmRleCArIDEpO1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1tuZXh0U2xpZGVJbmRleF0pIHtcblx0ICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KG5leHRTbGlkZUluZGV4LCAwKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICBwcmV2ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHByZXZTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCAtIDE7XG5cdFxuXHQgICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KC0xKSkge1xuXHQgICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggLSAxKTtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ1bGxldHNbcHJldlNsaWRlSW5kZXhdKSB7XG5cdCAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChwcmV2U2xpZGVJbmRleCwgYnVsbGV0c1twcmV2U2xpZGVJbmRleF0ubGVuZ3RoIC0gMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LFxuXHRcblx0ICAgICAgYWN0aXZhdGVCdWxsZXQgPSBmdW5jdGlvbihzbGlkZUluZGV4LCBidWxsZXRJbmRleCkge1xuXHQgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBzbGlkZUluZGV4O1xuXHQgICAgICAgIGFjdGl2ZUJ1bGxldEluZGV4ID0gYnVsbGV0SW5kZXg7XG5cdFxuXHQgICAgICAgIGJ1bGxldHMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSwgcykge1xuXHQgICAgICAgICAgc2xpZGUuZm9yRWFjaChmdW5jdGlvbihidWxsZXQsIGIpIHtcblx0ICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0Jyk7XG5cdFxuXHQgICAgICAgICAgICBpZiAocyA8IHNsaWRlSW5kZXggfHwgcyA9PT0gc2xpZGVJbmRleCAmJiBiIDw9IGJ1bGxldEluZGV4KSB7XG5cdCAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0LWFjdGl2ZScpO1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZScpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZScpO1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1hY3RpdmUnKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHMgPT09IHNsaWRlSW5kZXggJiYgYiA9PT0gYnVsbGV0SW5kZXgpIHtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtY3VycmVudCcpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1jdXJyZW50Jyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCA9IGZ1bmN0aW9uKG9mZnNldCkge1xuXHQgICAgICAgIHJldHVybiBidWxsZXRzW2FjdGl2ZVNsaWRlSW5kZXhdW2FjdGl2ZUJ1bGxldEluZGV4ICsgb2Zmc2V0XSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgICB9O1xuXHRcblx0ICAgIGRlY2sub24oJ25leHQnLCBuZXh0KTtcblx0ICAgIGRlY2sub24oJ3ByZXYnLCBwcmV2KTtcblx0XG5cdCAgICBkZWNrLm9uKCdzbGlkZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgYWN0aXZhdGVCdWxsZXQoZS5pbmRleCwgMCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBhY3RpdmF0ZUJ1bGxldCgwLCAwKTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBiYWNrZHJvcHM7XG5cdFxuXHQgICAgZnVuY3Rpb24gY3JlYXRlQmFja2Ryb3BGb3JTbGlkZShzbGlkZSkge1xuXHQgICAgICB2YXIgYmFja2Ryb3BBdHRyaWJ1dGUgPSBzbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1iYWNrZHJvcCcpO1xuXHRcblx0ICAgICAgaWYgKGJhY2tkcm9wQXR0cmlidXRlKSB7XG5cdCAgICAgICAgdmFyIGJhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICAgICAgYmFja2Ryb3AuY2xhc3NOYW1lID0gYmFja2Ryb3BBdHRyaWJ1dGU7XG5cdCAgICAgICAgYmFja2Ryb3AuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1iYWNrZHJvcCcpO1xuXHQgICAgICAgIGRlY2sucGFyZW50LmFwcGVuZENoaWxkKGJhY2tkcm9wKTtcblx0ICAgICAgICByZXR1cm4gYmFja2Ryb3A7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiB1cGRhdGVDbGFzc2VzKGVsKSB7XG5cdCAgICAgIGlmIChlbCkge1xuXHQgICAgICAgIHZhciBpbmRleCA9IGJhY2tkcm9wcy5pbmRleE9mKGVsKSxcblx0ICAgICAgICAgIGN1cnJlbnRJbmRleCA9IGRlY2suc2xpZGUoKTtcblx0XG5cdCAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdhY3RpdmUnKTtcblx0ICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2luYWN0aXZlJyk7XG5cdCAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdiZWZvcmUnKTtcblx0ICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2FmdGVyJyk7XG5cdFxuXHQgICAgICAgIGlmIChpbmRleCAhPT0gY3VycmVudEluZGV4KSB7XG5cdCAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2luYWN0aXZlJyk7XG5cdCAgICAgICAgICBhZGRDbGFzcyhlbCwgaW5kZXggPCBjdXJyZW50SW5kZXggPyAnYmVmb3JlJyA6ICdhZnRlcicpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2FjdGl2ZScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpIHtcblx0ICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1iYWNrZHJvcC0nICsgY2xhc3NOYW1lKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG5cdCAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYmFja2Ryb3AtJyArIGNsYXNzTmFtZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgYmFja2Ryb3BzID0gZGVjay5zbGlkZXNcblx0ICAgICAgLm1hcChjcmVhdGVCYWNrZHJvcEZvclNsaWRlKTtcblx0XG5cdCAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKCkge1xuXHQgICAgICBiYWNrZHJvcHMuZm9yRWFjaCh1cGRhdGVDbGFzc2VzKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBwYXJlbnQgPSBkZWNrLnBhcmVudCxcblx0ICAgICAgZmlyc3RTbGlkZSA9IGRlY2suc2xpZGVzWzBdLFxuXHQgICAgICBzbGlkZUhlaWdodCA9IGZpcnN0U2xpZGUub2Zmc2V0SGVpZ2h0LFxuXHQgICAgICBzbGlkZVdpZHRoID0gZmlyc3RTbGlkZS5vZmZzZXRXaWR0aCxcblx0ICAgICAgdXNlWm9vbSA9IG9wdGlvbnMgPT09ICd6b29tJyB8fCAoJ3pvb20nIGluIHBhcmVudC5zdHlsZSAmJiBvcHRpb25zICE9PSAndHJhbnNmb3JtJyksXG5cdFxuXHQgICAgICB3cmFwID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXHQgICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSAnYmVzcG9rZS1zY2FsZS1wYXJlbnQnO1xuXHQgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWxlbWVudCk7XG5cdCAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcblx0ICAgICAgICByZXR1cm4gd3JhcHBlcjtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGVsZW1lbnRzID0gdXNlWm9vbSA/IGRlY2suc2xpZGVzIDogZGVjay5zbGlkZXMubWFwKHdyYXApLFxuXHRcblx0ICAgICAgdHJhbnNmb3JtUHJvcGVydHkgPSAoZnVuY3Rpb24ocHJvcGVydHkpIHtcblx0ICAgICAgICB2YXIgcHJlZml4ZXMgPSAnTW96IFdlYmtpdCBPIG1zJy5zcGxpdCgnICcpO1xuXHQgICAgICAgIHJldHVybiBwcmVmaXhlcy5yZWR1Y2UoZnVuY3Rpb24oY3VycmVudFByb3BlcnR5LCBwcmVmaXgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArIHByb3BlcnR5IGluIHBhcmVudC5zdHlsZSA/IHByZWZpeCArIHByb3BlcnR5IDogY3VycmVudFByb3BlcnR5O1xuXHQgICAgICAgICAgfSwgcHJvcGVydHkudG9Mb3dlckNhc2UoKSk7XG5cdCAgICAgIH0oJ1RyYW5zZm9ybScpKSxcblx0XG5cdCAgICAgIHNjYWxlID0gdXNlWm9vbSA/XG5cdCAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcblx0ICAgICAgICAgIGVsZW1lbnQuc3R5bGUuem9vbSA9IHJhdGlvO1xuXHQgICAgICAgIH0gOlxuXHQgICAgICAgIGZ1bmN0aW9uKHJhdGlvLCBlbGVtZW50KSB7XG5cdCAgICAgICAgICBlbGVtZW50LnN0eWxlW3RyYW5zZm9ybVByb3BlcnR5XSA9ICdzY2FsZSgnICsgcmF0aW8gKyAnKSc7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgIHNjYWxlQWxsID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHhTY2FsZSA9IHBhcmVudC5vZmZzZXRXaWR0aCAvIHNsaWRlV2lkdGgsXG5cdCAgICAgICAgICB5U2NhbGUgPSBwYXJlbnQub2Zmc2V0SGVpZ2h0IC8gc2xpZGVIZWlnaHQ7XG5cdFxuXHQgICAgICAgIGVsZW1lbnRzLmZvckVhY2goc2NhbGUuYmluZChudWxsLCBNYXRoLm1pbih4U2NhbGUsIHlTY2FsZSkpKTtcblx0ICAgICAgfTtcblx0XG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2NhbGVBbGwpO1xuXHQgICAgc2NhbGVBbGwoKTtcblx0ICB9O1xuXHRcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYWN0aXZhdGVTbGlkZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cdCAgICAgIHZhciBpbmRleFRvQWN0aXZhdGUgPSAtMSA8IGluZGV4ICYmIGluZGV4IDwgZGVjay5zbGlkZXMubGVuZ3RoID8gaW5kZXggOiAwO1xuXHQgICAgICBpZiAoaW5kZXhUb0FjdGl2YXRlICE9PSBkZWNrLnNsaWRlKCkpIHtcblx0ICAgICAgICBkZWNrLnNsaWRlKGluZGV4VG9BY3RpdmF0ZSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIHBhcnNlSGFzaCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLFxuXHQgICAgICAgIHNsaWRlTnVtYmVyT3JOYW1lID0gcGFyc2VJbnQoaGFzaCwgMTApO1xuXHRcblx0ICAgICAgaWYgKGhhc2gpIHtcblx0ICAgICAgICBpZiAoc2xpZGVOdW1iZXJPck5hbWUpIHtcblx0ICAgICAgICAgIGFjdGl2YXRlU2xpZGUoc2xpZGVOdW1iZXJPck5hbWUgLSAxKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZGVjay5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSwgaSkge1xuXHQgICAgICAgICAgICBpZiAoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtaGFzaCcpID09PSBoYXNoIHx8IHNsaWRlLmlkID09PSBoYXNoKSB7XG5cdCAgICAgICAgICAgICAgYWN0aXZhdGVTbGlkZShpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgIHBhcnNlSGFzaCgpO1xuXHRcblx0ICAgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgdmFyIHNsaWRlTmFtZSA9IGUuc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtaGFzaCcpIHx8IGUuc2xpZGUuaWQ7XG5cdCAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBzbGlkZU5hbWUgfHwgZS5pbmRleCArIDE7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBwYXJzZUhhc2gpO1xuXHQgICAgfSwgMCk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChkZWNrKSB7XG5cdCAgICB2YXIgcHJvZ3Jlc3NQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0ICAgICAgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0ICAgICAgcHJvcCA9IG9wdGlvbnMgPT09ICd2ZXJ0aWNhbCcgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cdFxuXHQgICAgcHJvZ3Jlc3NQYXJlbnQuY2xhc3NOYW1lID0gJ2Jlc3Bva2UtcHJvZ3Jlc3MtcGFyZW50Jztcblx0ICAgIHByb2dyZXNzQmFyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXByb2dyZXNzLWJhcic7XG5cdCAgICBwcm9ncmVzc1BhcmVudC5hcHBlbmRDaGlsZChwcm9ncmVzc0Jhcik7XG5cdCAgICBkZWNrLnBhcmVudC5hcHBlbmRDaGlsZChwcm9ncmVzc1BhcmVudCk7XG5cdFxuXHQgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIHByb2dyZXNzQmFyLnN0eWxlW3Byb3BdID0gKGUuaW5kZXggKiAxMDAgLyAoZGVjay5zbGlkZXMubGVuZ3RoIC0gMSkpICsgJyUnO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LypnbG9iYWwgbW9kdWxlOnRydWUsIHJlcXVpcmU6dHJ1ZSAqL1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgcGx1Z2luTmFtZSA9IFwiaW5kZXhmaW5nZXJcIixcblx0ICAgIC8vIEhhY2sgdG8gZ2V0IGFyb3VuZCBoYXZpbmcgdG8gd3JpdGUgYWxsIGJyb3dzZXIgY29kZSB3aXRoIHJlcXVpcmUoKS5cblx0ICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuXHQgICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcblx0ICAgIH0oRnVuY3Rpb24pKSxcblx0ICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSksXG5cdCAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblx0XG5cdCAgICBwbHVnaW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIGRlY2tlciA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGN2Qm91bmRUb0RlY2sgPSBjdi5hY3RpdmF0ZURlY2soZGVjayksXG5cdFxuXHQgICAgICAgICAgICAgICAgb2ZmID0ge30sXG5cdFxuXHQgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBudWxsLFxuXHRcblx0ICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSAtMSxcblx0XG5cdCAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcyA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuXHQgICAgICAgICAgICAgICAgICAgIGVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvZmYuc2F2ZUFjdGl2ZVNsaWRlID0gdGhpcy5vbihcImFjdGl2YXRlXCIsIHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLnNhdmVBY3RpdmVTbGlkZS5iaW5kKHRoaXMpKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBzYXZlQWN0aXZlU2xpZGU6IGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBlLnNsaWRlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gZS5pbmRleDtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTbGlkZTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZUluZGV4OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVNsaWRlSW5kZXg7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVjay5nZXRBY3RpdmVTbGlkZSA9IHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLmdldEFjdGl2ZVNsaWRlLmJpbmQoZGVjayk7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVjay5nZXRBY3RpdmVTbGlkZUluZGV4ID0gdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuZ2V0QWN0aXZlU2xpZGVJbmRleC5iaW5kKGRlY2spO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBlbmFibGUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5lbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyLmNhbGwoZGVjayk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgZW5hYmxlKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgaW5pdCgpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHJldHVybiBkZWNrZXI7XG5cdCAgICB9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBwbHVnaW47XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qZ2xvYmFsIG1vZHVsZTp0cnVlLCBjb25zb2xlOnRydWUgKi9cblx0XG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIHBsdWdpbk5hbWUgPSBcImNvbnZlbmllbnRcIixcblx0ICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuXHQgICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcblx0ICAgIH0oRnVuY3Rpb24pKSxcblx0XG5cdCAgICBjdixcblx0XG5cdCAgICAvLyBUaGUgZGVmYXVsdHMgb2JqZWN0IGlzIHBhc3NlZCBhcyBhIHJlZmVyZW5jZSwgYW5kIGNhbiBiZSBtb2RpZmllZCBieSBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRJbml0XG5cdCAgICBkZWZhdWx0cyA9IHtcblx0ICAgICAgICBsb2dnZXI6IHtcblx0ICAgICAgICAgICAgbG9nOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIHBoYW50b20tcG9seWZpbGwuanMgcHJvYmxlbXMgYmluZGluZyBjb25zb2xlLmxvZyAod2luZG93LmNvbnNvbGUubG9nKVxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgaW5pdE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgbWVyZ2VkID0ge307XG5cdFxuXHQgICAgICAgIC8vIE9ubHkgbWVyZ2Uga25vd24gb3B0aW9uc1xuXHQgICAgICAgIG1lcmdlZC5sb2dnZXIgPSB7fTtcblx0ICAgICAgICBtZXJnZWQubG9nZ2VyLmxvZyA9IChicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zICYmIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyICYmIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZykgfHwgZGVmYXVsdHMubG9nZ2VyLmxvZztcblx0XG5cdCAgICAgICAgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucyA9IG1lcmdlZDtcblx0ICAgIH0sXG5cdFxuXHQgICAgcGx1Z2luID0ge30sXG5cdFxuXHQgICAgZGVja3NTdG9yYWdlcyA9IFtdLFxuXHRcblx0ICAgIGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgIGlmICghZGVjaykge1xuXHQgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGRlY2tBbHJlYWR5U3RvcmVkID0gZGVja3NTdG9yYWdlcy5zb21lKGZ1bmN0aW9uKGRlY2tTdG9yYWdlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBkZWNrU3RvcmFnZS5kZWNrID09PSBkZWNrO1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gZGVja0FscmVhZHlTdG9yZWQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHN0b3JlRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICB2YXIgZGVja0FscmVhZHlTdG9yZWQgPSBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayhkZWNrKTtcblx0XG5cdCAgICAgICAgaWYgKCFkZWNrQWxyZWFkeVN0b3JlZCkge1xuXHQgICAgICAgICAgICBkZWNrc1N0b3JhZ2VzLnB1c2goe1xuXHQgICAgICAgICAgICAgICAgZGVjazogZGVjayxcblx0ICAgICAgICAgICAgICAgIHN0b3JhZ2U6IHt9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2tBbmRQbHVnaW4gPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG5cdCAgICAgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG5cdCAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJwbHVnaW5OYW1lIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoIWRlY2spIHtcblx0ICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spLFxuXHQgICAgICAgICAgICBpc1N0b3JhZ2VJbml0aWF0ZWQgPSAhIShzdG9yYWdlICYmIHN0b3JhZ2VbcGx1Z2luTmFtZV0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gaXNTdG9yYWdlSW5pdGlhdGVkO1xuXHQgICAgfSxcblx0XG5cdCAgICBpbml0aWF0ZURlY2tQbHVnaW5TdG9yYWdlID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuXHQgICAgICAgIGlmICghcGx1Z2luTmFtZSkge1xuXHQgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCFkZWNrKSB7XG5cdCAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcblx0XG5cdCAgICAgICAgaWYgKCFzdG9yYWdlKSB7XG5cdCAgICAgICAgICAgIHN0b3JlRGVjayhkZWNrKTtcblx0ICAgICAgICAgICAgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHN0b3JhZ2VbcGx1Z2luTmFtZV0gPSB7fTtcblx0ICAgIH0sXG5cdFxuXHQgICAgaXNOdW1iZXIgPSBmdW5jdGlvbihuKSB7XG5cdCAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODA4Mi92YWxpZGF0ZS1udW1iZXJzLWluLWphdmFzY3JpcHQtaXNudW1lcmljXG5cdCAgICAgICAgLy8gRnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xODMwODQ0XG5cdCAgICAgICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGluaXRPcHRpb25zKCk7XG5cdCAgICB9O1xuXHRcblx0Ly8gRm9yIHBsdWdpbnMgdGhlbXNlbHZlc1xuXHRwbHVnaW4uYnVpbGRlciA9IGZ1bmN0aW9uIHNlbGYob3B0aW9ucykge1xuXHQgICAgaWYgKCFvcHRpb25zKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSBwbHVnaW4gb3B0aW9ucyB3ZXJlIG5vdCBwcm9wZXJseSBkZWZpbmVkLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcblx0ICAgICAgICBvcHRpb25zID0ge1xuXHQgICAgICAgICAgICBwbHVnaW5OYW1lOiBvcHRpb25zXG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIG9wdGlvbnMucGx1Z2luTmFtZSAhPT0gXCJzdHJpbmdcIikge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgcGx1Z2luIG5hbWUgd2FzIG5vdCBwcm9wZXJseSBkZWZpbmVkLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZXh0ZXJuYWwgPSB7fSxcblx0XG5cdCAgICAgICAgdGFnID0gXCJiZXNwb2tlLlwiICsgb3B0aW9ucy5wbHVnaW5OYW1lLFxuXHRcblx0ICAgICAgICBnZW5lcmF0ZUVycm9yT2JqZWN0ID0gZnVuY3Rpb24obWVzc2FnZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRhZyArIFwiOiBcIiArIG1lc3NhZ2UpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGV2ZW50TmFtZXNwYWNlID0gb3B0aW9ucy5wbHVnaW5OYW1lLFxuXHRcblx0ICAgICAgICBldmVudEluTmFtZXNwYWNlID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBldmVudE5hbWVzcGFjZSArIFwiLlwiICsgZXZlbnROYW1lO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG5cdCAgICAgICAgLy8gTWltaWNpbmcsIGFuZCBleHRlbmRpbmcsdGhlIGludGVybmFsIGNyZWF0ZUV2ZW50RGF0YSBiZXNwb2tlIHVzZXNcblx0ICAgICAgICBjcmVhdGVFdmVudERhdGEgPSBmdW5jdGlvbihkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKSB7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBwbHVnaW4uY3JlYXRlRXZlbnREYXRhLmNhbGwoZGVjaywgZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIC8vIFRPRE86IGNyZWF0ZSBhIHNlY29uZCBvYmplY3QgYm91bmQgdG8gYm90aCB0aGlzIGV4dGVybmFsIG9iamVjdCBhbmQgdGhlIGRlY2ssXG5cdCAgICAgICAgLy8gdG8gYXZvaWQgcGFzc2luZyB0aGUgZGVjayBwYXJhbWV0ZXIgZXZlcnkgdGltZS4gKFdoaWNoIGNhbiBiZSBhbGxldmlhdGVkIHdpdGggc2ltcGxlciBmdW5jdGlvbiBiaW5kaW5nIHRob3VnaC4pXG5cdCAgICAgICAgZmlyZSA9IGZ1bmN0aW9uKGRlY2ssIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGN1c3RvbURhdGEpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGRlY2suZmlyZShldmVudEluTmFtZXNwYWNlKGV2ZW50TmFtZSksIGNyZWF0ZUV2ZW50RGF0YShkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgY3VzdG9tRGF0YSkpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGxvZyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgcHJlZml4ZXMgPSBbdGFnXTtcblx0XG5cdCAgICAgICAgICAgIC8vIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZyBpcyBkeW5hbWljLCBzbyBjYW4ndCBiaW5kIGRpcmVjdGx5IHRvIGl0XG5cdCAgICAgICAgICAgIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZy5hcHBseShicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2csIHByZWZpeGVzLmNvbmNhdChwbHVnaW4uY29weUFycmF5KGFyZ3VtZW50cykpKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICB0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBpc1N0b3JhZ2VJbml0aWF0ZWQgPSBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbihvcHRpb25zLnBsdWdpbk5hbWUsIGRlY2spO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUluaXRpYXRlZCkge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSAnXCIgKyBvcHRpb25zLnBsdWdpbk5hbWUgKyBcIicgcGx1Z2luIGhhcyBhbHJlYWR5IGJlZW4gYWN0aXZhdGVkIGZvciB0aGlzIGRlY2ssIGNhbid0IGFjdGl2YXRlIGl0IHR3aWNlLlwiKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGJpbmRUb0RlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBkZWNrQm91bmQgPSB7fTtcblx0XG5cdCAgICAgICAgICAgIGRlY2tCb3VuZC5jcmVhdGVFdmVudERhdGEgPSBleHRlcm5hbC5jcmVhdGVFdmVudERhdGEuYmluZCh0aGlzLCBkZWNrKTtcblx0ICAgICAgICAgICAgZGVja0JvdW5kLmZpcmUgPSBleHRlcm5hbC5maXJlLmJpbmQodGhpcywgZGVjayk7XG5cdCAgICAgICAgICAgIGRlY2tCb3VuZC5nZXRTdG9yYWdlID0gZXh0ZXJuYWwuZ2V0U3RvcmFnZS5iaW5kKHRoaXMsIGRlY2spO1xuXHQgICAgICAgICAgICBkZWNrQm91bmQubG9nID0gZXh0ZXJuYWwubG9nLmJpbmQodGhpcywgZGVjayk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gZGVja0JvdW5kO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGFjdGl2YXRlRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGRlY2tCb3VuZDtcblx0XG5cdCAgICAgICAgICAgIHRocm93SWZQbHVnaW5XYXNBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayhkZWNrKTtcblx0ICAgICAgICAgICAgaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZShvcHRpb25zLnBsdWdpbk5hbWUsIGRlY2spO1xuXHRcblx0ICAgICAgICAgICAgZGVja0JvdW5kID0gYmluZFRvRGVjayhkZWNrKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBkZWNrQm91bmQ7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgYmluZEV4dGVybmFsID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmNyZWF0ZUV2ZW50RGF0YSA9IGNyZWF0ZUV2ZW50RGF0YS5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICBleHRlcm5hbC5nZW5lcmF0ZUVycm9yT2JqZWN0ID0gZ2VuZXJhdGVFcnJvck9iamVjdC5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICBleHRlcm5hbC5maXJlID0gZmlyZS5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICBleHRlcm5hbC5sb2cgPSBsb2cuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwuYWN0aXZhdGVEZWNrID0gYWN0aXZhdGVEZWNrLmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmdldFN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1BsdWdpblN0b3JhZ2UuYmluZCh0aGlzLCBvcHRpb25zLnBsdWdpbk5hbWUpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgYmluZEV4dGVybmFsKCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICBpbml0KCk7XG5cdFxuXHQgICAgcmV0dXJuIGV4dGVybmFsO1xuXHR9O1xuXHRcblx0cGx1Z2luLmdldERlY2tTdG9yYWdlID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgaWYgKCFkZWNrKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgc3RvcmFnZSA9IG51bGw7XG5cdFxuXHQgICAgZGVja3NTdG9yYWdlcy5zb21lKGZ1bmN0aW9uKGRlY2tTdG9yYWdlKSB7XG5cdCAgICAgICAgaWYgKGRlY2tTdG9yYWdlLmRlY2sgPT09IGRlY2spIHtcblx0ICAgICAgICAgICAgc3RvcmFnZSA9IGRlY2tTdG9yYWdlLnN0b3JhZ2U7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIHN0b3JhZ2U7XG5cdH07XG5cdFxuXHRwbHVnaW4uZ2V0RGVja1BsdWdpblN0b3JhZ2UgPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG5cdCAgICBpZiAoIXBsdWdpbk5hbWUpIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghZGVjaykge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayk7XG5cdFxuXHQgICAgaWYgKCFzdG9yYWdlKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInN0b3JhZ2Ugd2FzIG5vdCBpbml0aWF0ZWQgZm9yIHRoaXMgZGVjay5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHN0b3JhZ2VbcGx1Z2luTmFtZV07XG5cdH07XG5cdFxuXHQvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuXHQvLyBNaW1pY2luZywgYW5kIGV4dGVuZGluZyx0aGUgaW50ZXJuYWwgY3JlYXRlRXZlbnREYXRhIGJlc3Bva2UgdXNlc1xuXHRwbHVnaW4uY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSkge1xuXHQgICAgZXZlbnREYXRhID0gZXZlbnREYXRhIHx8IHt9O1xuXHRcblx0ICAgIGV2ZW50RGF0YS5ldmVudE5hbWVzcGFjZSA9IGV2ZW50TmFtZXNwYWNlIHx8IG51bGw7XG5cdFxuXHQgICAgZXZlbnREYXRhLmV2ZW50TmFtZSA9IGV2ZW50TmFtZSB8fCBudWxsO1xuXHRcblx0ICAgIC8vIENhbiBiZSBlaXRoZXIgYSBET00vYnJvd3NlciBldmVudCBvciBhIGJlc3Bva2UgZXZlbnRcblx0ICAgIGV2ZW50RGF0YS5pbm5lckV2ZW50ID0gaW5uZXJFdmVudCB8fCBudWxsO1xuXHRcblx0ICAgIGlmIChpc051bWJlcihzbGlkZSkpIHtcblx0ICAgICAgICBldmVudERhdGEuaW5kZXggPSBzbGlkZTtcblx0ICAgICAgICBldmVudERhdGEuc2xpZGUgPSB0aGlzLnNsaWRlc1tzbGlkZV07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHRoaXMuc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuXHQgICAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IHNsaWRlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBldmVudERhdGE7XG5cdH07XG5cdFxuXHRwbHVnaW4uY29weUFycmF5ID0gZnVuY3Rpb24oYXJyKSB7XG5cdCAgICByZXR1cm4gW10uc2xpY2UuY2FsbChhcnIsIDApO1xuXHR9O1xuXHRcblx0Y3YgPSBwbHVnaW4uYnVpbGRlcihwbHVnaW5OYW1lKTtcblx0XG5cdGluaXQoKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgcmVxdWlyZTp0cnVlLCB3aW5kb3c6dHJ1ZSwgZG9jdW1lbnQ6dHJ1ZSwgTWF0aDp0cnVlICovXG5cdFxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBwbHVnaW5OYW1lID0gXCJzZWNvbmRhcnlcIixcblx0ICAgIC8vIEhhY2sgdG8gZ2V0IGFyb3VuZCBoYXZpbmcgdG8gd3JpdGUgYWxsIGJyb3dzZXIgY29kZSB3aXRoIHJlcXVpcmUoKS5cblx0ICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuXHQgICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcblx0ICAgIH0oRnVuY3Rpb24pKSxcblx0ICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSksXG5cdCAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblx0XG5cdCAgICAvLyBNYWtpbmcgc3VyZSBpbmRleGZpbmdlciBpcyBhdmFpbGFibGUuXG5cdCAgICAvLyBUT0RPOiBjaGVjayB0aGF0IGluZGV4ZmluZ2VyIGhhcyBiZWVuIGxvYWRlZDsgbWF5YmUgY2hlY2tpbmcgZm9yIGRlY2suZ2V0QWN0aXZlU2xpZGUoKS5cblx0ICAgIGluZGV4ZmluZ2VyID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuaW5kZXhmaW5nZXIpIHx8IF9fd2VicGFja19yZXF1aXJlX18oMTEpKSxcblx0XG5cdCAgICBLZXlDb25zdGFudHMgPSB7XG5cdCAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjVmlydHVhbF9rZXlfY29kZXNcblx0ICAgICAgICBTOiAweDUzLCAvLyAoODMpIFwiU1wiIGtleS5cblx0ICAgIH0sXG5cdFxuXHQgICAgZGVmYXVsdHMgPSB7XG5cdCAgICAgICAgbm90ZXM6IFwiYXNpZGVcIixcblx0ICAgICAgICBrZXlzOiB7XG5cdCAgICAgICAgICAgIHRvZ2dsZTogS2V5Q29uc3RhbnRzLlNcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIHJhbmRvbUludGVnZXIgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuXHQgICAgICAgIC8vIFRPRE86IGxvb2sgZm9yIHNvbWVvbmUgZWxzZSdzIGltcGxlbWVudGF0aW9uIC0gdGhleSd2ZSBwcm9iYWJseSBjb3ZlcmVkIGFsbCB0aGUgY29ybmVyIGNhc2VzLlxuXHQgICAgICAgIC8vIFRoaXMgc2hvdWxkIGRvIGZvciAwIDw9IGZyb20gPCB0byA8IChyYW5kb20ncyByZXNvbHV0aW9uKSB0aG91Z2guXG5cdCAgICAgICAgdmFyIGRpZmYsXG5cdCAgICAgICAgICAgIHJuZDtcblx0XG5cdCAgICAgICAgaWYgKHRvID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgdG8gPSBmcm9tO1xuXHQgICAgICAgICAgICBmcm9tID0gMDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGRpZmYgPSB0byAtIGZyb207XG5cdFxuXHQgICAgICAgIHJuZCA9IGZyb20gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkaWZmKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIHJuZDtcblx0ICAgIH0sXG5cdFxuXHQgICAgYmFzZVdpbmRvd05hbWUgPSBwbHVnaW5OYW1lICsgXCItd2luZG93LVwiLFxuXHRcblx0ICAgIGdlbmVyYXRlV2luZG93TmFtZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBybmQgPSByYW5kb21JbnRlZ2VyKDEwMDAsIDEwMDAwKSxcblx0ICAgICAgICAgICAgd2luZG93TmFtZSA9IGJhc2VXaW5kb3dOYW1lICsgcm5kO1xuXHRcblx0ICAgICAgICByZXR1cm4gd2luZG93TmFtZTtcblx0ICAgIH0sXG5cdFxuXHQgICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzID0gZnVuY3Rpb24oZG9jKSB7XG5cdCAgICAgICAgZG9jLmJvZHkuaW5uZXJIVE1MID0gXCI8aDE+Tm90ZXM8L2gxPjxkaXYgaWQ9J25vdGVzJz48L2Rpdj5cIjtcblx0ICAgIH0sXG5cdFxuXHQgICAgcGx1Z2luID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgICAgIHZhciBkZWNrZXIgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBjdkJvdW5kVG9EZWNrID0gY3YuYWN0aXZhdGVEZWNrKGRlY2spLFxuXHRcblx0ICAgICAgICAgICAgICAgIG9mZiA9IHt9LFxuXHRcblx0ICAgICAgICAgICAgICAgIHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcyA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuXHQgICAgICAgICAgICAgICAgICAgIGdldE5vdGVzRWxlbWVudDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS53aW5kb3cgJiYgdGhpcy5zZWNvbmRhcnkud2luZG93LmRvY3VtZW50ICYmIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vdGVzXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gdGhpcy5zZWNvbmRhcnksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ID0gcy53aW5kb3csXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpc0luaXRpYWxpemVkLCBpc05vdE51bGwsIGlzTm90Q2xvc2VkLCBpc093bmVkQnlUaGlzV2luZG93LCBjb250YWluc05vdGVzRWxlbWVudFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gISEocyAhPT0gdW5kZWZpbmVkICYmIHcgIT09IG51bGwgJiYgdy5jbG9zZWQgIT09IHRydWUgJiYgdy5vcGVuZXIgPT09IHdpbmRvdyAmJiB0aGlzLnNlY29uZGFyeS5nZXROb3Rlc0VsZW1lbnQoKSAhPT0gbnVsbCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cgPSB3aW5kb3cub3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzKHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmNsb3NlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5mb2N1cygpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS5jbG9zZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkub3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3Rlcyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE5vdGVzO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5zZWNvbmRhcnkuZ2V0Tm90ZXNFbGVtZW50KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlID0gdGhpcy5nZXRBY3RpdmVTbGlkZSgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3RlcyA9IGNvbnZlbmllbnQuY29weUFycmF5KHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5ub3RlcykpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm90ZXMgPSBzbGlkZU5vdGVzLnJlZHVjZShmdW5jdGlvbihub3Rlc0h0bWwsIHNsaWRlTm90ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGVzSHRtbCArIHNsaWRlTm90ZS5vdXRlckhUTUw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0sIFwiXCIpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBhbGxOb3Rlcztcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeSA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93OiBudWxsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlXaW5kb3dOYW1lOiBnZW5lcmF0ZVdpbmRvd05hbWUoKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Tm90ZXNFbGVtZW50OiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuZ2V0Tm90ZXNFbGVtZW50LmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmlzT3Blbi5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMub3Blbi5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmNsb3NlLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuZm9jdXMuYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMudG9nZ2xlLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNocm9uaXplOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuc3luY2hyb25pemUuYmluZChkZWNrKVxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogbWVyZ2UgZnVuY3Rpb24/XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gT25seSBtZXJnZSBrbm93biBvcHRpb25zXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLmtleXMgPSB7fTtcblx0ICAgICAgICAgICAgICAgICAgICBtZXJnZWQua2V5cy50b2dnbGUgPSAob3B0aW9ucy5rZXlzICYmIG9wdGlvbnMua2V5cy50b2dnbGUpIHx8IGRlZmF1bHRzLmtleXMudG9nZ2xlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBtZXJnZWQubm90ZXMgPSBvcHRpb25zLm5vdGVzIHx8IGRlZmF1bHRzLm5vdGVzO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gbWVyZ2VkO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBrZXlEb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50SGFuZGxlZCA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBObyBtb2RpZmllciBrZXlzLCBwbGVhc2Vcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIWUuYWx0S2V5ICYmICFlLmN0cmxLZXkgJiYgIWUubWV0YUtleSAmJiAhZS5zaGlmdEtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBldmVudEhhbmRsZWQgPSBldmVudEhhbmRsZWQgfHwgKGUud2hpY2ggPT09IG9wdGlvbnMua2V5cy50b2dnbGUgJiYgY3ZCb3VuZFRvRGVjay5maXJlKFwidG9nZ2xlXCIsIGUpICYmIGRlY2suc2Vjb25kYXJ5LnRvZ2dsZSgpICYmIGRlY2suc2Vjb25kYXJ5LnN5bmNocm9uaXplKCkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50SGFuZGxlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWV2ZW50SGFuZGxlZDtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgb25CZWZvcmVVbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeS5jbG9zZSgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgb25BY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5LnN5bmNocm9uaXplKCk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIGRvZXNuJ3Qgc2VlbSB0byB3b3JrIGZvciBvbmJlZm9yZXVubG9hZFxuXHQgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IG9uQmVmb3JlVW5sb2FkO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBrZXlEb3duTGlzdGVuZXIsIGZhbHNlKTtcblx0ICAgICAgICAgICAgICAgICAgICBvZmYuYWN0aXZhdGUgPSBkZWNrLm9uKFwiYWN0aXZhdGVcIiwgb25BY3RpdmF0ZSk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpbml0T3B0aW9ucygpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMoKTtcblx0ICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICBpbml0KCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRlY2tlcjtcblx0ICAgIH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG4iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBiNGQ0ZGZkYmRmNDEyMTJhYmQ0OSIsInJlcXVpcmUoJ3ByaXNtanMnKVxuY29uc3QgYmVzcG9rZSA9IHJlcXVpcmUoJ2Jlc3Bva2UnKVxuY29uc3QgdGhlbWUgPSByZXF1aXJlKCdiZXNwb2tlLXRoZW1lLW5lYnVsYScpXG5jb25zdCBrZXlzID0gcmVxdWlyZSgnYmVzcG9rZS1rZXlzJylcbmNvbnN0IHRvdWNoID0gcmVxdWlyZSgnYmVzcG9rZS10b3VjaCcpXG5jb25zdCBidWxsZXRzID0gcmVxdWlyZSgnYmVzcG9rZS1idWxsZXRzJylcbmNvbnN0IGJhY2tkcm9wID0gcmVxdWlyZSgnYmVzcG9rZS1iYWNrZHJvcCcpXG5jb25zdCBzY2FsZSA9IHJlcXVpcmUoJ2Jlc3Bva2Utc2NhbGUnKVxuY29uc3QgaGFzaCA9IHJlcXVpcmUoJ2Jlc3Bva2UtaGFzaCcpXG5jb25zdCBwcm9ncmVzcyA9IHJlcXVpcmUoJ2Jlc3Bva2UtcHJvZ3Jlc3MnKVxuY29uc3QgaW5kZXhGaW5nZXIgPSByZXF1aXJlKCdiZXNwb2tlLWluZGV4ZmluZ2VyJylcbmNvbnN0IHNlY29uZGFyeSA9IHJlcXVpcmUoJ2Jlc3Bva2Utc2Vjb25kYXJ5JylcblxudmFyIHBsdWdpbnMgPSBbXG4gIHRoZW1lKCksXG4gIGtleXMoKSxcbiAgdG91Y2goKSxcbiAgYnVsbGV0cygnLmRlbGF5ZWQsIC5idWxsZXQnKSxcbiAgYmFja2Ryb3AoKSxcbiAgc2NhbGUoKSxcbiAgaGFzaCgpLFxuICBwcm9ncmVzcygpLFxuICBpbmRleEZpbmdlcigpLFxuICBzZWNvbmRhcnkoKVxuXVxuXG50cnkge1xuICByZXF1aXJlKCdwbHVnaW5zJykocGx1Z2lucylcbn0gY2F0Y2ggKGVycm9yKSB7XG5cbn1cblxudmFyIGRlY2sgPSBiZXNwb2tlLmZyb20oJ2FydGljbGUnLCBwbHVnaW5zKVxuXG50cnkge1xuICByZXF1aXJlKCdkZWNrJykoZGVjaylcbn0gY2F0Y2ggKGVycm9yKSB7XG5cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AYWNoaW5nYnJhaW4vc2xpZGVzL3RlbXAvc2xpZGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBCZWdpbiBwcmlzbS1jb3JlLmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbnZhciBfc2VsZiA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcblx0PyB3aW5kb3cgICAvLyBpZiBpbiBicm93c2VyXG5cdDogKFxuXHRcdCh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSlcblx0XHQ/IHNlbGYgLy8gaWYgaW4gd29ya2VyXG5cdFx0OiB7fSAgIC8vIGlmIGluIG5vZGUganNcblx0KTtcblxuLyoqXG4gKiBQcmlzbTogTGlnaHR3ZWlnaHQsIHJvYnVzdCwgZWxlZ2FudCBzeW50YXggaGlnaGxpZ2h0aW5nXG4gKiBNSVQgbGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocC9cbiAqIEBhdXRob3IgTGVhIFZlcm91IGh0dHA6Ly9sZWEudmVyb3UubWVcbiAqL1xuXG52YXIgUHJpc20gPSAoZnVuY3Rpb24oKXtcblxuLy8gUHJpdmF0ZSBoZWxwZXIgdmFyc1xudmFyIGxhbmcgPSAvXFxibGFuZyg/OnVhZ2UpPy0oW1xcdy1dKylcXGIvaTtcbnZhciB1bmlxdWVJZCA9IDA7XG5cbnZhciBfID0gX3NlbGYuUHJpc20gPSB7XG5cdG1hbnVhbDogX3NlbGYuUHJpc20gJiYgX3NlbGYuUHJpc20ubWFudWFsLFxuXHRkaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXI6IF9zZWxmLlByaXNtICYmIF9zZWxmLlByaXNtLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcixcblx0dXRpbDoge1xuXHRcdGVuY29kZTogZnVuY3Rpb24gKHRva2Vucykge1xuXHRcdFx0aWYgKHRva2VucyBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdHJldHVybiBuZXcgVG9rZW4odG9rZW5zLnR5cGUsIF8udXRpbC5lbmNvZGUodG9rZW5zLmNvbnRlbnQpLCB0b2tlbnMuYWxpYXMpO1xuXHRcdFx0fSBlbHNlIGlmIChfLnV0aWwudHlwZSh0b2tlbnMpID09PSAnQXJyYXknKSB7XG5cdFx0XHRcdHJldHVybiB0b2tlbnMubWFwKF8udXRpbC5lbmNvZGUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRva2Vucy5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC9cXHUwMGEwL2csICcgJyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHR5cGU6IGZ1bmN0aW9uIChvKSB7XG5cdFx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLm1hdGNoKC9cXFtvYmplY3QgKFxcdyspXFxdLylbMV07XG5cdFx0fSxcblxuXHRcdG9iaklkOiBmdW5jdGlvbiAob2JqKSB7XG5cdFx0XHRpZiAoIW9ialsnX19pZCddKSB7XG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICdfX2lkJywgeyB2YWx1ZTogKyt1bmlxdWVJZCB9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBvYmpbJ19faWQnXTtcblx0XHR9LFxuXG5cdFx0Ly8gRGVlcCBjbG9uZSBhIGxhbmd1YWdlIGRlZmluaXRpb24gKGUuZy4gdG8gZXh0ZW5kIGl0KVxuXHRcdGNsb25lOiBmdW5jdGlvbiAobywgdmlzaXRlZCkge1xuXHRcdFx0dmFyIHR5cGUgPSBfLnV0aWwudHlwZShvKTtcblx0XHRcdHZpc2l0ZWQgPSB2aXNpdGVkIHx8IHt9O1xuXG5cdFx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdFx0XHRpZiAodmlzaXRlZFtfLnV0aWwub2JqSWQobyldKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmlzaXRlZFtfLnV0aWwub2JqSWQobyldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YXIgY2xvbmUgPSB7fTtcblx0XHRcdFx0XHR2aXNpdGVkW18udXRpbC5vYmpJZChvKV0gPSBjbG9uZTtcblxuXHRcdFx0XHRcdGZvciAodmFyIGtleSBpbiBvKSB7XG5cdFx0XHRcdFx0XHRpZiAoby5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0XHRcdGNsb25lW2tleV0gPSBfLnV0aWwuY2xvbmUob1trZXldLCB2aXNpdGVkKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cblx0XHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRcdGlmICh2aXNpdGVkW18udXRpbC5vYmpJZChvKV0pIHtcblx0XHRcdFx0XHRcdHJldHVybiB2aXNpdGVkW18udXRpbC5vYmpJZChvKV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciBjbG9uZSA9IFtdO1xuXHRcdFx0XHRcdHZpc2l0ZWRbXy51dGlsLm9iaklkKG8pXSA9IGNsb25lO1xuXG5cdFx0XHRcdFx0by5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpKSB7XG5cdFx0XHRcdFx0XHRjbG9uZVtpXSA9IF8udXRpbC5jbG9uZSh2LCB2aXNpdGVkKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHJldHVybiBjbG9uZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG87XG5cdFx0fVxuXHR9LFxuXG5cdGxhbmd1YWdlczoge1xuXHRcdGV4dGVuZDogZnVuY3Rpb24gKGlkLCByZWRlZikge1xuXHRcdFx0dmFyIGxhbmcgPSBfLnV0aWwuY2xvbmUoXy5sYW5ndWFnZXNbaWRdKTtcblxuXHRcdFx0Zm9yICh2YXIga2V5IGluIHJlZGVmKSB7XG5cdFx0XHRcdGxhbmdba2V5XSA9IHJlZGVmW2tleV07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBsYW5nO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBJbnNlcnQgYSB0b2tlbiBiZWZvcmUgYW5vdGhlciB0b2tlbiBpbiBhIGxhbmd1YWdlIGxpdGVyYWxcblx0XHQgKiBBcyB0aGlzIG5lZWRzIHRvIHJlY3JlYXRlIHRoZSBvYmplY3QgKHdlIGNhbm5vdCBhY3R1YWxseSBpbnNlcnQgYmVmb3JlIGtleXMgaW4gb2JqZWN0IGxpdGVyYWxzKSxcblx0XHQgKiB3ZSBjYW5ub3QganVzdCBwcm92aWRlIGFuIG9iamVjdCwgd2UgbmVlZCBhbm9iamVjdCBhbmQgYSBrZXkuXG5cdFx0ICogQHBhcmFtIGluc2lkZSBUaGUga2V5IChvciBsYW5ndWFnZSBpZCkgb2YgdGhlIHBhcmVudFxuXHRcdCAqIEBwYXJhbSBiZWZvcmUgVGhlIGtleSB0byBpbnNlcnQgYmVmb3JlLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiBhcHBlbmRzIGluc3RlYWQuXG5cdFx0ICogQHBhcmFtIGluc2VydCBPYmplY3Qgd2l0aCB0aGUga2V5L3ZhbHVlIHBhaXJzIHRvIGluc2VydFxuXHRcdCAqIEBwYXJhbSByb290IFRoZSBvYmplY3QgdGhhdCBjb250YWlucyBgaW5zaWRlYC4gSWYgZXF1YWwgdG8gUHJpc20ubGFuZ3VhZ2VzLCBpdCBjYW4gYmUgb21pdHRlZC5cblx0XHQgKi9cblx0XHRpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChpbnNpZGUsIGJlZm9yZSwgaW5zZXJ0LCByb290KSB7XG5cdFx0XHRyb290ID0gcm9vdCB8fCBfLmxhbmd1YWdlcztcblx0XHRcdHZhciBncmFtbWFyID0gcm9vdFtpbnNpZGVdO1xuXG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7XG5cdFx0XHRcdGluc2VydCA9IGFyZ3VtZW50c1sxXTtcblxuXHRcdFx0XHRmb3IgKHZhciBuZXdUb2tlbiBpbiBpbnNlcnQpIHtcblx0XHRcdFx0XHRpZiAoaW5zZXJ0Lmhhc093blByb3BlcnR5KG5ld1Rva2VuKSkge1xuXHRcdFx0XHRcdFx0Z3JhbW1hcltuZXdUb2tlbl0gPSBpbnNlcnRbbmV3VG9rZW5dO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBncmFtbWFyO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmV0ID0ge307XG5cblx0XHRcdGZvciAodmFyIHRva2VuIGluIGdyYW1tYXIpIHtcblxuXHRcdFx0XHRpZiAoZ3JhbW1hci5oYXNPd25Qcm9wZXJ0eSh0b2tlbikpIHtcblxuXHRcdFx0XHRcdGlmICh0b2tlbiA9PSBiZWZvcmUpIHtcblxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgbmV3VG9rZW4gaW4gaW5zZXJ0KSB7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGluc2VydC5oYXNPd25Qcm9wZXJ0eShuZXdUb2tlbikpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXRbbmV3VG9rZW5dID0gaW5zZXJ0W25ld1Rva2VuXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldFt0b2tlbl0gPSBncmFtbWFyW3Rva2VuXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBVcGRhdGUgcmVmZXJlbmNlcyBpbiBvdGhlciBsYW5ndWFnZSBkZWZpbml0aW9uc1xuXHRcdFx0Xy5sYW5ndWFnZXMuREZTKF8ubGFuZ3VhZ2VzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gcm9vdFtpbnNpZGVdICYmIGtleSAhPSBpbnNpZGUpIHtcblx0XHRcdFx0XHR0aGlzW2tleV0gPSByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gcm9vdFtpbnNpZGVdID0gcmV0O1xuXHRcdH0sXG5cblx0XHQvLyBUcmF2ZXJzZSBhIGxhbmd1YWdlIGRlZmluaXRpb24gd2l0aCBEZXB0aCBGaXJzdCBTZWFyY2hcblx0XHRERlM6IGZ1bmN0aW9uKG8sIGNhbGxiYWNrLCB0eXBlLCB2aXNpdGVkKSB7XG5cdFx0XHR2aXNpdGVkID0gdmlzaXRlZCB8fCB7fTtcblx0XHRcdGZvciAodmFyIGkgaW4gbykge1xuXHRcdFx0XHRpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobywgaSwgb1tpXSwgdHlwZSB8fCBpKTtcblxuXHRcdFx0XHRcdGlmIChfLnV0aWwudHlwZShvW2ldKSA9PT0gJ09iamVjdCcgJiYgIXZpc2l0ZWRbXy51dGlsLm9iaklkKG9baV0pXSkge1xuXHRcdFx0XHRcdFx0dmlzaXRlZFtfLnV0aWwub2JqSWQob1tpXSldID0gdHJ1ZTtcblx0XHRcdFx0XHRcdF8ubGFuZ3VhZ2VzLkRGUyhvW2ldLCBjYWxsYmFjaywgbnVsbCwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKF8udXRpbC50eXBlKG9baV0pID09PSAnQXJyYXknICYmICF2aXNpdGVkW18udXRpbC5vYmpJZChvW2ldKV0pIHtcblx0XHRcdFx0XHRcdHZpc2l0ZWRbXy51dGlsLm9iaklkKG9baV0pXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRfLmxhbmd1YWdlcy5ERlMob1tpXSwgY2FsbGJhY2ssIGksIHZpc2l0ZWQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0cGx1Z2luczoge30sXG5cblx0aGlnaGxpZ2h0QWxsOiBmdW5jdGlvbihhc3luYywgY2FsbGJhY2spIHtcblx0XHRfLmhpZ2hsaWdodEFsbFVuZGVyKGRvY3VtZW50LCBhc3luYywgY2FsbGJhY2spO1xuXHR9LFxuXG5cdGhpZ2hsaWdodEFsbFVuZGVyOiBmdW5jdGlvbihjb250YWluZXIsIGFzeW5jLCBjYWxsYmFjaykge1xuXHRcdHZhciBlbnYgPSB7XG5cdFx0XHRjYWxsYmFjazogY2FsbGJhY2ssXG5cdFx0XHRzZWxlY3RvcjogJ2NvZGVbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdLCBbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdIGNvZGUsIGNvZGVbY2xhc3MqPVwibGFuZy1cIl0sIFtjbGFzcyo9XCJsYW5nLVwiXSBjb2RlJ1xuXHRcdH07XG5cblx0XHRfLmhvb2tzLnJ1bihcImJlZm9yZS1oaWdobGlnaHRhbGxcIiwgZW52KTtcblxuXHRcdHZhciBlbGVtZW50cyA9IGVudi5lbGVtZW50cyB8fCBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChlbnYuc2VsZWN0b3IpO1xuXG5cdFx0Zm9yICh2YXIgaT0wLCBlbGVtZW50OyBlbGVtZW50ID0gZWxlbWVudHNbaSsrXTspIHtcblx0XHRcdF8uaGlnaGxpZ2h0RWxlbWVudChlbGVtZW50LCBhc3luYyA9PT0gdHJ1ZSwgZW52LmNhbGxiYWNrKTtcblx0XHR9XG5cdH0sXG5cblx0aGlnaGxpZ2h0RWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0Ly8gRmluZCBsYW5ndWFnZVxuXHRcdHZhciBsYW5ndWFnZSwgZ3JhbW1hciwgcGFyZW50ID0gZWxlbWVudDtcblxuXHRcdHdoaWxlIChwYXJlbnQgJiYgIWxhbmcudGVzdChwYXJlbnQuY2xhc3NOYW1lKSkge1xuXHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG5cdFx0fVxuXG5cdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0bGFuZ3VhZ2UgPSAocGFyZW50LmNsYXNzTmFtZS5tYXRjaChsYW5nKSB8fCBbLCcnXSlbMV0udG9Mb3dlckNhc2UoKTtcblx0XHRcdGdyYW1tYXIgPSBfLmxhbmd1YWdlc1tsYW5ndWFnZV07XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IGxhbmd1YWdlIG9uIHRoZSBlbGVtZW50LCBpZiBub3QgcHJlc2VudFxuXHRcdGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShsYW5nLCAnJykucmVwbGFjZSgvXFxzKy9nLCAnICcpICsgJyBsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cblx0XHRpZiAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG5cdFx0XHQvLyBTZXQgbGFuZ3VhZ2Ugb24gdGhlIHBhcmVudCwgZm9yIHN0eWxpbmdcblx0XHRcdHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKC9wcmUvaS50ZXN0KHBhcmVudC5ub2RlTmFtZSkpIHtcblx0XHRcdFx0cGFyZW50LmNsYXNzTmFtZSA9IHBhcmVudC5jbGFzc05hbWUucmVwbGFjZShsYW5nLCAnJykucmVwbGFjZSgvXFxzKy9nLCAnICcpICsgJyBsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGNvZGUgPSBlbGVtZW50LnRleHRDb250ZW50O1xuXG5cdFx0dmFyIGVudiA9IHtcblx0XHRcdGVsZW1lbnQ6IGVsZW1lbnQsXG5cdFx0XHRsYW5ndWFnZTogbGFuZ3VhZ2UsXG5cdFx0XHRncmFtbWFyOiBncmFtbWFyLFxuXHRcdFx0Y29kZTogY29kZVxuXHRcdH07XG5cblx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLXNhbml0eS1jaGVjaycsIGVudik7XG5cblx0XHRpZiAoIWVudi5jb2RlIHx8ICFlbnYuZ3JhbW1hcikge1xuXHRcdFx0aWYgKGVudi5jb2RlKSB7XG5cdFx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtaGlnaGxpZ2h0JywgZW52KTtcblx0XHRcdFx0ZW52LmVsZW1lbnQudGV4dENvbnRlbnQgPSBlbnYuY29kZTtcblx0XHRcdFx0Xy5ob29rcy5ydW4oJ2FmdGVyLWhpZ2hsaWdodCcsIGVudik7XG5cdFx0XHR9XG5cdFx0XHRfLmhvb2tzLnJ1bignY29tcGxldGUnLCBlbnYpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdF8uaG9va3MucnVuKCdiZWZvcmUtaGlnaGxpZ2h0JywgZW52KTtcblxuXHRcdGlmIChhc3luYyAmJiBfc2VsZi5Xb3JrZXIpIHtcblx0XHRcdHZhciB3b3JrZXIgPSBuZXcgV29ya2VyKF8uZmlsZW5hbWUpO1xuXG5cdFx0XHR3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZXZ0KSB7XG5cdFx0XHRcdGVudi5oaWdobGlnaHRlZENvZGUgPSBldnQuZGF0YTtcblxuXHRcdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWluc2VydCcsIGVudik7XG5cblx0XHRcdFx0ZW52LmVsZW1lbnQuaW5uZXJIVE1MID0gZW52LmhpZ2hsaWdodGVkQ29kZTtcblxuXHRcdFx0XHRjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGVudi5lbGVtZW50KTtcblx0XHRcdFx0Xy5ob29rcy5ydW4oJ2FmdGVyLWhpZ2hsaWdodCcsIGVudik7XG5cdFx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHR9O1xuXG5cdFx0XHR3b3JrZXIucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRsYW5ndWFnZTogZW52Lmxhbmd1YWdlLFxuXHRcdFx0XHRjb2RlOiBlbnYuY29kZSxcblx0XHRcdFx0aW1tZWRpYXRlQ2xvc2U6IHRydWVcblx0XHRcdH0pKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRlbnYuaGlnaGxpZ2h0ZWRDb2RlID0gXy5oaWdobGlnaHQoZW52LmNvZGUsIGVudi5ncmFtbWFyLCBlbnYubGFuZ3VhZ2UpO1xuXG5cdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWluc2VydCcsIGVudik7XG5cblx0XHRcdGVudi5lbGVtZW50LmlubmVySFRNTCA9IGVudi5oaWdobGlnaHRlZENvZGU7XG5cblx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZWxlbWVudCk7XG5cblx0XHRcdF8uaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLCBlbnYpO1xuXHRcdFx0Xy5ob29rcy5ydW4oJ2NvbXBsZXRlJywgZW52KTtcblx0XHR9XG5cdH0sXG5cblx0aGlnaGxpZ2h0OiBmdW5jdGlvbiAodGV4dCwgZ3JhbW1hciwgbGFuZ3VhZ2UpIHtcblx0XHR2YXIgZW52ID0ge1xuXHRcdFx0Y29kZTogdGV4dCxcblx0XHRcdGdyYW1tYXI6IGdyYW1tYXIsXG5cdFx0XHRsYW5ndWFnZTogbGFuZ3VhZ2Vcblx0XHR9O1xuXHRcdF8uaG9va3MucnVuKCdiZWZvcmUtdG9rZW5pemUnLCBlbnYpO1xuXHRcdGVudi50b2tlbnMgPSBfLnRva2VuaXplKGVudi5jb2RlLCBlbnYuZ3JhbW1hcik7XG5cdFx0Xy5ob29rcy5ydW4oJ2FmdGVyLXRva2VuaXplJywgZW52KTtcblx0XHRyZXR1cm4gVG9rZW4uc3RyaW5naWZ5KF8udXRpbC5lbmNvZGUoZW52LnRva2VucyksIGVudi5sYW5ndWFnZSk7XG5cdH0sXG5cblx0bWF0Y2hHcmFtbWFyOiBmdW5jdGlvbiAodGV4dCwgc3RyYXJyLCBncmFtbWFyLCBpbmRleCwgc3RhcnRQb3MsIG9uZXNob3QsIHRhcmdldCkge1xuXHRcdHZhciBUb2tlbiA9IF8uVG9rZW47XG5cblx0XHRmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cdFx0XHRpZighZ3JhbW1hci5oYXNPd25Qcm9wZXJ0eSh0b2tlbikgfHwgIWdyYW1tYXJbdG9rZW5dKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodG9rZW4gPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBhdHRlcm5zID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRwYXR0ZXJucyA9IChfLnV0aWwudHlwZShwYXR0ZXJucykgPT09IFwiQXJyYXlcIikgPyBwYXR0ZXJucyA6IFtwYXR0ZXJuc107XG5cblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGF0dGVybnMubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0dmFyIHBhdHRlcm4gPSBwYXR0ZXJuc1tqXSxcblx0XHRcdFx0XHRpbnNpZGUgPSBwYXR0ZXJuLmluc2lkZSxcblx0XHRcdFx0XHRsb29rYmVoaW5kID0gISFwYXR0ZXJuLmxvb2tiZWhpbmQsXG5cdFx0XHRcdFx0Z3JlZWR5ID0gISFwYXR0ZXJuLmdyZWVkeSxcblx0XHRcdFx0XHRsb29rYmVoaW5kTGVuZ3RoID0gMCxcblx0XHRcdFx0XHRhbGlhcyA9IHBhdHRlcm4uYWxpYXM7XG5cblx0XHRcdFx0aWYgKGdyZWVkeSAmJiAhcGF0dGVybi5wYXR0ZXJuLmdsb2JhbCkge1xuXHRcdFx0XHRcdC8vIFdpdGhvdXQgdGhlIGdsb2JhbCBmbGFnLCBsYXN0SW5kZXggd29uJ3Qgd29ya1xuXHRcdFx0XHRcdHZhciBmbGFncyA9IHBhdHRlcm4ucGF0dGVybi50b1N0cmluZygpLm1hdGNoKC9baW11eV0qJC8pWzBdO1xuXHRcdFx0XHRcdHBhdHRlcm4ucGF0dGVybiA9IFJlZ0V4cChwYXR0ZXJuLnBhdHRlcm4uc291cmNlLCBmbGFncyArIFwiZ1wiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHBhdHRlcm4gPSBwYXR0ZXJuLnBhdHRlcm4gfHwgcGF0dGVybjtcblxuXHRcdFx0XHQvLyBEb27igJl0IGNhY2hlIGxlbmd0aCBhcyBpdCBjaGFuZ2VzIGR1cmluZyB0aGUgbG9vcFxuXHRcdFx0XHRmb3IgKHZhciBpID0gaW5kZXgsIHBvcyA9IHN0YXJ0UG9zOyBpIDwgc3RyYXJyLmxlbmd0aDsgcG9zICs9IHN0cmFycltpXS5sZW5ndGgsICsraSkge1xuXG5cdFx0XHRcdFx0dmFyIHN0ciA9IHN0cmFycltpXTtcblxuXHRcdFx0XHRcdGlmIChzdHJhcnIubGVuZ3RoID4gdGV4dC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdC8vIFNvbWV0aGluZyB3ZW50IHRlcnJpYmx5IHdyb25nLCBBQk9SVCwgQUJPUlQhXG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHN0ciBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoZ3JlZWR5ICYmIGkgIT0gc3RyYXJyLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdHBhdHRlcm4ubGFzdEluZGV4ID0gcG9zO1xuXHRcdFx0XHRcdFx0dmFyIG1hdGNoID0gcGF0dGVybi5leGVjKHRleHQpO1xuXHRcdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFyIGZyb20gPSBtYXRjaC5pbmRleCArIChsb29rYmVoaW5kID8gbWF0Y2hbMV0ubGVuZ3RoIDogMCksXG5cdFx0XHRcdFx0XHQgICAgdG8gPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCxcblx0XHRcdFx0XHRcdCAgICBrID0gaSxcblx0XHRcdFx0XHRcdCAgICBwID0gcG9zO1xuXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBsZW4gPSBzdHJhcnIubGVuZ3RoOyBrIDwgbGVuICYmIChwIDwgdG8gfHwgKCFzdHJhcnJba10udHlwZSAmJiAhc3RyYXJyW2sgLSAxXS5ncmVlZHkpKTsgKytrKSB7XG5cdFx0XHRcdFx0XHRcdHAgKz0gc3RyYXJyW2tdLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0Ly8gTW92ZSB0aGUgaW5kZXggaSB0byB0aGUgZWxlbWVudCBpbiBzdHJhcnIgdGhhdCBpcyBjbG9zZXN0IHRvIGZyb21cblx0XHRcdFx0XHRcdFx0aWYgKGZyb20gPj0gcCkge1xuXHRcdFx0XHRcdFx0XHRcdCsraTtcblx0XHRcdFx0XHRcdFx0XHRwb3MgPSBwO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIElmIHN0cmFycltpXSBpcyBhIFRva2VuLCB0aGVuIHRoZSBtYXRjaCBzdGFydHMgaW5zaWRlIGFub3RoZXIgVG9rZW4sIHdoaWNoIGlzIGludmFsaWRcblx0XHRcdFx0XHRcdGlmIChzdHJhcnJbaV0gaW5zdGFuY2VvZiBUb2tlbikge1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTnVtYmVyIG9mIHRva2VucyB0byBkZWxldGUgYW5kIHJlcGxhY2Ugd2l0aCB0aGUgbmV3IG1hdGNoXG5cdFx0XHRcdFx0XHRkZWxOdW0gPSBrIC0gaTtcblx0XHRcdFx0XHRcdHN0ciA9IHRleHQuc2xpY2UocG9zLCBwKTtcblx0XHRcdFx0XHRcdG1hdGNoLmluZGV4IC09IHBvcztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cGF0dGVybi5sYXN0SW5kZXggPSAwO1xuXG5cdFx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoc3RyKSxcblx0XHRcdFx0XHRcdFx0ZGVsTnVtID0gMTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdFx0XHRpZiAob25lc2hvdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYobG9va2JlaGluZCkge1xuXHRcdFx0XHRcdFx0bG9va2JlaGluZExlbmd0aCA9IG1hdGNoWzFdID8gbWF0Y2hbMV0ubGVuZ3RoIDogMDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgZnJvbSA9IG1hdGNoLmluZGV4ICsgbG9va2JlaGluZExlbmd0aCxcblx0XHRcdFx0XHQgICAgbWF0Y2ggPSBtYXRjaFswXS5zbGljZShsb29rYmVoaW5kTGVuZ3RoKSxcblx0XHRcdFx0XHQgICAgdG8gPSBmcm9tICsgbWF0Y2gubGVuZ3RoLFxuXHRcdFx0XHRcdCAgICBiZWZvcmUgPSBzdHIuc2xpY2UoMCwgZnJvbSksXG5cdFx0XHRcdFx0ICAgIGFmdGVyID0gc3RyLnNsaWNlKHRvKTtcblxuXHRcdFx0XHRcdHZhciBhcmdzID0gW2ksIGRlbE51bV07XG5cblx0XHRcdFx0XHRpZiAoYmVmb3JlKSB7XG5cdFx0XHRcdFx0XHQrK2k7XG5cdFx0XHRcdFx0XHRwb3MgKz0gYmVmb3JlLmxlbmd0aDtcblx0XHRcdFx0XHRcdGFyZ3MucHVzaChiZWZvcmUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciB3cmFwcGVkID0gbmV3IFRva2VuKHRva2VuLCBpbnNpZGU/IF8udG9rZW5pemUobWF0Y2gsIGluc2lkZSkgOiBtYXRjaCwgYWxpYXMsIG1hdGNoLCBncmVlZHkpO1xuXG5cdFx0XHRcdFx0YXJncy5wdXNoKHdyYXBwZWQpO1xuXG5cdFx0XHRcdFx0aWYgKGFmdGVyKSB7XG5cdFx0XHRcdFx0XHRhcmdzLnB1c2goYWZ0ZXIpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoc3RyYXJyLCBhcmdzKTtcblxuXHRcdFx0XHRcdGlmIChkZWxOdW0gIT0gMSlcblx0XHRcdFx0XHRcdF8ubWF0Y2hHcmFtbWFyKHRleHQsIHN0cmFyciwgZ3JhbW1hciwgaSwgcG9zLCB0cnVlLCB0b2tlbik7XG5cblx0XHRcdFx0XHRpZiAob25lc2hvdClcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHRva2VuaXplOiBmdW5jdGlvbih0ZXh0LCBncmFtbWFyLCBsYW5ndWFnZSkge1xuXHRcdHZhciBzdHJhcnIgPSBbdGV4dF07XG5cblx0XHR2YXIgcmVzdCA9IGdyYW1tYXIucmVzdDtcblxuXHRcdGlmIChyZXN0KSB7XG5cdFx0XHRmb3IgKHZhciB0b2tlbiBpbiByZXN0KSB7XG5cdFx0XHRcdGdyYW1tYXJbdG9rZW5dID0gcmVzdFt0b2tlbl07XG5cdFx0XHR9XG5cblx0XHRcdGRlbGV0ZSBncmFtbWFyLnJlc3Q7XG5cdFx0fVxuXG5cdFx0Xy5tYXRjaEdyYW1tYXIodGV4dCwgc3RyYXJyLCBncmFtbWFyLCAwLCAwLCBmYWxzZSk7XG5cblx0XHRyZXR1cm4gc3RyYXJyO1xuXHR9LFxuXG5cdGhvb2tzOiB7XG5cdFx0YWxsOiB7fSxcblxuXHRcdGFkZDogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XG5cdFx0XHR2YXIgaG9va3MgPSBfLmhvb2tzLmFsbDtcblxuXHRcdFx0aG9va3NbbmFtZV0gPSBob29rc1tuYW1lXSB8fCBbXTtcblxuXHRcdFx0aG9va3NbbmFtZV0ucHVzaChjYWxsYmFjayk7XG5cdFx0fSxcblxuXHRcdHJ1bjogZnVuY3Rpb24gKG5hbWUsIGVudikge1xuXHRcdFx0dmFyIGNhbGxiYWNrcyA9IF8uaG9va3MuYWxsW25hbWVdO1xuXG5cdFx0XHRpZiAoIWNhbGxiYWNrcyB8fCAhY2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGZvciAodmFyIGk9MCwgY2FsbGJhY2s7IGNhbGxiYWNrID0gY2FsbGJhY2tzW2krK107KSB7XG5cdFx0XHRcdGNhbGxiYWNrKGVudik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG52YXIgVG9rZW4gPSBfLlRva2VuID0gZnVuY3Rpb24odHlwZSwgY29udGVudCwgYWxpYXMsIG1hdGNoZWRTdHIsIGdyZWVkeSkge1xuXHR0aGlzLnR5cGUgPSB0eXBlO1xuXHR0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuXHR0aGlzLmFsaWFzID0gYWxpYXM7XG5cdC8vIENvcHkgb2YgdGhlIGZ1bGwgc3RyaW5nIHRoaXMgdG9rZW4gd2FzIGNyZWF0ZWQgZnJvbVxuXHR0aGlzLmxlbmd0aCA9IChtYXRjaGVkU3RyIHx8IFwiXCIpLmxlbmd0aHwwO1xuXHR0aGlzLmdyZWVkeSA9ICEhZ3JlZWR5O1xufTtcblxuVG9rZW4uc3RyaW5naWZ5ID0gZnVuY3Rpb24obywgbGFuZ3VhZ2UsIHBhcmVudCkge1xuXHRpZiAodHlwZW9mIG8gPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGlmIChfLnV0aWwudHlwZShvKSA9PT0gJ0FycmF5Jykge1xuXHRcdHJldHVybiBvLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0XHRyZXR1cm4gVG9rZW4uc3RyaW5naWZ5KGVsZW1lbnQsIGxhbmd1YWdlLCBvKTtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdHZhciBlbnYgPSB7XG5cdFx0dHlwZTogby50eXBlLFxuXHRcdGNvbnRlbnQ6IFRva2VuLnN0cmluZ2lmeShvLmNvbnRlbnQsIGxhbmd1YWdlLCBwYXJlbnQpLFxuXHRcdHRhZzogJ3NwYW4nLFxuXHRcdGNsYXNzZXM6IFsndG9rZW4nLCBvLnR5cGVdLFxuXHRcdGF0dHJpYnV0ZXM6IHt9LFxuXHRcdGxhbmd1YWdlOiBsYW5ndWFnZSxcblx0XHRwYXJlbnQ6IHBhcmVudFxuXHR9O1xuXG5cdGlmIChvLmFsaWFzKSB7XG5cdFx0dmFyIGFsaWFzZXMgPSBfLnV0aWwudHlwZShvLmFsaWFzKSA9PT0gJ0FycmF5JyA/IG8uYWxpYXMgOiBbby5hbGlhc107XG5cdFx0QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZW52LmNsYXNzZXMsIGFsaWFzZXMpO1xuXHR9XG5cblx0Xy5ob29rcy5ydW4oJ3dyYXAnLCBlbnYpO1xuXG5cdHZhciBhdHRyaWJ1dGVzID0gT2JqZWN0LmtleXMoZW52LmF0dHJpYnV0ZXMpLm1hcChmdW5jdGlvbihuYW1lKSB7XG5cdFx0cmV0dXJuIG5hbWUgKyAnPVwiJyArIChlbnYuYXR0cmlidXRlc1tuYW1lXSB8fCAnJykucmVwbGFjZSgvXCIvZywgJyZxdW90OycpICsgJ1wiJztcblx0fSkuam9pbignICcpO1xuXG5cdHJldHVybiAnPCcgKyBlbnYudGFnICsgJyBjbGFzcz1cIicgKyBlbnYuY2xhc3Nlcy5qb2luKCcgJykgKyAnXCInICsgKGF0dHJpYnV0ZXMgPyAnICcgKyBhdHRyaWJ1dGVzIDogJycpICsgJz4nICsgZW52LmNvbnRlbnQgKyAnPC8nICsgZW52LnRhZyArICc+JztcblxufTtcblxuaWYgKCFfc2VsZi5kb2N1bWVudCkge1xuXHRpZiAoIV9zZWxmLmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0XHQvLyBpbiBOb2RlLmpzXG5cdFx0cmV0dXJuIF9zZWxmLlByaXNtO1xuXHR9XG5cblx0aWYgKCFfLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcikge1xuXHRcdC8vIEluIHdvcmtlclxuXHRcdF9zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZ0KSB7XG5cdFx0XHR2YXIgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpLFxuXHRcdFx0XHRsYW5nID0gbWVzc2FnZS5sYW5ndWFnZSxcblx0XHRcdFx0Y29kZSA9IG1lc3NhZ2UuY29kZSxcblx0XHRcdFx0aW1tZWRpYXRlQ2xvc2UgPSBtZXNzYWdlLmltbWVkaWF0ZUNsb3NlO1xuXG5cdFx0XHRfc2VsZi5wb3N0TWVzc2FnZShfLmhpZ2hsaWdodChjb2RlLCBfLmxhbmd1YWdlc1tsYW5nXSwgbGFuZykpO1xuXHRcdFx0aWYgKGltbWVkaWF0ZUNsb3NlKSB7XG5cdFx0XHRcdF9zZWxmLmNsb3NlKCk7XG5cdFx0XHR9XG5cdFx0fSwgZmFsc2UpO1xuXHR9XG5cblx0cmV0dXJuIF9zZWxmLlByaXNtO1xufVxuXG4vL0dldCBjdXJyZW50IHNjcmlwdCBhbmQgaGlnaGxpZ2h0XG52YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdCB8fCBbXS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpKS5wb3AoKTtcblxuaWYgKHNjcmlwdCkge1xuXHRfLmZpbGVuYW1lID0gc2NyaXB0LnNyYztcblxuXHRpZiAoIV8ubWFudWFsICYmICFzY3JpcHQuaGFzQXR0cmlidXRlKCdkYXRhLW1hbnVhbCcpKSB7XG5cdFx0aWYoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIpIHtcblx0XHRcdGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG5cdFx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoXy5oaWdobGlnaHRBbGwpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoXy5oaWdobGlnaHRBbGwsIDE2KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgXy5oaWdobGlnaHRBbGwpO1xuXHRcdH1cblx0fVxufVxuXG5yZXR1cm4gX3NlbGYuUHJpc207XG5cbn0pKCk7XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRtb2R1bGUuZXhwb3J0cyA9IFByaXNtO1xufVxuXG4vLyBoYWNrIGZvciBjb21wb25lbnRzIHRvIHdvcmsgY29ycmVjdGx5IGluIG5vZGUuanNcbmlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuXHRnbG9iYWwuUHJpc20gPSBQcmlzbTtcbn1cblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLW1hcmt1cC5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG5QcmlzbS5sYW5ndWFnZXMubWFya3VwID0ge1xuXHQnY29tbWVudCc6IC88IS0tW1xcc1xcU10qPy0tPi8sXG5cdCdwcm9sb2cnOiAvPFxcP1tcXHNcXFNdKz9cXD8+Lyxcblx0J2RvY3R5cGUnOiAvPCFET0NUWVBFW1xcc1xcU10rPz4vaSxcblx0J2NkYXRhJzogLzwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XV0+L2ksXG5cdCd0YWcnOiB7XG5cdFx0cGF0dGVybjogLzxcXC8/KD8hXFxkKVteXFxzPlxcLz0kPCVdKyg/OlxccytbXlxccz5cXC89XSsoPzo9KD86KFwifCcpKD86XFxcXFtcXHNcXFNdfCg/IVxcMSlbXlxcXFxdKSpcXDF8W15cXHMnXCI+PV0rKSk/KSpcXHMqXFwvPz4vaSxcblx0XHRncmVlZHk6IHRydWUsXG5cdFx0aW5zaWRlOiB7XG5cdFx0XHQndGFnJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvXjxcXC8/W15cXHM+XFwvXSsvaSxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL148XFwvPy8sXG5cdFx0XHRcdFx0J25hbWVzcGFjZSc6IC9eW15cXHM+XFwvOl0rOi9cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCdhdHRyLXZhbHVlJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvPSg/OihcInwnKSg/OlxcXFxbXFxzXFxTXXwoPyFcXDEpW15cXFxcXSkqXFwxfFteXFxzJ1wiPj1dKykvaSxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogW1xuXHRcdFx0XHRcdFx0L149Lyxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0cGF0dGVybjogLyhefFteXFxcXF0pW1wiJ10vLFxuXHRcdFx0XHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0J3B1bmN0dWF0aW9uJzogL1xcLz8+Lyxcblx0XHRcdCdhdHRyLW5hbWUnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9bXlxccz5cXC9dKy8sXG5cdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdCduYW1lc3BhY2UnOiAvXlteXFxzPlxcLzpdKzovXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblx0fSxcblx0J2VudGl0eSc6IC8mIz9bXFxkYS16XXsxLDh9Oy9pXG59O1xuXG5QcmlzbS5sYW5ndWFnZXMubWFya3VwWyd0YWcnXS5pbnNpZGVbJ2F0dHItdmFsdWUnXS5pbnNpZGVbJ2VudGl0eSddID1cblx0UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cFsnZW50aXR5J107XG5cbi8vIFBsdWdpbiB0byBtYWtlIGVudGl0eSB0aXRsZSBzaG93IHRoZSByZWFsIGVudGl0eSwgaWRlYSBieSBSb21hbiBLb21hcm92XG5QcmlzbS5ob29rcy5hZGQoJ3dyYXAnLCBmdW5jdGlvbihlbnYpIHtcblxuXHRpZiAoZW52LnR5cGUgPT09ICdlbnRpdHknKSB7XG5cdFx0ZW52LmF0dHJpYnV0ZXNbJ3RpdGxlJ10gPSBlbnYuY29udGVudC5yZXBsYWNlKC8mYW1wOy8sICcmJyk7XG5cdH1cbn0pO1xuXG5QcmlzbS5sYW5ndWFnZXMueG1sID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblByaXNtLmxhbmd1YWdlcy5odG1sID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblByaXNtLmxhbmd1YWdlcy5tYXRobWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuUHJpc20ubGFuZ3VhZ2VzLnN2ZyA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBCZWdpbiBwcmlzbS1jc3MuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuUHJpc20ubGFuZ3VhZ2VzLmNzcyA9IHtcblx0J2NvbW1lbnQnOiAvXFwvXFwqW1xcc1xcU10qP1xcKlxcLy8sXG5cdCdhdHJ1bGUnOiB7XG5cdFx0cGF0dGVybjogL0BbXFx3LV0rPy4qPyg/Ojt8KD89XFxzKlxceykpL2ksXG5cdFx0aW5zaWRlOiB7XG5cdFx0XHQncnVsZSc6IC9AW1xcdy1dKy9cblx0XHRcdC8vIFNlZSByZXN0IGJlbG93XG5cdFx0fVxuXHR9LFxuXHQndXJsJzogL3VybFxcKCg/OihbXCInXSkoPzpcXFxcKD86XFxyXFxufFtcXHNcXFNdKXwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxfC4qPylcXCkvaSxcblx0J3NlbGVjdG9yJzogL1tee31cXHNdW157fTtdKj8oPz1cXHMqXFx7KS8sXG5cdCdzdHJpbmcnOiB7XG5cdFx0cGF0dGVybjogLyhcInwnKSg/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDEvLFxuXHRcdGdyZWVkeTogdHJ1ZVxuXHR9LFxuXHQncHJvcGVydHknOiAvWy1fYS16XFx4QTAtXFx1RkZGRl1bLVxcd1xceEEwLVxcdUZGRkZdKig/PVxccyo6KS9pLFxuXHQnaW1wb3J0YW50JzogL1xcQiFpbXBvcnRhbnRcXGIvaSxcblx0J2Z1bmN0aW9uJzogL1stYS16MC05XSsoPz1cXCgpL2ksXG5cdCdwdW5jdHVhdGlvbic6IC9bKCl7fTs6XS9cbn07XG5cblByaXNtLmxhbmd1YWdlcy5jc3NbJ2F0cnVsZSddLmluc2lkZS5yZXN0ID0gUHJpc20ubGFuZ3VhZ2VzLmNzcztcblxuaWYgKFByaXNtLmxhbmd1YWdlcy5tYXJrdXApIHtcblx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnbWFya3VwJywgJ3RhZycsIHtcblx0XHQnc3R5bGUnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvKDxzdHlsZVtcXHNcXFNdKj8+KVtcXHNcXFNdKj8oPz08XFwvc3R5bGU+KS9pLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzcyxcblx0XHRcdGFsaWFzOiAnbGFuZ3VhZ2UtY3NzJyxcblx0XHRcdGdyZWVkeTogdHJ1ZVxuXHRcdH1cblx0fSk7XG5cblx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnaW5zaWRlJywgJ2F0dHItdmFsdWUnLCB7XG5cdFx0J3N0eWxlLWF0dHInOiB7XG5cdFx0XHRwYXR0ZXJuOiAvXFxzKnN0eWxlPShcInwnKSg/OlxcXFxbXFxzXFxTXXwoPyFcXDEpW15cXFxcXSkqXFwxL2ksXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0J2F0dHItbmFtZSc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvXlxccypzdHlsZS9pLFxuXHRcdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9eXFxzKj1cXHMqWydcIl18WydcIl1cXHMqJC8sXG5cdFx0XHRcdCdhdHRyLXZhbHVlJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC8uKy9pLFxuXHRcdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzc1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0YWxpYXM6ICdsYW5ndWFnZS1jc3MnXG5cdFx0fVxuXHR9LCBQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZyk7XG59XG5cbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgQmVnaW4gcHJpc20tY2xpa2UuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuUHJpc20ubGFuZ3VhZ2VzLmNsaWtlID0ge1xuXHQnY29tbWVudCc6IFtcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcXSlcXC9cXCpbXFxzXFxTXSo/KD86XFwqXFwvfCQpLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXnxbXlxcXFw6XSlcXC9cXC8uKi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0Z3JlZWR5OiB0cnVlXG5cdFx0fVxuXHRdLFxuXHQnc3RyaW5nJzoge1xuXHRcdHBhdHRlcm46IC8oW1wiJ10pKD86XFxcXCg/OlxcclxcbnxbXFxzXFxTXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS8sXG5cdFx0Z3JlZWR5OiB0cnVlXG5cdH0sXG5cdCdjbGFzcy1uYW1lJzoge1xuXHRcdHBhdHRlcm46IC8oKD86XFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylcXHMrKXwoPzpjYXRjaFxccytcXCgpKVtcXHcuXFxcXF0rL2ksXG5cdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRpbnNpZGU6IHtcblx0XHRcdHB1bmN0dWF0aW9uOiAvWy5cXFxcXS9cblx0XHR9XG5cdH0sXG5cdCdrZXl3b3JkJzogL1xcYig/OmlmfGVsc2V8d2hpbGV8ZG98Zm9yfHJldHVybnxpbnxpbnN0YW5jZW9mfGZ1bmN0aW9ufG5ld3x0cnl8dGhyb3d8Y2F0Y2h8ZmluYWxseXxudWxsfGJyZWFrfGNvbnRpbnVlKVxcYi8sXG5cdCdib29sZWFuJzogL1xcYig/OnRydWV8ZmFsc2UpXFxiLyxcblx0J2Z1bmN0aW9uJzogL1thLXowLTlfXSsoPz1cXCgpL2ksXG5cdCdudW1iZXInOiAvXFxiMHhbXFxkYS1mXStcXGJ8KD86XFxiXFxkK1xcLj9cXGQqfFxcQlxcLlxcZCspKD86ZVsrLV0/XFxkKyk/L2ksXG5cdCdvcGVyYXRvcic6IC8tLT98XFwrXFwrP3whPT89P3w8PT98Pj0/fD09Pz0/fCYmP3xcXHxcXHw/fFxcP3xcXCp8XFwvfH58XFxefCUvLFxuXHQncHVuY3R1YXRpb24nOiAvW3t9W1xcXTsoKSwuOl0vXG59O1xuXG5cbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgQmVnaW4gcHJpc20tamF2YXNjcmlwdC5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG5QcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdCA9IFByaXNtLmxhbmd1YWdlcy5leHRlbmQoJ2NsaWtlJywge1xuXHQna2V5d29yZCc6IC9cXGIoPzphc3xhc3luY3xhd2FpdHxicmVha3xjYXNlfGNhdGNofGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmaW5hbGx5fGZvcnxmcm9tfGZ1bmN0aW9ufGdldHxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8b2Z8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHNldHxzdGF0aWN8c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ5fHR5cGVvZnx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxcYi8sXG5cdCdudW1iZXInOiAvXFxiKD86MFt4WF1bXFxkQS1GYS1mXSt8MFtiQl1bMDFdK3wwW29PXVswLTddK3xOYU58SW5maW5pdHkpXFxifCg/OlxcYlxcZCtcXC4/XFxkKnxcXEJcXC5cXGQrKSg/OltFZV1bKy1dP1xcZCspPy8sXG5cdC8vIEFsbG93IGZvciBhbGwgbm9uLUFTQ0lJIGNoYXJhY3RlcnMgKFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMDA4NDQ0KVxuXHQnZnVuY3Rpb24nOiAvW18kYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKig/PVxccypcXCgpL2ksXG5cdCdvcGVyYXRvcic6IC8tWy09XT98XFwrWys9XT98IT0/PT98PDw/PT98Pj4/Pj89P3w9KD86PT0/fD4pP3wmWyY9XT98XFx8W3w9XT98XFwqXFwqPz0/fFxcLz0/fH58XFxePT98JT0/fFxcP3xcXC57M30vXG59KTtcblxuUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdrZXl3b3JkJywge1xuXHQncmVnZXgnOiB7XG5cdFx0cGF0dGVybjogLygoPzpefFteJFxcd1xceEEwLVxcdUZGRkYuXCInXFxdKVxcc10pXFxzKilcXC8oXFxbW15cXF1cXHJcXG5dK118XFxcXC58W14vXFxcXFxcW1xcclxcbl0pK1xcL1tnaW15dV17MCw1fSg/PVxccyooJHxbXFxyXFxuLC47fSlcXF1dKSkvLFxuXHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0Z3JlZWR5OiB0cnVlXG5cdH0sXG5cdC8vIFRoaXMgbXVzdCBiZSBkZWNsYXJlZCBiZWZvcmUga2V5d29yZCBiZWNhdXNlIHdlIHVzZSBcImZ1bmN0aW9uXCIgaW5zaWRlIHRoZSBsb29rLWZvcndhcmRcblx0J2Z1bmN0aW9uLXZhcmlhYmxlJzoge1xuXHRcdHBhdHRlcm46IC9bXyRhLXpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKj1cXHMqKD86ZnVuY3Rpb25cXGJ8KD86XFwoW14oKV0qXFwpfFtfJGEtelxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSopXFxzKj0+KSkvaSxcblx0XHRhbGlhczogJ2Z1bmN0aW9uJ1xuXHR9LFxuXHQnY29uc3RhbnQnOiAvXFxiW0EtWl1bQS1aXFxkX10qXFxiL1xufSk7XG5cblByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2phdmFzY3JpcHQnLCAnc3RyaW5nJywge1xuXHQndGVtcGxhdGUtc3RyaW5nJzoge1xuXHRcdHBhdHRlcm46IC9gKD86XFxcXFtcXHNcXFNdfFxcJHtbXn1dK318W15cXFxcYF0pKmAvLFxuXHRcdGdyZWVkeTogdHJ1ZSxcblx0XHRpbnNpZGU6IHtcblx0XHRcdCdpbnRlcnBvbGF0aW9uJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvXFwke1tefV0rfS8sXG5cdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdCdpbnRlcnBvbGF0aW9uLXB1bmN0dWF0aW9uJzoge1xuXHRcdFx0XHRcdFx0cGF0dGVybjogL15cXCR7fH0kLyxcblx0XHRcdFx0XHRcdGFsaWFzOiAncHVuY3R1YXRpb24nXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRyZXN0OiBudWxsIC8vIFNlZSBiZWxvd1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0J3N0cmluZyc6IC9bXFxzXFxTXSsvXG5cdFx0fVxuXHR9XG59KTtcblByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0Wyd0ZW1wbGF0ZS1zdHJpbmcnXS5pbnNpZGVbJ2ludGVycG9sYXRpb24nXS5pbnNpZGUucmVzdCA9IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0O1xuXG5pZiAoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCkge1xuXHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdtYXJrdXAnLCAndGFnJywge1xuXHRcdCdzY3JpcHQnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvKDxzY3JpcHRbXFxzXFxTXSo/PilbXFxzXFxTXSo/KD89PFxcL3NjcmlwdD4pL2ksXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdCxcblx0XHRcdGFsaWFzOiAnbGFuZ3VhZ2UtamF2YXNjcmlwdCcsXG5cdFx0XHRncmVlZHk6IHRydWVcblx0XHR9XG5cdH0pO1xufVxuXG5QcmlzbS5sYW5ndWFnZXMuanMgPSBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdDtcblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWZpbGUtaGlnaGxpZ2h0LmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdGlmICh0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgfHwgIXNlbGYuUHJpc20gfHwgIXNlbGYuZG9jdW1lbnQgfHwgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRzZWxmLlByaXNtLmZpbGVIaWdobGlnaHQgPSBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBFeHRlbnNpb25zID0ge1xuXHRcdFx0J2pzJzogJ2phdmFzY3JpcHQnLFxuXHRcdFx0J3B5JzogJ3B5dGhvbicsXG5cdFx0XHQncmInOiAncnVieScsXG5cdFx0XHQncHMxJzogJ3Bvd2Vyc2hlbGwnLFxuXHRcdFx0J3BzbTEnOiAncG93ZXJzaGVsbCcsXG5cdFx0XHQnc2gnOiAnYmFzaCcsXG5cdFx0XHQnYmF0JzogJ2JhdGNoJyxcblx0XHRcdCdoJzogJ2MnLFxuXHRcdFx0J3RleCc6ICdsYXRleCdcblx0XHR9O1xuXG5cdFx0QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgncHJlW2RhdGEtc3JjXScpKS5mb3JFYWNoKGZ1bmN0aW9uIChwcmUpIHtcblx0XHRcdHZhciBzcmMgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuXG5cdFx0XHR2YXIgbGFuZ3VhZ2UsIHBhcmVudCA9IHByZTtcblx0XHRcdHZhciBsYW5nID0gL1xcYmxhbmcoPzp1YWdlKT8tKFtcXHctXSspXFxiL2k7XG5cdFx0XHR3aGlsZSAocGFyZW50ICYmICFsYW5nLnRlc3QocGFyZW50LmNsYXNzTmFtZSkpIHtcblx0XHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0bGFuZ3VhZ2UgPSAocHJlLmNsYXNzTmFtZS5tYXRjaChsYW5nKSB8fCBbLCAnJ10pWzFdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWxhbmd1YWdlKSB7XG5cdFx0XHRcdHZhciBleHRlbnNpb24gPSAoc3JjLm1hdGNoKC9cXC4oXFx3KykkLykgfHwgWywgJyddKVsxXTtcblx0XHRcdFx0bGFuZ3VhZ2UgPSBFeHRlbnNpb25zW2V4dGVuc2lvbl0gfHwgZXh0ZW5zaW9uO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgY29kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NvZGUnKTtcblx0XHRcdGNvZGUuY2xhc3NOYW1lID0gJ2xhbmd1YWdlLScgKyBsYW5ndWFnZTtcblxuXHRcdFx0cHJlLnRleHRDb250ZW50ID0gJyc7XG5cblx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAnTG9hZGluZ+KApic7XG5cblx0XHRcdHByZS5hcHBlbmRDaGlsZChjb2RlKTtcblxuXHRcdFx0dmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG5cdFx0XHR4aHIub3BlbignR0VUJywgc3JjLCB0cnVlKTtcblxuXHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKHhoci5yZWFkeVN0YXRlID09IDQpIHtcblxuXHRcdFx0XHRcdGlmICh4aHIuc3RhdHVzIDwgNDAwICYmIHhoci5yZXNwb25zZVRleHQpIHtcblx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSB4aHIucmVzcG9uc2VUZXh0O1xuXG5cdFx0XHRcdFx0XHRQcmlzbS5oaWdobGlnaHRFbGVtZW50KGNvZGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICh4aHIuc3RhdHVzID49IDQwMCkge1xuXHRcdFx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9ICfinJYgRXJyb3IgJyArIHhoci5zdGF0dXMgKyAnIHdoaWxlIGZldGNoaW5nIGZpbGU6ICcgKyB4aHIuc3RhdHVzVGV4dDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ+KcliBFcnJvcjogRmlsZSBkb2VzIG5vdCBleGlzdCBvciBpcyBlbXB0eSc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHR4aHIuc2VuZChudWxsKTtcblx0XHR9KTtcblxuXHRcdGlmIChQcmlzbS5wbHVnaW5zLnRvb2xiYXIpIHtcblx0XHRcdFByaXNtLnBsdWdpbnMudG9vbGJhci5yZWdpc3RlckJ1dHRvbignZG93bmxvYWQtZmlsZScsIGZ1bmN0aW9uIChlbnYpIHtcblx0XHRcdFx0dmFyIHByZSA9IGVudi5lbGVtZW50LnBhcmVudE5vZGU7XG5cdFx0XHRcdGlmICghcHJlIHx8ICEvcHJlL2kudGVzdChwcmUubm9kZU5hbWUpIHx8ICFwcmUuaGFzQXR0cmlidXRlKCdkYXRhLXNyYycpIHx8ICFwcmUuaGFzQXR0cmlidXRlKCdkYXRhLWRvd25sb2FkLWxpbmsnKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgc3JjID0gcHJlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcblx0XHRcdFx0dmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0XHRcdGEudGV4dENvbnRlbnQgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLWRvd25sb2FkLWxpbmstbGFiZWwnKSB8fCAnRG93bmxvYWQnO1xuXHRcdFx0XHRhLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAnJyk7XG5cdFx0XHRcdGEuaHJlZiA9IHNyYztcblx0XHRcdFx0cmV0dXJuIGE7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0fTtcblxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgc2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0KTtcblxufSkoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcHJpc21qcy9wcmlzbS5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZnJvbSA9IGZ1bmN0aW9uKG9wdHMsIHBsdWdpbnMpIHtcbiAgdmFyIHBhcmVudCA9IChvcHRzLnBhcmVudCB8fCBvcHRzKS5ub2RlVHlwZSA9PT0gMSA/IChvcHRzLnBhcmVudCB8fCBvcHRzKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0cy5wYXJlbnQgfHwgb3B0cyksXG4gICAgc2xpZGVzID0gW10uZmlsdGVyLmNhbGwodHlwZW9mIG9wdHMuc2xpZGVzID09PSAnc3RyaW5nJyA/IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKG9wdHMuc2xpZGVzKSA6IChvcHRzLnNsaWRlcyB8fCBwYXJlbnQuY2hpbGRyZW4pLCBmdW5jdGlvbihlbCkgeyByZXR1cm4gZWwubm9kZU5hbWUgIT09ICdTQ1JJUFQnOyB9KSxcbiAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1swXSxcbiAgICBsaXN0ZW5lcnMgPSB7fSxcblxuICAgIGFjdGl2YXRlID0gZnVuY3Rpb24oaW5kZXgsIGN1c3RvbURhdGEpIHtcbiAgICAgIGlmICghc2xpZGVzW2luZGV4XSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZpcmUoJ2RlYWN0aXZhdGUnLCBjcmVhdGVFdmVudERhdGEoYWN0aXZlU2xpZGUsIGN1c3RvbURhdGEpKTtcbiAgICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzW2luZGV4XTtcbiAgICAgIGZpcmUoJ2FjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG4gICAgfSxcblxuICAgIHNsaWRlID0gZnVuY3Rpb24oaW5kZXgsIGN1c3RvbURhdGEpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGZpcmUoJ3NsaWRlJywgY3JlYXRlRXZlbnREYXRhKHNsaWRlc1tpbmRleF0sIGN1c3RvbURhdGEpKSAmJiBhY3RpdmF0ZShpbmRleCwgY3VzdG9tRGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2xpZGVzLmluZGV4T2YoYWN0aXZlU2xpZGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdGVwID0gZnVuY3Rpb24ob2Zmc2V0LCBjdXN0b21EYXRhKSB7XG4gICAgICB2YXIgc2xpZGVJbmRleCA9IHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKSArIG9mZnNldDtcblxuICAgICAgZmlyZShvZmZzZXQgPiAwID8gJ25leHQnIDogJ3ByZXYnLCBjcmVhdGVFdmVudERhdGEoYWN0aXZlU2xpZGUsIGN1c3RvbURhdGEpKSAmJiBhY3RpdmF0ZShzbGlkZUluZGV4LCBjdXN0b21EYXRhKTtcbiAgICB9LFxuXG4gICAgb24gPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgKGxpc3RlbmVyc1tldmVudE5hbWVdID0gW10pKS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiBvZmYuYmluZChudWxsLCBldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgb2ZmID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgbGlzdGVuZXJzW2V2ZW50TmFtZV0gPSAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgW10pLmZpbHRlcihmdW5jdGlvbihsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIgIT09IGNhbGxiYWNrOyB9KTtcbiAgICB9LFxuXG4gICAgZmlyZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZXZlbnREYXRhKSB7XG4gICAgICByZXR1cm4gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKVxuICAgICAgICAucmVkdWNlKGZ1bmN0aW9uKG5vdENhbmNlbGxlZCwgY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gbm90Q2FuY2VsbGVkICYmIGNhbGxiYWNrKGV2ZW50RGF0YSkgIT09IGZhbHNlO1xuICAgICAgICB9LCB0cnVlKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZWwsIGV2ZW50RGF0YSkge1xuICAgICAgZXZlbnREYXRhID0gZXZlbnREYXRhIHx8IHt9O1xuICAgICAgZXZlbnREYXRhLmluZGV4ID0gc2xpZGVzLmluZGV4T2YoZWwpO1xuICAgICAgZXZlbnREYXRhLnNsaWRlID0gZWw7XG4gICAgICByZXR1cm4gZXZlbnREYXRhO1xuICAgIH0sXG5cbiAgICBkZWNrID0ge1xuICAgICAgb246IG9uLFxuICAgICAgb2ZmOiBvZmYsXG4gICAgICBmaXJlOiBmaXJlLFxuICAgICAgc2xpZGU6IHNsaWRlLFxuICAgICAgbmV4dDogc3RlcC5iaW5kKG51bGwsIDEpLFxuICAgICAgcHJldjogc3RlcC5iaW5kKG51bGwsIC0xKSxcbiAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgc2xpZGVzOiBzbGlkZXNcbiAgICB9O1xuXG4gIChwbHVnaW5zIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgIHBsdWdpbihkZWNrKTtcbiAgfSk7XG5cbiAgYWN0aXZhdGUoMCk7XG5cbiAgcmV0dXJuIGRlY2s7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZnJvbTogZnJvbVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlL2xpYi9iZXNwb2tlLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIVxuICogYmVzcG9rZS10aGVtZS1uZWJ1bGEgdjEuMC4xXG4gKlxuICogQ29weXJpZ2h0IDIwMTQsIE1hcmsgRGFsZ2xlaXNoXG4gKiBUaGlzIGNvbnRlbnQgaXMgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBcbiAqL1xuXG4hZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShlKTtlbHNle3ZhciBvO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/bz13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9vPWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKG89c2VsZik7dmFyIGY9bztmPWYuYmVzcG9rZXx8KGYuYmVzcG9rZT17fSksZj1mLnRoZW1lc3x8KGYudGhlbWVzPXt9KSxmLm5lYnVsYT1lKCl9fShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblxudmFyIGNsYXNzZXMgPSBfZGVyZXFfKCdiZXNwb2tlLWNsYXNzZXMnKTtcbnZhciBpbnNlcnRDc3MgPSBfZGVyZXFfKCdpbnNlcnQtY3NzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjc3MgPSBcIi8qISBub3JtYWxpemUuY3NzIHYzLjAuMCB8IE1JVCBMaWNlbnNlIHwgZ2l0LmlvL25vcm1hbGl6ZSAqL2h0bWx7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjstbXMtdGV4dC1zaXplLWFkanVzdDoxMDAlOy13ZWJraXQtdGV4dC1zaXplLWFkanVzdDoxMDAlfWJvZHl7bWFyZ2luOjB9YXJ0aWNsZSxhc2lkZSxkZXRhaWxzLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsaGdyb3VwLG1haW4sbmF2LHNlY3Rpb24sc3VtbWFyeXtkaXNwbGF5OmJsb2NrfWF1ZGlvLGNhbnZhcyxwcm9ncmVzcyx2aWRlb3tkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX1hdWRpbzpub3QoW2NvbnRyb2xzXSl7ZGlzcGxheTpub25lO2hlaWdodDowfVtoaWRkZW5dLHRlbXBsYXRle2Rpc3BsYXk6bm9uZX1he2JhY2tncm91bmQ6MCAwfWE6YWN0aXZlLGE6aG92ZXJ7b3V0bGluZTowfWFiYnJbdGl0bGVde2JvcmRlci1ib3R0b206MXB4IGRvdHRlZH1ie2ZvbnQtd2VpZ2h0OjcwMH1kZm57Zm9udC1zdHlsZTppdGFsaWN9aDF7Zm9udC1zaXplOjJlbX1tYXJre2JhY2tncm91bmQ6I2ZmMDtjb2xvcjojMDAwfXNtYWxse2ZvbnQtc2l6ZTo4MCV9c3ViLHN1cHtmb250LXNpemU6NzUlO2xpbmUtaGVpZ2h0OjA7cG9zaXRpb246cmVsYXRpdmU7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9c3Vwe3RvcDotLjVlbX1zdWJ7Ym90dG9tOi0uMjVlbX1pbWd7Ym9yZGVyOjB9c3ZnOm5vdCg6cm9vdCl7b3ZlcmZsb3c6aGlkZGVufWZpZ3VyZXttYXJnaW46MWVtIDQwcHh9aHJ7Ym94LXNpemluZzpjb250ZW50LWJveH1wcmV7b3ZlcmZsb3c6YXV0b31jb2RlLGtiZCxwcmUsc2FtcHtmb250LXNpemU6MWVtfWtiZCxwcmUsc2FtcHtmb250LWZhbWlseTptb25vc3BhY2UsbW9ub3NwYWNlfWJ1dHRvbixpbnB1dCxvcHRncm91cCxzZWxlY3QsdGV4dGFyZWF7Y29sb3I6aW5oZXJpdDtmb250OmluaGVyaXQ7bWFyZ2luOjB9YnV0dG9ue292ZXJmbG93OnZpc2libGV9YnV0dG9uLHNlbGVjdHt0ZXh0LXRyYW5zZm9ybTpub25lfWJ1dHRvbixodG1sIGlucHV0W3R5cGU9XFxcImJ1dHRvblxcXCJdLGlucHV0W3R5cGU9XFxcInJlc2V0XFxcIl0saW5wdXRbdHlwZT1cXFwic3VibWl0XFxcIl17LXdlYmtpdC1hcHBlYXJhbmNlOmJ1dHRvbjtjdXJzb3I6cG9pbnRlcn1idXR0b25bZGlzYWJsZWRdLGh0bWwgaW5wdXRbZGlzYWJsZWRde2N1cnNvcjpkZWZhdWx0fWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lcixpbnB1dDo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6MDtwYWRkaW5nOjB9aW5wdXR7bGluZS1oZWlnaHQ6bm9ybWFsfWlucHV0W3R5cGU9XFxcImNoZWNrYm94XFxcIl0saW5wdXRbdHlwZT1cXFwicmFkaW9cXFwiXXtib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzowfWlucHV0W3R5cGU9XFxcIm51bWJlclxcXCJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLGlucHV0W3R5cGU9XFxcIm51bWJlclxcXCJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfWlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdey13ZWJraXQtYXBwZWFyYW5jZTp0ZXh0ZmllbGQ7Ym94LXNpemluZzpjb250ZW50LWJveH1pbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXTo6LXdlYmtpdC1zZWFyY2gtY2FuY2VsLWJ1dHRvbixpbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXTo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX1maWVsZHNldHtib3JkZXI6MXB4IHNvbGlkIHNpbHZlcjttYXJnaW46MCAycHg7cGFkZGluZzouMzVlbSAuNjI1ZW0gLjc1ZW19bGVnZW5ke2JvcmRlcjowO3BhZGRpbmc6MH10ZXh0YXJlYXtvdmVyZmxvdzphdXRvfW9wdGdyb3Vwe2ZvbnQtd2VpZ2h0OjcwMH10YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Ym9yZGVyLXNwYWNpbmc6MH10ZCx0aCwqe3BhZGRpbmc6MH0qe21hcmdpbjowfWh0bWx7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OmF1dG87LW1zLXRleHQtc2l6ZS1hZGp1c3Q6YXV0bzt0ZXh0LXNpemUtYWRqdXN0OmF1dG99LmJlc3Bva2UtcGFyZW50e2ZvbnQtc2l6ZToxLjVlbTtiYWNrZ3JvdW5kOiMxMTE7Y29sb3I6I2RkZDtmb250LWZhbWlseTpmdXR1cmEsaGVsdmV0aWNhLGFyaWFsLGFyaWFsLHNhbnMtc2VyaWY7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246Y2VudGVyOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDFzIGVhc2U7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDFzIGVhc2U7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUgNTAlfS5iZXNwb2tlLXBhcmVudCwuYmVzcG9rZS1zY2FsZS1wYXJlbnR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjB9LmJlc3Bva2Utc2NhbGUtcGFyZW50e3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDoxfS5iZXNwb2tlLXNjYWxlLXBhcmVudCAuYmVzcG9rZS1hY3RpdmV7cG9pbnRlci1ldmVudHM6YXV0b30uYmVzcG9rZS1zbGlkZXstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuNXMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjVzIGVhc2U7d2lkdGg6OTQwcHg7aGVpZ2h0OjQ4MHB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTQ3MHB4O21hcmdpbi10b3A6LTI0MHB4O2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotd2Via2l0LWZsZXg7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsOy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWw7LXdlYmtpdC1mbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7ei1pbmRleDoxfS5iZXNwb2tlLWFjdGl2ZXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6LjVzO3RyYW5zaXRpb24tZGVsYXk6LjVzfS5iZXNwb2tlLWFjdGl2ZVtkYXRhLWJlc3Bva2UtYmFja2Ryb3Bdey13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouNzVzO3RyYW5zaXRpb24tZGVsYXk6Ljc1c30uYmVzcG9rZS1pbmFjdGl2ZXtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZX0uYmVzcG9rZS1iYWNrZHJvcHstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowfS5iZXNwb2tlLXByb2dyZXNzLXBhcmVudHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtoZWlnaHQ6LjN2dzt6LWluZGV4OjF9LmJlc3Bva2UtcHJvZ3Jlc3MtYmFye2JhY2tncm91bmQ6I2RkZDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7aGVpZ2h0OjEwMCU7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDFzIGVhc2U7dHJhbnNpdGlvbjp3aWR0aCAxcyBlYXNlfS5iZXNwb2tlLWJ1bGxldHstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuM3MgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2V9LmJlc3Bva2UtYnVsbGV0LWluYWN0aXZle29wYWNpdHk6MH1zdHJvbmd7Zm9udC13ZWlnaHQ6NDAwfWhye3dpZHRoOjUwJTttYXJnaW46MXJlbSBhdXRvO2hlaWdodDoxcHg7Ym9yZGVyOjA7YmFja2dyb3VuZDojZGRkfWgzLHAsbGl7cGFkZGluZy1sZWZ0OjIwcHg7cGFkZGluZy1yaWdodDoyMHB4fWgzLGg0LHAsbGkscHJle2ZvbnQtd2VpZ2h0OjIwMH1oMXtsaW5lLWhlaWdodDoxLjRlbTtwYWRkaW5nOjFlbTtib3JkZXI6MXB4IHNvbGlkICNkZGQ7Ym9yZGVyLWxlZnQtd2lkdGg6MDtib3JkZXItcmlnaHQtd2lkdGg6MDttaW4td2lkdGg6OGVtfWgxLGgye2xldHRlci1zcGFjaW5nOi4zZW07dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO2ZvbnQtd2VpZ2h0OjQwMDttYXJnaW46LjE3ZW0gMDtwb3NpdGlvbjpyZWxhdGl2ZX1oMntsaW5lLWhlaWdodDoxLjFlbTtwYWRkaW5nOjAgMCAwIC4zZW19aDN7Zm9udC1mYW1pbHk6ZGlkb3QsdGltZXMgbmV3IHJvbWFuLHNlcmlmO2ZvbnQtc3R5bGU6aXRhbGljO2ZvbnQtc2l6ZToxLjJlbTtsaW5lLWhlaWdodDoxLjZlbTttYXJnaW46LjVlbSAwfWg0e3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtmb250LXNpemU6LjhlbTtsaW5lLWhlaWdodDoxLjhlbTtsZXR0ZXItc3BhY2luZzouM2VtO21hcmdpbjoxZW0gMH11bCxvbHtwYWRkaW5nOjA7bWFyZ2luOjA7dGV4dC1hbGlnbjpsZWZ0fWxpe2xpc3Qtc3R5bGU6bm9uZTttYXJnaW46LjJlbTtmb250LXN0eWxlOm5vcm1hbDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KX1saTpiZWZvcmV7Y29udGVudDonXFxcXDIwMTQnO21hcmdpbi1yaWdodDo0cHh9cHJle2JhY2tncm91bmQ6bm9uZSFpbXBvcnRhbnR9Y29kZXtmb250LWZhbWlseTpwcmVzdGlnZSBlbGl0ZSBzdGQsY29uc29sYXMsY291cmllciBuZXcsbW9ub3NwYWNlIWltcG9ydGFudDtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDoyMDAhaW1wb3J0YW50O3RleHQtYWxpZ246bGVmdH1he3BhZGRpbmctbGVmdDouM2VtO2NvbG9yOmN1cnJlbnRDb2xvcjt0ZXh0LWRlY29yYXRpb246bm9uZTtib3JkZXItYm90dG9tOjFweCBzb2xpZCBjdXJyZW50Q29sb3J9LmVtcGhhdGlje2JhY2tncm91bmQ6I2YzMH0uc2luZ2xlLXdvcmRze3dvcmQtc3BhY2luZzo5OTk5cHg7bGluZS1oZWlnaHQ6Mi45ZW07b3ZlcmZsb3c6aGlkZGVufS5iZXNwb2tlLWJhY2tkcm9we29wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlLC13ZWJraXQtdHJhbnNmb3JtIDZzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2UsdHJhbnNmb3JtIDZzIGVhc2U7YmFja2dyb3VuZC1zaXplOmNvdmVyO2JhY2tncm91bmQtcG9zaXRpb246NTAlIDUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApc2NhbGUoMS4zKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKXNjYWxlKDEuMyl9LmJlc3Bva2UtYmFja2Ryb3AtYWN0aXZlLC5iZXNwb2tlLWJhY2tkcm9wLWJlZm9yZXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApfS5iZXNwb2tlLWJhY2tkcm9wLWJlZm9yZXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6LjJzO3RyYW5zaXRpb24tZGVsYXk6LjJzfS5iZXNwb2tlLWJhY2tkcm9wLWFjdGl2ZXtvcGFjaXR5Oi41fVwiO1xuICBpbnNlcnRDc3MoY3NzLCB7IHByZXBlbmQ6IHRydWUgfSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICBjbGFzc2VzKCkoZGVjayk7XG4gIH07XG59O1xuXG59LHtcImJlc3Bva2UtY2xhc3Nlc1wiOjIsXCJpbnNlcnQtY3NzXCI6M31dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbihlbCwgY2xzKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtJyArIGNscyk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGVsLCBjbHMpIHtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lXG4gICAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cCgnYmVzcG9rZS0nICsgY2xzICsnKFxcXFxzfCQpJywgJ2cnKSwgJyAnKVxuICAgICAgICAgIC50cmltKCk7XG4gICAgICB9LFxuXG4gICAgICBkZWFjdGl2YXRlID0gZnVuY3Rpb24oZWwsIGluZGV4KSB7XG4gICAgICAgIHZhciBhY3RpdmVTbGlkZSA9IGRlY2suc2xpZGVzW2RlY2suc2xpZGUoKV0sXG4gICAgICAgICAgb2Zmc2V0ID0gaW5kZXggLSBkZWNrLnNsaWRlKCksXG4gICAgICAgICAgb2Zmc2V0Q2xhc3MgPSBvZmZzZXQgPiAwID8gJ2FmdGVyJyA6ICdiZWZvcmUnO1xuXG4gICAgICAgIFsnYmVmb3JlKC1cXFxcZCspPycsICdhZnRlcigtXFxcXGQrKT8nLCAnYWN0aXZlJywgJ2luYWN0aXZlJ10ubWFwKHJlbW92ZUNsYXNzLmJpbmQobnVsbCwgZWwpKTtcblxuICAgICAgICBpZiAoZWwgIT09IGFjdGl2ZVNsaWRlKSB7XG4gICAgICAgICAgWydpbmFjdGl2ZScsIG9mZnNldENsYXNzLCBvZmZzZXRDbGFzcyArICctJyArIE1hdGguYWJzKG9mZnNldCldLm1hcChhZGRDbGFzcy5iaW5kKG51bGwsIGVsKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBhZGRDbGFzcyhkZWNrLnBhcmVudCwgJ3BhcmVudCcpO1xuICAgIGRlY2suc2xpZGVzLm1hcChmdW5jdGlvbihlbCkgeyBhZGRDbGFzcyhlbCwgJ3NsaWRlJyk7IH0pO1xuXG4gICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG4gICAgICBkZWNrLnNsaWRlcy5tYXAoZGVhY3RpdmF0ZSk7XG4gICAgICBhZGRDbGFzcyhlLnNsaWRlLCAnYWN0aXZlJyk7XG4gICAgICByZW1vdmVDbGFzcyhlLnNsaWRlLCAnaW5hY3RpdmUnKTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbn0se31dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGluc2VydGVkID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcywgb3B0aW9ucykge1xuICAgIGlmIChpbnNlcnRlZFtjc3NdKSByZXR1cm47XG4gICAgaW5zZXJ0ZWRbY3NzXSA9IHRydWU7XG4gICAgXG4gICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGVsZW0uc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7XG5cbiAgICBpZiAoJ3RleHRDb250ZW50JyBpbiBlbGVtKSB7XG4gICAgICBlbGVtLnRleHRDb250ZW50ID0gY3NzO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgICB9XG4gICAgXG4gICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucHJlcGVuZCkge1xuICAgICAgICBoZWFkLmluc2VydEJlZm9yZShlbGVtLCBoZWFkLmNoaWxkTm9kZXNbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgfVxufTtcblxufSx7fV19LHt9LFsxXSlcbigxKVxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtdGhlbWUtbmVidWxhL2Rpc3QvYmVzcG9rZS10aGVtZS1uZWJ1bGEuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGlzSG9yaXpvbnRhbCA9IG9wdGlvbnMgIT09ICd2ZXJ0aWNhbCc7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT0gMzQgfHwgLy8gUEFHRSBET1dOXG4gICAgICAgIChlLndoaWNoID09IDMyICYmICFlLnNoaWZ0S2V5KSB8fCAvLyBTUEFDRSBXSVRIT1VUIFNISUZUXG4gICAgICAgIChpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzOSkgfHwgLy8gUklHSFRcbiAgICAgICAgKCFpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSA0MCkgLy8gRE9XTlxuICAgICAgKSB7IGRlY2submV4dCgpOyB9XG5cbiAgICAgIGlmIChlLndoaWNoID09IDMzIHx8IC8vIFBBR0UgVVBcbiAgICAgICAgKGUud2hpY2ggPT0gMzIgJiYgZS5zaGlmdEtleSkgfHwgLy8gU1BBQ0UgKyBTSElGVFxuICAgICAgICAoaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzcpIHx8IC8vIExFRlRcbiAgICAgICAgKCFpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzOCkgLy8gVVBcbiAgICAgICkgeyBkZWNrLnByZXYoKTsgfVxuICAgIH0pO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLWtleXMvbGliL2Jlc3Bva2Uta2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgYXhpcyA9IG9wdGlvbnMgPT0gJ3ZlcnRpY2FsJyA/ICdZJyA6ICdYJyxcbiAgICAgIHN0YXJ0UG9zaXRpb24sXG4gICAgICBkZWx0YTtcblxuICAgIGRlY2sucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHN0YXJ0UG9zaXRpb24gPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc107XG4gICAgICAgIGRlbHRhID0gMDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlY2sucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkZWx0YSA9IGUudG91Y2hlc1swXVsncGFnZScgKyBheGlzXSAtIHN0YXJ0UG9zaXRpb247XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IDUwKSB7XG4gICAgICAgIGRlY2tbZGVsdGEgPiAwID8gJ3ByZXYnIDogJ25leHQnXSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLXRvdWNoL2xpYi9iZXNwb2tlLXRvdWNoLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBhY3RpdmVTbGlkZUluZGV4LFxuICAgICAgYWN0aXZlQnVsbGV0SW5kZXgsXG5cbiAgICAgIGJ1bGxldHMgPSBkZWNrLnNsaWRlcy5tYXAoZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoc2xpZGUucXVlcnlTZWxlY3RvckFsbCgodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnID8gb3B0aW9ucyA6ICdbZGF0YS1iZXNwb2tlLWJ1bGxldF0nKSksIDApO1xuICAgICAgfSksXG5cbiAgICAgIG5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG5leHRTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCArIDE7XG5cbiAgICAgICAgaWYgKGFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQoMSkpIHtcbiAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChhY3RpdmVTbGlkZUluZGV4LCBhY3RpdmVCdWxsZXRJbmRleCArIDEpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChidWxsZXRzW25leHRTbGlkZUluZGV4XSkge1xuICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KG5leHRTbGlkZUluZGV4LCAwKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgcHJldiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcHJldlNsaWRlSW5kZXggPSBhY3RpdmVTbGlkZUluZGV4IC0gMTtcblxuICAgICAgICBpZiAoYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCgtMSkpIHtcbiAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChhY3RpdmVTbGlkZUluZGV4LCBhY3RpdmVCdWxsZXRJbmRleCAtIDEpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChidWxsZXRzW3ByZXZTbGlkZUluZGV4XSkge1xuICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KHByZXZTbGlkZUluZGV4LCBidWxsZXRzW3ByZXZTbGlkZUluZGV4XS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgYWN0aXZhdGVCdWxsZXQgPSBmdW5jdGlvbihzbGlkZUluZGV4LCBidWxsZXRJbmRleCkge1xuICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gc2xpZGVJbmRleDtcbiAgICAgICAgYWN0aXZlQnVsbGV0SW5kZXggPSBidWxsZXRJbmRleDtcblxuICAgICAgICBidWxsZXRzLmZvckVhY2goZnVuY3Rpb24oc2xpZGUsIHMpIHtcbiAgICAgICAgICBzbGlkZS5mb3JFYWNoKGZ1bmN0aW9uKGJ1bGxldCwgYikge1xuICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0Jyk7XG5cbiAgICAgICAgICAgIGlmIChzIDwgc2xpZGVJbmRleCB8fCBzID09PSBzbGlkZUluZGV4ICYmIGIgPD0gYnVsbGV0SW5kZXgpIHtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0LWFjdGl2ZScpO1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1idWxsZXQtaW5hY3RpdmUnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZScpO1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1idWxsZXQtYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzID09PSBzbGlkZUluZGV4ICYmIGIgPT09IGJ1bGxldEluZGV4KSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1jdXJyZW50Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1idWxsZXQtY3VycmVudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIGFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQgPSBmdW5jdGlvbihvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGJ1bGxldHNbYWN0aXZlU2xpZGVJbmRleF1bYWN0aXZlQnVsbGV0SW5kZXggKyBvZmZzZXRdICE9PSB1bmRlZmluZWQ7XG4gICAgICB9O1xuXG4gICAgZGVjay5vbignbmV4dCcsIG5leHQpO1xuICAgIGRlY2sub24oJ3ByZXYnLCBwcmV2KTtcblxuICAgIGRlY2sub24oJ3NsaWRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgYWN0aXZhdGVCdWxsZXQoZS5pbmRleCwgMCk7XG4gICAgfSk7XG5cbiAgICBhY3RpdmF0ZUJ1bGxldCgwLCAwKTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS1idWxsZXRzL2xpYi9iZXNwb2tlLWJ1bGxldHMuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgYmFja2Ryb3BzO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFja2Ryb3BGb3JTbGlkZShzbGlkZSkge1xuICAgICAgdmFyIGJhY2tkcm9wQXR0cmlidXRlID0gc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtYmFja2Ryb3AnKTtcblxuICAgICAgaWYgKGJhY2tkcm9wQXR0cmlidXRlKSB7XG4gICAgICAgIHZhciBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBiYWNrZHJvcC5jbGFzc05hbWUgPSBiYWNrZHJvcEF0dHJpYnV0ZTtcbiAgICAgICAgYmFja2Ryb3AuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1iYWNrZHJvcCcpO1xuICAgICAgICBkZWNrLnBhcmVudC5hcHBlbmRDaGlsZChiYWNrZHJvcCk7XG4gICAgICAgIHJldHVybiBiYWNrZHJvcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVDbGFzc2VzKGVsKSB7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFja2Ryb3BzLmluZGV4T2YoZWwpLFxuICAgICAgICAgIGN1cnJlbnRJbmRleCA9IGRlY2suc2xpZGUoKTtcblxuICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2FjdGl2ZScpO1xuICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2luYWN0aXZlJyk7XG4gICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYmVmb3JlJyk7XG4gICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYWZ0ZXInKTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IGN1cnJlbnRJbmRleCkge1xuICAgICAgICAgIGFkZENsYXNzKGVsLCAnaW5hY3RpdmUnKTtcbiAgICAgICAgICBhZGRDbGFzcyhlbCwgaW5kZXggPCBjdXJyZW50SW5kZXggPyAnYmVmb3JlJyA6ICdhZnRlcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZENsYXNzKGVsLCAnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJhY2tkcm9wLScgKyBjbGFzc05hbWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYmFja2Ryb3AtJyArIGNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgYmFja2Ryb3BzID0gZGVjay5zbGlkZXNcbiAgICAgIC5tYXAoY3JlYXRlQmFja2Ryb3BGb3JTbGlkZSk7XG5cbiAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgYmFja2Ryb3BzLmZvckVhY2godXBkYXRlQ2xhc3Nlcyk7XG4gICAgfSk7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtYmFja2Ryb3AvbGliL2Jlc3Bva2UtYmFja2Ryb3AuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIHBhcmVudCA9IGRlY2sucGFyZW50LFxuICAgICAgZmlyc3RTbGlkZSA9IGRlY2suc2xpZGVzWzBdLFxuICAgICAgc2xpZGVIZWlnaHQgPSBmaXJzdFNsaWRlLm9mZnNldEhlaWdodCxcbiAgICAgIHNsaWRlV2lkdGggPSBmaXJzdFNsaWRlLm9mZnNldFdpZHRoLFxuICAgICAgdXNlWm9vbSA9IG9wdGlvbnMgPT09ICd6b29tJyB8fCAoJ3pvb20nIGluIHBhcmVudC5zdHlsZSAmJiBvcHRpb25zICE9PSAndHJhbnNmb3JtJyksXG5cbiAgICAgIHdyYXAgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gJ2Jlc3Bva2Utc2NhbGUtcGFyZW50JztcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCBlbGVtZW50KTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgICB9LFxuXG4gICAgICBlbGVtZW50cyA9IHVzZVpvb20gPyBkZWNrLnNsaWRlcyA6IGRlY2suc2xpZGVzLm1hcCh3cmFwKSxcblxuICAgICAgdHJhbnNmb3JtUHJvcGVydHkgPSAoZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgICAgdmFyIHByZWZpeGVzID0gJ01veiBXZWJraXQgTyBtcycuc3BsaXQoJyAnKTtcbiAgICAgICAgcmV0dXJuIHByZWZpeGVzLnJlZHVjZShmdW5jdGlvbihjdXJyZW50UHJvcGVydHksIHByZWZpeCkge1xuICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArIHByb3BlcnR5IGluIHBhcmVudC5zdHlsZSA/IHByZWZpeCArIHByb3BlcnR5IDogY3VycmVudFByb3BlcnR5O1xuICAgICAgICAgIH0sIHByb3BlcnR5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSgnVHJhbnNmb3JtJykpLFxuXG4gICAgICBzY2FsZSA9IHVzZVpvb20gP1xuICAgICAgICBmdW5jdGlvbihyYXRpbywgZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGUuem9vbSA9IHJhdGlvO1xuICAgICAgICB9IDpcbiAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlW3RyYW5zZm9ybVByb3BlcnR5XSA9ICdzY2FsZSgnICsgcmF0aW8gKyAnKSc7XG4gICAgICAgIH0sXG5cbiAgICAgIHNjYWxlQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB4U2NhbGUgPSBwYXJlbnQub2Zmc2V0V2lkdGggLyBzbGlkZVdpZHRoLFxuICAgICAgICAgIHlTY2FsZSA9IHBhcmVudC5vZmZzZXRIZWlnaHQgLyBzbGlkZUhlaWdodDtcblxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKHNjYWxlLmJpbmQobnVsbCwgTWF0aC5taW4oeFNjYWxlLCB5U2NhbGUpKSk7XG4gICAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNjYWxlQWxsKTtcbiAgICBzY2FsZUFsbCgpO1xuICB9O1xuXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2Utc2NhbGUvbGliL2Jlc3Bva2Utc2NhbGUuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgYWN0aXZhdGVTbGlkZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICB2YXIgaW5kZXhUb0FjdGl2YXRlID0gLTEgPCBpbmRleCAmJiBpbmRleCA8IGRlY2suc2xpZGVzLmxlbmd0aCA/IGluZGV4IDogMDtcbiAgICAgIGlmIChpbmRleFRvQWN0aXZhdGUgIT09IGRlY2suc2xpZGUoKSkge1xuICAgICAgICBkZWNrLnNsaWRlKGluZGV4VG9BY3RpdmF0ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBwYXJzZUhhc2ggPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSksXG4gICAgICAgIHNsaWRlTnVtYmVyT3JOYW1lID0gcGFyc2VJbnQoaGFzaCwgMTApO1xuXG4gICAgICBpZiAoaGFzaCkge1xuICAgICAgICBpZiAoc2xpZGVOdW1iZXJPck5hbWUpIHtcbiAgICAgICAgICBhY3RpdmF0ZVNsaWRlKHNsaWRlTnVtYmVyT3JOYW1lIC0gMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVjay5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSwgaSkge1xuICAgICAgICAgICAgaWYgKHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWhhc2gnKSA9PT0gaGFzaCB8fCBzbGlkZS5pZCA9PT0gaGFzaCkge1xuICAgICAgICAgICAgICBhY3RpdmF0ZVNsaWRlKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBwYXJzZUhhc2goKTtcblxuICAgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBzbGlkZU5hbWUgPSBlLnNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWhhc2gnKSB8fCBlLnNsaWRlLmlkO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNsaWRlTmFtZSB8fCBlLmluZGV4ICsgMTtcbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHBhcnNlSGFzaCk7XG4gICAgfSwgMCk7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtaGFzaC9saWIvYmVzcG9rZS1oYXNoLmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24gKGRlY2spIHtcbiAgICB2YXIgcHJvZ3Jlc3NQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIHByb2dyZXNzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBwcm9wID0gb3B0aW9ucyA9PT0gJ3ZlcnRpY2FsJyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICAgIHByb2dyZXNzUGFyZW50LmNsYXNzTmFtZSA9ICdiZXNwb2tlLXByb2dyZXNzLXBhcmVudCc7XG4gICAgcHJvZ3Jlc3NCYXIuY2xhc3NOYW1lID0gJ2Jlc3Bva2UtcHJvZ3Jlc3MtYmFyJztcbiAgICBwcm9ncmVzc1BhcmVudC5hcHBlbmRDaGlsZChwcm9ncmVzc0Jhcik7XG4gICAgZGVjay5wYXJlbnQuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NQYXJlbnQpO1xuXG4gICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG4gICAgICBwcm9ncmVzc0Jhci5zdHlsZVtwcm9wXSA9IChlLmluZGV4ICogMTAwIC8gKGRlY2suc2xpZGVzLmxlbmd0aCAtIDEpKSArICclJztcbiAgICB9KTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS1wcm9ncmVzcy9saWIvYmVzcG9rZS1wcm9ncmVzcy5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypnbG9iYWwgbW9kdWxlOnRydWUsIHJlcXVpcmU6dHJ1ZSAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIHBsdWdpbk5hbWUgPSBcImluZGV4ZmluZ2VyXCIsXG4gICAgLy8gSGFjayB0byBnZXQgYXJvdW5kIGhhdmluZyB0byB3cml0ZSBhbGwgYnJvd3NlciBjb2RlIHdpdGggcmVxdWlyZSgpLlxuICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfShGdW5jdGlvbikpLFxuICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCByZXF1aXJlKFwiYmVzcG9rZS1jb252ZW5pZW50XCIpKSxcbiAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblxuICAgIHBsdWdpbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlY2tlciA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgICAgIHZhciBjdkJvdW5kVG9EZWNrID0gY3YuYWN0aXZhdGVEZWNrKGRlY2spLFxuXG4gICAgICAgICAgICAgICAgb2ZmID0ge30sXG5cbiAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZSA9IG51bGwsXG5cbiAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gLTEsXG5cbiAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlQWN0aXZlU2xpZGVMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmYuc2F2ZUFjdGl2ZVNsaWRlID0gdGhpcy5vbihcImFjdGl2YXRlXCIsIHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLnNhdmVBY3RpdmVTbGlkZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBzYXZlQWN0aXZlU2xpZGU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlID0gZS5zbGlkZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBlLmluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldEFjdGl2ZVNsaWRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTbGlkZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZUluZGV4OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTbGlkZUluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjay5nZXRBY3RpdmVTbGlkZSA9IHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLmdldEFjdGl2ZVNsaWRlLmJpbmQoZGVjayk7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suZ2V0QWN0aXZlU2xpZGVJbmRleCA9IHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLmdldEFjdGl2ZVNsaWRlSW5kZXguYmluZChkZWNrKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZW5hYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLmVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXIuY2FsbChkZWNrKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGluaXQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGVja2VyO1xuICAgIH07XG5cbm1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtaW5kZXhmaW5nZXIvbGliL2Jlc3Bva2UtaW5kZXhmaW5nZXIuanNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qZ2xvYmFsIG1vZHVsZTp0cnVlLCBjb25zb2xlOnRydWUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBwbHVnaW5OYW1lID0gXCJjb252ZW5pZW50XCIsXG4gICAgYnJvd3Nlckdsb2JhbCA9IChmdW5jdGlvbihmKSB7XG4gICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICB9KEZ1bmN0aW9uKSksXG5cbiAgICBjdixcblxuICAgIC8vIFRoZSBkZWZhdWx0cyBvYmplY3QgaXMgcGFzc2VkIGFzIGEgcmVmZXJlbmNlLCBhbmQgY2FuIGJlIG1vZGlmaWVkIGJ5IGJyb3dzZXJHbG9iYWwuY29udmVuaWVudEluaXRcbiAgICBkZWZhdWx0cyA9IHtcbiAgICAgICAgbG9nZ2VyOiB7XG4gICAgICAgICAgICBsb2c6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIHBoYW50b20tcG9seWZpbGwuanMgcHJvYmxlbXMgYmluZGluZyBjb25zb2xlLmxvZyAod2luZG93LmNvbnNvbGUubG9nKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5pdE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXG4gICAgICAgIC8vIE9ubHkgbWVyZ2Uga25vd24gb3B0aW9uc1xuICAgICAgICBtZXJnZWQubG9nZ2VyID0ge307XG4gICAgICAgIG1lcmdlZC5sb2dnZXIubG9nID0gKGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMgJiYgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIgJiYgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nKSB8fCBkZWZhdWx0cy5sb2dnZXIubG9nO1xuXG4gICAgICAgIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMgPSBtZXJnZWQ7XG4gICAgfSxcblxuICAgIHBsdWdpbiA9IHt9LFxuXG4gICAgZGVja3NTdG9yYWdlcyA9IFtdLFxuXG4gICAgaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgIGlmICghZGVjaykge1xuICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWNrQWxyZWFkeVN0b3JlZCA9IGRlY2tzU3RvcmFnZXMuc29tZShmdW5jdGlvbihkZWNrU3RvcmFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlY2tTdG9yYWdlLmRlY2sgPT09IGRlY2s7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkZWNrQWxyZWFkeVN0b3JlZDtcbiAgICB9LFxuXG4gICAgc3RvcmVEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICB2YXIgZGVja0FscmVhZHlTdG9yZWQgPSBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayhkZWNrKTtcblxuICAgICAgICBpZiAoIWRlY2tBbHJlYWR5U3RvcmVkKSB7XG4gICAgICAgICAgICBkZWNrc1N0b3JhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIGRlY2s6IGRlY2ssXG4gICAgICAgICAgICAgICAgc3RvcmFnZToge31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuICAgICAgICBpZiAoIXBsdWdpbk5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJwbHVnaW5OYW1lIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKSxcbiAgICAgICAgICAgIGlzU3RvcmFnZUluaXRpYXRlZCA9ICEhKHN0b3JhZ2UgJiYgc3RvcmFnZVtwbHVnaW5OYW1lXSk7XG5cbiAgICAgICAgcmV0dXJuIGlzU3RvcmFnZUluaXRpYXRlZDtcbiAgICB9LFxuXG4gICAgaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZSA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcbiAgICAgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWNrKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayk7XG5cbiAgICAgICAgaWYgKCFzdG9yYWdlKSB7XG4gICAgICAgICAgICBzdG9yZURlY2soZGVjayk7XG4gICAgICAgICAgICBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmFnZVtwbHVnaW5OYW1lXSA9IHt9O1xuICAgIH0sXG5cbiAgICBpc051bWJlciA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODA4Mi92YWxpZGF0ZS1udW1iZXJzLWluLWphdmFzY3JpcHQtaXNudW1lcmljXG4gICAgICAgIC8vIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTgzMDg0NFxuICAgICAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xuICAgIH0sXG5cbiAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGluaXRPcHRpb25zKCk7XG4gICAgfTtcblxuLy8gRm9yIHBsdWdpbnMgdGhlbXNlbHZlc1xucGx1Z2luLmJ1aWxkZXIgPSBmdW5jdGlvbiBzZWxmKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSBwbHVnaW4gb3B0aW9ucyB3ZXJlIG5vdCBwcm9wZXJseSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHBsdWdpbk5hbWU6IG9wdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucGx1Z2luTmFtZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlIHBsdWdpbiBuYW1lIHdhcyBub3QgcHJvcGVybHkgZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgdmFyIGV4dGVybmFsID0ge30sXG5cbiAgICAgICAgdGFnID0gXCJiZXNwb2tlLlwiICsgb3B0aW9ucy5wbHVnaW5OYW1lLFxuXG4gICAgICAgIGdlbmVyYXRlRXJyb3JPYmplY3QgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRhZyArIFwiOiBcIiArIG1lc3NhZ2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50TmFtZXNwYWNlID0gb3B0aW9ucy5wbHVnaW5OYW1lLFxuXG4gICAgICAgIGV2ZW50SW5OYW1lc3BhY2UgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudE5hbWVzcGFjZSArIFwiLlwiICsgZXZlbnROYW1lO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4gICAgICAgIC8vIE1pbWljaW5nLCBhbmQgZXh0ZW5kaW5nLHRoZSBpbnRlcm5hbCBjcmVhdGVFdmVudERhdGEgYmVzcG9rZSB1c2VzXG4gICAgICAgIGNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwbHVnaW4uY3JlYXRlRXZlbnREYXRhLmNhbGwoZGVjaywgZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gVE9ETzogY3JlYXRlIGEgc2Vjb25kIG9iamVjdCBib3VuZCB0byBib3RoIHRoaXMgZXh0ZXJuYWwgb2JqZWN0IGFuZCB0aGUgZGVjayxcbiAgICAgICAgLy8gdG8gYXZvaWQgcGFzc2luZyB0aGUgZGVjayBwYXJhbWV0ZXIgZXZlcnkgdGltZS4gKFdoaWNoIGNhbiBiZSBhbGxldmlhdGVkIHdpdGggc2ltcGxlciBmdW5jdGlvbiBiaW5kaW5nIHRob3VnaC4pXG4gICAgICAgIGZpcmUgPSBmdW5jdGlvbihkZWNrLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBjdXN0b21EYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVjay5maXJlKGV2ZW50SW5OYW1lc3BhY2UoZXZlbnROYW1lKSwgY3JlYXRlRXZlbnREYXRhKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBjdXN0b21EYXRhKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4ZXMgPSBbdGFnXTtcblxuICAgICAgICAgICAgLy8gYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nIGlzIGR5bmFtaWMsIHNvIGNhbid0IGJpbmQgZGlyZWN0bHkgdG8gaXRcbiAgICAgICAgICAgIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZy5hcHBseShicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2csIHByZWZpeGVzLmNvbmNhdChwbHVnaW4uY29weUFycmF5KGFyZ3VtZW50cykpKTtcbiAgICAgICAgfSxcblxuICAgICAgICB0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgaXNTdG9yYWdlSW5pdGlhdGVkID0gaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2tBbmRQbHVnaW4ob3B0aW9ucy5wbHVnaW5OYW1lLCBkZWNrKTtcblxuICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUluaXRpYXRlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgJ1wiICsgb3B0aW9ucy5wbHVnaW5OYW1lICsgXCInIHBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFjdGl2YXRlZCBmb3IgdGhpcyBkZWNrLCBjYW4ndCBhY3RpdmF0ZSBpdCB0d2ljZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmluZFRvRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgICAgIHZhciBkZWNrQm91bmQgPSB7fTtcblxuICAgICAgICAgICAgZGVja0JvdW5kLmNyZWF0ZUV2ZW50RGF0YSA9IGV4dGVybmFsLmNyZWF0ZUV2ZW50RGF0YS5iaW5kKHRoaXMsIGRlY2spO1xuICAgICAgICAgICAgZGVja0JvdW5kLmZpcmUgPSBleHRlcm5hbC5maXJlLmJpbmQodGhpcywgZGVjayk7XG4gICAgICAgICAgICBkZWNrQm91bmQuZ2V0U3RvcmFnZSA9IGV4dGVybmFsLmdldFN0b3JhZ2UuYmluZCh0aGlzLCBkZWNrKTtcbiAgICAgICAgICAgIGRlY2tCb3VuZC5sb2cgPSBleHRlcm5hbC5sb2cuYmluZCh0aGlzLCBkZWNrKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlY2tCb3VuZDtcbiAgICAgICAgfSxcblxuICAgICAgICBhY3RpdmF0ZURlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgZGVja0JvdW5kO1xuXG4gICAgICAgICAgICB0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2soZGVjayk7XG4gICAgICAgICAgICBpbml0aWF0ZURlY2tQbHVnaW5TdG9yYWdlKG9wdGlvbnMucGx1Z2luTmFtZSwgZGVjayk7XG5cbiAgICAgICAgICAgIGRlY2tCb3VuZCA9IGJpbmRUb0RlY2soZGVjayk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWNrQm91bmQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmluZEV4dGVybmFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHRlcm5hbC5jcmVhdGVFdmVudERhdGEgPSBjcmVhdGVFdmVudERhdGEuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGV4dGVybmFsLmdlbmVyYXRlRXJyb3JPYmplY3QgPSBnZW5lcmF0ZUVycm9yT2JqZWN0LmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5maXJlID0gZmlyZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZXh0ZXJuYWwubG9nID0gbG9nLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5hY3RpdmF0ZURlY2sgPSBhY3RpdmF0ZURlY2suYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGV4dGVybmFsLmdldFN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1BsdWdpblN0b3JhZ2UuYmluZCh0aGlzLCBvcHRpb25zLnBsdWdpbk5hbWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGJpbmRFeHRlcm5hbCgpO1xuICAgICAgICB9O1xuXG4gICAgaW5pdCgpO1xuXG4gICAgcmV0dXJuIGV4dGVybmFsO1xufTtcblxucGx1Z2luLmdldERlY2tTdG9yYWdlID0gZnVuY3Rpb24oZGVjaykge1xuICAgIGlmICghZGVjaykge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIHZhciBzdG9yYWdlID0gbnVsbDtcblxuICAgIGRlY2tzU3RvcmFnZXMuc29tZShmdW5jdGlvbihkZWNrU3RvcmFnZSkge1xuICAgICAgICBpZiAoZGVja1N0b3JhZ2UuZGVjayA9PT0gZGVjaykge1xuICAgICAgICAgICAgc3RvcmFnZSA9IGRlY2tTdG9yYWdlLnN0b3JhZ2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzdG9yYWdlO1xufTtcblxucGx1Z2luLmdldERlY2tQbHVnaW5TdG9yYWdlID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuICAgIGlmICghcGx1Z2luTmFtZSkge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIGlmICghZGVjaykge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXG4gICAgaWYgKCFzdG9yYWdlKSB7XG4gICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJzdG9yYWdlIHdhcyBub3QgaW5pdGlhdGVkIGZvciB0aGlzIGRlY2suXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBzdG9yYWdlW3BsdWdpbk5hbWVdO1xufTtcblxuLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcbi8vIE1pbWljaW5nLCBhbmQgZXh0ZW5kaW5nLHRoZSBpbnRlcm5hbCBjcmVhdGVFdmVudERhdGEgYmVzcG9rZSB1c2VzXG5wbHVnaW4uY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSkge1xuICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCB7fTtcblxuICAgIGV2ZW50RGF0YS5ldmVudE5hbWVzcGFjZSA9IGV2ZW50TmFtZXNwYWNlIHx8IG51bGw7XG5cbiAgICBldmVudERhdGEuZXZlbnROYW1lID0gZXZlbnROYW1lIHx8IG51bGw7XG5cbiAgICAvLyBDYW4gYmUgZWl0aGVyIGEgRE9NL2Jyb3dzZXIgZXZlbnQgb3IgYSBiZXNwb2tlIGV2ZW50XG4gICAgZXZlbnREYXRhLmlubmVyRXZlbnQgPSBpbm5lckV2ZW50IHx8IG51bGw7XG5cbiAgICBpZiAoaXNOdW1iZXIoc2xpZGUpKSB7XG4gICAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlO1xuICAgICAgICBldmVudERhdGEuc2xpZGUgPSB0aGlzLnNsaWRlc1tzbGlkZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnREYXRhLmluZGV4ID0gdGhpcy5zbGlkZXMuaW5kZXhPZihzbGlkZSk7XG4gICAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IHNsaWRlO1xuICAgIH1cblxuICAgIHJldHVybiBldmVudERhdGE7XG59O1xuXG5wbHVnaW4uY29weUFycmF5ID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoYXJyLCAwKTtcbn07XG5cbmN2ID0gcGx1Z2luLmJ1aWxkZXIocGx1Z2luTmFtZSk7XG5cbmluaXQoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwbHVnaW47XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS1jb252ZW5pZW50L2xpYi9iZXNwb2tlLWNvbnZlbmllbnQuanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qZ2xvYmFsIG1vZHVsZTp0cnVlLCByZXF1aXJlOnRydWUsIHdpbmRvdzp0cnVlLCBkb2N1bWVudDp0cnVlLCBNYXRoOnRydWUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBwbHVnaW5OYW1lID0gXCJzZWNvbmRhcnlcIixcbiAgICAvLyBIYWNrIHRvIGdldCBhcm91bmQgaGF2aW5nIHRvIHdyaXRlIGFsbCBicm93c2VyIGNvZGUgd2l0aCByZXF1aXJlKCkuXG4gICAgYnJvd3Nlckdsb2JhbCA9IChmdW5jdGlvbihmKSB7XG4gICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICB9KEZ1bmN0aW9uKSksXG4gICAgY29udmVuaWVudCA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmNvbnZlbmllbnQpIHx8IHJlcXVpcmUoXCJiZXNwb2tlLWNvbnZlbmllbnRcIikpLFxuICAgIGN2ID0gY29udmVuaWVudC5idWlsZGVyKHBsdWdpbk5hbWUpLFxuXG4gICAgLy8gTWFraW5nIHN1cmUgaW5kZXhmaW5nZXIgaXMgYXZhaWxhYmxlLlxuICAgIC8vIFRPRE86IGNoZWNrIHRoYXQgaW5kZXhmaW5nZXIgaGFzIGJlZW4gbG9hZGVkOyBtYXliZSBjaGVja2luZyBmb3IgZGVjay5nZXRBY3RpdmVTbGlkZSgpLlxuICAgIGluZGV4ZmluZ2VyID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuaW5kZXhmaW5nZXIpIHx8IHJlcXVpcmUoXCJiZXNwb2tlLWluZGV4ZmluZ2VyXCIpKSxcblxuICAgIEtleUNvbnN0YW50cyA9IHtcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjVmlydHVhbF9rZXlfY29kZXNcbiAgICAgICAgUzogMHg1MywgLy8gKDgzKSBcIlNcIiBrZXkuXG4gICAgfSxcblxuICAgIGRlZmF1bHRzID0ge1xuICAgICAgICBub3RlczogXCJhc2lkZVwiLFxuICAgICAgICBrZXlzOiB7XG4gICAgICAgICAgICB0b2dnbGU6IEtleUNvbnN0YW50cy5TXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcmFuZG9tSW50ZWdlciA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gICAgICAgIC8vIFRPRE86IGxvb2sgZm9yIHNvbWVvbmUgZWxzZSdzIGltcGxlbWVudGF0aW9uIC0gdGhleSd2ZSBwcm9iYWJseSBjb3ZlcmVkIGFsbCB0aGUgY29ybmVyIGNhc2VzLlxuICAgICAgICAvLyBUaGlzIHNob3VsZCBkbyBmb3IgMCA8PSBmcm9tIDwgdG8gPCAocmFuZG9tJ3MgcmVzb2x1dGlvbikgdGhvdWdoLlxuICAgICAgICB2YXIgZGlmZixcbiAgICAgICAgICAgIHJuZDtcblxuICAgICAgICBpZiAodG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdG8gPSBmcm9tO1xuICAgICAgICAgICAgZnJvbSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBkaWZmID0gdG8gLSBmcm9tO1xuXG4gICAgICAgIHJuZCA9IGZyb20gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkaWZmKTtcblxuICAgICAgICByZXR1cm4gcm5kO1xuICAgIH0sXG5cbiAgICBiYXNlV2luZG93TmFtZSA9IHBsdWdpbk5hbWUgKyBcIi13aW5kb3ctXCIsXG5cbiAgICBnZW5lcmF0ZVdpbmRvd05hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJuZCA9IHJhbmRvbUludGVnZXIoMTAwMCwgMTAwMDApLFxuICAgICAgICAgICAgd2luZG93TmFtZSA9IGJhc2VXaW5kb3dOYW1lICsgcm5kO1xuXG4gICAgICAgIHJldHVybiB3aW5kb3dOYW1lO1xuICAgIH0sXG5cbiAgICBpbml0aWFsaXplU2Vjb25kYXJ5V2luZG93Q29udGVudHMgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgZG9jLmJvZHkuaW5uZXJIVE1MID0gXCI8aDE+Tm90ZXM8L2gxPjxkaXYgaWQ9J25vdGVzJz48L2Rpdj5cIjtcbiAgICB9LFxuXG4gICAgcGx1Z2luID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgZGVja2VyID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICAgICAgdmFyIGN2Qm91bmRUb0RlY2sgPSBjdi5hY3RpdmF0ZURlY2soZGVjayksXG5cbiAgICAgICAgICAgICAgICBvZmYgPSB7fSxcblxuICAgICAgICAgICAgICAgIHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgZ2V0Tm90ZXNFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS53aW5kb3cgJiYgdGhpcy5zZWNvbmRhcnkud2luZG93LmRvY3VtZW50ICYmIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vdGVzXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGlzT3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHRoaXMuc2Vjb25kYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBzLndpbmRvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpc0luaXRpYWxpemVkLCBpc05vdE51bGwsIGlzTm90Q2xvc2VkLCBpc093bmVkQnlUaGlzV2luZG93LCBjb250YWluc05vdGVzRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICEhKHMgIT09IHVuZGVmaW5lZCAmJiB3ICE9PSBudWxsICYmIHcuY2xvc2VkICE9PSB0cnVlICYmIHcub3BlbmVyID09PSB3aW5kb3cgJiYgdGhpcy5zZWNvbmRhcnkuZ2V0Tm90ZXNFbGVtZW50KCkgIT09IG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5LndpbmRvdyA9IHdpbmRvdy5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzKHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBmb2N1czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBzeW5jaHJvbml6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZU5vdGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE5vdGVzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5zZWNvbmRhcnkuZ2V0Tm90ZXNFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZSA9IHRoaXMuZ2V0QWN0aXZlU2xpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3RlcyA9IGNvbnZlbmllbnQuY29weUFycmF5KHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5ub3RlcykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOb3RlcyA9IHNsaWRlTm90ZXMucmVkdWNlKGZ1bmN0aW9uKG5vdGVzSHRtbCwgc2xpZGVOb3RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGVzSHRtbCArIHNsaWRlTm90ZS5vdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBcIlwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBhbGxOb3RlcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjay5zZWNvbmRhcnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3c6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlXaW5kb3dOYW1lOiBnZW5lcmF0ZVdpbmRvd05hbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldE5vdGVzRWxlbWVudDogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmdldE5vdGVzRWxlbWVudC5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuaXNPcGVuLmJpbmQoZGVjayksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMub3Blbi5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2U6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5jbG9zZS5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5mb2N1cy5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMudG9nZ2xlLmJpbmQoZGVjayksXG4gICAgICAgICAgICAgICAgICAgICAgICBzeW5jaHJvbml6ZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLnN5bmNocm9uaXplLmJpbmQoZGVjaylcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgaW5pdE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogbWVyZ2UgZnVuY3Rpb24/XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgbWVyZ2Uga25vd24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVyZ2VkID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLmtleXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLmtleXMudG9nZ2xlID0gKG9wdGlvbnMua2V5cyAmJiBvcHRpb25zLmtleXMudG9nZ2xlKSB8fCBkZWZhdWx0cy5rZXlzLnRvZ2dsZTtcblxuICAgICAgICAgICAgICAgICAgICBtZXJnZWQubm90ZXMgPSBvcHRpb25zLm5vdGVzIHx8IGRlZmF1bHRzLm5vdGVzO1xuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBtZXJnZWQ7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGtleURvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50SGFuZGxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIG1vZGlmaWVyIGtleXMsIHBsZWFzZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWUuYWx0S2V5ICYmICFlLmN0cmxLZXkgJiYgIWUubWV0YUtleSAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRIYW5kbGVkID0gZXZlbnRIYW5kbGVkIHx8IChlLndoaWNoID09PSBvcHRpb25zLmtleXMudG9nZ2xlICYmIGN2Qm91bmRUb0RlY2suZmlyZShcInRvZ2dsZVwiLCBlKSAmJiBkZWNrLnNlY29uZGFyeS50b2dnbGUoKSAmJiBkZWNrLnNlY29uZGFyeS5zeW5jaHJvbml6ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhZXZlbnRIYW5kbGVkO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBvbkJlZm9yZVVubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeS5jbG9zZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBvbkFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5LnN5bmNocm9uaXplKCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciBkb2Vzbid0IHNlZW0gdG8gd29yayBmb3Igb25iZWZvcmV1bmxvYWRcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gb25CZWZvcmVVbmxvYWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5RG93bkxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIG9mZi5hY3RpdmF0ZSA9IGRlY2sub24oXCJhY3RpdmF0ZVwiLCBvbkFjdGl2YXRlKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpbml0T3B0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGluaXQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGVja2VyO1xuICAgIH07XG5cbm1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2Utc2Vjb25kYXJ5L2xpYi9iZXNwb2tlLXNlY29uZGFyeS5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl19
