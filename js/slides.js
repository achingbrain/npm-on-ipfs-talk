"use strict";function _typeof(e){function t(e){return n.apply(this,arguments)}var n,r;function i(e){return r.apply(this,arguments)}return(_typeof="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?(r=function(e){return void 0===e?"undefined":_typeof(e)},i.toString=function(){return r.toString()},i):(n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)},t.toString=function(){return n.toString()},t))(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}i.m=n,i.c=r,i.p="",i(0)}([function(e,t,n){n(1);var r=n(2),i=n(3),o=n(4),a=n(5),s=n(6),c=n(7),l=n(8),u=n(9),d=n(10),f=n(11),p=n(13),g=[i(),o(),a(),s(".delayed, .bullet"),c(),l(),u(),d(),f(),p()];try{n(!function(){var e=new Error('Cannot find module "plugins"');throw e.code="MODULE_NOT_FOUND",e}())(g)}catch(e){}var h=r.from("article",g);try{n(14)(h)}catch(e){}},function(t,e){(function(e){var l=function(l){var u=/\blang(?:uage)?-([\w-]+)\b/i,t=0,C={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof L?new L(e.type,C.util.encode(e.content),e.alias):Array.isArray(e)?e.map(C.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function n(e,r){var i,t,o=C.util.type(e);switch(r=r||{},o){case"Object":if(t=C.util.objId(e),r[t])return r[t];for(var a in i={},r[t]=i,e)e.hasOwnProperty(a)&&(i[a]=n(e[a],r));return i;case"Array":return t=C.util.objId(e),r[t]?r[t]:(i=[],r[t]=i,e.forEach(function(e,t){i[t]=n(e,r)}),i);default:return e}}},languages:{extend:function(e,t){var n=C.util.clone(C.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(n,e,t,r){var i=(r=r||C.languages)[n],o={};for(var a in i)if(i.hasOwnProperty(a)){if(a==e)for(var s in t)t.hasOwnProperty(s)&&(o[s]=t[s]);t.hasOwnProperty(a)||(o[a]=i[a])}var c=r[n];return r[n]=o,C.languages.DFS(C.languages,function(e,t){t===c&&e!=n&&(this[e]=o)}),o},DFS:function e(t,n,r,i){i=i||{};var o=C.util.objId;for(var a in t)if(t.hasOwnProperty(a)){n.call(t,a,t[a],r||a);var s=t[a],c=C.util.type(s);"Object"!==c||i[o(s)]?"Array"!==c||i[o(s)]||(i[o(s)]=!0,e(s,n,a,i)):(i[o(s)]=!0,e(s,n,null,i))}}},plugins:{},highlightAll:function(e,t){C.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};C.hooks.run("before-highlightall",r);for(var i,o=r.elements||e.querySelectorAll(r.selector),a=0;i=o[a++];)C.highlightElement(i,!0===t,r.callback)},highlightElement:function(e,t,n){for(var r,i,o=e;o&&!u.test(o.className);)o=o.parentNode;o&&(r=(o.className.match(u)||[,""])[1].toLowerCase(),i=C.languages[r]),e.className=e.className.replace(u,"").replace(/\s+/g," ")+" language-"+r,e.parentNode&&(o=e.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(u,"").replace(/\s+/g," ")+" language-"+r));function a(e){s.highlightedCode=e,C.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,C.hooks.run("after-highlight",s),C.hooks.run("complete",s),n&&n.call(s.element)}var s={element:e,language:r,grammar:i,code:e.textContent};if(C.hooks.run("before-sanity-check",s),s.code)if(C.hooks.run("before-highlight",s),s.grammar)if(t&&l.Worker){var c=new Worker(C.filename);c.onmessage=function(e){a(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else a(C.highlight(s.code,s.grammar,s.language));else a(C.util.encode(s.code));else C.hooks.run("complete",s)},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};return C.hooks.run("before-tokenize",r),r.tokens=C.tokenize(r.code,r.grammar),C.hooks.run("after-tokenize",r),L.stringify(C.util.encode(r.tokens),r.language)},matchGrammar:function(e,t,n,r,i,o,a){for(var s in n)if(n.hasOwnProperty(s)&&n[s]){if(s==a)return;var c=n[s];c="Array"===C.util.type(c)?c:[c];for(var l=0;l<c.length;++l){var u=c[l],d=u.inside,f=!!u.lookbehind,p=!!u.greedy,g=0,h=u.alias;if(p&&!u.pattern.global){var m=u.pattern.toString().match(/[imuy]*$/)[0];u.pattern=RegExp(u.pattern.source,m+"g")}u=u.pattern||u;for(var v=r,b=i;v<t.length;b+=t[v].length,++v){var y=t[v];if(t.length>e.length)return;if(!(y instanceof L)){if(p&&v!=t.length-1){if(u.lastIndex=b,!(j=u.exec(e)))break;for(var w=j.index+(f?j[1].length:0),k=j.index+j[0].length,x=v,E=b,A=t.length;x<A&&(E<k||!t[x].type&&!t[x-1].greedy);++x)(E+=t[x].length)<=w&&(++v,b=E);if(t[v]instanceof L)continue;S=x-v,y=e.slice(b,E),j.index-=b}else{u.lastIndex=0;var j=u.exec(y),S=1}if(j){f&&(g=j[1]?j[1].length:0);k=(w=j.index+g)+(j=j[0].slice(g)).length;var O=y.slice(0,w),N=y.slice(k),F=[v,S];O&&(++v,b+=O.length,F.push(O));var _=new L(s,d?C.tokenize(j,d):j,h,j,p);if(F.push(_),N&&F.push(N),Array.prototype.splice.apply(t,F),1!=S&&C.matchGrammar(e,t,n,v,b,!0,s),o)break}else if(o)break}}}}},tokenize:function(e,t){var n=[e],r=t.rest;if(r){for(var i in r)t[i]=r[i];delete t.rest}return C.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=C.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=C.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:L};function L(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}if(l.Prism=C,L.stringify=function(t,n,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map(function(e){return L.stringify(e,n,t)}).join("");var r={type:t.type,content:L.stringify(t.content,n,e),tag:"span",classes:["token",t.type],attributes:{},language:n,parent:e};if(t.alias){var i=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(r.classes,i)}C.hooks.run("wrap",r);var o=Object.keys(r.attributes).map(function(e){return e+'="'+(r.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+(o?" "+o:"")+">"+r.content+"</"+r.tag+">"},!l.document)return l.addEventListener&&(C.disableWorkerMessageHandler||l.addEventListener("message",function(e){var t=JSON.parse(e.data),n=t.language,r=t.code,i=t.immediateClose;l.postMessage(C.highlight(r,C.languages[n],n)),i&&l.close()},!1)),C;var e=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return e&&(C.filename=e.src,C.manual||e.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(C.highlightAll):window.setTimeout(C.highlightAll,16):document.addEventListener("DOMContentLoaded",C.highlightAll))),C}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});void 0!==t&&t.exports&&(t.exports=l),void 0!==e&&(e.Prism=l),l.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},l.languages.markup.tag.inside["attr-value"].inside.entity=l.languages.markup.entity,l.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(l.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:l.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:l.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:r},l.languages.insertBefore("markup","cdata",i)}}),l.languages.xml=l.languages.extend("markup",{}),l.languages.html=l.languages.markup,l.languages.mathml=l.languages.markup,l.languages.svg=l.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+t.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(l),l.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},l.languages.javascript=l.languages.extend("clike",{"class-name":[l.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),l.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,l.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:l.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:l.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:l.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:l.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),l.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:l.languages.javascript}},string:/[\s\S]+/}}}),l.languages.markup&&l.languages.markup.tag.addInlined("script","javascript"),l.languages.js=l.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(e){e=e||document;var c={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(e.querySelectorAll("pre[data-src]")).forEach(function(e){if(!e.hasAttribute("data-src-loaded")){for(var t,n=e.getAttribute("data-src"),r=e,i=/\blang(?:uage)?-([\w-]+)\b/i;r&&!i.test(r.className);)r=r.parentNode;if(r&&(t=(e.className.match(i)||[,""])[1]),!t){var o=(n.match(/\.(\w+)$/)||[,""])[1];t=c[o]||o}var a=document.createElement("code");a.className="language-"+t,e.textContent="",a.textContent="Loading…",e.appendChild(a);var s=new XMLHttpRequest;s.open("GET",n,!0),s.onreadystatechange=function(){4==s.readyState&&(s.status<400&&s.responseText?(a.textContent=s.responseText,l.highlightElement(a),e.setAttribute("data-src-loaded","")):400<=s.status?a.textContent="✖ Error "+s.status+" while fetching file: "+s.statusText:a.textContent="✖ Error: File does not exist or is empty")},s.send(null)}}),l.plugins.toolbar&&l.plugins.toolbar.registerButton("download-file",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var n=t.getAttribute("data-src"),r=document.createElement("a");return r.textContent=t.getAttribute("data-download-link-label")||"Download",r.setAttribute("download",""),r.href=n,r}})},document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()}))}).call(e,function(){return this}())},function(e,t){e.exports={from:function(e,t){function r(e,t){o[e]&&(l("deactivate",u(a,t)),a=o[e],l("activate",u(a,t)))}function n(e,t){var n=o.indexOf(a)+e;l(0<e?"next":"prev",u(a,t))&&r(n,t)}var i=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),o=[].filter.call("string"==typeof e.slides?i.querySelectorAll(e.slides):e.slides||i.children,function(e){return"SCRIPT"!==e.nodeName}),a=o[0],s={},c=function(e,t){s[e]=(s[e]||[]).filter(function(e){return e!==t})},l=function(e,n){return(s[e]||[]).reduce(function(e,t){return e&&!1!==t(n)},!0)},u=function(e,t){return(t=t||{}).index=o.indexOf(e),t.slide=e,t},d={on:function(e,t){return(s[e]||(s[e]=[])).push(t),c.bind(null,e,t)},off:c,fire:l,slide:function(e,t){if(!arguments.length)return o.indexOf(a);l("slide",u(o[e],t))&&r(e,t)},next:n.bind(null,1),prev:n.bind(null,-1),parent:i,slides:o};return(t||[]).forEach(function(e){e(d)}),r(0),d}}},function(e,t,n){var r;r=function(){return function r(i,o,a){function s(n,e){if(!o[n]){if(!i[n]){if(c)return c(n,!0);throw new Error("Cannot find module '"+n+"'")}var t=o[n]={exports:{}};i[n][0].call(t.exports,function(e){var t=i[n][1][e];return s(t||e)},t,t.exports,r,i,o,a)}return o[n].exports}for(var c=!1,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){var r=e("bespoke-classes"),i=e("insert-css");t.exports=function(){return i('/*! normalize.css v3.0.0 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:0 0}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b{font-weight:700}dfn{font-style:italic}h1{font-size:2em}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-size:1em}kbd,pre,samp{font-family:monospace,monospace}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th,*{padding:0}*{margin:0}html{-webkit-text-size-adjust:auto;-ms-text-size-adjust:auto;text-size-adjust:auto}.bespoke-parent{font-size:1.5em;background:#111;color:#ddd;font-family:futura,helvetica,arial,arial,sans-serif;overflow:hidden;text-align:center;-webkit-transition:background 1s ease;transition:background 1s ease;background-position:50% 50%}.bespoke-parent,.bespoke-scale-parent{position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-scale-parent{pointer-events:none;z-index:1}.bespoke-scale-parent .bespoke-active{pointer-events:auto}.bespoke-slide{-webkit-transition:opacity .5s ease;transition:opacity .5s ease;width:940px;height:480px;position:absolute;top:50%;left:50%;margin-left:-470px;margin-top:-240px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:1}.bespoke-active{-webkit-transition-delay:.5s;transition-delay:.5s}.bespoke-active[data-bespoke-backdrop]{-webkit-transition-delay:.75s;transition-delay:.75s}.bespoke-inactive{opacity:0;pointer-events:none}.bespoke-backdrop{-webkit-transition:opacity 1s ease;position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-progress-parent{position:absolute;top:0;left:0;right:0;height:.3vw;z-index:1}.bespoke-progress-bar{background:#ddd;position:absolute;top:0;left:0;height:100%;-webkit-transition:width 1s ease;transition:width 1s ease}.bespoke-bullet{-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.bespoke-bullet-inactive{opacity:0}strong{font-weight:400}hr{width:50%;margin:1rem auto;height:1px;border:0;background:#ddd}h3,p,li{padding-left:20px;padding-right:20px}h3,h4,p,li,pre{font-weight:200}h1{line-height:1.4em;padding:1em;border:1px solid #ddd;border-left-width:0;border-right-width:0;min-width:8em}h1,h2{letter-spacing:.3em;text-transform:uppercase;font-weight:400;margin:.17em 0;position:relative}h2{line-height:1.1em;padding:0 0 0 .3em}h3{font-family:didot,times new roman,serif;font-style:italic;font-size:1.2em;line-height:1.6em;margin:.5em 0}h4{text-transform:uppercase;font-size:.8em;line-height:1.8em;letter-spacing:.3em;margin:1em 0}ul,ol{padding:0;margin:0;text-align:left}li{list-style:none;margin:.2em;font-style:normal;-webkit-transform:translateX(-6px);-ms-transform:translateX(-6px);transform:translateX(-6px)}li:before{content:\'\\2014\';margin-right:4px}pre{background:none!important}code{font-family:prestige elite std,consolas,courier new,monospace!important;font-style:normal;font-weight:200!important;text-align:left}a{padding-left:.3em;color:currentColor;text-decoration:none;border-bottom:1px solid currentColor}.emphatic{background:#f30}.single-words{word-spacing:9999px;line-height:2.9em;overflow:hidden}.bespoke-backdrop{opacity:0;-webkit-transition:opacity 1s ease,-webkit-transform 6s ease;transition:opacity 1s ease,transform 6s ease;background-size:cover;background-position:50% 50%;-webkit-transform:translateZ(0)scale(1.3);transform:translateZ(0)scale(1.3)}.bespoke-backdrop-active,.bespoke-backdrop-before{-webkit-transform:translateZ(0);transform:translateZ(0)}.bespoke-backdrop-before{-webkit-transition-delay:.2s;transition-delay:.2s}.bespoke-backdrop-active{opacity:.5}',{prepend:!0}),function(e){r()(e)}}},{"bespoke-classes":2,"insert-css":3}],2:[function(e,t,n){t.exports=function(){return function(o){function a(e,t){e.classList.add("bespoke-"+t)}function s(e,t){e.className=e.className.replace(new RegExp("bespoke-"+t+"(\\s|$)","g")," ").trim()}function t(e,t){var n=o.slides[o.slide()],r=t-o.slide(),i=0<r?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(s.bind(null,e)),e!==n&&["inactive",i,i+"-"+Math.abs(r)].map(a.bind(null,e))}a(o.parent,"parent"),o.slides.map(function(e){a(e,"slide")}),o.on("activate",function(e){o.slides.map(t),a(e.slide,"active"),s(e.slide,"inactive")})}}},{}],3:[function(e,t,n){var i={};t.exports=function(e,t){if(!i[e]){i[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var r=document.getElementsByTagName("head")[0];t&&t.prepend?r.insertBefore(n,r.childNodes[0]):r.appendChild(n)}}},{}]},{},[1])(1)},e.exports=r()},function(e,t){e.exports=function(e){return function(t){var n="vertical"!==e;document.addEventListener("keydown",function(e){(34==e.which||32==e.which&&!e.shiftKey||n&&39==e.which||!n&&40==e.which)&&t.next(),(33==e.which||32==e.which&&e.shiftKey||n&&37==e.which||!n&&38==e.which)&&t.prev()})}}},function(e,t){e.exports=function(i){return function(e){var t,n,r="vertical"==i?"Y":"X";e.parent.addEventListener("touchstart",function(e){1==e.touches.length&&(t=e.touches[0]["page"+r],n=0)}),e.parent.addEventListener("touchmove",function(e){1==e.touches.length&&(e.preventDefault(),n=e.touches[0]["page"+r]-t)}),e.parent.addEventListener("touchend",function(){50<Math.abs(n)&&e[0<n?"prev":"next"]()})}}},function(e,t){e.exports=function(a){return function(e){var t,n,o=e.slides.map(function(e){return[].slice.call(e.querySelectorAll("string"==typeof a?a:"[data-bespoke-bullet]"),0)}),r=function(r,i){t=r,n=i,o.forEach(function(e,n){e.forEach(function(e,t){e.classList.add("bespoke-bullet"),n<r||n===r&&t<=i?(e.classList.add("bespoke-bullet-active"),e.classList.remove("bespoke-bullet-inactive")):(e.classList.add("bespoke-bullet-inactive"),e.classList.remove("bespoke-bullet-active")),n===r&&t===i?e.classList.add("bespoke-bullet-current"):e.classList.remove("bespoke-bullet-current")})})},i=function(e){return void 0!==o[t][n+e]};e.on("next",function(){var e=t+1;if(i(1))return r(t,n+1),!1;o[e]&&r(e,0)}),e.on("prev",function(){var e=t-1;if(i(-1))return r(t,n-1),!1;o[e]&&r(e,o[e].length-1)}),e.on("slide",function(e){r(e.index,0)}),r(0,0)}}},function(e,t){e.exports=function(){return function(r){var i;function e(e){if(e){var t=i.indexOf(e),n=r.slide();o(e,"active"),o(e,"inactive"),o(e,"before"),o(e,"after"),t!==n?(a(e,"inactive"),a(e,t<n?"before":"after")):a(e,"active")}}function o(e,t){e.classList.remove("bespoke-backdrop-"+t)}function a(e,t){e.classList.add("bespoke-backdrop-"+t)}i=r.slides.map(function(e){var t=e.getAttribute("data-bespoke-backdrop");if(t){var n=document.createElement("div");return n.className=t,n.classList.add("bespoke-backdrop"),r.parent.appendChild(n),n}}),r.on("activate",function(){i.forEach(e)})}}},function(e,t){e.exports=function(d){return function(e){function t(){var e=r.offsetWidth/a,t=r.offsetHeight/o;c.forEach(u.bind(null,Math.min(e,t)))}var n,r=e.parent,i=e.slides[0],o=i.offsetHeight,a=i.offsetWidth,s="zoom"===d||"zoom"in r.style&&"transform"!==d,c=s?e.slides:e.slides.map(function(e){var t=document.createElement("div");return t.className="bespoke-scale-parent",e.parentNode.insertBefore(t,e),t.appendChild(e),t}),l=(n="Transform","Moz Webkit O ms".split(" ").reduce(function(e,t){return t+n in r.style?t+n:e},n.toLowerCase())),u=s?function(e,t){t.style.zoom=e}:function(e,t){t.style[l]="scale("+e+")"};window.addEventListener("resize",t),t()}}},function(e,t){e.exports=function(){return function(r){function i(e){var t=-1<e&&e<r.slides.length?e:0;t!==r.slide()&&r.slide(t)}function e(){var n=window.location.hash.slice(1),e=parseInt(n,10);n&&(e?i(e-1):r.slides.forEach(function(e,t){e.getAttribute("data-bespoke-hash")!==n&&e.id!==n||i(t)}))}setTimeout(function(){e(),r.on("activate",function(e){var t=e.slide.getAttribute("data-bespoke-hash")||e.slide.id;window.location.hash=t||e.index+1}),window.addEventListener("hashchange",e)},0)}}},function(e,t){e.exports=function(i){return function(t){var e=document.createElement("div"),n=document.createElement("div"),r="vertical"===i?"height":"width";e.className="bespoke-progress-parent",n.className="bespoke-progress-bar",e.appendChild(n),t.parent.appendChild(e),t.on("activate",function(e){n.style[r]=100*e.index/(t.slides.length-1)+"%"})}}},function(e,t,n){var r=Function("return this")(),o=(r.bespoke&&r.bespoke.plugins&&r.bespoke.plugins.convenient||n(12)).builder("indexfinger");e.exports=function(e){return function(e){o.activateDeck(e);var t={},n=null,r=-1,i={enableActiveSlideListener:function(){t.saveActiveSlide=this.on("activate",i.saveActiveSlide.bind(this))},saveActiveSlide:function(e){n=e.slide,r=e.index},getActiveSlide:function(){return n},getActiveSlideIndex:function(){return r}};e.getActiveSlide=i.getActiveSlide.bind(e),e.getActiveSlideIndex=i.getActiveSlideIndex.bind(e),i.enableActiveSlideListener.call(e)}}},function(e,t){function c(e){!function(t){if(!t)throw l.generateErrorObject("deck must be defined.");return i.some(function(e){return e.deck===t})}(e)&&i.push({deck:e,storage:{}})}var l,n,u=Function("return this")(),r={logger:{log:function(){console.log.apply(console,arguments)}}},d={},i=[];d.builder=function(t){if(!t)throw l.generateErrorObject("The plugin options were not properly defined.");if("string"==typeof t&&(t={pluginName:t}),"string"!=typeof t.pluginName)throw l.generateErrorObject("The plugin name was not properly defined.");function o(e,t,n,r,i,o){return d.createEventData.call(e,t,n,r,i,o)}function e(e,t,n,r,i){return e.fire(function(e){return s+"."+e}(t),o(e,s,t,n,r,i))}function n(e){if(function(e,t){if(!e)throw l.generateErrorObject("pluginName must be defined.");if(!t)throw l.generateErrorObject("deck must be defined.");var n=d.getDeckStorage(t);return!(!n||!n[e])}(t.pluginName,e))throw l.generateErrorObject("The '"+t.pluginName+"' plugin has already been activated for this deck, can't activate it twice.")}function r(e){return n(e),function(e,t){if(!e)throw l.generateErrorObject("pluginName must be defined.");if(!t)throw l.generateErrorObject("deck must be defined.");var n=d.getDeckStorage(t);n||(c(t),n=d.getDeckStorage(t)),n[e]={}}(t.pluginName,e),function(e){var t={};return t.createEventData=i.createEventData.bind(this,e),t.fire=i.fire.bind(this,e),t.getStorage=i.getStorage.bind(this,e),t.log=i.log.bind(this,e),t}(e)}var i={},a="bespoke."+t.pluginName,s=t.pluginName;return function(){i.createEventData=o.bind(this),i.generateErrorObject=function(e){return new Error(a+": "+e)}.bind(this),i.fire=e.bind(this),i.log=function(){var e=[a];u.convenientOptions.logger.log.apply(u.convenientOptions.logger.log,e.concat(d.copyArray(arguments)))}.bind(this),i.activateDeck=r.bind(this),i.getStorage=d.getDeckPluginStorage.bind(this,t.pluginName)}(),i},d.getDeckStorage=function(t){if(!t)throw l.generateErrorObject("deck must be defined.");var n=null;return i.some(function(e){return e.deck===t&&(n=e.storage,!0)}),n},d.getDeckPluginStorage=function(e,t){if(!e)throw l.generateErrorObject("pluginName must be defined.");if(!t)throw l.generateErrorObject("deck must be defined.");var n=d.getDeckStorage(t);if(!n)throw l.generateErrorObject("storage was not initiated for this deck.");return n[e]},d.createEventData=function(e,t,n,r,i){return(i=i||{}).eventNamespace=e||null,i.eventName=t||null,i.innerEvent=n||null,!function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(r)?(i.index=this.slides.indexOf(r),i.slide=r):(i.index=r,i.slide=this.slides[r]),i},d.copyArray=function(e){return[].slice.call(e,0)},l=d.builder("convenient"),(n={logger:{}}).logger.log=u.convenientOptions&&u.convenientOptions.logger&&u.convenientOptions.logger.log||r.logger.log,u.convenientOptions=n,e.exports=d},function(e,t,n){function l(){return"secondary-window-"+function(e,t){var n;return void 0===t&&(t=e,e=0),n=t-e,e+Math.floor(Math.random()*n)}(1e3,1e4)}var r="secondary",i=Function("return this")(),u=i.bespoke&&i.bespoke.plugins&&i.bespoke.plugins.convenient||n(12),d=u.builder(r),f=(i.bespoke&&i.bespoke.plugins&&i.bespoke.plugins.indexfinger||n(11),{notes:"aside",keys:{toggle:83}});e.exports=function(c){return function(n){function e(e){var t=!1;return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||(t=t||e.which===c.keys.toggle&&o.fire("toggle",e)&&n.secondary.toggle()&&n.secondary.synchronize()),t&&e.preventDefault(),!t}function t(){return n.secondary.close(),null}function r(){n.secondary.synchronize()}var i,o=d.activateDeck(n),a={},s={getNotesElement:function(){return this.secondary.window&&this.secondary.window.document&&this.secondary.window.document.getElementById("notes")},isOpen:function(){var e=this.secondary,t=e.window;return!(void 0===e||null===t||!0===t.closed||t.opener!==window||null===this.secondary.getNotesElement())},open:function(){return this.secondary.isOpen()||(this.secondary.window=window.open(),function(e){e.body.innerHTML="<h1>Notes</h1><div id='notes'></div>"}(this.secondary.window.document)),this.secondary.isOpen()},close:function(){return this.secondary.isOpen()&&this.secondary.window.close(),!this.secondary.isOpen()},focus:function(){return this.secondary.isOpen()&&this.secondary.window.focus(),this.secondary.isOpen()},toggle:function(){return this.secondary.isOpen()?this.secondary.close():this.secondary.open(),this.secondary.isOpen()},synchronize:function(){var e,t,n;return!!this.secondary.isOpen()&&(e=this.secondary.getNotesElement(),t=this.getActiveSlide(),n=u.copyArray(t.querySelectorAll(c.notes)).reduce(function(e,t){return e+t.outerHTML},""),e.innerHTML=n,this.secondary.isOpen())}};c=c||{},(i={}).keys={},i.keys.toggle=c.keys&&c.keys.toggle||f.keys.toggle,i.notes=c.notes||f.notes,c=i,n.secondary={window:null,secondaryWindowName:l(),getNotesElement:s.getNotesElement.bind(n),isOpen:s.isOpen.bind(n),open:s.open.bind(n),close:s.close.bind(n),focus:s.focus.bind(n),toggle:s.toggle.bind(n),synchronize:s.synchronize.bind(n)},window.onbeforeunload=t,document.addEventListener("keydown",e,!1),a.activate=n.on("activate",r)}}},function(e,t,n){var r=n(15),o=n(16),a=n(28),s=n(31),c={ls:n(32),pwd:n(33),mkdir:n(34),touch:n(35),cat:n(36),cd:n(37),rm:n(38),clear:n(39),theme:n(40),version:n(41),npm:n(42),"ipfs-npm":n(45)};c.help={handler:function(e,t){return"Commands: "+Object.keys(c).sort(function(e,t){return e.localeCompare(t)})+'<br>More help available <a class="external" href="http://github.com/sasadjolic/dom-terminal" target="_blank">here</a>'}},e.exports=function(e){try{var i=new r("terminal",{},{execute:function(e,t){var n=c[e];if(!n)return!1;try{t=o(t,n.args);var r=n.handler(i,t);return null==r&&(r=""),"string"==typeof r&&(r=r.replace(/\t/g,"")),r}catch(e){return console.error(e),e.message}}});a(),i.setPrompt(s.pwd().split("/").pop()+" ")}catch(e){console.error(e)}}},function(r,e){!function(e){var t=t||function(e,t){if(e){var n={welcome:"",prompt:"",separator:"&gt;",theme:"interlaced"};(t=t||n).welcome=t.welcome||n.welcome,t.prompt=t.prompt||n.prompt,t.separator=t.separator||n.separator,t.theme=t.theme||n.theme;var l=Array.prototype.slice.call(arguments,2),u=localStorage.history?JSON.parse(localStorage.history):[],d=u.length,r="",i=document.getElementById(e);i.classList.add("terminal"),i.classList.add("terminal-"+t.theme),i.insertAdjacentHTML("beforeEnd",['<div class="background"><div class="interlace"></div></div>','<div class="container">',"<output></output>",'<table class="input-line">','<tr><td nowrap><div class="prompt">'+t.prompt+t.separator+'</div></td><td width="100%"><input class="cmdline" spellcheck="false" autofocus /></td></tr>',"</table>","</div>"].join(""));var o=i.querySelector(".container"),f=o.querySelector(".input-line"),p=o.querySelector(".input-line .cmdline"),g=o.querySelector("output"),a=o.querySelector(".prompt"),s=document.querySelector(".background");return g.addEventListener("DOMSubtreeModified",function(e){setTimeout(function(){p.scrollIntoView()},0)},!1),t.welcome&&h(t.welcome),i.addEventListener("click",function(e){p.focus()},!1),g.addEventListener("click",function(e){e.stopPropagation()},!1),p.addEventListener("click",function(e){this.value=this.value},!1),f.addEventListener("click",function(e){p.focus()},!1),p.addEventListener("keyup",function(e){27==e.keyCode&&(this.value="",e.stopPropagation(),e.preventDefault());!u.length||38!=e.keyCode&&40!=e.keyCode||(u[d]?u[d]=this.value:r=this.value,38==e.keyCode?--d<0&&(d=0):40==e.keyCode&&++d>u.length&&(d=u.length),this.value=u[d]?u[d]:r,this.value=this.value)},!1),p.addEventListener("keydown",function(e){!function(){var e=p.parentElement;for(;e;){if((e.className||"").includes("active"))return!0;e=e.parentElement}}()||e.stopPropagation();if(13!=e.keyCode)return;var t=this.value;t&&(u[u.length]=t,localStorage.history=JSON.stringify(u),d=u.length);var n=this.parentNode.parentNode.parentNode.parentNode.cloneNode(!0);n.removeAttribute("id"),n.classList.add("line");var r=n.querySelector("input.cmdline");if(r.autofocus=!1,r.readOnly=!0,r.insertAdjacentHTML("beforebegin",r.value),r.parentNode.removeChild(r),g.appendChild(n),f.classList.add("hidden"),this.value="",t&&t.trim()){var i=t.split(" ").filter(function(e,t){return e}),o=i[0];i=i.splice(1)}if(o){var a=!1;for(var s in l){var c=l[s];if(c.execute&&(a=c.execute(o,i)),!1!==a)break}!1===a&&(a=o+": command not found"),h(a||"")}f.classList.remove("hidden")},!0),{clear:function(){g.innerHTML="",p.value="",s.style.minHeight=""},setPrompt:function(e){a.innerHTML=e+t.separator},getPrompt:function(){return a.innerHTML.replace(new RegExp(t.separator+"$"),"")},setTheme:function(e){i.classList.remove("terminal-"+t.theme),t.theme=e,i.classList.add("terminal-"+t.theme)},getTheme:function(){return t.theme},print:h}}function h(e){g.insertAdjacentHTML("beforeEnd",e),p.scrollIntoView()}};if(void 0!==r&&r.exports)r.exports=t;else{var n=e.Terminal;t.noConflict=function(){return e.Terminal=n,t},e.Terminal=t}}(this)},function(t,e,ee){(function(Z){var Y=ee(18),Q=ee(19),V=ee(20),J=ee(21),X=ee(22);function n(e,t){t=t||{},e=J(e);var r=function(t){var n=[],e=!0,r={};Object.keys(t).forEach(function(e){n.push([].concat(t[e],e))});for(;e;){e=!1;for(var i=0;i<n.length;i++)for(var o=i+1;o<n.length;o++){if(n[i].filter(function(e){return-1!==n[o].indexOf(e)}).length){n[i]=n[i].concat(n[o]),n.splice(o,1),e=!0;break}}}return n.forEach(function(e){e=e.filter(function(e,t,n){return n.indexOf(e)===t}),r[e.pop()]=e}),r}(t.alias||{}),c=Object.assign({"short-option-groups":!0,"camel-case-expansion":!0,"dot-notation":!0,"parse-numbers":!0,"boolean-negation":!0,"negation-prefix":"no-","duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"populate--":!1,"combine-arrays":!1,"set-placeholder-key":!1,"halt-at-non-option":!1,"strip-aliased":!1,"strip-dashed":!1},t.configuration),n=t.default||{},i=t.configObjects||[],o=t.envPrefix,a=c["populate--"],s=a?"--":"_",l={},u=t.__||X.format,d=null,f={aliases:{},arrays:{},bools:{},strings:{},numbers:{},counts:{},normalize:{},configs:{},defaulted:{},nargs:{},coercions:{},keys:[]},p=/^-[0-9]+(\.[0-9]+)?/,g=new RegExp("^--"+c["negation-prefix"]+"(.+)");[].concat(t.array).filter(Boolean).forEach(function(e){var t=e.key||e,n=Object.keys(e).map(function(e){return{boolean:"bools",string:"strings",number:"numbers"}[e]}).filter(Boolean).pop();n&&(f[n][t]=!0),f.arrays[t]=!0,f.keys.push(t)}),[].concat(t.boolean).filter(Boolean).forEach(function(e){f.bools[e]=!0,f.keys.push(e)}),[].concat(t.string).filter(Boolean).forEach(function(e){f.strings[e]=!0,f.keys.push(e)}),[].concat(t.number).filter(Boolean).forEach(function(e){f.numbers[e]=!0,f.keys.push(e)}),[].concat(t.count).filter(Boolean).forEach(function(e){f.counts[e]=!0,f.keys.push(e)}),[].concat(t.normalize).filter(Boolean).forEach(function(e){f.normalize[e]=!0,f.keys.push(e)}),Object.keys(t.narg||{}).forEach(function(e){f.nargs[e]=t.narg[e],f.keys.push(e)}),Object.keys(t.coerce||{}).forEach(function(e){f.coercions[e]=t.coerce[e],f.keys.push(e)}),Array.isArray(t.config)||"string"==typeof t.config?[].concat(t.config).filter(Boolean).forEach(function(e){f.configs[e]=!0}):Object.keys(t.config||{}).forEach(function(e){f.configs[e]=t.config[e]}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){Object.keys(e||{}).forEach(function(n){f.aliases[n]||(f.aliases[n]=[].concat(r[n]||[]),f.aliases[n].concat(n).forEach(function(e){if(/-/.test(e)&&c["camel-case-expansion"]){var t=Y(e);t!==n&&-1===f.aliases[n].indexOf(t)&&(f.aliases[n].push(t),l[t]=!0)}}),f.aliases[n].concat(n).forEach(function(e){if(1<e.length&&/[A-Z]/.test(e)&&c["camel-case-expansion"]){var t=Q(e,"-");t!==n&&-1===f.aliases[n].indexOf(t)&&(f.aliases[n].push(t),l[t]=!0)}}),f.aliases[n].forEach(function(t){f.aliases[t]=[n].concat(f.aliases[n].filter(function(e){return t!==e}))}))})})}(t.key,r,t.default,f.arrays),Object.keys(n).forEach(function(t){(f.aliases[t]||[]).forEach(function(e){n[e]=n[t]})});var h={_:[]};Object.keys(f.bools).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&($(e,n[e]),function(e){[].concat(f.aliases[e]||[],e).forEach(function(e){f.defaulted[e]=!0})}(e))});for(var m,v,b,y,w,k,x,E=[],A=0;A<e.length;A++){var j,S,O,N,F,_,C=e[A];if(C.match(/^--.+=/)||!c["short-option-groups"]&&C.match(/^-.+=/))W((N=C.match(/^--?([^=]+)=([\s\S]*)$/))[1],f.nargs)?(e.splice(A+1,0,N[2]),A=T(A,N[1],e)):W(N[1],f.arrays)&&e.length>A+1?(e.splice(A+1,0,N[2]),A=z(A,N[1],e)):$(N[1],N[2]);else if(C.match(g)&&c["boolean-negation"])$(S=C.match(g)[1],!1);else if(C.match(/^--.+/)||!c["short-option-groups"]&&C.match(/^-[^-]+/))W(S=C.match(/^--?(.+)/)[1],f.nargs)?A=T(A,S,e):W(S,f.arrays)&&e.length>A+1?A=z(A,S,e):void 0===(F=0===f.nargs[S]?void 0:e[A+1])||F.match(/^-/)&&!F.match(p)||W(S,f.bools)||W(S,f.counts)?/^(true|false)$/.test(F)?($(S,F),A++):$(S,R(S)):($(S,F),A++);else if(C.match(/^-.\..+=/))$((N=C.match(/^-([^=]+)=([\s\S]*)$/))[1],N[2]);else if(C.match(/^-.\..+/))F=e[A+1],S=C.match(/^-(.\..+)/)[1],void 0===F||F.match(/^-/)||W(S,f.bools)||W(S,f.counts)?$(S,R(S)):($(S,F),A++);else if(C.match(/^-[^-]+/)&&!C.match(p)){O=C.slice(1,-1).split(""),j=!1;for(var L=0;L<O.length;L++){if(F=C.slice(L+2),O[L+1]&&"="===O[L+1]){_=C.slice(L+3),W(S=O[L],f.nargs)?(e.splice(A+1,0,_),A=T(A,S,e)):W(S,f.arrays)&&e.length>A+1?(e.splice(A+1,0,_),A=z(A,S,e)):$(S,_),j=!0;break}if("-"!==F){if(/[A-Za-z]/.test(O[L])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(F)){$(O[L],F),j=!0;break}if(O[L+1]&&O[L+1].match(/\W/)){$(O[L],F),j=!0;break}$(O[L],R(O[L]))}else $(O[L],F)}S=C.slice(-1)[0],j||"-"===S||(W(S,f.nargs)?A=T(A,S,e):W(S,f.arrays)&&e.length>A+1?A=z(A,S,e):void 0===(F=e[A+1])||/^(-|--)[^-]/.test(F)&&!F.match(p)||W(S,f.bools)||W(S,f.counts)?/^(true|false)$/.test(F)?($(S,F),A++):$(S,R(S)):($(S,F),A++))}else{if("--"===C){E=e.slice(A+1);break}if(c["halt-at-non-option"]){E=e.slice(A);break}h._.push(M("_",C))}}P(h,!0),P(h,!1),m=h,B(v={},f.aliases,n),Object.keys(f.configs).forEach(function(t){var n=m[t]||v[t];if(n)try{var r=null,e=V.resolve(Z.cwd(),n);if("function"==typeof f.configs[t]){try{r=f.configs[t](e)}catch(e){r=e}if(r instanceof Error)return void(d=r)}else r=ee(23)(e);I(r)}catch(e){m[t]&&(d=Error(u("Invalid JSON config file: %s",n)))}}),function(){if(void 0===i)return;i.forEach(function(e){I(e)})}(),B(h,f.aliases,n),b=h,w={},Object.keys(b).forEach(function(e){if(!w.hasOwnProperty(e)&&"function"==typeof(y=W(e,f.coercions)))try{var t=y(b[e]);[].concat(f.aliases[e]||[],e).forEach(function(e){w[e]=b[e]=t})}catch(e){d=e}}),c["set-placeholder-key"]&&(k=h,f.keys.forEach(function(e){~e.indexOf(".")||void 0===k[e]&&(k[e]=void 0)})),Object.keys(f.counts).forEach(function(e){H(h,e.split("."))||$(e,0)}),a&&E.length&&(h[s]=[]),E.forEach(function(e){h[s].push(e)}),c["camel-case-expansion"]&&c["strip-dashed"]&&Object.keys(h).filter(function(e){return"--"!==e&&e.includes("-")}).forEach(function(e){delete h[e]}),c["strip-aliased"]&&(x=[]).concat.apply(x,_toConsumableArray(Object.keys(r).map(function(e){return r[e]}))).forEach(function(e){c["camel-case-expansion"]&&delete h[e.split(".").map(function(e){return Y(e)}).join(".")],delete h[e]});function T(e,t,n){var r,i=W(t,f.nargs),o=0;for(r=e+1;r<n.length&&!n[r].match(/^-[^0-9]/);r++)o++;o<i&&(d=Error(u("Not enough arguments following: %s",t)));var a=Math.min(o,i);for(r=e+1;r<a+e+1;r++)$(t,n[r]);return e+a}function z(e,t,n){for(var r=e+1,i=[],o=0<e,a=e+1;a<n.length;a++){if(/^-/.test(n[a])&&!p.test(n[a])){a===r&&$(t,U("array")),o=!0;break}e=a,i.push(n[a])}return o?$(t,i.map(function(e){return D(t,e)})):i.forEach(function(e){$(t,e)}),e}function $(e,t){if(function(e){[].concat(f.aliases[e]||[],e).forEach(function(e){delete f.defaulted[e]})}(e),/-/.test(e)&&c["camel-case-expansion"]){var n=e.split(".").map(function(e){return Y(e)}).join(".");!function e(t,n){f.aliases[t]&&f.aliases[t].length||(f.aliases[t]=[n],l[n]=!0);f.aliases[n]&&f.aliases[n].length||e(n,t)}(e,n)}var r=D(e,t),i=e.split(".");q(h,i,r),f.aliases[e]&&f.aliases[e].forEach(function(e){e=e.split("."),q(h,e,r)}),1<i.length&&c["dot-notation"]&&(f.aliases[i[0]]||[]).forEach(function(e){e=e.split(".");var t=[].concat(i);t.shift(),e=e.concat(t),q(h,e,r)}),W(e,f.normalize)&&!W(e,f.arrays)&&[e].concat(f.aliases[e]||[]).forEach(function(e){h.__defineSetter__(e,function(e){t=V.normalize(e)}),h.__defineGetter__(e,function(){return"string"==typeof t?V.normalize(t):t})})}function D(e,t){"string"!=typeof t||"'"!==t[0]&&'"'!==t[0]||t[t.length-1]!==t[0]||(t=t.substring(1,t.length-1)),(W(e,f.bools)||W(e,f.counts))&&"string"==typeof t&&(t="true"===t);var n=M(e,t);return W(e,f.counts)&&(G(n)||"boolean"==typeof n)&&(n=K),W(e,f.normalize)&&W(e,f.arrays)&&(n=Array.isArray(t)?t.map(V.normalize):V.normalize(t)),n}function M(e,t){W(e,f.strings)||W(e,f.coercions)||(function(e){return null!=e&&("number"==typeof e||(!!/^0x[0-9a-f]+$/i.test(e)||!(1<e.length&&"0"===e[0])&&/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)))}(t)&&c["parse-numbers"]&&Number.isSafeInteger(Math.floor(t))||!G(t)&&W(e,f.numbers))&&(t=Number(t));return t}function I(r,i){Object.keys(r).forEach(function(e){var t=r[e],n=i?i+"."+e:e;"object"===(void 0===t?"undefined":_typeof(t))&&null!==t&&!Array.isArray(t)&&c["dot-notation"]?I(t,n):(!H(h,n.split("."))||f.defaulted[n]||f.arrays[n]&&c["combine-arrays"])&&$(n,t)})}function P(n,r){if(void 0!==o){var i="string"==typeof o?o:"";Object.keys(Z.env).forEach(function(e){if(""===i||0===e.lastIndexOf(i,0)){var t=e.split("__").map(function(e,t){return 0===t&&(e=e.substring(i.length)),Y(e)});!(r&&f.configs[t.join(".")]||!r)||H(n,t)&&!f.defaulted[t.join(".")]||$(t.join("."),Z.env[e])}})}}function B(n,e,r){Object.keys(r).forEach(function(t){H(n,t.split("."))||(q(n,t.split("."),r[t]),(e[t]||[]).forEach(function(e){H(n,e.split("."))||q(n,e.split("."),r[t])}))})}function H(e,t){var n=e;c["dot-notation"]||(t=[t.join(".")]),t.slice(0,-1).forEach(function(e){n=n[e]||{}});var r=t[t.length-1];return"object"===(void 0===n?"undefined":_typeof(n))&&r in n}function q(e,t,n){var r=e;c["dot-notation"]||(t=[t.join(".")]),t.slice(0,-1).forEach(function(e,t){"object"===(void 0===r?"undefined":_typeof(r))&&void 0===r[e]&&(r[e]={}),r="object"!==_typeof(r[e])||Array.isArray(r[e])?(Array.isArray(r[e])?r[e].push({}):r[e]=[r[e],{}],r[e][r[e].length-1]):r[e]});var i=t[t.length-1],o=W(t.join("."),f.arrays),a=Array.isArray(n),s=c["duplicate-arguments-array"];!s&&W(i,f.nargs)&&(s=!0,(!G(r[i])&&1===f.nargs[i]||Array.isArray(r[i])&&r[i].length===f.nargs[i])&&(r[i]=void 0)),n===K?r[i]=K(r[i]):Array.isArray(r[i])?s&&o&&a?r[i]=c["flatten-duplicate-arrays"]?r[i].concat(n):(Array.isArray(r[i][0])?r[i]:[r[i]]).concat([n]):s||Boolean(o)!==Boolean(a)?r[i]=r[i].concat([n]):r[i]=n:void 0===r[i]&&o?r[i]=a?n:[n]:s&&!(void 0===r[i]||W(i,f.bools)||W(t.join("."),f.bools)||W(i,f.counts))?r[i]=[r[i],n]:r[i]=n}function W(e,t){var n=!1;return[].concat(f.aliases[e]||[],e).forEach(function(e){t[e]&&(n=t[e])}),n}function R(e){return!W(e,f.bools)&&!W(e,f.counts)&&""+e in n?n[e]:U(function(e){var t="boolean";W(e,f.strings)?t="string":W(e,f.numbers)?t="number":W(e,f.arrays)&&(t="array");return t}(e))}function U(e){return{boolean:!0,string:"",number:void 0,array:[]}[e]}function G(e){return void 0===e}return{argv:h,error:d,aliases:f.aliases,newAliases:l,configuration:c}}function K(e){return void 0!==e?e+1:1}function e(e,t){return n(e.slice(),t).argv}e.detailed=function(e,t){return n(e.slice(),t)},t.exports=e}).call(e,ee(17))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||u||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){function n(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");var n;return t=Object.assign({pascalCase:!1},t),0===(e=Array.isArray(e)?e.map(function(e){return e.trim()}).filter(function(e){return e.length}).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=function(e){for(var t=!1,n=!1,r=!1,i=0;i<e.length;i++){var o=e[i];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,i)+"-"+e.slice(i),r=n,n=!(t=!1),i++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,t=!(n=!1)):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,r=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e}(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()}).replace(/\d+(\w|$)/g,function(e){return e.toUpperCase()}),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n)}e.exports=n,e.exports.default=n},function(e,t){e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");return t=void 0===t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},function(e,l,t){(function(i){function o(e,t){for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function a(e){return t.exec(e).slice(1)}var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function s(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}l.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:i.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},l.normalize=function(e){var t=l.isAbsolute(e),n="/"===r(e,-1);return(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var c=[];for(s=a;s<r.length;s++)c.push("..");return(c=c.concat(i.slice(a))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){var t=a(e),n=t[0],r=t[1];return n||r?n+(r=r&&r.substr(0,r.length-1)):"."},l.basename=function(e,t){var n=a(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},l.extname=function(e){return a(e)[3]};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(l,t(17))},function(e,t){e.exports=function(e){if(Array.isArray(e))return e.map(function(e){return"string"!=typeof e?e+"":e});e=e.trim();for(var t=0,n=null,r=null,i=null,o=[],a=0;a<e.length;a++)n=r," "!==(r=e.charAt(a))||i?(r===i?i=null:"'"!==r&&'"'!==r||i||(i=r),o[t]||(o[t]=""),o[t]+=r):" "!==n&&t++;return o}},function(e,t){function s(e,t){return Math.random()*(t-e)+e}e.exports={slowLog:function e(t,n,r,i,o){var a=n.next();if(null==a)return o();t.print(a.replace(/\t/g,"")+"<br/>");setTimeout(function(){e(t,n,r,i,o)},s(r,i))},series:function n(r,i){var e=r.shift();e(function(e,t){return e?i(e):r.length?n(r,i):i(null,t)})},randomNumber:s}},function(e,t,n){var r={"./index":16,"./index.js":16,"./lib/tokenize-arg-string":21,"./lib/tokenize-arg-string.js":21};function i(e){return n(o(e))}function o(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=23},,,,,function(e,t,n){var r=n(29),i=n(30),o=n(31);function a(e,t){var n="/home/"+e;"root"===e&&(n="/root"),r.add(e,n,e,t),"root"===e?o.mkdir(n,r.ids("root")):(o.mkdir("/home",r.ids("root")),o.mkdir(n,r.ids(e))),o.mkdir(n+"/Documents",r.ids(e)),o.mkdir(n+"/Code",r.ids(e)),o.write(n+"/.bash_history","ls\n\t  ls\n\t  mkdir\n\t  rm -rf /",r.ids(e)),o.write(n+"/.bash_profile",'source /etc/profile\n\t\n\t  export NVM_DIR="/'+n+'}/.nvm"\n\t  [ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"  # This loads nvm\n\t\n\t  nvm use 10',r.ids(e))}e.exports=function(){i.add("root"),i.add("wheel"),i.add("staff"),i.add("alex"),a("root",[]),a("alex",["wheel","staff"]),o.cd("/home/alex")}},function(e,t,n){var i=n(30),o=0,a={},r={add:function(e,t,n,r){a[o]={uid:o,gid:i.find(n).gid,name:e,home:t,groups:r.map(function(e){return i.find(e).gid})},o++},find:function(t){return"string"==typeof t||t instanceof String?Object.values(a).find(function(e){return e.name===t}):a[t]},ids:function(e){var t=r.find(e);if(t)return{uid:t.uid,gid:t.gid}}};e.exports=r},function(e,t){var n=0,r={},i={add:function(e){r[n]={gid:n,name:e},n++},find:function(t){return"string"==typeof t||t instanceof String?Object.values(r).find(function(e){return e.name===t}):r[t]}};e.exports=i},function(e,t,n){function l(e){var t=0<arguments.length&&void 0!==e?e:{};return{uid:t.uid||0,gid:t.gid||0,size:function(){var n=this;return Object.keys(this.children).reduce(function(e,t){return e+n.children[t].size()},0)},mtime:new Date,children:{}}}var r=n(20).resolve,i="/home/alex",u=l({uid:0,gid:0}),o={pwd:function(){return i},getNode:function(e){var t=d(e);if("/"===t)return u;for(var n=(t=t.replace(/^\/+/g,"").replace(/\/+$/g,"")).split("/"),r=u.children[n[0]],i=1;i<n.length;i++){if(!r.children[n[i]])return null;r=r.children[n[i]]}return r},mkdir:function(e,t){for(var n=d(e),r=(n=n.replace(/^\/+/g,"").replace(/\/+$/g,"")).split("/"),i=u,o=0;o<r.length;o++){var a=i.children[r[o]];if(a)i=a;else{if(!t.p&&o!==r.length-1)throw new Error("mkdir: "+e+": No such file or directory");i=i.children[r[o]]=l(t)}}},write:function(e,t,n){for(var r=d(e),i=(r=r.replace(/^\/+/g,"").replace(/\/+$/g,"")).split("/"),o=u,a=i.pop(),s=0;s<i.length;s++){var c=o.children[i[s]];if(c)o=c;else{if(!n.p)throw new Error("touch: "+e+": No such file or directory");o=o.children[i[s]]=l(n)}}o.children[a]=function(e,t){var n=0<arguments.length&&void 0!==e?e:"",r=1<arguments.length&&void 0!==t?t:{};return{uid:r.uid||0,gid:r.gid||0,size:function(){return this.content.length},mtime:new Date,content:n}}(t,n)},read:function(e){var t=d(e),n=o.getNode(t);if(!n)throw new Error("read: "+e+": No such file or directory");return n.content},rm:function(e,t){for(var n=d(e),r=(n=n.replace(/^\/+/g,"").replace(/\/+$/g,"")).split("/"),i=u,o=r.pop(),a=0;a<r.length;a++){var s=i.children[r[a]];if(!s)throw new Error("rm: "+e+": No such file or directory");i=s}if(!i.children[o])throw new Error("rm: "+e+": No such file or directory");if(i.children[o].children&&!t.r)throw new Error("rm: "+e+": is a directory");delete i.children[o]},cd:function(e){var t=d(e);if(!o.getNode(t))throw new Error("-bash: cd: "+e+": No such file or directory");i=t},ls:function(e){var t=d(e||i),n=o.getNode(t);if(!n)throw new Error("read: "+e+": No such file or directory");return n.content?[{name:t.split("/").pop(),node:n}]:Object.keys(n.children).map(function(e){return{name:e,node:n.children[e]}})}};function d(e){var t=e;return"/"!==t.substring(0,1)&&(t=i+"/"+t),t=(t=t.replace(/\/+/g,"/")).replace(/^\/+/g,"").replace(/\/+$/g,""),t=r(t="/"+t)}e.exports=o},function(e,t,n){var r=n(31),i=n(29),o=n(30);e.exports={handler:function(e,t){var n=r.ls(t._[0]);return n=n.sort(function(e,t){return e.name.localeCompare(t.name)}),t.a||(n=n.filter(function(e){return"."!==e.name.substring(0,1)})),t.l?"\n\t      <table><tbody>\n\t        "+n.map(function(e){var t=e.node,n=t.mtime.toLocaleDateString("en-GB",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return"<tr>\n\t              <td>"+(t.children?"d":"-")+"rw-r--r--&nbsp;</td>\n\t              <td>"+i.find(t.uid).name+"&nbsp;</td>\n\t              <td>"+o.find(t.gid).name+"&nbsp;</td>\n\t              <td>"+t.size()+"&nbsp;</td>\n\t              <td>"+n+"&nbsp;</td>\n\t              <td>"+e.name+"</td>\n\t            </tr>"}).join("")+"\n\t      <tbody></table>":n.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){return e.name}).join(" ")},args:{boolean:["l","a"]}}},function(e,t,n){var r=n(31);e.exports={handler:function(){return r.pwd()}}},function(e,t,n){var i=n(31),o=n(29);e.exports={handler:function(e,t){var n=t._;if(!n.length)throw new Error("usage: mkdir [-pv] [-m mode] directory ...");for(var r=0;r<n.length;r++)i.mkdir(n[r],{uid:o.find("alex").uid,gid:o.find("alex").gid,p:t.p});return""},args:{boolean:["p"]}}},function(e,t,n){var r=n(31);e.exports={handler:function(e,t){var n=t._;if(!n.length)throw new Error("usage: touch [-A [-][[hh]mm]SS] [-acfhm] [-r file] [-t [[CC]YY]MMDDhhmm[.SS]] file ...");return r.write(n[0],"",{uid:r.user(500).uid,gid:r.user(500).gid}),""}}},function(e,t,n){var r=n(31);e.exports={handler:function(e,t){var n=r.getNode(t._[0]);if(!n)throw new Error("cat: "+t._[0]+": No such file or directory");if(n.children)throw new Error("cat: "+t._[0]+": Is a directory");return"<pre>"+n.content+"</pre>"}}},function(e,t,n){var r=n(31);e.exports={handler:function(e,t){var n=t._;return n.length||n.push("/home/alex"),r.cd(n[0]),e.setPrompt(n[0].split("/").pop()+" "),""}}},function(e,t,n){var i=n(31);e.exports={handler:function(e,t){var n=t._;if(!n.length)throw new Error("usage: rm [-f | -i] [-dPRrvW] file ... unlink file");for(var r=0;r<n.length;r++)i.rm(n[r],t);return""},args:{boolean:["r","f"]}}},function(e,t){e.exports={handler:function(e){return e.clear(),""}}},function(e,t){e.exports={handler:function(e,t){if(!t._.length)return e.getTheme();if(1<t._.length)throw new Error("Too many arguments");if(t._[0].match(/^interlaced|modern|white$/))return e.setTheme(t[0]),"";throw new Error("Invalid theme")}}},function(e,t){e.exports={handler:function(){return"1.0.2"}}},function(e,t,n){n(22).slowLog;var r={install:n(43)};e.exports={handler:function(e,t){var n=t._.shift();return r[n]?r[n].handler(e,t):"<pre>Usage: npm <command>\n\t\n\twhere <command> is one of:\n\t    "+Object.keys(r).sort(function(e,t){return e.localeCompare(t)})+"\n\t\n\tnpm <command> -h  quick help on <command>\n\tnpm -l            display full usage info\n\tnpm help <term>   search for help on <term>\n\tnpm help npm      involved overview\n\t\n\tSpecify configs in the ini-formatted file:\n\t    /home/alex/.npmrc\n\tor on the command line via: npm <command> --key value\n\tConfig info can be viewed via: npm help config\n\t\n\tnpm@6.4.1 /home/alex/.nvm/versions/node/v10.15.3/lib/node_modules/npm</pre>"},args:{boolean:["save","save-dev","production","g","global"]}}},function(e,t,n){var r=n(44).npmInstallLog;e.exports={handler:function(e,t){r(e,{name:t._[0],dependencies:["dnscache","express-http-proxy","ipfsd-ctl","ipfs-http-client","ipfs","express","debug","once","request","rc","request-promise","yargs","@yarnpkg%2flockfile","ipfs-registry-mirror-common","which-promise"]})}}},function(e,t,n){var r=n(22),i=r.slowLog,o=r.randomNumber;e.exports={npmInstallLog:function(e,t){var n=["npm info it worked if it ends with ok","npm info using npm@6.4.1","npm info using node@v10.15.3","npm http fetch GET 304 https://registry.npmjs.org/"+t.name+" 997ms (from cache)","npm timing stage:loadCurrentTree Completed in 6248ms","npm timing stage:loadIdealTree:cloneCurrentTree Completed in 36ms","npm timing stage:loadIdealTree:loadShrinkwrap Completed in 2452ms"];t.dependencies.forEach(function(e){n.push("npm http fetch GET 304 https://registry.npmjs.org/"+e+" "+o(100,500)+"ms (from cache)")}),t.dependencies.forEach(function(e){n.push("npm info lifecycle "+e+"@0.8.0~postinstall: "+e+"@0.8.0")}),n=n.concat(["npm timing action:postinstall Completed in 391ms","npm timing stage:executeActions Completed in %time%ms","npm timing stage:rollbackFailedOptional Completed in 2ms","npm timing stage:runTopLevelLifecycles Completed in %time%ms","+ "+t.name+"@0.16.3","added 163 packages from 285 contributors and updated 1132 packages in 97.761s","npm timing npm Completed in %time%ms","npm info ok"]);var r=Date.now();i(e,{next:function(){var e=n.shift();return e?e.replace("%time%",Date.now()-r):null}},50,200,function(){})}}},function(e,t,n){var i=n(22).slowLog,o={init:n(46),install:n(47)};e.exports={handler:function(e,t){var n=t._.shift();if(o[n])return o[n].handler(e,t);var r=["👩‍🚀 Starting local proxy","🚀 Server running on port 49820","🎁 Installing dependencies with /Users/alex/.nvm/versions/node/v10.15.3/bin/npm","npm info it worked if it ends with ok","npm info using npm@6.4.1","npm info using node@v10.15.3","<pre>Usage: npm <command>\n\t\n\twhere <command> is one of:\n\t    access, adduser, audit, bin, bugs, c, cache, ci, cit,\n\t    completion, config, create, ddp, dedupe, deprecate,\n\t    dist-tag, docs, doctor, edit, explore, get, help,\n\t    help-search, hook, i, init, install, install-test, it, link,\n\t    list, ln, login, logout, ls, outdated, owner, pack, ping,\n\t    prefix, profile, prune, publish, rb, rebuild, repo, restart,\n\t    root, run, run-script, s, se, search, set, shrinkwrap, star,\n\t    stars, start, stop, t, team, test, token, tst, un,\n\t    uninstall, unpublish, unstar, up, update, v, version, view,\n\t    whoami\n\t\n\tnpm <command> -h  quick help on <command>\n\tnpm -l            display full usage info\n\tnpm help <term>   search for help on <term>\n\tnpm help npm      involved overview\n\t\n\tSpecify configs in the ini-formatted file:\n\t    /Users/alex/.npmrc\n\tor on the command line via: npm <command> --key value\n\tConfig info can be viewed via: npm help config\n\t\n\tnpm@6.4.1 /Users/alex/.nvm/versions/node/v10.15.3/lib/node_modules/npm\n\t🎁 /Users/alex/.nvm/versions/node/v10.15.3/bin/npm exited with code 1\n\t🤷 No package-lock.json found</pre>"];return i(e,{next:function(){return r.shift()}},50,200,function(){}),""},args:{boolean:["save","y"]}}},function(e,t,n){var i=n(31),o=n(29);n(22).slowLog;e.exports={handler:function(e,t){var n=i.pwd(),r='{\n\t  "name": "'+n.split("/").pop()+'",\n\t  "version": "1.0.0",\n\t  "description": "",\n\t  "main": "index.js",\n\t  "scripts": {\n\t    "test": "echo \\"Error: no test specified\\" && exit 1"\n\t  },\n\t  "keywords": [],\n\t  "author": "",\n\t  "license": "ISC"\n\t}';return i.write(n+"/package.json",r,o.ids("alex")),"<pre>Wrote to "+n+"/package.json:\n\t\n\t    "+r+"</pre>"},args:{boolean:["y"]}}},function(e,t,n){var a=n(31),s=n(29),r=n(22),i=r.slowLog;r.randomNumber;e.exports={handler:function(e,t){var n=a.pwd(),r=n+"/package.json",i=a.read(r),o=JSON.parse(i);t._.length&&(c(e,t._[0]),t.save&&(o.dependencies=o.dependencies||{},o.dependencies[t._[0]]="^9.0.0",a.write(r,JSON.stringify(o,null,2),s.ids("alex")),a.write(n+"/package-lock.json",'{\n\t  "name": "'+o.name+'",\n\t  "version": "1.0.0",\n\t  "lockfileVersion": 1,\n\t  "requires": true,\n\t  "dependencies": {\n\t    "'+t._[0]+'": {\n\t      "version": "9.0.0",\n\t      "resolved": "https://registry.js.ipfs.io/'+t._[0]+"/-/"+t._[0]+'-9.0.0.tgz",\n\t      "integrity": "sha512-t/OYhhJ2SD+YGBQcjY8GzzDHEk9f3nerxjtfa6tlMXfe7frs/WozhvCNoGvpM0P3bNf3Gq5ZRMlGr5f3r4/N8A=="\n\t    }\n\t  }\n\t}'),a.mkdir(n+"/node_modules",s.ids("alex")),a.mkdir(n+"/node_modules/"+t._[0],s.ids("alex")),a.write(n+"/node_modules/"+t._[0]+"/package.json","I am a very nice package",s.ids("alex")),a.write(n+"/node_modules/"+t._[0]+"/index.js","Look at me being an implementation",s.ids("alex"))))},args:{boolean:["save"]}};var c=function(e,t){var n=["👩‍🚀 Starting local proxy","🚀 Server running on port 60000","🎁 Installing dependencies with /home/alex/.nvm/versions/node/v10.15.3/bin/npm","npm info it worked if it ends with ok","npm info using npm@6.4.1","npm info using node@v10.15.3","😈 Spawning an in-process IPFS node using repo at /home/alex/.jsipfs2","Swarm listening on /ip4/127.0.0.1/tcp/60015/ipfs/QmVYDeLg2UsfvY1tYQuHDN5ioiCiengfNGimMFbnjyvbjb","Swarm listening on /p2p-circuit/ipfs/QmVYDeLg2UsfvY1tYQuHDN5ioiCiengfNGimMFbnjyvbjb","Swarm listening on /p2p-circuit/ip4/127.0.0.1/tcp/60015/ipfs/QmVYDeLg2UsfvY1tYQuHDN5ioiCiengfNGimMFbnjyvbjb","🗂️  Loading registry index from https://registry.js.ipfs.io","☎️  Dialling registry mirror /ip4/35.178.192.119/tcp/10036/ipfs/QmctQ4T1Sv1aBTtRhtzmRwvAf8svtHLPhJWWbv6wfVcrRN,/dns4/registry.js.ipfs.io/tcp/10036/ipfs/QmctQ4T1Sv1aBTtRhtzmRwvAf8svtHLPhJWWbv6wfVcrRN","📱️ Connected to registry","🆕 New versions of "+t+" detected - 1.0.0, 1.0.1, 1.1.0, 1.1.1, 1.2.0, 1.2.1, 1.3.0, 1.4.0, 1.4.1, 1.5.0, 2.0.0, 2.0.1, 2.0.2, 2.0.3, 2.0.5, 2.0.6, 2.0.7, 2.0.8, 2.1.0, 2.1.1, 2.1.2, 2.1.3, 2.1.4, 2.2.0, 2.3.0, 2.4.0, 3.0.0, 3.0.1, 3.1.0, 3.1.1, 3.1.2, 4.0.0, 4.0.1, 4.0.2, 4.0.3, 4.0.4, 4.1.0, 5.0.0, 6.0.0, 7.0.0, 7.0.1, 7.0.2, 7.1.0, 7.2.0, 7.2.1, 8.0.1, 8.0.2, 8.1.1, 9.0.0, 8.1.0","📄 GET /"+t+" 200 2857ms","npm http fetch GET 200 http://localhost:60000/"+t+" 2907ms","npm WARN foo@1.0.0 No description","npm WARN foo@1.0.0 No repository field."," ","📄 POST /-/npm/v1/security/audits/quick 200 439ms","npm timing audit submit Completed in 493ms","npm http fetch POST 200 http://localhost:60000/-/npm/v1/security/audits/quick 492ms","npm timing audit body Completed in 0ms","+ "+t+"@9.0.0","added 1 package from 1 contributor and audited 1 package in %time%ms","found 0 vulnerabilities"," ","npm timing npm Completed in %time%ms","npm info ok ","🎁 /Users/alex/.nvm/versions/node/v10.15.3/bin/npm exited with code 0","🔏 Updating package-lock.json"],r=Date.now();i(e,{next:function(){var e=n.shift();return e?e.replace("%time%",Date.now()-r):null}},200,500,function(){})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlcy5qcyIsIndlYnBhY2svYm9vdHN0cmFwIGJlNDk3ZjIzODNmMWRiNDQwZTA5Iiwibm9kZV9tb2R1bGVzL0BhY2hpbmdicmFpbi9zbGlkZXMvdGVtcC9zbGlkZXMuanMiLCJub2RlX21vZHVsZXMvcHJpc21qcy9wcmlzbS5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlL2xpYi9iZXNwb2tlLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtdGhlbWUtbmVidWxhL2Rpc3QvYmVzcG9rZS10aGVtZS1uZWJ1bGEuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1rZXlzL2xpYi9iZXNwb2tlLWtleXMuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS10b3VjaC9saWIvYmVzcG9rZS10b3VjaC5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWJ1bGxldHMvbGliL2Jlc3Bva2UtYnVsbGV0cy5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWJhY2tkcm9wL2xpYi9iZXNwb2tlLWJhY2tkcm9wLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2Utc2NhbGUvbGliL2Jlc3Bva2Utc2NhbGUuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1oYXNoL2xpYi9iZXNwb2tlLWhhc2guanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1wcm9ncmVzcy9saWIvYmVzcG9rZS1wcm9ncmVzcy5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWluZGV4ZmluZ2VyL2xpYi9iZXNwb2tlLWluZGV4ZmluZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtY29udmVuaWVudC9saWIvYmVzcG9rZS1jb252ZW5pZW50LmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2Utc2Vjb25kYXJ5L2xpYi9iZXNwb2tlLXNlY29uZGFyeS5qcyIsImpzL2RlY2suanMiLCJub2RlX21vZHVsZXMvZG9tLXRlcm1pbmFsL2xpYi90ZXJtaW5hbC5qcyIsIm5vZGVfbW9kdWxlcy95YXJncy1wYXJzZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3lhcmdzLXBhcnNlci9ub2RlX21vZHVsZXMvY2FtZWxjYXNlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3BhdGgtYnJvd3NlcmlmeS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9kZWNhbWVsaXplL2luZGV4LmpzIiwianMvdXRpbC5qcyIsIm5vZGVfbW9kdWxlcy95YXJncy1wYXJzZXIvbGliL3Rva2VuaXplLWFyZy1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMveWFyZ3MtcGFyc2VyIC9eLy4qJCIsImpzL3N5c3RlbS91c2Vycy5qcyIsImpzL3N5c3RlbS9ib290LmpzIiwianMvc3lzdGVtL2dyb3Vwcy5qcyIsImpzL3N5c3RlbS9mcy5qcyIsImpzL2NvbW1hbmRzL2xzLmpzIiwianMvY29tbWFuZHMvcHdkLmpzIiwianMvY29tbWFuZHMvbWtkaXIuanMiLCJqcy9jb21tYW5kcy90b3VjaC5qcyIsImpzL2NvbW1hbmRzL2NhdC5qcyIsImpzL2NvbW1hbmRzL3RoZW1lLmpzIiwianMvY29tbWFuZHMvY2QuanMiLCJqcy9jb21tYW5kcy92ZXJzaW9uLmpzIiwianMvY29tbWFuZHMvcm0uanMiLCJqcy9jb21tYW5kcy9ucG0vaW5kZXguanMiLCJqcy9jb21tYW5kcy9jbGVhci5qcyIsImpzL2NvbW1hbmRzL25wbS9pbnN0YWxsLmpzIiwianMvY29tbWFuZHMvbnBtL3V0aWwuanMiLCJqcy9jb21tYW5kcy9pcGZzLW5wbS9pbnN0YWxsLmpzIiwianMvY29tbWFuZHMvaXBmcy1ucG0vaW5kZXguanMiLCJqcy9jb21tYW5kcy9pcGZzLW5wbS9pbml0LmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsImJlc3Bva2UiLCJ0aGVtZSIsImtleXMiLCJ0b3VjaCIsImJ1bGxldHMiLCJiYWNrZHJvcCIsInNjYWxlIiwiaGFzaCIsInByb2dyZXNzIiwiaW5kZXhGaW5nZXIiLCJzZWNvbmRhcnkiLCJwbHVnaW5zIiwiZSIsIkVycm9yIiwiY29kZSIsImVycm9yIiwiZGVjayIsImZyb20iLCJnbG9iYWwiLCJQcmlzbSIsIl9zZWxmIiwibGFuZyIsInVuaXF1ZUlkIiwiXyIsIm1hbnVhbCIsImRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlciIsInV0aWwiLCJlbmNvZGUiLCJ0b2tlbnMiLCJUb2tlbiIsInR5cGUiLCJjb250ZW50IiwiYWxpYXMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJyZXBsYWNlIiwibyIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwic2xpY2UiLCJvYmpJZCIsIm9iaiIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJjbG9uZSIsImRlZXBDbG9uZSIsInZpc2l0ZWQiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsImZvckVhY2giLCJ2IiwiaSIsImxhbmd1YWdlcyIsImV4dGVuZCIsInJlZGVmIiwiaW5zZXJ0QmVmb3JlIiwiaW5zaWRlIiwiYmVmb3JlIiwiaW5zZXJ0Iiwicm9vdCIsImdyYW1tYXIiLCJyZXQiLCJ0b2tlbiIsIm5ld1Rva2VuIiwib2xkIiwiREZTIiwidGhpcyIsImNhbGxiYWNrIiwicHJvcGVydHkiLCJwcm9wZXJ0eVR5cGUiLCJoaWdobGlnaHRBbGwiLCJhc3luYyIsImhpZ2hsaWdodEFsbFVuZGVyIiwiZG9jdW1lbnQiLCJjb250YWluZXIiLCJlbnYiLCJzZWxlY3RvciIsImhvb2tzIiwicnVuIiwiZWxlbWVudCIsImVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImhpZ2hsaWdodEVsZW1lbnQiLCJsYW5ndWFnZSIsInBhcmVudCIsInRlc3QiLCJjbGFzc05hbWUiLCJwYXJlbnROb2RlIiwibWF0Y2giLCJ0b0xvd2VyQ2FzZSIsIm5vZGVOYW1lIiwiaW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlIiwiaGlnaGxpZ2h0ZWRDb2RlIiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJXb3JrZXIiLCJ3b3JrZXIiLCJmaWxlbmFtZSIsIm9ubWVzc2FnZSIsImV2dCIsImRhdGEiLCJwb3N0TWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbW1lZGlhdGVDbG9zZSIsImhpZ2hsaWdodCIsInRleHQiLCJ0b2tlbml6ZSIsIm1hdGNoR3JhbW1hciIsInN0cmFyciIsImluZGV4Iiwic3RhcnRQb3MiLCJvbmVzaG90IiwidGFyZ2V0IiwicGF0dGVybnMiLCJqIiwibGVuZ3RoIiwicGF0dGVybiIsImxvb2tiZWhpbmQiLCJncmVlZHkiLCJsb29rYmVoaW5kTGVuZ3RoIiwiZmxhZ3MiLCJSZWdFeHAiLCJzb3VyY2UiLCJwb3MiLCJzdHIiLCJsYXN0SW5kZXgiLCJleGVjIiwidG8iLCJrIiwibGVuIiwiZGVsTnVtIiwiYWZ0ZXIiLCJhcmdzIiwicHVzaCIsIndyYXBwZWQiLCJzcGxpY2UiLCJhcHBseSIsInJlc3QiLCJhbGwiLCJhZGQiLCJuYW1lIiwiY2FsbGJhY2tzIiwibWF0Y2hlZFN0ciIsImpvaW4iLCJ0YWciLCJjbGFzc2VzIiwiYXR0cmlidXRlcyIsImFsaWFzZXMiLCJhZGRFdmVudExpc3RlbmVyIiwibWVzc2FnZSIsInBhcnNlIiwiY2xvc2UiLCJzY3JpcHQiLCJjdXJyZW50U2NyaXB0IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwb3AiLCJzcmMiLCJoYXNBdHRyaWJ1dGUiLCJyZWFkeVN0YXRlIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsIldvcmtlckdsb2JhbFNjb3BlIiwic2VsZiIsIm1hcmt1cCIsImNvbW1lbnQiLCJwcm9sb2ciLCJkb2N0eXBlIiwiY2RhdGEiLCJwdW5jdHVhdGlvbiIsIm5hbWVzcGFjZSIsImF0dHItdmFsdWUiLCJhdHRyLW5hbWUiLCJlbnRpdHkiLCJ0YWdOYW1lIiwiaW5jbHVkZWRDZGF0YUluc2lkZSIsImluY2x1ZGVkLWNkYXRhIiwiZGVmIiwieG1sIiwiaHRtbCIsIm1hdGhtbCIsInN2ZyIsInN0cmluZyIsImNzcyIsImF0cnVsZSIsInJ1bGUiLCJ1cmwiLCJpbXBvcnRhbnQiLCJmdW5jdGlvbiIsImFkZElubGluZWQiLCJzdHlsZS1hdHRyIiwiY2xpa2UiLCJjbGFzcy1uYW1lIiwia2V5d29yZCIsImJvb2xlYW4iLCJudW1iZXIiLCJvcGVyYXRvciIsImphdmFzY3JpcHQiLCJyZWdleCIsImZ1bmN0aW9uLXZhcmlhYmxlIiwicGFyYW1ldGVyIiwiY29uc3RhbnQiLCJ0ZW1wbGF0ZS1zdHJpbmciLCJpbnRlcnBvbGF0aW9uIiwiaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvbiIsImpzIiwicXVlcnlTZWxlY3RvciIsImZpbGVIaWdobGlnaHQiLCJFeHRlbnNpb25zIiwicHkiLCJyYiIsInBzMSIsInBzbTEiLCJzaCIsImJhdCIsImgiLCJ0ZXgiLCJwcmUiLCJnZXRBdHRyaWJ1dGUiLCJleHRlbnNpb24iLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJzZXRBdHRyaWJ1dGUiLCJzdGF0dXNUZXh0Iiwic2VuZCIsInRvb2xiYXIiLCJyZWdpc3RlckJ1dHRvbiIsImEiLCJocmVmIiwib3B0cyIsImFjdGl2YXRlIiwiY3VzdG9tRGF0YSIsInNsaWRlcyIsImZpcmUiLCJjcmVhdGVFdmVudERhdGEiLCJhY3RpdmVTbGlkZSIsInN0ZXAiLCJvZmZzZXQiLCJzbGlkZUluZGV4IiwiaW5kZXhPZiIsIm5vZGVUeXBlIiwiZmlsdGVyIiwiY2hpbGRyZW4iLCJlbCIsImxpc3RlbmVycyIsIm9mZiIsImV2ZW50TmFtZSIsImxpc3RlbmVyIiwiZXZlbnREYXRhIiwicmVkdWNlIiwibm90Q2FuY2VsbGVkIiwic2xpZGUiLCJvbiIsImJpbmQiLCJhcmd1bWVudHMiLCJuZXh0IiwicHJldiIsInBsdWdpbiIsInQiLCJuIiwiciIsInMiLCJ1IiwiZiIsIjEiLCJfZGVyZXFfIiwiaW5zZXJ0Q3NzIiwicHJlcGVuZCIsImJlc3Bva2UtY2xhc3NlcyIsImluc2VydC1jc3MiLCIyIiwiYWRkQ2xhc3MiLCJjbHMiLCJjbGFzc0xpc3QiLCJyZW1vdmVDbGFzcyIsInRyaW0iLCJkZWFjdGl2YXRlIiwib2Zmc2V0Q2xhc3MiLCJNYXRoIiwiYWJzIiwiMyIsImluc2VydGVkIiwib3B0aW9ucyIsImVsZW0iLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImhlYWQiLCJjaGlsZE5vZGVzIiwiaXNIb3Jpem9udGFsIiwid2hpY2giLCJzaGlmdEtleSIsInN0YXJ0UG9zaXRpb24iLCJkZWx0YSIsImF4aXMiLCJ0b3VjaGVzIiwicHJldmVudERlZmF1bHQiLCJhY3RpdmVTbGlkZUluZGV4IiwiYWN0aXZlQnVsbGV0SW5kZXgiLCJhY3RpdmF0ZUJ1bGxldCIsImJ1bGxldEluZGV4IiwiYnVsbGV0IiwiYiIsInJlbW92ZSIsImFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQiLCJ1bmRlZmluZWQiLCJuZXh0U2xpZGVJbmRleCIsInByZXZTbGlkZUluZGV4IiwiYmFja2Ryb3BzIiwidXBkYXRlQ2xhc3NlcyIsImN1cnJlbnRJbmRleCIsImJhY2tkcm9wQXR0cmlidXRlIiwic2NhbGVBbGwiLCJ4U2NhbGUiLCJvZmZzZXRXaWR0aCIsInNsaWRlV2lkdGgiLCJ5U2NhbGUiLCJvZmZzZXRIZWlnaHQiLCJzbGlkZUhlaWdodCIsIm1pbiIsImZpcnN0U2xpZGUiLCJ1c2Vab29tIiwic3R5bGUiLCJ3cmFwcGVyIiwidHJhbnNmb3JtUHJvcGVydHkiLCJzcGxpdCIsImN1cnJlbnRQcm9wZXJ0eSIsInByZWZpeCIsInJhdGlvIiwiem9vbSIsImFjdGl2YXRlU2xpZGUiLCJpbmRleFRvQWN0aXZhdGUiLCJwYXJzZUhhc2giLCJsb2NhdGlvbiIsInNsaWRlTnVtYmVyT3JOYW1lIiwicGFyc2VJbnQiLCJzbGlkZU5hbWUiLCJwcm9ncmVzc1BhcmVudCIsInByb2dyZXNzQmFyIiwicHJvcCIsImJyb3dzZXJHbG9iYWwiLCJGdW5jdGlvbiIsImN2IiwiY29udmVuaWVudCIsImJ1aWxkZXIiLCJhY3RpdmF0ZURlY2siLCJ1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcyIsImVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXIiLCJzYXZlQWN0aXZlU2xpZGUiLCJnZXRBY3RpdmVTbGlkZSIsImdldEFjdGl2ZVNsaWRlSW5kZXgiLCJzdG9yZURlY2siLCJnZW5lcmF0ZUVycm9yT2JqZWN0IiwiZGVja3NTdG9yYWdlcyIsInNvbWUiLCJkZWNrU3RvcmFnZSIsImlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrIiwic3RvcmFnZSIsIm1lcmdlZCIsImRlZmF1bHRzIiwibG9nZ2VyIiwibG9nIiwiY29uc29sZSIsInBsdWdpbk5hbWUiLCJldmVudE5hbWVzcGFjZSIsImlubmVyRXZlbnQiLCJldmVudEluTmFtZXNwYWNlIiwidGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrIiwiZ2V0RGVja1N0b3JhZ2UiLCJpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbiIsImluaXRpYXRlRGVja1BsdWdpblN0b3JhZ2UiLCJkZWNrQm91bmQiLCJleHRlcm5hbCIsImdldFN0b3JhZ2UiLCJiaW5kVG9EZWNrIiwicHJlZml4ZXMiLCJjb252ZW5pZW50T3B0aW9ucyIsImNvbmNhdCIsImNvcHlBcnJheSIsImdldERlY2tQbHVnaW5TdG9yYWdlIiwiYmluZEV4dGVybmFsIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJpc051bWJlciIsImFyciIsImdlbmVyYXRlV2luZG93TmFtZSIsImRpZmYiLCJmbG9vciIsInJhbmRvbSIsInJhbmRvbUludGVnZXIiLCJpbmRleGZpbmdlciIsIm5vdGVzIiwidG9nZ2xlIiwia2V5RG93bkxpc3RlbmVyIiwiZXZlbnRIYW5kbGVkIiwiYWx0S2V5IiwiY3RybEtleSIsIm1ldGFLZXkiLCJjdkJvdW5kVG9EZWNrIiwic3luY2hyb25pemUiLCJvbkJlZm9yZVVubG9hZCIsIm9uQWN0aXZhdGUiLCJ1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMiLCJnZXROb3Rlc0VsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlzT3BlbiIsInciLCJjbG9zZWQiLCJvcGVuZXIiLCJkb2MiLCJib2R5IiwiaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzIiwiZm9jdXMiLCJhbGxOb3RlcyIsIm5vdGVzSHRtbCIsInNsaWRlTm90ZSIsIm91dGVySFRNTCIsInNlY29uZGFyeVdpbmRvd05hbWUiLCJvbmJlZm9yZXVubG9hZCIsIlRlcm1pbmFsIiwicGFyc2VyIiwiYm9vdCIsImZzIiwiY29tbWFuZHMiLCJscyIsInB3ZCIsIm1rZGlyIiwiY2F0IiwiY2QiLCJybSIsImNsZWFyIiwidmVyc2lvbiIsIm5wbSIsImlwZnMtbnBtIiwiaGVscCIsImhhbmRsZXIiLCJzb3J0IiwibG9jYWxlQ29tcGFyZSIsInRlcm1pbmFsIiwiZXhlY3V0ZSIsImNtZCIsImNvbW1hbmQiLCJvdXRwdXQiLCJlcnIiLCJzZXRQcm9tcHQiLCJfaW5wdXRMaW5lIiwiY29udGFpbmVySUQiLCJ3ZWxjb21lIiwicHJvbXB0Iiwic2VwYXJhdG9yIiwiZXh0ZW5zaW9ucyIsIl9oaXN0b3J5IiwibG9jYWxTdG9yYWdlIiwiaGlzdG9yeSIsIl9oaXN0cG9zIiwiX2hpc3R0ZW1wIiwiX3Rlcm1pbmFsIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiX2NvbnRhaW5lciIsIl9jbWRMaW5lIiwiX291dHB1dCIsIl9wcm9tcHQiLCJfYmFja2dyb3VuZCIsInNjcm9sbEludG9WaWV3Iiwic3RvcFByb3BhZ2F0aW9uIiwia2V5Q29kZSIsInBhcmVudEVsZW1lbnQiLCJpbmNsdWRlcyIsImNtZExpbmVJc1Zpc2libGUiLCJjbWRsaW5lIiwibGluZSIsImNsb25lTm9kZSIsInJlbW92ZUF0dHJpYnV0ZSIsImlucHV0IiwiYXV0b2ZvY3VzIiwicmVhZE9ubHkiLCJyZW1vdmVDaGlsZCIsInZhbCIsInJlc3BvbnNlIiwiZXh0IiwibWluSGVpZ2h0IiwiZ2V0UHJvbXB0Iiwic2V0VGhlbWUiLCJnZXRUaGVtZSIsInByaW50Iiwib2xkVGVybWluYWwiLCJub0NvbmZsaWN0Iiwibm9ybWFsaXplIiwicHJvY2VzcyIsImNhbWVsQ2FzZSIsImRlY2FtZWxpemUiLCJwYXRoIiwidG9rZW5pemVBcmdTdHJpbmciLCJhbGlhc0FycmF5cyIsImNoYW5nZSIsImNvbWJpbmVkIiwiaWkiLCJhbGlhc0FycmF5IiwiY29tYmluZUFsaWFzZXMiLCJjb25maWd1cmF0aW9uIiwiYXNzaWduIiwic2hvcnQtb3B0aW9uLWdyb3VwcyIsImNhbWVsLWNhc2UtZXhwYW5zaW9uIiwiZG90LW5vdGF0aW9uIiwicGFyc2UtbnVtYmVycyIsImJvb2xlYW4tbmVnYXRpb24iLCJuZWdhdGlvbi1wcmVmaXgiLCJkdXBsaWNhdGUtYXJndW1lbnRzLWFycmF5IiwiZmxhdHRlbi1kdXBsaWNhdGUtYXJyYXlzIiwicG9wdWxhdGUtLSIsImNvbWJpbmUtYXJyYXlzIiwic2V0LXBsYWNlaG9sZGVyLWtleSIsImhhbHQtYXQtbm9uLW9wdGlvbiIsInN0cmlwLWFsaWFzZWQiLCJzdHJpcC1kYXNoZWQiLCJkZWZhdWx0IiwiY29uZmlnT2JqZWN0cyIsImVudlByZWZpeCIsIm5vdEZsYWdzT3B0aW9uIiwibm90RmxhZ3NBcmd2IiwibmV3QWxpYXNlcyIsIl9fIiwiZm9ybWF0IiwiYXJyYXlzIiwiYm9vbHMiLCJzdHJpbmdzIiwibnVtYmVycyIsImNvdW50cyIsImNvbmZpZ3MiLCJkZWZhdWx0ZWQiLCJuYXJncyIsImNvZXJjaW9ucyIsIm5lZ2F0aXZlIiwibmVnYXRlZEJvb2xlYW4iLCJhcnJheSIsIkJvb2xlYW4iLCJvcHQiLCJhc3NpZ25tZW50IiwiY291bnQiLCJuYXJnIiwiY29lcmNlIiwiY29uZmlnIiwiX2xlbiIsIl9rZXkiLCJ4IiwieSIsImV4dGVuZEFsaWFzZXMiLCJhcmd2Iiwic2V0QXJnIiwic2V0RGVmYXVsdGVkIiwiY29uZmlnTG9va3VwIiwiYXBwbGllZCIsIl9yZWYiLCJub3RGbGFncyIsImJyb2tlbiIsImxldHRlcnMiLCJhcmciLCJjaGVja0FsbEFsaWFzZXMiLCJlYXROYXJncyIsImVhdEFycmF5IiwiZGVmYXVsdFZhbHVlIiwibWF5YmVDb2VyY2VOdW1iZXIiLCJhcHBseUVudlZhcnMiLCJhcHBseURlZmF1bHRzQW5kQWxpYXNlcyIsImNvbmZpZ0tleSIsImNvbmZpZ1BhdGgiLCJyZXNvbHZlZENvbmZpZ1BhdGgiLCJyZXNvbHZlIiwiY3dkIiwic2V0Q29uZmlnT2JqZWN0IiwiZXgiLCJjb25maWdPYmplY3QiLCJzZXRDb25maWdPYmplY3RzIiwiYWxpIiwiaGFzS2V5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwidG9FYXQiLCJhdmFpbGFibGUiLCJjb25zdW1lZCIsInN0YXJ0IiwiYXJnc1RvU2V0IiwibXVsdGlwbGVBcnJheUZsYWciLCJkZWZhdWx0Rm9yVHlwZSIsInByb2Nlc3NWYWx1ZSIsInVuc2V0RGVmYXVsdGVkIiwiYWRkTmV3QWxpYXMiLCJzcGxpdEtleSIsInNldEtleSIsInNoaWZ0IiwiX19kZWZpbmVTZXR0ZXJfXyIsIl9fZGVmaW5lR2V0dGVyX18iLCJzdWJzdHJpbmciLCJpc1VuZGVmaW5lZCIsImluY3JlbWVudCIsIk51bWJlciIsImlzU2FmZUludGVnZXIiLCJmdWxsS2V5IiwiX3R5cGVvZiIsImNvbmZpZ09ubHkiLCJlbnZWYXIiLCJsYXN0SW5kZXhPZiIsImlzVHlwZUFycmF5IiwiaXNWYWx1ZUFycmF5IiwiZHVwbGljYXRlIiwiZmxhZyIsImlzU2V0IiwiZ3Vlc3NUeXBlIiwibnVtIiwib3JpZyIsIlBhcnNlciIsImRldGFpbGVkIiwiY3VycmVudFF1ZXVlIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNsZWFyVGltZW91dCIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsIm5leHRUaWNrIiwidGl0bGUiLCJicm93c2VyIiwidmVyc2lvbnMiLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJ0b1VwcGVyQ2FzZSIsIlR5cGVFcnJvciIsInBhc2NhbENhc2UiLCJpc0xhc3RDaGFyTG93ZXIiLCJpc0xhc3RDaGFyVXBwZXIiLCJpc0xhc3RMYXN0Q2hhclVwcGVyIiwiY2hhcmFjdGVyIiwicHJlc2VydmVDYW1lbENhc2UiLCJwMSIsImNoYXJBdCIsInNlcCIsIm5vcm1hbGl6ZUFycmF5IiwicGFydHMiLCJhbGxvd0Fib3ZlUm9vdCIsInVwIiwibGFzdCIsInVuc2hpZnQiLCJzcGxpdFBhdGgiLCJzcGxpdFBhdGhSZSIsInhzIiwicmVzIiwicmVzb2x2ZWRQYXRoIiwicmVzb2x2ZWRBYnNvbHV0ZSIsImlzQWJzb2x1dGUiLCJ0cmFpbGluZ1NsYXNoIiwic3Vic3RyIiwicGF0aHMiLCJyZWxhdGl2ZSIsImVuZCIsImZyb21QYXJ0cyIsInRvUGFydHMiLCJzYW1lUGFydHNMZW5ndGgiLCJvdXRwdXRQYXJ0cyIsImRlbGltaXRlciIsImRpcm5hbWUiLCJyZXN1bHQiLCJiYXNlbmFtZSIsImV4dG5hbWUiLCJhcmdTdHJpbmciLCJwcmV2QyIsIm9wZW5pbmciLCJyYW5kb21OdW1iZXIiLCJtYXgiLCJzbG93TG9nIiwiaXRlcmF0b3IiLCJkb25lIiwic2VyaWVzIiwib3BzIiwib3AiLCIuL2luZGV4IiwiLi9pbmRleC5qcyIsIi4vbGliL3Rva2VuaXplLWFyZy1zdHJpbmciLCIuL2xpYi90b2tlbml6ZS1hcmctc3RyaW5nLmpzIiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCJ1c2VycyIsIm5leHRVaWQiLCJncm91cHMiLCJ1c2VyQWRkIiwiaG9tZSIsImlkcyIsIndyaXRlIiwidXNlckFwaSIsImdyb3VwIiwic3VwcGxlbWVudGFyeUdyb3VwcyIsInVpZCIsImdpZCIsImZpbmQiLCJTdHJpbmciLCJ2YWx1ZXMiLCJ1c2VyIiwibmV4dEdpZCIsImdyb3VwQXBpIiwiZyIsImNyZWF0ZURpciIsIl9yZWYyIiwic2l6ZSIsIl90aGlzIiwiYWNjIiwiY3VyciIsIm10aW1lIiwiRGF0ZSIsImZpbGVTeXN0ZW0iLCJnZXROb2RlIiwibm9ybWFsaXNlUGF0aCIsIm5vZGUiLCJjaGlsZCIsImZpbGUiLCJfcmVmMyIsImNyZWF0ZUZpbGUiLCJyZWFkIiwiZmlsZXMiLCJsIiwiZGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImRheSIsIm1vbnRoIiwiaG91ciIsIm1pbnV0ZSIsImRlcHMiLCJzdWJDb21tYW5kcyIsImluc3RhbGwiLCJzdWJDb21tYW5kIiwibnBtSW5zdGFsbExvZyIsImRlcGVuZGVuY2llcyIsIl93ZWJwYWNrX3JlcXVpcmVfXzQiLCJwa2ciLCJkZXAiLCJub3ciLCJpbml0IiwiX3dlYnBhY2tfcmVxdWlyZV9fNyIsIm1hbmlmZXN0IiwibnBtSW5zdGFsbFNpbmdsZVBhY2thZ2VMb2ciLCJzYXZlIiwibG9ncyJdLCJtYXBwaW5ncyI6Ink4QkFBUyxTQUFVQSxHQ0NuQixJQUFBQyxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBQyxRQUFBLEdBQ0FFLEdBQUFILEVBQ0FJLFFBQUEsR0FVQSxPQU5BUCxFQUFBRyxHQUFBSyxLQUFBSCxFQUFBRCxRQUFBQyxFQUFBQSxFQUFBRCxRQUFBRixHQUdBRyxFQUFB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QWhILEVBQUEsR0FBeEMsWUFBa0QscUNBQUE4cUIsRUFBQUssSUFBQSxZQU1sRG5rQixLQUFBLENBQ0E4RCxRQUFBLENBQ0EsVUFLQSxJQUFBeWpCLEVBQUEsU0FBQW5mLEVBQUE2ZSxHQUNBLElBQUFRLEVBQUEsQ0FDQSw2QkFDQSxrQ0FDQSxpRkFDQSx3Q0FDQSwyQkFDQSwrQkFDQSx3RUFDQSxrR0FDQSxzRkFDQSw4R0FDQSwrREFDQSx5TUFDQSw0QkFiQSxzQkFjMEJSLEVBZDFCLDJXQUFBLFdBZWVBLEVBZmYsY0FBQSxpREFnQnFEQSxFQWhCckQsVUFpQkEsb0NBQ0EsMENBQ0EsSUFDQSxvREFDQSw2Q0FDQSxzRkFDQSx5Q0F2QkEsS0F3QlNBLEVBeEJULFNBeUJBLHVFQUNBLDBCQUNBLElBQ0EsdUNBQ0EsZUFDQSx3RUFDQSxpQ0FHQTVLLEVBQUFtSixLQUFBMkIsTUFFQWxFLEVBQUE3YSxFQUFBLENBQ0FILEtBQUEsV0FDQSxJQUFBdU4sRUFBQWlTLEVBQUEzSyxRQUVBLE9BQUF0SCxFQUlBQSxFQUFBM2IsUUFBQSxTQUFBMnJCLEtBQUEyQixNQUFBOUssR0FIQSxPQUtHLElBQUEsSUFBQSIsImZpbGUiOiJzbGlkZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEpXG5cdGNvbnN0IGJlc3Bva2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXG5cdGNvbnN0IHRoZW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKVxuXHRjb25zdCBrZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KVxuXHRjb25zdCB0b3VjaCA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcblx0Y29uc3QgYnVsbGV0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNilcblx0Y29uc3QgYmFja2Ryb3AgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpXG5cdGNvbnN0IHNjYWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KVxuXHRjb25zdCBoYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KVxuXHRjb25zdCBwcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApXG5cdGNvbnN0IGluZGV4RmluZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSlcblx0Y29uc3Qgc2Vjb25kYXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMylcblx0XG5cdHZhciBwbHVnaW5zID0gW1xuXHQgIHRoZW1lKCksXG5cdCAga2V5cygpLFxuXHQgIHRvdWNoKCksXG5cdCAgYnVsbGV0cygnLmRlbGF5ZWQsIC5idWxsZXQnKSxcblx0ICBiYWNrZHJvcCgpLFxuXHQgIHNjYWxlKCksXG5cdCAgaGFzaCgpLFxuXHQgIHByb2dyZXNzKCksXG5cdCAgaW5kZXhGaW5nZXIoKSxcblx0ICBzZWNvbmRhcnkoKVxuXHRdXG5cdFxuXHR0cnkge1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcInBsdWdpbnNcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpKHBsdWdpbnMpXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFxuXHR9XG5cdFxuXHR2YXIgZGVjayA9IGJlc3Bva2UuZnJvbSgnYXJ0aWNsZScsIHBsdWdpbnMpXG5cdFxuXHR0cnkge1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oMTQpKGRlY2spXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge1xuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tY29yZS5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHR2YXIgX3NlbGYgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpXG5cdFx0PyB3aW5kb3cgICAvLyBpZiBpbiBicm93c2VyXG5cdFx0OiAoXG5cdFx0XHQodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUpXG5cdFx0XHQ/IHNlbGYgLy8gaWYgaW4gd29ya2VyXG5cdFx0XHQ6IHt9ICAgLy8gaWYgaW4gbm9kZSBqc1xuXHRcdCk7XG5cdFxuXHQvKipcblx0ICogUHJpc206IExpZ2h0d2VpZ2h0LCByb2J1c3QsIGVsZWdhbnQgc3ludGF4IGhpZ2hsaWdodGluZ1xuXHQgKiBNSVQgbGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocC9cblx0ICogQGF1dGhvciBMZWEgVmVyb3UgaHR0cDovL2xlYS52ZXJvdS5tZVxuXHQgKi9cblx0XG5cdHZhciBQcmlzbSA9IChmdW5jdGlvbiAoX3NlbGYpe1xuXHRcblx0Ly8gUHJpdmF0ZSBoZWxwZXIgdmFyc1xuXHR2YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pO1xuXHR2YXIgdW5pcXVlSWQgPSAwO1xuXHRcblx0dmFyIF8gPSB7XG5cdFx0bWFudWFsOiBfc2VsZi5QcmlzbSAmJiBfc2VsZi5QcmlzbS5tYW51YWwsXG5cdFx0ZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyOiBfc2VsZi5QcmlzbSAmJiBfc2VsZi5QcmlzbS5kaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXIsXG5cdFx0dXRpbDoge1xuXHRcdFx0ZW5jb2RlOiBmdW5jdGlvbiAodG9rZW5zKSB7XG5cdFx0XHRcdGlmICh0b2tlbnMgaW5zdGFuY2VvZiBUb2tlbikge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgVG9rZW4odG9rZW5zLnR5cGUsIF8udXRpbC5lbmNvZGUodG9rZW5zLmNvbnRlbnQpLCB0b2tlbnMuYWxpYXMpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodG9rZW5zKSkge1xuXHRcdFx0XHRcdHJldHVybiB0b2tlbnMubWFwKF8udXRpbC5lbmNvZGUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiB0b2tlbnMucmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvXFx1MDBhMC9nLCAnICcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcblx0XHRcdHR5cGU6IGZ1bmN0aW9uIChvKSB7XG5cdFx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRvYmpJZDogZnVuY3Rpb24gKG9iaikge1xuXHRcdFx0XHRpZiAoIW9ialsnX19pZCddKSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgJ19faWQnLCB7IHZhbHVlOiArK3VuaXF1ZUlkIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBvYmpbJ19faWQnXTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gRGVlcCBjbG9uZSBhIGxhbmd1YWdlIGRlZmluaXRpb24gKGUuZy4gdG8gZXh0ZW5kIGl0KVxuXHRcdFx0Y2xvbmU6IGZ1bmN0aW9uIGRlZXBDbG9uZShvLCB2aXNpdGVkKSB7XG5cdFx0XHRcdHZhciBjbG9uZSwgaWQsIHR5cGUgPSBfLnV0aWwudHlwZShvKTtcblx0XHRcdFx0dmlzaXRlZCA9IHZpc2l0ZWQgfHwge307XG5cdFxuXHRcdFx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0XHRcdFx0aWQgPSBfLnV0aWwub2JqSWQobyk7XG5cdFx0XHRcdFx0XHRpZiAodmlzaXRlZFtpZF0pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZpc2l0ZWRbaWRdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y2xvbmUgPSB7fTtcblx0XHRcdFx0XHRcdHZpc2l0ZWRbaWRdID0gY2xvbmU7XG5cdFxuXHRcdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIG8pIHtcblx0XHRcdFx0XHRcdFx0aWYgKG8uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdFx0XHRcdGNsb25lW2tleV0gPSBkZWVwQ2xvbmUob1trZXldLCB2aXNpdGVkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdHJldHVybiBjbG9uZTtcblx0XG5cdFx0XHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRcdFx0aWQgPSBfLnV0aWwub2JqSWQobyk7XG5cdFx0XHRcdFx0XHRpZiAodmlzaXRlZFtpZF0pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZpc2l0ZWRbaWRdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y2xvbmUgPSBbXTtcblx0XHRcdFx0XHRcdHZpc2l0ZWRbaWRdID0gY2xvbmU7XG5cdFxuXHRcdFx0XHRcdFx0by5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpKSB7XG5cdFx0XHRcdFx0XHRcdGNsb25lW2ldID0gZGVlcENsb25lKHYsIHZpc2l0ZWQpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFxuXHRcdFx0XHRcdFx0cmV0dXJuIGNsb25lO1xuXHRcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0cmV0dXJuIG87XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRsYW5ndWFnZXM6IHtcblx0XHRcdGV4dGVuZDogZnVuY3Rpb24gKGlkLCByZWRlZikge1xuXHRcdFx0XHR2YXIgbGFuZyA9IF8udXRpbC5jbG9uZShfLmxhbmd1YWdlc1tpZF0pO1xuXHRcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHJlZGVmKSB7XG5cdFx0XHRcdFx0bGFuZ1trZXldID0gcmVkZWZba2V5XTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIGxhbmc7XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogSW5zZXJ0IGEgdG9rZW4gYmVmb3JlIGFub3RoZXIgdG9rZW4gaW4gYSBsYW5ndWFnZSBsaXRlcmFsXG5cdFx0XHQgKiBBcyB0aGlzIG5lZWRzIHRvIHJlY3JlYXRlIHRoZSBvYmplY3QgKHdlIGNhbm5vdCBhY3R1YWxseSBpbnNlcnQgYmVmb3JlIGtleXMgaW4gb2JqZWN0IGxpdGVyYWxzKSxcblx0XHRcdCAqIHdlIGNhbm5vdCBqdXN0IHByb3ZpZGUgYW4gb2JqZWN0LCB3ZSBuZWVkIGFuIG9iamVjdCBhbmQgYSBrZXkuXG5cdFx0XHQgKiBAcGFyYW0gaW5zaWRlIFRoZSBrZXkgKG9yIGxhbmd1YWdlIGlkKSBvZiB0aGUgcGFyZW50XG5cdFx0XHQgKiBAcGFyYW0gYmVmb3JlIFRoZSBrZXkgdG8gaW5zZXJ0IGJlZm9yZS5cblx0XHRcdCAqIEBwYXJhbSBpbnNlcnQgT2JqZWN0IHdpdGggdGhlIGtleS92YWx1ZSBwYWlycyB0byBpbnNlcnRcblx0XHRcdCAqIEBwYXJhbSByb290IFRoZSBvYmplY3QgdGhhdCBjb250YWlucyBgaW5zaWRlYC4gSWYgZXF1YWwgdG8gUHJpc20ubGFuZ3VhZ2VzLCBpdCBjYW4gYmUgb21pdHRlZC5cblx0XHRcdCAqL1xuXHRcdFx0aW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAoaW5zaWRlLCBiZWZvcmUsIGluc2VydCwgcm9vdCkge1xuXHRcdFx0XHRyb290ID0gcm9vdCB8fCBfLmxhbmd1YWdlcztcblx0XHRcdFx0dmFyIGdyYW1tYXIgPSByb290W2luc2lkZV07XG5cdFx0XHRcdHZhciByZXQgPSB7fTtcblx0XG5cdFx0XHRcdGZvciAodmFyIHRva2VuIGluIGdyYW1tYXIpIHtcblx0XHRcdFx0XHRpZiAoZ3JhbW1hci5oYXNPd25Qcm9wZXJ0eSh0b2tlbikpIHtcblx0XG5cdFx0XHRcdFx0XHRpZiAodG9rZW4gPT0gYmVmb3JlKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIG5ld1Rva2VuIGluIGluc2VydCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnNlcnQuaGFzT3duUHJvcGVydHkobmV3VG9rZW4pKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXRbbmV3VG9rZW5dID0gaW5zZXJ0W25ld1Rva2VuXTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBEbyBub3QgaW5zZXJ0IHRva2VuIHdoaWNoIGFsc28gb2NjdXIgaW4gaW5zZXJ0LiBTZWUgIzE1MjVcblx0XHRcdFx0XHRcdGlmICghaW5zZXJ0Lmhhc093blByb3BlcnR5KHRva2VuKSkge1xuXHRcdFx0XHRcdFx0XHRyZXRbdG9rZW5dID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR2YXIgb2xkID0gcm9vdFtpbnNpZGVdO1xuXHRcdFx0XHRyb290W2luc2lkZV0gPSByZXQ7XG5cdFxuXHRcdFx0XHQvLyBVcGRhdGUgcmVmZXJlbmNlcyBpbiBvdGhlciBsYW5ndWFnZSBkZWZpbml0aW9uc1xuXHRcdFx0XHRfLmxhbmd1YWdlcy5ERlMoXy5sYW5ndWFnZXMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0XHRpZiAodmFsdWUgPT09IG9sZCAmJiBrZXkgIT0gaW5zaWRlKSB7XG5cdFx0XHRcdFx0XHR0aGlzW2tleV0gPSByZXQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIFRyYXZlcnNlIGEgbGFuZ3VhZ2UgZGVmaW5pdGlvbiB3aXRoIERlcHRoIEZpcnN0IFNlYXJjaFxuXHRcdFx0REZTOiBmdW5jdGlvbiBERlMobywgY2FsbGJhY2ssIHR5cGUsIHZpc2l0ZWQpIHtcblx0XHRcdFx0dmlzaXRlZCA9IHZpc2l0ZWQgfHwge307XG5cdFxuXHRcdFx0XHR2YXIgb2JqSWQgPSBfLnV0aWwub2JqSWQ7XG5cdFxuXHRcdFx0XHRmb3IgKHZhciBpIGluIG8pIHtcblx0XHRcdFx0XHRpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChvLCBpLCBvW2ldLCB0eXBlIHx8IGkpO1xuXHRcblx0XHRcdFx0XHRcdHZhciBwcm9wZXJ0eSA9IG9baV0sXG5cdFx0XHRcdFx0XHQgICAgcHJvcGVydHlUeXBlID0gXy51dGlsLnR5cGUocHJvcGVydHkpO1xuXHRcblx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0eVR5cGUgPT09ICdPYmplY3QnICYmICF2aXNpdGVkW29iaklkKHByb3BlcnR5KV0pIHtcblx0XHRcdFx0XHRcdFx0dmlzaXRlZFtvYmpJZChwcm9wZXJ0eSldID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0REZTKHByb3BlcnR5LCBjYWxsYmFjaywgbnVsbCwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChwcm9wZXJ0eVR5cGUgPT09ICdBcnJheScgJiYgIXZpc2l0ZWRbb2JqSWQocHJvcGVydHkpXSkge1xuXHRcdFx0XHRcdFx0XHR2aXNpdGVkW29iaklkKHByb3BlcnR5KV0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRERlMocHJvcGVydHksIGNhbGxiYWNrLCBpLCB2aXNpdGVkKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHBsdWdpbnM6IHt9LFxuXHRcblx0XHRoaWdobGlnaHRBbGw6IGZ1bmN0aW9uKGFzeW5jLCBjYWxsYmFjaykge1xuXHRcdFx0Xy5oaWdobGlnaHRBbGxVbmRlcihkb2N1bWVudCwgYXN5bmMsIGNhbGxiYWNrKTtcblx0XHR9LFxuXHRcblx0XHRoaWdobGlnaHRBbGxVbmRlcjogZnVuY3Rpb24oY29udGFpbmVyLCBhc3luYywgY2FsbGJhY2spIHtcblx0XHRcdHZhciBlbnYgPSB7XG5cdFx0XHRcdGNhbGxiYWNrOiBjYWxsYmFjayxcblx0XHRcdFx0c2VsZWN0b3I6ICdjb2RlW2NsYXNzKj1cImxhbmd1YWdlLVwiXSwgW2NsYXNzKj1cImxhbmd1YWdlLVwiXSBjb2RlLCBjb2RlW2NsYXNzKj1cImxhbmctXCJdLCBbY2xhc3MqPVwibGFuZy1cIl0gY29kZSdcblx0XHRcdH07XG5cdFxuXHRcdFx0Xy5ob29rcy5ydW4oXCJiZWZvcmUtaGlnaGxpZ2h0YWxsXCIsIGVudik7XG5cdFxuXHRcdFx0dmFyIGVsZW1lbnRzID0gZW52LmVsZW1lbnRzIHx8IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGVudi5zZWxlY3Rvcik7XG5cdFxuXHRcdFx0Zm9yICh2YXIgaT0wLCBlbGVtZW50OyBlbGVtZW50ID0gZWxlbWVudHNbaSsrXTspIHtcblx0XHRcdFx0Xy5oaWdobGlnaHRFbGVtZW50KGVsZW1lbnQsIGFzeW5jID09PSB0cnVlLCBlbnYuY2FsbGJhY2spO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGhpZ2hsaWdodEVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIGFzeW5jLCBjYWxsYmFjaykge1xuXHRcdFx0Ly8gRmluZCBsYW5ndWFnZVxuXHRcdFx0dmFyIGxhbmd1YWdlLCBncmFtbWFyLCBwYXJlbnQgPSBlbGVtZW50O1xuXHRcblx0XHRcdHdoaWxlIChwYXJlbnQgJiYgIWxhbmcudGVzdChwYXJlbnQuY2xhc3NOYW1lKSkge1xuXHRcdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdGxhbmd1YWdlID0gKHBhcmVudC5jbGFzc05hbWUubWF0Y2gobGFuZykgfHwgWywnJ10pWzFdLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdGdyYW1tYXIgPSBfLmxhbmd1YWdlc1tsYW5ndWFnZV07XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU2V0IGxhbmd1YWdlIG9uIHRoZSBlbGVtZW50LCBpZiBub3QgcHJlc2VudFxuXHRcdFx0ZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XG5cdFx0XHRpZiAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG5cdFx0XHRcdC8vIFNldCBsYW5ndWFnZSBvbiB0aGUgcGFyZW50LCBmb3Igc3R5bGluZ1xuXHRcdFx0XHRwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cdFxuXHRcdFx0XHRpZiAoL3ByZS9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkge1xuXHRcdFx0XHRcdHBhcmVudC5jbGFzc05hbWUgPSBwYXJlbnQuY2xhc3NOYW1lLnJlcGxhY2UobGFuZywgJycpLnJlcGxhY2UoL1xccysvZywgJyAnKSArICcgbGFuZ3VhZ2UtJyArIGxhbmd1YWdlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIGNvZGUgPSBlbGVtZW50LnRleHRDb250ZW50O1xuXHRcblx0XHRcdHZhciBlbnYgPSB7XG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnQsXG5cdFx0XHRcdGxhbmd1YWdlOiBsYW5ndWFnZSxcblx0XHRcdFx0Z3JhbW1hcjogZ3JhbW1hcixcblx0XHRcdFx0Y29kZTogY29kZVxuXHRcdFx0fTtcblx0XG5cdFx0XHR2YXIgaW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlID0gZnVuY3Rpb24gKGhpZ2hsaWdodGVkQ29kZSkge1xuXHRcdFx0XHRlbnYuaGlnaGxpZ2h0ZWRDb2RlID0gaGlnaGxpZ2h0ZWRDb2RlO1xuXHRcblx0XHRcdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS1pbnNlcnQnLCBlbnYpO1xuXHRcblx0XHRcdFx0ZW52LmVsZW1lbnQuaW5uZXJIVE1MID0gZW52LmhpZ2hsaWdodGVkQ29kZTtcblx0XG5cdFx0XHRcdF8uaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLCBlbnYpO1xuXHRcdFx0XHRfLmhvb2tzLnJ1bignY29tcGxldGUnLCBlbnYpO1xuXHRcdFx0XHRjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGVudi5lbGVtZW50KTtcblx0XHRcdH1cblx0XG5cdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLXNhbml0eS1jaGVjaycsIGVudik7XG5cdFxuXHRcdFx0aWYgKCFlbnYuY29kZSkge1xuXHRcdFx0XHRfLmhvb2tzLnJ1bignY29tcGxldGUnLCBlbnYpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS1oaWdobGlnaHQnLCBlbnYpO1xuXHRcblx0XHRcdGlmICghZW52LmdyYW1tYXIpIHtcblx0XHRcdFx0aW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlKF8udXRpbC5lbmNvZGUoZW52LmNvZGUpKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmIChhc3luYyAmJiBfc2VsZi5Xb3JrZXIpIHtcblx0XHRcdFx0dmFyIHdvcmtlciA9IG5ldyBXb3JrZXIoXy5maWxlbmFtZSk7XG5cdFxuXHRcdFx0XHR3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZXZ0KSB7XG5cdFx0XHRcdFx0aW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlKGV2dC5kYXRhKTtcblx0XHRcdFx0fTtcblx0XG5cdFx0XHRcdHdvcmtlci5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFx0bGFuZ3VhZ2U6IGVudi5sYW5ndWFnZSxcblx0XHRcdFx0XHRjb2RlOiBlbnYuY29kZSxcblx0XHRcdFx0XHRpbW1lZGlhdGVDbG9zZTogdHJ1ZVxuXHRcdFx0XHR9KSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlKF8uaGlnaGxpZ2h0KGVudi5jb2RlLCBlbnYuZ3JhbW1hciwgZW52Lmxhbmd1YWdlKSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0aGlnaGxpZ2h0OiBmdW5jdGlvbiAodGV4dCwgZ3JhbW1hciwgbGFuZ3VhZ2UpIHtcblx0XHRcdHZhciBlbnYgPSB7XG5cdFx0XHRcdGNvZGU6IHRleHQsXG5cdFx0XHRcdGdyYW1tYXI6IGdyYW1tYXIsXG5cdFx0XHRcdGxhbmd1YWdlOiBsYW5ndWFnZVxuXHRcdFx0fTtcblx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtdG9rZW5pemUnLCBlbnYpO1xuXHRcdFx0ZW52LnRva2VucyA9IF8udG9rZW5pemUoZW52LmNvZGUsIGVudi5ncmFtbWFyKTtcblx0XHRcdF8uaG9va3MucnVuKCdhZnRlci10b2tlbml6ZScsIGVudik7XG5cdFx0XHRyZXR1cm4gVG9rZW4uc3RyaW5naWZ5KF8udXRpbC5lbmNvZGUoZW52LnRva2VucyksIGVudi5sYW5ndWFnZSk7XG5cdFx0fSxcblx0XG5cdFx0bWF0Y2hHcmFtbWFyOiBmdW5jdGlvbiAodGV4dCwgc3RyYXJyLCBncmFtbWFyLCBpbmRleCwgc3RhcnRQb3MsIG9uZXNob3QsIHRhcmdldCkge1xuXHRcdFx0Zm9yICh2YXIgdG9rZW4gaW4gZ3JhbW1hcikge1xuXHRcdFx0XHRpZighZ3JhbW1hci5oYXNPd25Qcm9wZXJ0eSh0b2tlbikgfHwgIWdyYW1tYXJbdG9rZW5dKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmICh0b2tlbiA9PSB0YXJnZXQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHZhciBwYXR0ZXJucyA9IGdyYW1tYXJbdG9rZW5dO1xuXHRcdFx0XHRwYXR0ZXJucyA9IChfLnV0aWwudHlwZShwYXR0ZXJucykgPT09IFwiQXJyYXlcIikgPyBwYXR0ZXJucyA6IFtwYXR0ZXJuc107XG5cdFxuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHBhdHRlcm5zLmxlbmd0aDsgKytqKSB7XG5cdFx0XHRcdFx0dmFyIHBhdHRlcm4gPSBwYXR0ZXJuc1tqXSxcblx0XHRcdFx0XHRcdGluc2lkZSA9IHBhdHRlcm4uaW5zaWRlLFxuXHRcdFx0XHRcdFx0bG9va2JlaGluZCA9ICEhcGF0dGVybi5sb29rYmVoaW5kLFxuXHRcdFx0XHRcdFx0Z3JlZWR5ID0gISFwYXR0ZXJuLmdyZWVkeSxcblx0XHRcdFx0XHRcdGxvb2tiZWhpbmRMZW5ndGggPSAwLFxuXHRcdFx0XHRcdFx0YWxpYXMgPSBwYXR0ZXJuLmFsaWFzO1xuXHRcblx0XHRcdFx0XHRpZiAoZ3JlZWR5ICYmICFwYXR0ZXJuLnBhdHRlcm4uZ2xvYmFsKSB7XG5cdFx0XHRcdFx0XHQvLyBXaXRob3V0IHRoZSBnbG9iYWwgZmxhZywgbGFzdEluZGV4IHdvbid0IHdvcmtcblx0XHRcdFx0XHRcdHZhciBmbGFncyA9IHBhdHRlcm4ucGF0dGVybi50b1N0cmluZygpLm1hdGNoKC9baW11eV0qJC8pWzBdO1xuXHRcdFx0XHRcdFx0cGF0dGVybi5wYXR0ZXJuID0gUmVnRXhwKHBhdHRlcm4ucGF0dGVybi5zb3VyY2UsIGZsYWdzICsgXCJnXCIpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cGF0dGVybiA9IHBhdHRlcm4ucGF0dGVybiB8fCBwYXR0ZXJuO1xuXHRcblx0XHRcdFx0XHQvLyBEb27igJl0IGNhY2hlIGxlbmd0aCBhcyBpdCBjaGFuZ2VzIGR1cmluZyB0aGUgbG9vcFxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSBpbmRleCwgcG9zID0gc3RhcnRQb3M7IGkgPCBzdHJhcnIubGVuZ3RoOyBwb3MgKz0gc3RyYXJyW2ldLmxlbmd0aCwgKytpKSB7XG5cdFxuXHRcdFx0XHRcdFx0dmFyIHN0ciA9IHN0cmFycltpXTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoc3RyYXJyLmxlbmd0aCA+IHRleHQubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFNvbWV0aGluZyB3ZW50IHRlcnJpYmx5IHdyb25nLCBBQk9SVCwgQUJPUlQhXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRpZiAoc3RyIGluc3RhbmNlb2YgVG9rZW4pIHtcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0aWYgKGdyZWVkeSAmJiBpICE9IHN0cmFyci5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdFx0XHRcdHBhdHRlcm4ubGFzdEluZGV4ID0gcG9zO1xuXHRcdFx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWModGV4dCk7XG5cdFx0XHRcdFx0XHRcdGlmICghbWF0Y2gpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0dmFyIGZyb20gPSBtYXRjaC5pbmRleCArIChsb29rYmVoaW5kID8gbWF0Y2hbMV0ubGVuZ3RoIDogMCksXG5cdFx0XHRcdFx0XHRcdCAgICB0byA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHQgICAgayA9IGksXG5cdFx0XHRcdFx0XHRcdCAgICBwID0gcG9zO1xuXHRcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgbGVuID0gc3RyYXJyLmxlbmd0aDsgayA8IGxlbiAmJiAocCA8IHRvIHx8ICghc3RyYXJyW2tdLnR5cGUgJiYgIXN0cmFycltrIC0gMV0uZ3JlZWR5KSk7ICsraykge1xuXHRcdFx0XHRcdFx0XHRcdHAgKz0gc3RyYXJyW2tdLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0XHQvLyBNb3ZlIHRoZSBpbmRleCBpIHRvIHRoZSBlbGVtZW50IGluIHN0cmFyciB0aGF0IGlzIGNsb3Nlc3QgdG8gZnJvbVxuXHRcdFx0XHRcdFx0XHRcdGlmIChmcm9tID49IHApIHtcblx0XHRcdFx0XHRcdFx0XHRcdCsraTtcblx0XHRcdFx0XHRcdFx0XHRcdHBvcyA9IHA7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBJZiBzdHJhcnJbaV0gaXMgYSBUb2tlbiwgdGhlbiB0aGUgbWF0Y2ggc3RhcnRzIGluc2lkZSBhbm90aGVyIFRva2VuLCB3aGljaCBpcyBpbnZhbGlkXG5cdFx0XHRcdFx0XHRcdGlmIChzdHJhcnJbaV0gaW5zdGFuY2VvZiBUb2tlbikge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBOdW1iZXIgb2YgdG9rZW5zIHRvIGRlbGV0ZSBhbmQgcmVwbGFjZSB3aXRoIHRoZSBuZXcgbWF0Y2hcblx0XHRcdFx0XHRcdFx0ZGVsTnVtID0gayAtIGk7XG5cdFx0XHRcdFx0XHRcdHN0ciA9IHRleHQuc2xpY2UocG9zLCBwKTtcblx0XHRcdFx0XHRcdFx0bWF0Y2guaW5kZXggLT0gcG9zO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cGF0dGVybi5sYXN0SW5kZXggPSAwO1xuXHRcblx0XHRcdFx0XHRcdFx0dmFyIG1hdGNoID0gcGF0dGVybi5leGVjKHN0ciksXG5cdFx0XHRcdFx0XHRcdFx0ZGVsTnVtID0gMTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChvbmVzaG90KSB7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGlmKGxvb2tiZWhpbmQpIHtcblx0XHRcdFx0XHRcdFx0bG9va2JlaGluZExlbmd0aCA9IG1hdGNoWzFdID8gbWF0Y2hbMV0ubGVuZ3RoIDogMDtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHR2YXIgZnJvbSA9IG1hdGNoLmluZGV4ICsgbG9va2JlaGluZExlbmd0aCxcblx0XHRcdFx0XHRcdCAgICBtYXRjaCA9IG1hdGNoWzBdLnNsaWNlKGxvb2tiZWhpbmRMZW5ndGgpLFxuXHRcdFx0XHRcdFx0ICAgIHRvID0gZnJvbSArIG1hdGNoLmxlbmd0aCxcblx0XHRcdFx0XHRcdCAgICBiZWZvcmUgPSBzdHIuc2xpY2UoMCwgZnJvbSksXG5cdFx0XHRcdFx0XHQgICAgYWZ0ZXIgPSBzdHIuc2xpY2UodG8pO1xuXHRcblx0XHRcdFx0XHRcdHZhciBhcmdzID0gW2ksIGRlbE51bV07XG5cdFxuXHRcdFx0XHRcdFx0aWYgKGJlZm9yZSkge1xuXHRcdFx0XHRcdFx0XHQrK2k7XG5cdFx0XHRcdFx0XHRcdHBvcyArPSBiZWZvcmUubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRhcmdzLnB1c2goYmVmb3JlKTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHR2YXIgd3JhcHBlZCA9IG5ldyBUb2tlbih0b2tlbiwgaW5zaWRlPyBfLnRva2VuaXplKG1hdGNoLCBpbnNpZGUpIDogbWF0Y2gsIGFsaWFzLCBtYXRjaCwgZ3JlZWR5KTtcblx0XG5cdFx0XHRcdFx0XHRhcmdzLnB1c2god3JhcHBlZCk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKGFmdGVyKSB7XG5cdFx0XHRcdFx0XHRcdGFyZ3MucHVzaChhZnRlcik7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzdHJhcnIsIGFyZ3MpO1xuXHRcblx0XHRcdFx0XHRcdGlmIChkZWxOdW0gIT0gMSlcblx0XHRcdFx0XHRcdFx0Xy5tYXRjaEdyYW1tYXIodGV4dCwgc3RyYXJyLCBncmFtbWFyLCBpLCBwb3MsIHRydWUsIHRva2VuKTtcblx0XG5cdFx0XHRcdFx0XHRpZiAob25lc2hvdClcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0dG9rZW5pemU6IGZ1bmN0aW9uKHRleHQsIGdyYW1tYXIpIHtcblx0XHRcdHZhciBzdHJhcnIgPSBbdGV4dF07XG5cdFxuXHRcdFx0dmFyIHJlc3QgPSBncmFtbWFyLnJlc3Q7XG5cdFxuXHRcdFx0aWYgKHJlc3QpIHtcblx0XHRcdFx0Zm9yICh2YXIgdG9rZW4gaW4gcmVzdCkge1xuXHRcdFx0XHRcdGdyYW1tYXJbdG9rZW5dID0gcmVzdFt0b2tlbl07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGRlbGV0ZSBncmFtbWFyLnJlc3Q7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Xy5tYXRjaEdyYW1tYXIodGV4dCwgc3RyYXJyLCBncmFtbWFyLCAwLCAwLCBmYWxzZSk7XG5cdFxuXHRcdFx0cmV0dXJuIHN0cmFycjtcblx0XHR9LFxuXHRcblx0XHRob29rczoge1xuXHRcdFx0YWxsOiB7fSxcblx0XG5cdFx0XHRhZGQ6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuXHRcdFx0XHR2YXIgaG9va3MgPSBfLmhvb2tzLmFsbDtcblx0XG5cdFx0XHRcdGhvb2tzW25hbWVdID0gaG9va3NbbmFtZV0gfHwgW107XG5cdFxuXHRcdFx0XHRob29rc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0cnVuOiBmdW5jdGlvbiAobmFtZSwgZW52KSB7XG5cdFx0XHRcdHZhciBjYWxsYmFja3MgPSBfLmhvb2tzLmFsbFtuYW1lXTtcblx0XG5cdFx0XHRcdGlmICghY2FsbGJhY2tzIHx8ICFjYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRmb3IgKHZhciBpPTAsIGNhbGxiYWNrOyBjYWxsYmFjayA9IGNhbGxiYWNrc1tpKytdOykge1xuXHRcdFx0XHRcdGNhbGxiYWNrKGVudik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRUb2tlbjogVG9rZW5cblx0fTtcblx0XG5cdF9zZWxmLlByaXNtID0gXztcblx0XG5cdGZ1bmN0aW9uIFRva2VuKHR5cGUsIGNvbnRlbnQsIGFsaWFzLCBtYXRjaGVkU3RyLCBncmVlZHkpIHtcblx0XHR0aGlzLnR5cGUgPSB0eXBlO1xuXHRcdHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG5cdFx0dGhpcy5hbGlhcyA9IGFsaWFzO1xuXHRcdC8vIENvcHkgb2YgdGhlIGZ1bGwgc3RyaW5nIHRoaXMgdG9rZW4gd2FzIGNyZWF0ZWQgZnJvbVxuXHRcdHRoaXMubGVuZ3RoID0gKG1hdGNoZWRTdHIgfHwgXCJcIikubGVuZ3RofDA7XG5cdFx0dGhpcy5ncmVlZHkgPSAhIWdyZWVkeTtcblx0fVxuXHRcblx0VG9rZW4uc3RyaW5naWZ5ID0gZnVuY3Rpb24obywgbGFuZ3VhZ2UsIHBhcmVudCkge1xuXHRcdGlmICh0eXBlb2YgbyA9PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIG87XG5cdFx0fVxuXHRcblx0XHRpZiAoQXJyYXkuaXNBcnJheShvKSkge1xuXHRcdFx0cmV0dXJuIG8ubWFwKGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRcdFx0cmV0dXJuIFRva2VuLnN0cmluZ2lmeShlbGVtZW50LCBsYW5ndWFnZSwgbyk7XG5cdFx0XHR9KS5qb2luKCcnKTtcblx0XHR9XG5cdFxuXHRcdHZhciBlbnYgPSB7XG5cdFx0XHR0eXBlOiBvLnR5cGUsXG5cdFx0XHRjb250ZW50OiBUb2tlbi5zdHJpbmdpZnkoby5jb250ZW50LCBsYW5ndWFnZSwgcGFyZW50KSxcblx0XHRcdHRhZzogJ3NwYW4nLFxuXHRcdFx0Y2xhc3NlczogWyd0b2tlbicsIG8udHlwZV0sXG5cdFx0XHRhdHRyaWJ1dGVzOiB7fSxcblx0XHRcdGxhbmd1YWdlOiBsYW5ndWFnZSxcblx0XHRcdHBhcmVudDogcGFyZW50XG5cdFx0fTtcblx0XG5cdFx0aWYgKG8uYWxpYXMpIHtcblx0XHRcdHZhciBhbGlhc2VzID0gQXJyYXkuaXNBcnJheShvLmFsaWFzKSA/IG8uYWxpYXMgOiBbby5hbGlhc107XG5cdFx0XHRBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlbnYuY2xhc3NlcywgYWxpYXNlcyk7XG5cdFx0fVxuXHRcblx0XHRfLmhvb2tzLnJ1bignd3JhcCcsIGVudik7XG5cdFxuXHRcdHZhciBhdHRyaWJ1dGVzID0gT2JqZWN0LmtleXMoZW52LmF0dHJpYnV0ZXMpLm1hcChmdW5jdGlvbihuYW1lKSB7XG5cdFx0XHRyZXR1cm4gbmFtZSArICc9XCInICsgKGVudi5hdHRyaWJ1dGVzW25hbWVdIHx8ICcnKS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JykgKyAnXCInO1xuXHRcdH0pLmpvaW4oJyAnKTtcblx0XG5cdFx0cmV0dXJuICc8JyArIGVudi50YWcgKyAnIGNsYXNzPVwiJyArIGVudi5jbGFzc2VzLmpvaW4oJyAnKSArICdcIicgKyAoYXR0cmlidXRlcyA/ICcgJyArIGF0dHJpYnV0ZXMgOiAnJykgKyAnPicgKyBlbnYuY29udGVudCArICc8LycgKyBlbnYudGFnICsgJz4nO1xuXHRcblx0fTtcblx0XG5cdGlmICghX3NlbGYuZG9jdW1lbnQpIHtcblx0XHRpZiAoIV9zZWxmLmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0XHRcdC8vIGluIE5vZGUuanNcblx0XHRcdHJldHVybiBfO1xuXHRcdH1cblx0XG5cdFx0aWYgKCFfLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcikge1xuXHRcdFx0Ly8gSW4gd29ya2VyXG5cdFx0XHRfc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2dCkge1xuXHRcdFx0XHR2YXIgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpLFxuXHRcdFx0XHRcdGxhbmcgPSBtZXNzYWdlLmxhbmd1YWdlLFxuXHRcdFx0XHRcdGNvZGUgPSBtZXNzYWdlLmNvZGUsXG5cdFx0XHRcdFx0aW1tZWRpYXRlQ2xvc2UgPSBtZXNzYWdlLmltbWVkaWF0ZUNsb3NlO1xuXHRcblx0XHRcdFx0X3NlbGYucG9zdE1lc3NhZ2UoXy5oaWdobGlnaHQoY29kZSwgXy5sYW5ndWFnZXNbbGFuZ10sIGxhbmcpKTtcblx0XHRcdFx0aWYgKGltbWVkaWF0ZUNsb3NlKSB7XG5cdFx0XHRcdFx0X3NlbGYuY2xvc2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgZmFsc2UpO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIF87XG5cdH1cblx0XG5cdC8vR2V0IGN1cnJlbnQgc2NyaXB0IGFuZCBoaWdobGlnaHRcblx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQgfHwgW10uc2xpY2UuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSkucG9wKCk7XG5cdFxuXHRpZiAoc2NyaXB0KSB7XG5cdFx0Xy5maWxlbmFtZSA9IHNjcmlwdC5zcmM7XG5cdFxuXHRcdGlmICghXy5tYW51YWwgJiYgIXNjcmlwdC5oYXNBdHRyaWJ1dGUoJ2RhdGEtbWFudWFsJykpIHtcblx0XHRcdGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiKSB7XG5cdFx0XHRcdGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG5cdFx0XHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfLmhpZ2hsaWdodEFsbCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoXy5oaWdobGlnaHRBbGwsIDE2KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBfLmhpZ2hsaWdodEFsbCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gXztcblx0XG5cdH0pKF9zZWxmKTtcblx0XG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gUHJpc207XG5cdH1cblx0XG5cdC8vIGhhY2sgZm9yIGNvbXBvbmVudHMgdG8gd29yayBjb3JyZWN0bHkgaW4gbm9kZS5qc1xuXHRpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRnbG9iYWwuUHJpc20gPSBQcmlzbTtcblx0fVxuXHRcblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1tYXJrdXAuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCA9IHtcblx0XHQnY29tbWVudCc6IC88IS0tW1xcc1xcU10qPy0tPi8sXG5cdFx0J3Byb2xvZyc6IC88XFw/W1xcc1xcU10rP1xcPz4vLFxuXHRcdCdkb2N0eXBlJzogLzwhRE9DVFlQRVtcXHNcXFNdKz8+L2ksXG5cdFx0J2NkYXRhJzogLzwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XV0+L2ksXG5cdFx0J3RhZyc6IHtcblx0XHRcdHBhdHRlcm46IC88XFwvPyg/IVxcZClbXlxccz5cXC89JDwlXSsoPzpcXHMoPzpcXHMqW15cXHM+XFwvPV0rKD86XFxzKj1cXHMqKD86XCJbXlwiXSpcInwnW14nXSonfFteXFxzJ1wiPj1dKyg/PVtcXHM+XSkpfCg/PVtcXHMvPl0pKSkrKT9cXHMqXFwvPz4vaSxcblx0XHRcdGdyZWVkeTogdHJ1ZSxcblx0XHRcdGluc2lkZToge1xuXHRcdFx0XHQndGFnJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC9ePFxcLz9bXlxccz5cXC9dKy9pLFxuXHRcdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL148XFwvPy8sXG5cdFx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogLz1cXHMqKD86XCJbXlwiXSpcInwnW14nXSonfFteXFxzJ1wiPj1dKykvaSxcblx0XHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IFtcblx0XHRcdFx0XHRcdFx0L149Lyxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdHBhdHRlcm46IC9eKFxccyopW1wiJ118W1wiJ10kLyxcblx0XHRcdFx0XHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9cXC8/Pi8sXG5cdFx0XHRcdCdhdHRyLW5hbWUnOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogL1teXFxzPlxcL10rLyxcblx0XHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHRcdCduYW1lc3BhY2UnOiAvXlteXFxzPlxcLzpdKzovXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0J2VudGl0eSc6IC8mIz9bXFxkYS16XXsxLDh9Oy9pXG5cdH07XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMubWFya3VwWyd0YWcnXS5pbnNpZGVbJ2F0dHItdmFsdWUnXS5pbnNpZGVbJ2VudGl0eSddID1cblx0XHRQcmlzbS5sYW5ndWFnZXMubWFya3VwWydlbnRpdHknXTtcblx0XG5cdC8vIFBsdWdpbiB0byBtYWtlIGVudGl0eSB0aXRsZSBzaG93IHRoZSByZWFsIGVudGl0eSwgaWRlYSBieSBSb21hbiBLb21hcm92XG5cdFByaXNtLmhvb2tzLmFkZCgnd3JhcCcsIGZ1bmN0aW9uKGVudikge1xuXHRcblx0XHRpZiAoZW52LnR5cGUgPT09ICdlbnRpdHknKSB7XG5cdFx0XHRlbnYuYXR0cmlidXRlc1sndGl0bGUnXSA9IGVudi5jb250ZW50LnJlcGxhY2UoLyZhbXA7LywgJyYnKTtcblx0XHR9XG5cdH0pO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLCAnYWRkSW5saW5lZCcsIHtcblx0XHQvKipcblx0XHQgKiBBZGRzIGFuIGlubGluZWQgbGFuZ3VhZ2UgdG8gbWFya3VwLlxuXHRcdCAqXG5cdFx0ICogQW4gZXhhbXBsZSBvZiBhbiBpbmxpbmVkIGxhbmd1YWdlIGlzIENTUyB3aXRoIGA8c3R5bGU+YCB0YWdzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgVGhlIG5hbWUgb2YgdGhlIHRhZyB0aGF0IGNvbnRhaW5zIHRoZSBpbmxpbmVkIGxhbmd1YWdlLiBUaGlzIG5hbWUgd2lsbCBiZSB0cmVhdGVkIGFzXG5cdFx0ICogY2FzZSBpbnNlbnNpdGl2ZS5cblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbGFuZyBUaGUgbGFuZ3VhZ2Uga2V5LlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICogYWRkSW5saW5lZCgnc3R5bGUnLCAnY3NzJyk7XG5cdFx0ICovXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGFkZElubGluZWQodGFnTmFtZSwgbGFuZykge1xuXHRcdFx0dmFyIGluY2x1ZGVkQ2RhdGFJbnNpZGUgPSB7fTtcblx0XHRcdGluY2x1ZGVkQ2RhdGFJbnNpZGVbJ2xhbmd1YWdlLScgKyBsYW5nXSA9IHtcblx0XHRcdFx0cGF0dGVybjogLyhePCFcXFtDREFUQVxcWylbXFxzXFxTXSs/KD89XFxdXFxdPiQpL2ksXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzW2xhbmddXG5cdFx0XHR9O1xuXHRcdFx0aW5jbHVkZWRDZGF0YUluc2lkZVsnY2RhdGEnXSA9IC9ePCFcXFtDREFUQVxcW3xcXF1cXF0+JC9pO1xuXHRcblx0XHRcdHZhciBpbnNpZGUgPSB7XG5cdFx0XHRcdCdpbmNsdWRlZC1jZGF0YSc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvPCFcXFtDREFUQVxcW1tcXHNcXFNdKj9cXF1cXF0+L2ksXG5cdFx0XHRcdFx0aW5zaWRlOiBpbmNsdWRlZENkYXRhSW5zaWRlXG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRpbnNpZGVbJ2xhbmd1YWdlLScgKyBsYW5nXSA9IHtcblx0XHRcdFx0cGF0dGVybjogL1tcXHNcXFNdKy8sXG5cdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzW2xhbmddXG5cdFx0XHR9O1xuXHRcblx0XHRcdHZhciBkZWYgPSB7fTtcblx0XHRcdGRlZlt0YWdOYW1lXSA9IHtcblx0XHRcdFx0cGF0dGVybjogUmVnRXhwKC8oPF9fW1xcc1xcU10qPz4pKD86PCFcXFtDREFUQVxcW1tcXHNcXFNdKj9cXF1cXF0+XFxzKnxbXFxzXFxTXSkqPyg/PTxcXC9fXz4pLy5zb3VyY2UucmVwbGFjZSgvX18vZywgdGFnTmFtZSksICdpJyksXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRcdGdyZWVkeTogdHJ1ZSxcblx0XHRcdFx0aW5zaWRlOiBpbnNpZGVcblx0XHRcdH07XG5cdFxuXHRcdFx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnbWFya3VwJywgJ2NkYXRhJywgZGVmKTtcblx0XHR9XG5cdH0pO1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLnhtbCA9IFByaXNtLmxhbmd1YWdlcy5leHRlbmQoJ21hcmt1cCcsIHt9KTtcblx0UHJpc20ubGFuZ3VhZ2VzLmh0bWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuXHRQcmlzbS5sYW5ndWFnZXMubWF0aG1sID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblx0UHJpc20ubGFuZ3VhZ2VzLnN2ZyA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdFxuXHRcblx0LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgICAgIEJlZ2luIHByaXNtLWNzcy5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHQoZnVuY3Rpb24gKFByaXNtKSB7XG5cdFxuXHRcdHZhciBzdHJpbmcgPSAvKFwifCcpKD86XFxcXCg/OlxcclxcbnxbXFxzXFxTXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS87XG5cdFxuXHRcdFByaXNtLmxhbmd1YWdlcy5jc3MgPSB7XG5cdFx0XHQnY29tbWVudCc6IC9cXC9cXCpbXFxzXFxTXSo/XFwqXFwvLyxcblx0XHRcdCdhdHJ1bGUnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9AW1xcdy1dKz9bXFxzXFxTXSo/KD86O3woPz1cXHMqXFx7KSkvaSxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J3J1bGUnOiAvQFtcXHctXSsvXG5cdFx0XHRcdFx0Ly8gU2VlIHJlc3QgYmVsb3dcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCd1cmwnOiBSZWdFeHAoJ3VybFxcXFwoKD86JyArIHN0cmluZy5zb3VyY2UgKyAnfC4qPylcXFxcKScsICdpJyksXG5cdFx0XHQnc2VsZWN0b3InOiBSZWdFeHAoJ1tee31cXFxcc10oPzpbXnt9O1wiXFwnXXwnICsgc3RyaW5nLnNvdXJjZSArICcpKj8oPz1cXFxccypcXFxceyknKSxcblx0XHRcdCdzdHJpbmcnOiB7XG5cdFx0XHRcdHBhdHRlcm46IHN0cmluZyxcblx0XHRcdFx0Z3JlZWR5OiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0J3Byb3BlcnR5JzogL1stX2EtelxceEEwLVxcdUZGRkZdWy1cXHdcXHhBMC1cXHVGRkZGXSooPz1cXHMqOikvaSxcblx0XHRcdCdpbXBvcnRhbnQnOiAvIWltcG9ydGFudFxcYi9pLFxuXHRcdFx0J2Z1bmN0aW9uJzogL1stYS16MC05XSsoPz1cXCgpL2ksXG5cdFx0XHQncHVuY3R1YXRpb24nOiAvWygpe307OixdL1xuXHRcdH07XG5cdFxuXHRcdFByaXNtLmxhbmd1YWdlcy5jc3NbJ2F0cnVsZSddLmluc2lkZS5yZXN0ID0gUHJpc20ubGFuZ3VhZ2VzLmNzcztcblx0XG5cdFx0dmFyIG1hcmt1cCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdFx0aWYgKG1hcmt1cCkge1xuXHRcdFx0bWFya3VwLnRhZy5hZGRJbmxpbmVkKCdzdHlsZScsICdjc3MnKTtcblx0XG5cdFx0XHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdpbnNpZGUnLCAnYXR0ci12YWx1ZScsIHtcblx0XHRcdFx0J3N0eWxlLWF0dHInOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogL1xccypzdHlsZT0oXCJ8JykoPzpcXFxcW1xcc1xcU118KD8hXFwxKVteXFxcXF0pKlxcMS9pLFxuXHRcdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdFx0J2F0dHItbmFtZSc6IHtcblx0XHRcdFx0XHRcdFx0cGF0dGVybjogL15cXHMqc3R5bGUvaSxcblx0XHRcdFx0XHRcdFx0aW5zaWRlOiBtYXJrdXAudGFnLmluc2lkZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9eXFxzKj1cXHMqWydcIl18WydcIl1cXHMqJC8sXG5cdFx0XHRcdFx0XHQnYXR0ci12YWx1ZSc6IHtcblx0XHRcdFx0XHRcdFx0cGF0dGVybjogLy4rL2ksXG5cdFx0XHRcdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzc1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0YWxpYXM6ICdsYW5ndWFnZS1jc3MnXG5cdFx0XHRcdH1cblx0XHRcdH0sIG1hcmt1cC50YWcpO1xuXHRcdH1cblx0XG5cdH0oUHJpc20pKTtcblx0XG5cdFxuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tY2xpa2UuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmNsaWtlID0ge1xuXHRcdCdjb21tZW50JzogW1xuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcXSlcXC9cXCpbXFxzXFxTXSo/KD86XFwqXFwvfCQpLyxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0cGF0dGVybjogLyhefFteXFxcXDpdKVxcL1xcLy4qLyxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdFx0Z3JlZWR5OiB0cnVlXG5cdFx0XHR9XG5cdFx0XSxcblx0XHQnc3RyaW5nJzoge1xuXHRcdFx0cGF0dGVybjogLyhbXCInXSkoPzpcXFxcKD86XFxyXFxufFtcXHNcXFNdKXwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxLyxcblx0XHRcdGdyZWVkeTogdHJ1ZVxuXHRcdH0sXG5cdFx0J2NsYXNzLW5hbWUnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvKCg/OlxcYig/OmNsYXNzfGludGVyZmFjZXxleHRlbmRzfGltcGxlbWVudHN8dHJhaXR8aW5zdGFuY2VvZnxuZXcpXFxzKyl8KD86Y2F0Y2hcXHMrXFwoKSlbXFx3LlxcXFxdKy9pLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRwdW5jdHVhdGlvbjogL1suXFxcXF0vXG5cdFx0XHR9XG5cdFx0fSxcblx0XHQna2V5d29yZCc6IC9cXGIoPzppZnxlbHNlfHdoaWxlfGRvfGZvcnxyZXR1cm58aW58aW5zdGFuY2VvZnxmdW5jdGlvbnxuZXd8dHJ5fHRocm93fGNhdGNofGZpbmFsbHl8bnVsbHxicmVha3xjb250aW51ZSlcXGIvLFxuXHRcdCdib29sZWFuJzogL1xcYig/OnRydWV8ZmFsc2UpXFxiLyxcblx0XHQnZnVuY3Rpb24nOiAvXFx3Kyg/PVxcKCkvLFxuXHRcdCdudW1iZXInOiAvXFxiMHhbXFxkYS1mXStcXGJ8KD86XFxiXFxkK1xcLj9cXGQqfFxcQlxcLlxcZCspKD86ZVsrLV0/XFxkKyk/L2ksXG5cdFx0J29wZXJhdG9yJzogLy0tP3xcXCtcXCs/fCE9Pz0/fDw9P3w+PT98PT0/PT98JiY/fFxcfFxcfD98XFw/fFxcKnxcXC98fnxcXF58JS8sXG5cdFx0J3B1bmN0dWF0aW9uJzogL1t7fVtcXF07KCksLjpdL1xuXHR9O1xuXHRcblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1qYXZhc2NyaXB0LmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0ID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnY2xpa2UnLCB7XG5cdFx0J2NsYXNzLW5hbWUnOiBbXG5cdFx0XHRQcmlzbS5sYW5ndWFnZXMuY2xpa2VbJ2NsYXNzLW5hbWUnXSxcblx0XHRcdHtcblx0XHRcdFx0cGF0dGVybjogLyhefFteJFxcd1xceEEwLVxcdUZGRkZdKVtfJEEtWlxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSooPz1cXC4oPzpwcm90b3R5cGV8Y29uc3RydWN0b3IpKS8sXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHRcdH1cblx0XHRdLFxuXHRcdCdrZXl3b3JkJzogW1xuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKCg/Ol58fSlcXHMqKSg/OmNhdGNofGZpbmFsbHkpXFxiLyxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0cGF0dGVybjogLyhefFteLl0pXFxiKD86YXN8YXN5bmMoPz1cXHMqKD86ZnVuY3Rpb25cXGJ8XFwofFskXFx3XFx4QTAtXFx1RkZGRl18JCkpfGF3YWl0fGJyZWFrfGNhc2V8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZvcnxmcm9tfGZ1bmN0aW9ufGdldHxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8b2Z8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHNldHxzdGF0aWN8c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ5fHR5cGVvZnx1bmRlZmluZWR8dmFyfHZvaWR8d2hpbGV8d2l0aHx5aWVsZClcXGIvLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0XHR9LFxuXHRcdF0sXG5cdFx0J251bWJlcic6IC9cXGIoPzooPzowW3hYXVtcXGRBLUZhLWZdK3wwW2JCXVswMV0rfDBbb09dWzAtN10rKW4/fFxcZCtufE5hTnxJbmZpbml0eSlcXGJ8KD86XFxiXFxkK1xcLj9cXGQqfFxcQlxcLlxcZCspKD86W0VlXVsrLV0/XFxkKyk/Lyxcblx0XHQvLyBBbGxvdyBmb3IgYWxsIG5vbi1BU0NJSSBjaGFyYWN0ZXJzIChTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjAwODQ0NClcblx0XHQnZnVuY3Rpb24nOiAvW18kYS16QS1aXFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKig/PVxccyooPzpcXC5cXHMqKD86YXBwbHl8YmluZHxjYWxsKVxccyopP1xcKCkvLFxuXHRcdCdvcGVyYXRvcic6IC8tWy09XT98XFwrWys9XT98IT0/PT98PDw/PT98Pj4/Pj89P3w9KD86PT0/fD4pP3wmWyY9XT98XFx8W3w9XT98XFwqXFwqPz0/fFxcLz0/fH58XFxePT98JT0/fFxcP3xcXC57M30vXG5cdH0pO1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRbJ2NsYXNzLW5hbWUnXVswXS5wYXR0ZXJuID0gLyhcXGIoPzpjbGFzc3xpbnRlcmZhY2V8ZXh0ZW5kc3xpbXBsZW1lbnRzfGluc3RhbmNlb2Z8bmV3KVxccyspW1xcdy5cXFxcXSsvXG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdqYXZhc2NyaXB0JywgJ2tleXdvcmQnLCB7XG5cdFx0J3JlZ2V4Jzoge1xuXHRcdFx0cGF0dGVybjogLygoPzpefFteJFxcd1xceEEwLVxcdUZGRkYuXCInXFxdKVxcc10pXFxzKilcXC8oXFxbKD86W15cXF1cXFxcXFxyXFxuXXxcXFxcLikqXXxcXFxcLnxbXi9cXFxcXFxbXFxyXFxuXSkrXFwvW2dpbXl1XXswLDV9KD89XFxzKigkfFtcXHJcXG4sLjt9KVxcXV0pKS8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0Z3JlZWR5OiB0cnVlXG5cdFx0fSxcblx0XHQvLyBUaGlzIG11c3QgYmUgZGVjbGFyZWQgYmVmb3JlIGtleXdvcmQgYmVjYXVzZSB3ZSB1c2UgXCJmdW5jdGlvblwiIGluc2lkZSB0aGUgbG9vay1mb3J3YXJkXG5cdFx0J2Z1bmN0aW9uLXZhcmlhYmxlJzoge1xuXHRcdFx0cGF0dGVybjogL1tfJGEtekEtWlxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSooPz1cXHMqWz06XVxccyooPzphc3luY1xccyopPyg/OlxcYmZ1bmN0aW9uXFxifCg/OlxcKCg/OlteKCldfFxcKFteKCldKlxcKSkqXFwpfFtfJGEtekEtWlxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSopXFxzKj0+KSkvLFxuXHRcdFx0YWxpYXM6ICdmdW5jdGlvbidcblx0XHR9LFxuXHRcdCdwYXJhbWV0ZXInOiBbXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC8oZnVuY3Rpb24oPzpcXHMrW18kQS1aYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKik/XFxzKlxcKFxccyopKD8hXFxzKSg/OlteKCldfFxcKFteKCldKlxcKSkrPyg/PVxccypcXCkpLyxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0cGF0dGVybjogL1tfJGEtelxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSooPz1cXHMqPT4pL2ksXG5cdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC8oXFwoXFxzKikoPyFcXHMpKD86W14oKV18XFwoW14oKV0qXFwpKSs/KD89XFxzKlxcKVxccyo9PikvLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKCg/OlxcYnxcXHN8XikoPyEoPzphc3xhc3luY3xhd2FpdHxicmVha3xjYXNlfGNhdGNofGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmaW5hbGx5fGZvcnxmcm9tfGZ1bmN0aW9ufGdldHxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8b2Z8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHNldHxzdGF0aWN8c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ5fHR5cGVvZnx1bmRlZmluZWR8dmFyfHZvaWR8d2hpbGV8d2l0aHx5aWVsZCkoPyFbJFxcd1xceEEwLVxcdUZGRkZdKSkoPzpbXyRBLVphLXpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qXFxzKilcXChcXHMqKSg/IVxccykoPzpbXigpXXxcXChbXigpXSpcXCkpKz8oPz1cXHMqXFwpXFxzKlxceykvLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0XHR9XG5cdFx0XSxcblx0XHQnY29uc3RhbnQnOiAvXFxiW0EtWl0oPzpbQS1aX118XFxkeD8pKlxcYi9cblx0fSk7XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdqYXZhc2NyaXB0JywgJ3N0cmluZycsIHtcblx0XHQndGVtcGxhdGUtc3RyaW5nJzoge1xuXHRcdFx0cGF0dGVybjogL2AoPzpcXFxcW1xcc1xcU118XFwke1tefV0rfXxbXlxcXFxgXSkqYC8sXG5cdFx0XHRncmVlZHk6IHRydWUsXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0J2ludGVycG9sYXRpb24nOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogL1xcJHtbXn1dK30vLFxuXHRcdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdFx0J2ludGVycG9sYXRpb24tcHVuY3R1YXRpb24nOiB7XG5cdFx0XHRcdFx0XHRcdHBhdHRlcm46IC9eXFwke3x9JC8sXG5cdFx0XHRcdFx0XHRcdGFsaWFzOiAncHVuY3R1YXRpb24nXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0cmVzdDogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdzdHJpbmcnOiAvW1xcc1xcU10rL1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cdFxuXHRpZiAoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCkge1xuXHRcdFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmFkZElubGluZWQoJ3NjcmlwdCcsICdqYXZhc2NyaXB0Jyk7XG5cdH1cblx0XG5cdFByaXNtLmxhbmd1YWdlcy5qcyA9IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0O1xuXHRcblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1maWxlLWhpZ2hsaWdodC5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHQoZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgfHwgIXNlbGYuUHJpc20gfHwgIXNlbGYuZG9jdW1lbnQgfHwgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEBwYXJhbSB7RWxlbWVudH0gW2NvbnRhaW5lcj1kb2N1bWVudF1cblx0XHQgKi9cblx0XHRzZWxmLlByaXNtLmZpbGVIaWdobGlnaHQgPSBmdW5jdGlvbihjb250YWluZXIpIHtcblx0XHRcdGNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudDtcblx0XG5cdFx0XHR2YXIgRXh0ZW5zaW9ucyA9IHtcblx0XHRcdFx0J2pzJzogJ2phdmFzY3JpcHQnLFxuXHRcdFx0XHQncHknOiAncHl0aG9uJyxcblx0XHRcdFx0J3JiJzogJ3J1YnknLFxuXHRcdFx0XHQncHMxJzogJ3Bvd2Vyc2hlbGwnLFxuXHRcdFx0XHQncHNtMSc6ICdwb3dlcnNoZWxsJyxcblx0XHRcdFx0J3NoJzogJ2Jhc2gnLFxuXHRcdFx0XHQnYmF0JzogJ2JhdGNoJyxcblx0XHRcdFx0J2gnOiAnYycsXG5cdFx0XHRcdCd0ZXgnOiAnbGF0ZXgnXG5cdFx0XHR9O1xuXHRcblx0XHRcdEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdwcmVbZGF0YS1zcmNdJykpLmZvckVhY2goZnVuY3Rpb24gKHByZSkge1xuXHRcdFx0XHQvLyBpZ25vcmUgaWYgYWxyZWFkeSBsb2FkZWRcblx0XHRcdFx0aWYgKHByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3JjLWxvYWRlZCcpKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBsb2FkIGN1cnJlbnRcblx0XHRcdFx0dmFyIHNyYyA9IHByZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7XG5cdFxuXHRcdFx0XHR2YXIgbGFuZ3VhZ2UsIHBhcmVudCA9IHByZTtcblx0XHRcdFx0dmFyIGxhbmcgPSAvXFxibGFuZyg/OnVhZ2UpPy0oW1xcdy1dKylcXGIvaTtcblx0XHRcdFx0d2hpbGUgKHBhcmVudCAmJiAhbGFuZy50ZXN0KHBhcmVudC5jbGFzc05hbWUpKSB7XG5cdFx0XHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0XHRsYW5ndWFnZSA9IChwcmUuY2xhc3NOYW1lLm1hdGNoKGxhbmcpIHx8IFssICcnXSlbMV07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmICghbGFuZ3VhZ2UpIHtcblx0XHRcdFx0XHR2YXIgZXh0ZW5zaW9uID0gKHNyYy5tYXRjaCgvXFwuKFxcdyspJC8pIHx8IFssICcnXSlbMV07XG5cdFx0XHRcdFx0bGFuZ3VhZ2UgPSBFeHRlbnNpb25zW2V4dGVuc2lvbl0gfHwgZXh0ZW5zaW9uO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR2YXIgY29kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NvZGUnKTtcblx0XHRcdFx0Y29kZS5jbGFzc05hbWUgPSAnbGFuZ3VhZ2UtJyArIGxhbmd1YWdlO1xuXHRcblx0XHRcdFx0cHJlLnRleHRDb250ZW50ID0gJyc7XG5cdFxuXHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ0xvYWRpbmfigKYnO1xuXHRcblx0XHRcdFx0cHJlLmFwcGVuZENoaWxkKGNvZGUpO1xuXHRcblx0XHRcdFx0dmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcblx0XHRcdFx0eGhyLm9wZW4oJ0dFVCcsIHNyYywgdHJ1ZSk7XG5cdFxuXHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0KSB7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKHhoci5zdGF0dXMgPCA0MDAgJiYgeGhyLnJlc3BvbnNlVGV4dCkge1xuXHRcdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0geGhyLnJlc3BvbnNlVGV4dDtcblx0XG5cdFx0XHRcdFx0XHRcdFByaXNtLmhpZ2hsaWdodEVsZW1lbnQoY29kZSk7XG5cdFx0XHRcdFx0XHRcdC8vIG1hcmsgYXMgbG9hZGVkXG5cdFx0XHRcdFx0XHRcdHByZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjLWxvYWRlZCcsICcnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgaWYgKHhoci5zdGF0dXMgPj0gNDAwKSB7XG5cdFx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAn4pyWIEVycm9yICcgKyB4aHIuc3RhdHVzICsgJyB3aGlsZSBmZXRjaGluZyBmaWxlOiAnICsgeGhyLnN0YXR1c1RleHQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9ICfinJYgRXJyb3I6IEZpbGUgZG9lcyBub3QgZXhpc3Qgb3IgaXMgZW1wdHknO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XG5cdFx0XHRcdHhoci5zZW5kKG51bGwpO1xuXHRcdFx0fSk7XG5cdFxuXHRcdFx0aWYgKFByaXNtLnBsdWdpbnMudG9vbGJhcikge1xuXHRcdFx0XHRQcmlzbS5wbHVnaW5zLnRvb2xiYXIucmVnaXN0ZXJCdXR0b24oJ2Rvd25sb2FkLWZpbGUnLCBmdW5jdGlvbiAoZW52KSB7XG5cdFx0XHRcdFx0dmFyIHByZSA9IGVudi5lbGVtZW50LnBhcmVudE5vZGU7XG5cdFx0XHRcdFx0aWYgKCFwcmUgfHwgIS9wcmUvaS50ZXN0KHByZS5ub2RlTmFtZSkgfHwgIXByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3JjJykgfHwgIXByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtbGluaycpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciBzcmMgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuXHRcdFx0XHRcdHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHRcdFx0XHRcdGEudGV4dENvbnRlbnQgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLWRvd25sb2FkLWxpbmstbGFiZWwnKSB8fCAnRG93bmxvYWQnO1xuXHRcdFx0XHRcdGEuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICcnKTtcblx0XHRcdFx0XHRhLmhyZWYgPSBzcmM7XG5cdFx0XHRcdFx0cmV0dXJuIGE7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcblx0XHR9O1xuXHRcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0Ly8gZXhlY3V0ZSBpbnNpZGUgaGFuZGxlciwgZm9yIGRyb3BwaW5nIEV2ZW50IGFzIGFyZ3VtZW50XG5cdFx0XHRzZWxmLlByaXNtLmZpbGVIaWdobGlnaHQoKTtcblx0XHR9KTtcblx0XG5cdH0pKCk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciBmcm9tID0gZnVuY3Rpb24ob3B0cywgcGx1Z2lucykge1xuXHQgIHZhciBwYXJlbnQgPSAob3B0cy5wYXJlbnQgfHwgb3B0cykubm9kZVR5cGUgPT09IDEgPyAob3B0cy5wYXJlbnQgfHwgb3B0cykgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdHMucGFyZW50IHx8IG9wdHMpLFxuXHQgICAgc2xpZGVzID0gW10uZmlsdGVyLmNhbGwodHlwZW9mIG9wdHMuc2xpZGVzID09PSAnc3RyaW5nJyA/IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKG9wdHMuc2xpZGVzKSA6IChvcHRzLnNsaWRlcyB8fCBwYXJlbnQuY2hpbGRyZW4pLCBmdW5jdGlvbihlbCkgeyByZXR1cm4gZWwubm9kZU5hbWUgIT09ICdTQ1JJUFQnOyB9KSxcblx0ICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzWzBdLFxuXHQgICAgbGlzdGVuZXJzID0ge30sXG5cdFxuXHQgICAgYWN0aXZhdGUgPSBmdW5jdGlvbihpbmRleCwgY3VzdG9tRGF0YSkge1xuXHQgICAgICBpZiAoIXNsaWRlc1tpbmRleF0pIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGZpcmUoJ2RlYWN0aXZhdGUnLCBjcmVhdGVFdmVudERhdGEoYWN0aXZlU2xpZGUsIGN1c3RvbURhdGEpKTtcblx0ICAgICAgYWN0aXZlU2xpZGUgPSBzbGlkZXNbaW5kZXhdO1xuXHQgICAgICBmaXJlKCdhY3RpdmF0ZScsIGNyZWF0ZUV2ZW50RGF0YShhY3RpdmVTbGlkZSwgY3VzdG9tRGF0YSkpO1xuXHQgICAgfSxcblx0XG5cdCAgICBzbGlkZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG5cdCAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG5cdCAgICAgICAgZmlyZSgnc2xpZGUnLCBjcmVhdGVFdmVudERhdGEoc2xpZGVzW2luZGV4XSwgY3VzdG9tRGF0YSkpICYmIGFjdGl2YXRlKGluZGV4LCBjdXN0b21EYXRhKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gc2xpZGVzLmluZGV4T2YoYWN0aXZlU2xpZGUpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIHN0ZXAgPSBmdW5jdGlvbihvZmZzZXQsIGN1c3RvbURhdGEpIHtcblx0ICAgICAgdmFyIHNsaWRlSW5kZXggPSBzbGlkZXMuaW5kZXhPZihhY3RpdmVTbGlkZSkgKyBvZmZzZXQ7XG5cdFxuXHQgICAgICBmaXJlKG9mZnNldCA+IDAgPyAnbmV4dCcgOiAncHJldicsIGNyZWF0ZUV2ZW50RGF0YShhY3RpdmVTbGlkZSwgY3VzdG9tRGF0YSkpICYmIGFjdGl2YXRlKHNsaWRlSW5kZXgsIGN1c3RvbURhdGEpO1xuXHQgICAgfSxcblx0XG5cdCAgICBvbiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcblx0ICAgICAgKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IChsaXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdKSkucHVzaChjYWxsYmFjayk7XG5cdCAgICAgIHJldHVybiBvZmYuYmluZChudWxsLCBldmVudE5hbWUsIGNhbGxiYWNrKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgb2ZmID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuXHQgICAgICBsaXN0ZW5lcnNbZXZlbnROYW1lXSA9IChsaXN0ZW5lcnNbZXZlbnROYW1lXSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uKGxpc3RlbmVyKSB7IHJldHVybiBsaXN0ZW5lciAhPT0gY2FsbGJhY2s7IH0pO1xuXHQgICAgfSxcblx0XG5cdCAgICBmaXJlID0gZnVuY3Rpb24oZXZlbnROYW1lLCBldmVudERhdGEpIHtcblx0ICAgICAgcmV0dXJuIChsaXN0ZW5lcnNbZXZlbnROYW1lXSB8fCBbXSlcblx0ICAgICAgICAucmVkdWNlKGZ1bmN0aW9uKG5vdENhbmNlbGxlZCwgY2FsbGJhY2spIHtcblx0ICAgICAgICAgIHJldHVybiBub3RDYW5jZWxsZWQgJiYgY2FsbGJhY2soZXZlbnREYXRhKSAhPT0gZmFsc2U7XG5cdCAgICAgICAgfSwgdHJ1ZSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGVsLCBldmVudERhdGEpIHtcblx0ICAgICAgZXZlbnREYXRhID0gZXZlbnREYXRhIHx8IHt9O1xuXHQgICAgICBldmVudERhdGEuaW5kZXggPSBzbGlkZXMuaW5kZXhPZihlbCk7XG5cdCAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IGVsO1xuXHQgICAgICByZXR1cm4gZXZlbnREYXRhO1xuXHQgICAgfSxcblx0XG5cdCAgICBkZWNrID0ge1xuXHQgICAgICBvbjogb24sXG5cdCAgICAgIG9mZjogb2ZmLFxuXHQgICAgICBmaXJlOiBmaXJlLFxuXHQgICAgICBzbGlkZTogc2xpZGUsXG5cdCAgICAgIG5leHQ6IHN0ZXAuYmluZChudWxsLCAxKSxcblx0ICAgICAgcHJldjogc3RlcC5iaW5kKG51bGwsIC0xKSxcblx0ICAgICAgcGFyZW50OiBwYXJlbnQsXG5cdCAgICAgIHNsaWRlczogc2xpZGVzXG5cdCAgICB9O1xuXHRcblx0ICAocGx1Z2lucyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcblx0ICAgIHBsdWdpbihkZWNrKTtcblx0ICB9KTtcblx0XG5cdCAgYWN0aXZhdGUoMCk7XG5cdFxuXHQgIHJldHVybiBkZWNrO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgZnJvbTogZnJvbVxuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciByZXF1aXJlO3ZhciByZXF1aXJlOy8qIVxuXHQgKiBiZXNwb2tlLXRoZW1lLW5lYnVsYSB2MS4wLjFcblx0ICpcblx0ICogQ29weXJpZ2h0IDIwMTQsIE1hcmsgRGFsZ2xlaXNoXG5cdCAqIFRoaXMgY29udGVudCBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2Vcblx0ICogXG5cdCAqL1xuXHRcblx0IWZ1bmN0aW9uKGUpe2lmKHRydWUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShlKTtlbHNle3ZhciBvO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/bz13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9vPWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKG89c2VsZik7dmFyIGY9bztmPWYuYmVzcG9rZXx8KGYuYmVzcG9rZT17fSksZj1mLnRoZW1lc3x8KGYudGhlbWVzPXt9KSxmLm5lYnVsYT1lKCl9fShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiByZXF1aXJlKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XG5cdHZhciBjbGFzc2VzID0gX2RlcmVxXygnYmVzcG9rZS1jbGFzc2VzJyk7XG5cdHZhciBpbnNlcnRDc3MgPSBfZGVyZXFfKCdpbnNlcnQtY3NzJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHZhciBjc3MgPSBcIi8qISBub3JtYWxpemUuY3NzIHYzLjAuMCB8IE1JVCBMaWNlbnNlIHwgZ2l0LmlvL25vcm1hbGl6ZSAqL2h0bWx7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjstbXMtdGV4dC1zaXplLWFkanVzdDoxMDAlOy13ZWJraXQtdGV4dC1zaXplLWFkanVzdDoxMDAlfWJvZHl7bWFyZ2luOjB9YXJ0aWNsZSxhc2lkZSxkZXRhaWxzLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsaGdyb3VwLG1haW4sbmF2LHNlY3Rpb24sc3VtbWFyeXtkaXNwbGF5OmJsb2NrfWF1ZGlvLGNhbnZhcyxwcm9ncmVzcyx2aWRlb3tkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX1hdWRpbzpub3QoW2NvbnRyb2xzXSl7ZGlzcGxheTpub25lO2hlaWdodDowfVtoaWRkZW5dLHRlbXBsYXRle2Rpc3BsYXk6bm9uZX1he2JhY2tncm91bmQ6MCAwfWE6YWN0aXZlLGE6aG92ZXJ7b3V0bGluZTowfWFiYnJbdGl0bGVde2JvcmRlci1ib3R0b206MXB4IGRvdHRlZH1ie2ZvbnQtd2VpZ2h0OjcwMH1kZm57Zm9udC1zdHlsZTppdGFsaWN9aDF7Zm9udC1zaXplOjJlbX1tYXJre2JhY2tncm91bmQ6I2ZmMDtjb2xvcjojMDAwfXNtYWxse2ZvbnQtc2l6ZTo4MCV9c3ViLHN1cHtmb250LXNpemU6NzUlO2xpbmUtaGVpZ2h0OjA7cG9zaXRpb246cmVsYXRpdmU7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9c3Vwe3RvcDotLjVlbX1zdWJ7Ym90dG9tOi0uMjVlbX1pbWd7Ym9yZGVyOjB9c3ZnOm5vdCg6cm9vdCl7b3ZlcmZsb3c6aGlkZGVufWZpZ3VyZXttYXJnaW46MWVtIDQwcHh9aHJ7Ym94LXNpemluZzpjb250ZW50LWJveH1wcmV7b3ZlcmZsb3c6YXV0b31jb2RlLGtiZCxwcmUsc2FtcHtmb250LXNpemU6MWVtfWtiZCxwcmUsc2FtcHtmb250LWZhbWlseTptb25vc3BhY2UsbW9ub3NwYWNlfWJ1dHRvbixpbnB1dCxvcHRncm91cCxzZWxlY3QsdGV4dGFyZWF7Y29sb3I6aW5oZXJpdDtmb250OmluaGVyaXQ7bWFyZ2luOjB9YnV0dG9ue292ZXJmbG93OnZpc2libGV9YnV0dG9uLHNlbGVjdHt0ZXh0LXRyYW5zZm9ybTpub25lfWJ1dHRvbixodG1sIGlucHV0W3R5cGU9XFxcImJ1dHRvblxcXCJdLGlucHV0W3R5cGU9XFxcInJlc2V0XFxcIl0saW5wdXRbdHlwZT1cXFwic3VibWl0XFxcIl17LXdlYmtpdC1hcHBlYXJhbmNlOmJ1dHRvbjtjdXJzb3I6cG9pbnRlcn1idXR0b25bZGlzYWJsZWRdLGh0bWwgaW5wdXRbZGlzYWJsZWRde2N1cnNvcjpkZWZhdWx0fWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lcixpbnB1dDo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6MDtwYWRkaW5nOjB9aW5wdXR7bGluZS1oZWlnaHQ6bm9ybWFsfWlucHV0W3R5cGU9XFxcImNoZWNrYm94XFxcIl0saW5wdXRbdHlwZT1cXFwicmFkaW9cXFwiXXtib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzowfWlucHV0W3R5cGU9XFxcIm51bWJlclxcXCJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLGlucHV0W3R5cGU9XFxcIm51bWJlclxcXCJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfWlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdey13ZWJraXQtYXBwZWFyYW5jZTp0ZXh0ZmllbGQ7Ym94LXNpemluZzpjb250ZW50LWJveH1pbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXTo6LXdlYmtpdC1zZWFyY2gtY2FuY2VsLWJ1dHRvbixpbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXTo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX1maWVsZHNldHtib3JkZXI6MXB4IHNvbGlkIHNpbHZlcjttYXJnaW46MCAycHg7cGFkZGluZzouMzVlbSAuNjI1ZW0gLjc1ZW19bGVnZW5ke2JvcmRlcjowO3BhZGRpbmc6MH10ZXh0YXJlYXtvdmVyZmxvdzphdXRvfW9wdGdyb3Vwe2ZvbnQtd2VpZ2h0OjcwMH10YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Ym9yZGVyLXNwYWNpbmc6MH10ZCx0aCwqe3BhZGRpbmc6MH0qe21hcmdpbjowfWh0bWx7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OmF1dG87LW1zLXRleHQtc2l6ZS1hZGp1c3Q6YXV0bzt0ZXh0LXNpemUtYWRqdXN0OmF1dG99LmJlc3Bva2UtcGFyZW50e2ZvbnQtc2l6ZToxLjVlbTtiYWNrZ3JvdW5kOiMxMTE7Y29sb3I6I2RkZDtmb250LWZhbWlseTpmdXR1cmEsaGVsdmV0aWNhLGFyaWFsLGFyaWFsLHNhbnMtc2VyaWY7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246Y2VudGVyOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDFzIGVhc2U7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDFzIGVhc2U7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUgNTAlfS5iZXNwb2tlLXBhcmVudCwuYmVzcG9rZS1zY2FsZS1wYXJlbnR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjB9LmJlc3Bva2Utc2NhbGUtcGFyZW50e3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDoxfS5iZXNwb2tlLXNjYWxlLXBhcmVudCAuYmVzcG9rZS1hY3RpdmV7cG9pbnRlci1ldmVudHM6YXV0b30uYmVzcG9rZS1zbGlkZXstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuNXMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjVzIGVhc2U7d2lkdGg6OTQwcHg7aGVpZ2h0OjQ4MHB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTQ3MHB4O21hcmdpbi10b3A6LTI0MHB4O2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotd2Via2l0LWZsZXg7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsOy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWw7LXdlYmtpdC1mbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7ei1pbmRleDoxfS5iZXNwb2tlLWFjdGl2ZXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6LjVzO3RyYW5zaXRpb24tZGVsYXk6LjVzfS5iZXNwb2tlLWFjdGl2ZVtkYXRhLWJlc3Bva2UtYmFja2Ryb3Bdey13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouNzVzO3RyYW5zaXRpb24tZGVsYXk6Ljc1c30uYmVzcG9rZS1pbmFjdGl2ZXtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZX0uYmVzcG9rZS1iYWNrZHJvcHstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowfS5iZXNwb2tlLXByb2dyZXNzLXBhcmVudHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtoZWlnaHQ6LjN2dzt6LWluZGV4OjF9LmJlc3Bva2UtcHJvZ3Jlc3MtYmFye2JhY2tncm91bmQ6I2RkZDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7aGVpZ2h0OjEwMCU7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDFzIGVhc2U7dHJhbnNpdGlvbjp3aWR0aCAxcyBlYXNlfS5iZXNwb2tlLWJ1bGxldHstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuM3MgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2V9LmJlc3Bva2UtYnVsbGV0LWluYWN0aXZle29wYWNpdHk6MH1zdHJvbmd7Zm9udC13ZWlnaHQ6NDAwfWhye3dpZHRoOjUwJTttYXJnaW46MXJlbSBhdXRvO2hlaWdodDoxcHg7Ym9yZGVyOjA7YmFja2dyb3VuZDojZGRkfWgzLHAsbGl7cGFkZGluZy1sZWZ0OjIwcHg7cGFkZGluZy1yaWdodDoyMHB4fWgzLGg0LHAsbGkscHJle2ZvbnQtd2VpZ2h0OjIwMH1oMXtsaW5lLWhlaWdodDoxLjRlbTtwYWRkaW5nOjFlbTtib3JkZXI6MXB4IHNvbGlkICNkZGQ7Ym9yZGVyLWxlZnQtd2lkdGg6MDtib3JkZXItcmlnaHQtd2lkdGg6MDttaW4td2lkdGg6OGVtfWgxLGgye2xldHRlci1zcGFjaW5nOi4zZW07dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO2ZvbnQtd2VpZ2h0OjQwMDttYXJnaW46LjE3ZW0gMDtwb3NpdGlvbjpyZWxhdGl2ZX1oMntsaW5lLWhlaWdodDoxLjFlbTtwYWRkaW5nOjAgMCAwIC4zZW19aDN7Zm9udC1mYW1pbHk6ZGlkb3QsdGltZXMgbmV3IHJvbWFuLHNlcmlmO2ZvbnQtc3R5bGU6aXRhbGljO2ZvbnQtc2l6ZToxLjJlbTtsaW5lLWhlaWdodDoxLjZlbTttYXJnaW46LjVlbSAwfWg0e3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtmb250LXNpemU6LjhlbTtsaW5lLWhlaWdodDoxLjhlbTtsZXR0ZXItc3BhY2luZzouM2VtO21hcmdpbjoxZW0gMH11bCxvbHtwYWRkaW5nOjA7bWFyZ2luOjA7dGV4dC1hbGlnbjpsZWZ0fWxpe2xpc3Qtc3R5bGU6bm9uZTttYXJnaW46LjJlbTtmb250LXN0eWxlOm5vcm1hbDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KX1saTpiZWZvcmV7Y29udGVudDonXFxcXDIwMTQnO21hcmdpbi1yaWdodDo0cHh9cHJle2JhY2tncm91bmQ6bm9uZSFpbXBvcnRhbnR9Y29kZXtmb250LWZhbWlseTpwcmVzdGlnZSBlbGl0ZSBzdGQsY29uc29sYXMsY291cmllciBuZXcsbW9ub3NwYWNlIWltcG9ydGFudDtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDoyMDAhaW1wb3J0YW50O3RleHQtYWxpZ246bGVmdH1he3BhZGRpbmctbGVmdDouM2VtO2NvbG9yOmN1cnJlbnRDb2xvcjt0ZXh0LWRlY29yYXRpb246bm9uZTtib3JkZXItYm90dG9tOjFweCBzb2xpZCBjdXJyZW50Q29sb3J9LmVtcGhhdGlje2JhY2tncm91bmQ6I2YzMH0uc2luZ2xlLXdvcmRze3dvcmQtc3BhY2luZzo5OTk5cHg7bGluZS1oZWlnaHQ6Mi45ZW07b3ZlcmZsb3c6aGlkZGVufS5iZXNwb2tlLWJhY2tkcm9we29wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlLC13ZWJraXQtdHJhbnNmb3JtIDZzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2UsdHJhbnNmb3JtIDZzIGVhc2U7YmFja2dyb3VuZC1zaXplOmNvdmVyO2JhY2tncm91bmQtcG9zaXRpb246NTAlIDUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApc2NhbGUoMS4zKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKXNjYWxlKDEuMyl9LmJlc3Bva2UtYmFja2Ryb3AtYWN0aXZlLC5iZXNwb2tlLWJhY2tkcm9wLWJlZm9yZXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApfS5iZXNwb2tlLWJhY2tkcm9wLWJlZm9yZXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6LjJzO3RyYW5zaXRpb24tZGVsYXk6LjJzfS5iZXNwb2tlLWJhY2tkcm9wLWFjdGl2ZXtvcGFjaXR5Oi41fVwiO1xuXHQgIGluc2VydENzcyhjc3MsIHsgcHJlcGVuZDogdHJ1ZSB9KTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIGNsYXNzZXMoKShkZWNrKTtcblx0ICB9O1xuXHR9O1xuXHRcblx0fSx7XCJiZXNwb2tlLWNsYXNzZXNcIjoyLFwiaW5zZXJ0LWNzc1wiOjN9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGFkZENsYXNzID0gZnVuY3Rpb24oZWwsIGNscykge1xuXHQgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtJyArIGNscyk7XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGVsLCBjbHMpIHtcblx0ICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWVcblx0ICAgICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoJ2Jlc3Bva2UtJyArIGNscyArJyhcXFxcc3wkKScsICdnJyksICcgJylcblx0ICAgICAgICAgIC50cmltKCk7XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICBkZWFjdGl2YXRlID0gZnVuY3Rpb24oZWwsIGluZGV4KSB7XG5cdCAgICAgICAgdmFyIGFjdGl2ZVNsaWRlID0gZGVjay5zbGlkZXNbZGVjay5zbGlkZSgpXSxcblx0ICAgICAgICAgIG9mZnNldCA9IGluZGV4IC0gZGVjay5zbGlkZSgpLFxuXHQgICAgICAgICAgb2Zmc2V0Q2xhc3MgPSBvZmZzZXQgPiAwID8gJ2FmdGVyJyA6ICdiZWZvcmUnO1xuXHRcblx0ICAgICAgICBbJ2JlZm9yZSgtXFxcXGQrKT8nLCAnYWZ0ZXIoLVxcXFxkKyk/JywgJ2FjdGl2ZScsICdpbmFjdGl2ZSddLm1hcChyZW1vdmVDbGFzcy5iaW5kKG51bGwsIGVsKSk7XG5cdFxuXHQgICAgICAgIGlmIChlbCAhPT0gYWN0aXZlU2xpZGUpIHtcblx0ICAgICAgICAgIFsnaW5hY3RpdmUnLCBvZmZzZXRDbGFzcywgb2Zmc2V0Q2xhc3MgKyAnLScgKyBNYXRoLmFicyhvZmZzZXQpXS5tYXAoYWRkQ2xhc3MuYmluZChudWxsLCBlbCkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfTtcblx0XG5cdCAgICBhZGRDbGFzcyhkZWNrLnBhcmVudCwgJ3BhcmVudCcpO1xuXHQgICAgZGVjay5zbGlkZXMubWFwKGZ1bmN0aW9uKGVsKSB7IGFkZENsYXNzKGVsLCAnc2xpZGUnKTsgfSk7XG5cdFxuXHQgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIGRlY2suc2xpZGVzLm1hcChkZWFjdGl2YXRlKTtcblx0ICAgICAgYWRkQ2xhc3MoZS5zbGlkZSwgJ2FjdGl2ZScpO1xuXHQgICAgICByZW1vdmVDbGFzcyhlLnNsaWRlLCAnaW5hY3RpdmUnKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdH07XG5cdFxuXHR9LHt9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0dmFyIGluc2VydGVkID0ge307XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MsIG9wdGlvbnMpIHtcblx0ICAgIGlmIChpbnNlcnRlZFtjc3NdKSByZXR1cm47XG5cdCAgICBpbnNlcnRlZFtjc3NdID0gdHJ1ZTtcblx0ICAgIFxuXHQgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXHQgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcblx0XG5cdCAgICBpZiAoJ3RleHRDb250ZW50JyBpbiBlbGVtKSB7XG5cdCAgICAgIGVsZW0udGV4dENvbnRlbnQgPSBjc3M7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbGVtLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0ICAgIH1cblx0ICAgIFxuXHQgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuXHQgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wcmVwZW5kKSB7XG5cdCAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoZWxlbSwgaGVhZC5jaGlsZE5vZGVzWzBdKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChlbGVtKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdH0se31dfSx7fSxbMV0pXG5cdCgxKVxuXHR9KTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBpc0hvcml6b250YWwgPSBvcHRpb25zICE9PSAndmVydGljYWwnO1xuXHRcblx0ICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIGlmIChlLndoaWNoID09IDM0IHx8IC8vIFBBR0UgRE9XTlxuXHQgICAgICAgIChlLndoaWNoID09IDMyICYmICFlLnNoaWZ0S2V5KSB8fCAvLyBTUEFDRSBXSVRIT1VUIFNISUZUXG5cdCAgICAgICAgKGlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM5KSB8fCAvLyBSSUdIVFxuXHQgICAgICAgICghaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gNDApIC8vIERPV05cblx0ICAgICAgKSB7IGRlY2submV4dCgpOyB9XG5cdFxuXHQgICAgICBpZiAoZS53aGljaCA9PSAzMyB8fCAvLyBQQUdFIFVQXG5cdCAgICAgICAgKGUud2hpY2ggPT0gMzIgJiYgZS5zaGlmdEtleSkgfHwgLy8gU1BBQ0UgKyBTSElGVFxuXHQgICAgICAgIChpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzNykgfHwgLy8gTEVGVFxuXHQgICAgICAgICghaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzgpIC8vIFVQXG5cdCAgICAgICkgeyBkZWNrLnByZXYoKTsgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGF4aXMgPSBvcHRpb25zID09ICd2ZXJ0aWNhbCcgPyAnWScgOiAnWCcsXG5cdCAgICAgIHN0YXJ0UG9zaXRpb24sXG5cdCAgICAgIGRlbHRhO1xuXHRcblx0ICAgIGRlY2sucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHtcblx0ICAgICAgICBzdGFydFBvc2l0aW9uID0gZS50b3VjaGVzWzBdWydwYWdlJyArIGF4aXNdO1xuXHQgICAgICAgIGRlbHRhID0gMDtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgZGVjay5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24oZSkge1xuXHQgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG5cdCAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIGRlbHRhID0gZS50b3VjaGVzWzBdWydwYWdlJyArIGF4aXNdIC0gc3RhcnRQb3NpdGlvbjtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgZGVjay5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBmdW5jdGlvbigpIHtcblx0ICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IDUwKSB7XG5cdCAgICAgICAgZGVja1tkZWx0YSA+IDAgPyAncHJldicgOiAnbmV4dCddKCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBhY3RpdmVTbGlkZUluZGV4LFxuXHQgICAgICBhY3RpdmVCdWxsZXRJbmRleCxcblx0XG5cdCAgICAgIGJ1bGxldHMgPSBkZWNrLnNsaWRlcy5tYXAoZnVuY3Rpb24oc2xpZGUpIHtcblx0ICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgPyBvcHRpb25zIDogJ1tkYXRhLWJlc3Bva2UtYnVsbGV0XScpKSwgMCk7XG5cdCAgICAgIH0pLFxuXHRcblx0ICAgICAgbmV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBuZXh0U2xpZGVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXggKyAxO1xuXHRcblx0ICAgICAgICBpZiAoYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCgxKSkge1xuXHQgICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggKyAxKTtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ1bGxldHNbbmV4dFNsaWRlSW5kZXhdKSB7XG5cdCAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChuZXh0U2xpZGVJbmRleCwgMCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LFxuXHRcblx0ICAgICAgcHJldiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBwcmV2U2xpZGVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXggLSAxO1xuXHRcblx0ICAgICAgICBpZiAoYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCgtMSkpIHtcblx0ICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KGFjdGl2ZVNsaWRlSW5kZXgsIGFjdGl2ZUJ1bGxldEluZGV4IC0gMSk7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIGlmIChidWxsZXRzW3ByZXZTbGlkZUluZGV4XSkge1xuXHQgICAgICAgICAgYWN0aXZhdGVCdWxsZXQocHJldlNsaWRlSW5kZXgsIGJ1bGxldHNbcHJldlNsaWRlSW5kZXhdLmxlbmd0aCAtIDEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGFjdGl2YXRlQnVsbGV0ID0gZnVuY3Rpb24oc2xpZGVJbmRleCwgYnVsbGV0SW5kZXgpIHtcblx0ICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gc2xpZGVJbmRleDtcblx0ICAgICAgICBhY3RpdmVCdWxsZXRJbmRleCA9IGJ1bGxldEluZGV4O1xuXHRcblx0ICAgICAgICBidWxsZXRzLmZvckVhY2goZnVuY3Rpb24oc2xpZGUsIHMpIHtcblx0ICAgICAgICAgIHNsaWRlLmZvckVhY2goZnVuY3Rpb24oYnVsbGV0LCBiKSB7XG5cdCAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldCcpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHMgPCBzbGlkZUluZGV4IHx8IHMgPT09IHNsaWRlSW5kZXggJiYgYiA8PSBidWxsZXRJbmRleCkge1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1hY3RpdmUnKTtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1idWxsZXQtaW5hY3RpdmUnKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtaW5hY3RpdmUnKTtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1idWxsZXQtYWN0aXZlJyk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmIChzID09PSBzbGlkZUluZGV4ICYmIGIgPT09IGJ1bGxldEluZGV4KSB7XG5cdCAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0LWN1cnJlbnQnKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1idWxsZXQtY3VycmVudCcpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQgPSBmdW5jdGlvbihvZmZzZXQpIHtcblx0ICAgICAgICByZXR1cm4gYnVsbGV0c1thY3RpdmVTbGlkZUluZGV4XVthY3RpdmVCdWxsZXRJbmRleCArIG9mZnNldF0gIT09IHVuZGVmaW5lZDtcblx0ICAgICAgfTtcblx0XG5cdCAgICBkZWNrLm9uKCduZXh0JywgbmV4dCk7XG5cdCAgICBkZWNrLm9uKCdwcmV2JywgcHJldik7XG5cdFxuXHQgICAgZGVjay5vbignc2xpZGUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIGFjdGl2YXRlQnVsbGV0KGUuaW5kZXgsIDApO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgYWN0aXZhdGVCdWxsZXQoMCwgMCk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYmFja2Ryb3BzO1xuXHRcblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUJhY2tkcm9wRm9yU2xpZGUoc2xpZGUpIHtcblx0ICAgICAgdmFyIGJhY2tkcm9wQXR0cmlidXRlID0gc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtYmFja2Ryb3AnKTtcblx0XG5cdCAgICAgIGlmIChiYWNrZHJvcEF0dHJpYnV0ZSkge1xuXHQgICAgICAgIHZhciBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgICAgICAgIGJhY2tkcm9wLmNsYXNzTmFtZSA9IGJhY2tkcm9wQXR0cmlidXRlO1xuXHQgICAgICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYmFja2Ryb3AnKTtcblx0ICAgICAgICBkZWNrLnBhcmVudC5hcHBlbmRDaGlsZChiYWNrZHJvcCk7XG5cdCAgICAgICAgcmV0dXJuIGJhY2tkcm9wO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NlcyhlbCkge1xuXHQgICAgICBpZiAoZWwpIHtcblx0ICAgICAgICB2YXIgaW5kZXggPSBiYWNrZHJvcHMuaW5kZXhPZihlbCksXG5cdCAgICAgICAgICBjdXJyZW50SW5kZXggPSBkZWNrLnNsaWRlKCk7XG5cdFxuXHQgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYWN0aXZlJyk7XG5cdCAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdpbmFjdGl2ZScpO1xuXHQgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYmVmb3JlJyk7XG5cdCAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdhZnRlcicpO1xuXHRcblx0ICAgICAgICBpZiAoaW5kZXggIT09IGN1cnJlbnRJbmRleCkge1xuXHQgICAgICAgICAgYWRkQ2xhc3MoZWwsICdpbmFjdGl2ZScpO1xuXHQgICAgICAgICAgYWRkQ2xhc3MoZWwsIGluZGV4IDwgY3VycmVudEluZGV4ID8gJ2JlZm9yZScgOiAnYWZ0ZXInKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgYWRkQ2xhc3MoZWwsICdhY3RpdmUnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG5cdCAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYmFja2Ryb3AtJyArIGNsYXNzTmFtZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuXHQgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJhY2tkcm9wLScgKyBjbGFzc05hbWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGJhY2tkcm9wcyA9IGRlY2suc2xpZGVzXG5cdCAgICAgIC5tYXAoY3JlYXRlQmFja2Ryb3BGb3JTbGlkZSk7XG5cdFxuXHQgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbigpIHtcblx0ICAgICAgYmFja2Ryb3BzLmZvckVhY2godXBkYXRlQ2xhc3Nlcyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgcGFyZW50ID0gZGVjay5wYXJlbnQsXG5cdCAgICAgIGZpcnN0U2xpZGUgPSBkZWNrLnNsaWRlc1swXSxcblx0ICAgICAgc2xpZGVIZWlnaHQgPSBmaXJzdFNsaWRlLm9mZnNldEhlaWdodCxcblx0ICAgICAgc2xpZGVXaWR0aCA9IGZpcnN0U2xpZGUub2Zmc2V0V2lkdGgsXG5cdCAgICAgIHVzZVpvb20gPSBvcHRpb25zID09PSAnem9vbScgfHwgKCd6b29tJyBpbiBwYXJlbnQuc3R5bGUgJiYgb3B0aW9ucyAhPT0gJ3RyYW5zZm9ybScpLFxuXHRcblx0ICAgICAgd3JhcCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0ICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gJ2Jlc3Bva2Utc2NhbGUtcGFyZW50Jztcblx0ICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIGVsZW1lbnQpO1xuXHQgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cdCAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICBlbGVtZW50cyA9IHVzZVpvb20gPyBkZWNrLnNsaWRlcyA6IGRlY2suc2xpZGVzLm1hcCh3cmFwKSxcblx0XG5cdCAgICAgIHRyYW5zZm9ybVByb3BlcnR5ID0gKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG5cdCAgICAgICAgdmFyIHByZWZpeGVzID0gJ01veiBXZWJraXQgTyBtcycuc3BsaXQoJyAnKTtcblx0ICAgICAgICByZXR1cm4gcHJlZml4ZXMucmVkdWNlKGZ1bmN0aW9uKGN1cnJlbnRQcm9wZXJ0eSwgcHJlZml4KSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyBwcm9wZXJ0eSBpbiBwYXJlbnQuc3R5bGUgPyBwcmVmaXggKyBwcm9wZXJ0eSA6IGN1cnJlbnRQcm9wZXJ0eTtcblx0ICAgICAgICAgIH0sIHByb3BlcnR5LnRvTG93ZXJDYXNlKCkpO1xuXHQgICAgICB9KCdUcmFuc2Zvcm0nKSksXG5cdFxuXHQgICAgICBzY2FsZSA9IHVzZVpvb20gP1xuXHQgICAgICAgIGZ1bmN0aW9uKHJhdGlvLCBlbGVtZW50KSB7XG5cdCAgICAgICAgICBlbGVtZW50LnN0eWxlLnpvb20gPSByYXRpbztcblx0ICAgICAgICB9IDpcblx0ICAgICAgICBmdW5jdGlvbihyYXRpbywgZWxlbWVudCkge1xuXHQgICAgICAgICAgZWxlbWVudC5zdHlsZVt0cmFuc2Zvcm1Qcm9wZXJ0eV0gPSAnc2NhbGUoJyArIHJhdGlvICsgJyknO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICBzY2FsZUFsbCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciB4U2NhbGUgPSBwYXJlbnQub2Zmc2V0V2lkdGggLyBzbGlkZVdpZHRoLFxuXHQgICAgICAgICAgeVNjYWxlID0gcGFyZW50Lm9mZnNldEhlaWdodCAvIHNsaWRlSGVpZ2h0O1xuXHRcblx0ICAgICAgICBlbGVtZW50cy5mb3JFYWNoKHNjYWxlLmJpbmQobnVsbCwgTWF0aC5taW4oeFNjYWxlLCB5U2NhbGUpKSk7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNjYWxlQWxsKTtcblx0ICAgIHNjYWxlQWxsKCk7XG5cdCAgfTtcblx0XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGFjdGl2YXRlU2xpZGUgPSBmdW5jdGlvbihpbmRleCkge1xuXHQgICAgICB2YXIgaW5kZXhUb0FjdGl2YXRlID0gLTEgPCBpbmRleCAmJiBpbmRleCA8IGRlY2suc2xpZGVzLmxlbmd0aCA/IGluZGV4IDogMDtcblx0ICAgICAgaWYgKGluZGV4VG9BY3RpdmF0ZSAhPT0gZGVjay5zbGlkZSgpKSB7XG5cdCAgICAgICAgZGVjay5zbGlkZShpbmRleFRvQWN0aXZhdGUpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBwYXJzZUhhc2ggPSBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSxcblx0ICAgICAgICBzbGlkZU51bWJlck9yTmFtZSA9IHBhcnNlSW50KGhhc2gsIDEwKTtcblx0XG5cdCAgICAgIGlmIChoYXNoKSB7XG5cdCAgICAgICAgaWYgKHNsaWRlTnVtYmVyT3JOYW1lKSB7XG5cdCAgICAgICAgICBhY3RpdmF0ZVNsaWRlKHNsaWRlTnVtYmVyT3JOYW1lIC0gMSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRlY2suc2xpZGVzLmZvckVhY2goZnVuY3Rpb24oc2xpZGUsIGkpIHtcblx0ICAgICAgICAgICAgaWYgKHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWhhc2gnKSA9PT0gaGFzaCB8fCBzbGlkZS5pZCA9PT0gaGFzaCkge1xuXHQgICAgICAgICAgICAgIGFjdGl2YXRlU2xpZGUoaSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICBwYXJzZUhhc2goKTtcblx0XG5cdCAgICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuXHQgICAgICAgIHZhciBzbGlkZU5hbWUgPSBlLnNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWhhc2gnKSB8fCBlLnNsaWRlLmlkO1xuXHQgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gc2xpZGVOYW1lIHx8IGUuaW5kZXggKyAxO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgcGFyc2VIYXNoKTtcblx0ICAgIH0sIDApO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoZGVjaykge1xuXHQgICAgdmFyIHByb2dyZXNzUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG5cdCAgICAgIHByb2dyZXNzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG5cdCAgICAgIHByb3AgPSBvcHRpb25zID09PSAndmVydGljYWwnID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXHRcblx0ICAgIHByb2dyZXNzUGFyZW50LmNsYXNzTmFtZSA9ICdiZXNwb2tlLXByb2dyZXNzLXBhcmVudCc7XG5cdCAgICBwcm9ncmVzc0Jhci5jbGFzc05hbWUgPSAnYmVzcG9rZS1wcm9ncmVzcy1iYXInO1xuXHQgICAgcHJvZ3Jlc3NQYXJlbnQuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCYXIpO1xuXHQgICAgZGVjay5wYXJlbnQuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NQYXJlbnQpO1xuXHRcblx0ICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuXHQgICAgICBwcm9ncmVzc0Jhci5zdHlsZVtwcm9wXSA9IChlLmluZGV4ICogMTAwIC8gKGRlY2suc2xpZGVzLmxlbmd0aCAtIDEpKSArICclJztcblx0ICAgIH0pO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qZ2xvYmFsIG1vZHVsZTp0cnVlLCByZXF1aXJlOnRydWUgKi9cblx0XG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIHBsdWdpbk5hbWUgPSBcImluZGV4ZmluZ2VyXCIsXG5cdCAgICAvLyBIYWNrIHRvIGdldCBhcm91bmQgaGF2aW5nIHRvIHdyaXRlIGFsbCBicm93c2VyIGNvZGUgd2l0aCByZXF1aXJlKCkuXG5cdCAgICBicm93c2VyR2xvYmFsID0gKGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG5cdCAgICB9KEZ1bmN0aW9uKSksXG5cdCAgICBjb252ZW5pZW50ID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuY29udmVuaWVudCkgfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxMikpLFxuXHQgICAgY3YgPSBjb252ZW5pZW50LmJ1aWxkZXIocGx1Z2luTmFtZSksXG5cdFxuXHQgICAgcGx1Z2luID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgICAgIHZhciBkZWNrZXIgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBjdkJvdW5kVG9EZWNrID0gY3YuYWN0aXZhdGVEZWNrKGRlY2spLFxuXHRcblx0ICAgICAgICAgICAgICAgIG9mZiA9IHt9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlID0gbnVsbCxcblx0XG5cdCAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gLTEsXG5cdFxuXHQgICAgICAgICAgICAgICAgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcblx0ICAgICAgICAgICAgICAgICAgICBlbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb2ZmLnNhdmVBY3RpdmVTbGlkZSA9IHRoaXMub24oXCJhY3RpdmF0ZVwiLCB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5zYXZlQWN0aXZlU2xpZGUuYmluZCh0aGlzKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgc2F2ZUFjdGl2ZVNsaWRlOiBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlID0gZS5zbGlkZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IGUuaW5kZXg7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgZ2V0QWN0aXZlU2xpZGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGU7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgZ2V0QWN0aXZlU2xpZGVJbmRleDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTbGlkZUluZGV4O1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suZ2V0QWN0aXZlU2xpZGUgPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZS5iaW5kKGRlY2spO1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suZ2V0QWN0aXZlU2xpZGVJbmRleCA9IHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLmdldEFjdGl2ZVNsaWRlSW5kZXguYmluZChkZWNrKTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgZW5hYmxlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuZW5hYmxlQWN0aXZlU2xpZGVMaXN0ZW5lci5jYWxsKGRlY2spO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuXHQgICAgICAgICAgICAgICAgICAgIGVuYWJsZSgpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIGluaXQoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICByZXR1cm4gZGVja2VyO1xuXHQgICAgfTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgY29uc29sZTp0cnVlICovXG5cdFxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBwbHVnaW5OYW1lID0gXCJjb252ZW5pZW50XCIsXG5cdCAgICBicm93c2VyR2xvYmFsID0gKGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG5cdCAgICB9KEZ1bmN0aW9uKSksXG5cdFxuXHQgICAgY3YsXG5cdFxuXHQgICAgLy8gVGhlIGRlZmF1bHRzIG9iamVjdCBpcyBwYXNzZWQgYXMgYSByZWZlcmVuY2UsIGFuZCBjYW4gYmUgbW9kaWZpZWQgYnkgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50SW5pdFxuXHQgICAgZGVmYXVsdHMgPSB7XG5cdCAgICAgICAgbG9nZ2VyOiB7XG5cdCAgICAgICAgICAgIGxvZzogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBwaGFudG9tLXBvbHlmaWxsLmpzIHByb2JsZW1zIGJpbmRpbmcgY29uc29sZS5sb2cgKHdpbmRvdy5jb25zb2xlLmxvZylcblx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXHRcblx0ICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcblx0ICAgICAgICBtZXJnZWQubG9nZ2VyID0ge307XG5cdCAgICAgICAgbWVyZ2VkLmxvZ2dlci5sb2cgPSAoYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucyAmJiBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlciAmJiBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cpIHx8IGRlZmF1bHRzLmxvZ2dlci5sb2c7XG5cdFxuXHQgICAgICAgIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMgPSBtZXJnZWQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHBsdWdpbiA9IHt9LFxuXHRcblx0ICAgIGRlY2tzU3RvcmFnZXMgPSBbXSxcblx0XG5cdCAgICBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICBpZiAoIWRlY2spIHtcblx0ICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBkZWNrQWxyZWFkeVN0b3JlZCA9IGRlY2tzU3RvcmFnZXMuc29tZShmdW5jdGlvbihkZWNrU3RvcmFnZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZGVja1N0b3JhZ2UuZGVjayA9PT0gZGVjaztcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRlY2tBbHJlYWR5U3RvcmVkO1xuXHQgICAgfSxcblx0XG5cdCAgICBzdG9yZURlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgdmFyIGRlY2tBbHJlYWR5U3RvcmVkID0gaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2soZGVjayk7XG5cdFxuXHQgICAgICAgIGlmICghZGVja0FscmVhZHlTdG9yZWQpIHtcblx0ICAgICAgICAgICAgZGVja3NTdG9yYWdlcy5wdXNoKHtcblx0ICAgICAgICAgICAgICAgIGRlY2s6IGRlY2ssXG5cdCAgICAgICAgICAgICAgICBzdG9yYWdlOiB7fVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuXHQgICAgICAgIGlmICghcGx1Z2luTmFtZSkge1xuXHQgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCFkZWNrKSB7XG5cdCAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKSxcblx0ICAgICAgICAgICAgaXNTdG9yYWdlSW5pdGlhdGVkID0gISEoc3RvcmFnZSAmJiBzdG9yYWdlW3BsdWdpbk5hbWVdKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGlzU3RvcmFnZUluaXRpYXRlZDtcblx0ICAgIH0sXG5cdFxuXHQgICAgaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZSA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcblx0ICAgICAgICBpZiAoIXBsdWdpbk5hbWUpIHtcblx0ICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICghZGVjaykge1xuXHQgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayk7XG5cdFxuXHQgICAgICAgIGlmICghc3RvcmFnZSkge1xuXHQgICAgICAgICAgICBzdG9yZURlY2soZGVjayk7XG5cdCAgICAgICAgICAgIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBzdG9yYWdlW3BsdWdpbk5hbWVdID0ge307XG5cdCAgICB9LFxuXHRcblx0ICAgIGlzTnVtYmVyID0gZnVuY3Rpb24obikge1xuXHQgICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgwODIvdmFsaWRhdGUtbnVtYmVycy1pbi1qYXZhc2NyaXB0LWlzbnVtZXJpY1xuXHQgICAgICAgIC8vIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTgzMDg0NFxuXHQgICAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG5cdCAgICB9LFxuXHRcblx0ICAgIGluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpbml0T3B0aW9ucygpO1xuXHQgICAgfTtcblx0XG5cdC8vIEZvciBwbHVnaW5zIHRoZW1zZWx2ZXNcblx0cGx1Z2luLmJ1aWxkZXIgPSBmdW5jdGlvbiBzZWxmKG9wdGlvbnMpIHtcblx0ICAgIGlmICghb3B0aW9ucykge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgcGx1Z2luIG9wdGlvbnMgd2VyZSBub3QgcHJvcGVybHkgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG5cdCAgICAgICAgb3B0aW9ucyA9IHtcblx0ICAgICAgICAgICAgcGx1Z2luTmFtZTogb3B0aW9uc1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBvcHRpb25zLnBsdWdpbk5hbWUgIT09IFwic3RyaW5nXCIpIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlIHBsdWdpbiBuYW1lIHdhcyBub3QgcHJvcGVybHkgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGV4dGVybmFsID0ge30sXG5cdFxuXHQgICAgICAgIHRhZyA9IFwiYmVzcG9rZS5cIiArIG9wdGlvbnMucGx1Z2luTmFtZSxcblx0XG5cdCAgICAgICAgZ2VuZXJhdGVFcnJvck9iamVjdCA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcih0YWcgKyBcIjogXCIgKyBtZXNzYWdlKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBldmVudE5hbWVzcGFjZSA9IG9wdGlvbnMucGx1Z2luTmFtZSxcblx0XG5cdCAgICAgICAgZXZlbnRJbk5hbWVzcGFjZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZXZlbnROYW1lc3BhY2UgKyBcIi5cIiArIGV2ZW50TmFtZTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuXHQgICAgICAgIC8vIE1pbWljaW5nLCBhbmQgZXh0ZW5kaW5nLHRoZSBpbnRlcm5hbCBjcmVhdGVFdmVudERhdGEgYmVzcG9rZSB1c2VzXG5cdCAgICAgICAgY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZGVjaywgZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSkge1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcGx1Z2luLmNyZWF0ZUV2ZW50RGF0YS5jYWxsKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICAvLyBUT0RPOiBjcmVhdGUgYSBzZWNvbmQgb2JqZWN0IGJvdW5kIHRvIGJvdGggdGhpcyBleHRlcm5hbCBvYmplY3QgYW5kIHRoZSBkZWNrLFxuXHQgICAgICAgIC8vIHRvIGF2b2lkIHBhc3NpbmcgdGhlIGRlY2sgcGFyYW1ldGVyIGV2ZXJ5IHRpbWUuIChXaGljaCBjYW4gYmUgYWxsZXZpYXRlZCB3aXRoIHNpbXBsZXIgZnVuY3Rpb24gYmluZGluZyB0aG91Z2guKVxuXHQgICAgICAgIGZpcmUgPSBmdW5jdGlvbihkZWNrLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBjdXN0b21EYXRhKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBkZWNrLmZpcmUoZXZlbnRJbk5hbWVzcGFjZShldmVudE5hbWUpLCBjcmVhdGVFdmVudERhdGEoZGVjaywgZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGN1c3RvbURhdGEpKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBsb2cgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdmFyIHByZWZpeGVzID0gW3RhZ107XG5cdFxuXHQgICAgICAgICAgICAvLyBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cgaXMgZHluYW1pYywgc28gY2FuJ3QgYmluZCBkaXJlY3RseSB0byBpdFxuXHQgICAgICAgICAgICBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cuYXBwbHkoYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nLCBwcmVmaXhlcy5jb25jYXQocGx1Z2luLmNvcHlBcnJheShhcmd1bWVudHMpKSk7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgdGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgICAgICB2YXIgaXNTdG9yYWdlSW5pdGlhdGVkID0gaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2tBbmRQbHVnaW4ob3B0aW9ucy5wbHVnaW5OYW1lLCBkZWNrKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VJbml0aWF0ZWQpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgJ1wiICsgb3B0aW9ucy5wbHVnaW5OYW1lICsgXCInIHBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFjdGl2YXRlZCBmb3IgdGhpcyBkZWNrLCBjYW4ndCBhY3RpdmF0ZSBpdCB0d2ljZS5cIik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBiaW5kVG9EZWNrID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgICAgICB2YXIgZGVja0JvdW5kID0ge307XG5cdFxuXHQgICAgICAgICAgICBkZWNrQm91bmQuY3JlYXRlRXZlbnREYXRhID0gZXh0ZXJuYWwuY3JlYXRlRXZlbnREYXRhLmJpbmQodGhpcywgZGVjayk7XG5cdCAgICAgICAgICAgIGRlY2tCb3VuZC5maXJlID0gZXh0ZXJuYWwuZmlyZS5iaW5kKHRoaXMsIGRlY2spO1xuXHQgICAgICAgICAgICBkZWNrQm91bmQuZ2V0U3RvcmFnZSA9IGV4dGVybmFsLmdldFN0b3JhZ2UuYmluZCh0aGlzLCBkZWNrKTtcblx0ICAgICAgICAgICAgZGVja0JvdW5kLmxvZyA9IGV4dGVybmFsLmxvZy5iaW5kKHRoaXMsIGRlY2spO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIGRlY2tCb3VuZDtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBhY3RpdmF0ZURlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBkZWNrQm91bmQ7XG5cdFxuXHQgICAgICAgICAgICB0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2soZGVjayk7XG5cdCAgICAgICAgICAgIGluaXRpYXRlRGVja1BsdWdpblN0b3JhZ2Uob3B0aW9ucy5wbHVnaW5OYW1lLCBkZWNrKTtcblx0XG5cdCAgICAgICAgICAgIGRlY2tCb3VuZCA9IGJpbmRUb0RlY2soZGVjayk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gZGVja0JvdW5kO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGJpbmRFeHRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBleHRlcm5hbC5jcmVhdGVFdmVudERhdGEgPSBjcmVhdGVFdmVudERhdGEuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwuZ2VuZXJhdGVFcnJvck9iamVjdCA9IGdlbmVyYXRlRXJyb3JPYmplY3QuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwuZmlyZSA9IGZpcmUuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwubG9nID0gbG9nLmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmFjdGl2YXRlRGVjayA9IGFjdGl2YXRlRGVjay5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICBleHRlcm5hbC5nZXRTdG9yYWdlID0gcGx1Z2luLmdldERlY2tQbHVnaW5TdG9yYWdlLmJpbmQodGhpcywgb3B0aW9ucy5wbHVnaW5OYW1lKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGJpbmRFeHRlcm5hbCgpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgaW5pdCgpO1xuXHRcblx0ICAgIHJldHVybiBleHRlcm5hbDtcblx0fTtcblx0XG5cdHBsdWdpbi5nZXREZWNrU3RvcmFnZSA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIGlmICghZGVjaykge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHN0b3JhZ2UgPSBudWxsO1xuXHRcblx0ICAgIGRlY2tzU3RvcmFnZXMuc29tZShmdW5jdGlvbihkZWNrU3RvcmFnZSkge1xuXHQgICAgICAgIGlmIChkZWNrU3RvcmFnZS5kZWNrID09PSBkZWNrKSB7XG5cdCAgICAgICAgICAgIHN0b3JhZ2UgPSBkZWNrU3RvcmFnZS5zdG9yYWdlO1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiBzdG9yYWdlO1xuXHR9O1xuXHRcblx0cGx1Z2luLmdldERlY2tQbHVnaW5TdG9yYWdlID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuXHQgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWRlY2spIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXHRcblx0ICAgIGlmICghc3RvcmFnZSkge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJzdG9yYWdlIHdhcyBub3QgaW5pdGlhdGVkIGZvciB0aGlzIGRlY2suXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBzdG9yYWdlW3BsdWdpbk5hbWVdO1xuXHR9O1xuXHRcblx0Ly8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcblx0Ly8gTWltaWNpbmcsIGFuZCBleHRlbmRpbmcsdGhlIGludGVybmFsIGNyZWF0ZUV2ZW50RGF0YSBiZXNwb2tlIHVzZXNcblx0cGx1Z2luLmNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpIHtcblx0ICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCB7fTtcblx0XG5cdCAgICBldmVudERhdGEuZXZlbnROYW1lc3BhY2UgPSBldmVudE5hbWVzcGFjZSB8fCBudWxsO1xuXHRcblx0ICAgIGV2ZW50RGF0YS5ldmVudE5hbWUgPSBldmVudE5hbWUgfHwgbnVsbDtcblx0XG5cdCAgICAvLyBDYW4gYmUgZWl0aGVyIGEgRE9NL2Jyb3dzZXIgZXZlbnQgb3IgYSBiZXNwb2tlIGV2ZW50XG5cdCAgICBldmVudERhdGEuaW5uZXJFdmVudCA9IGlubmVyRXZlbnQgfHwgbnVsbDtcblx0XG5cdCAgICBpZiAoaXNOdW1iZXIoc2xpZGUpKSB7XG5cdCAgICAgICAgZXZlbnREYXRhLmluZGV4ID0gc2xpZGU7XG5cdCAgICAgICAgZXZlbnREYXRhLnNsaWRlID0gdGhpcy5zbGlkZXNbc2xpZGVdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBldmVudERhdGEuaW5kZXggPSB0aGlzLnNsaWRlcy5pbmRleE9mKHNsaWRlKTtcblx0ICAgICAgICBldmVudERhdGEuc2xpZGUgPSBzbGlkZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZXZlbnREYXRhO1xuXHR9O1xuXHRcblx0cGx1Z2luLmNvcHlBcnJheSA9IGZ1bmN0aW9uKGFycikge1xuXHQgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoYXJyLCAwKTtcblx0fTtcblx0XG5cdGN2ID0gcGx1Z2luLmJ1aWxkZXIocGx1Z2luTmFtZSk7XG5cdFxuXHRpbml0KCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LypnbG9iYWwgbW9kdWxlOnRydWUsIHJlcXVpcmU6dHJ1ZSwgd2luZG93OnRydWUsIGRvY3VtZW50OnRydWUsIE1hdGg6dHJ1ZSAqL1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgcGx1Z2luTmFtZSA9IFwic2Vjb25kYXJ5XCIsXG5cdCAgICAvLyBIYWNrIHRvIGdldCBhcm91bmQgaGF2aW5nIHRvIHdyaXRlIGFsbCBicm93c2VyIGNvZGUgd2l0aCByZXF1aXJlKCkuXG5cdCAgICBicm93c2VyR2xvYmFsID0gKGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG5cdCAgICB9KEZ1bmN0aW9uKSksXG5cdCAgICBjb252ZW5pZW50ID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuY29udmVuaWVudCkgfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxMikpLFxuXHQgICAgY3YgPSBjb252ZW5pZW50LmJ1aWxkZXIocGx1Z2luTmFtZSksXG5cdFxuXHQgICAgLy8gTWFraW5nIHN1cmUgaW5kZXhmaW5nZXIgaXMgYXZhaWxhYmxlLlxuXHQgICAgLy8gVE9ETzogY2hlY2sgdGhhdCBpbmRleGZpbmdlciBoYXMgYmVlbiBsb2FkZWQ7IG1heWJlIGNoZWNraW5nIGZvciBkZWNrLmdldEFjdGl2ZVNsaWRlKCkuXG5cdCAgICBpbmRleGZpbmdlciA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmluZGV4ZmluZ2VyKSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSksXG5cdFxuXHQgICAgS2V5Q29uc3RhbnRzID0ge1xuXHQgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50I1ZpcnR1YWxfa2V5X2NvZGVzXG5cdCAgICAgICAgUzogMHg1MywgLy8gKDgzKSBcIlNcIiBrZXkuXG5cdCAgICB9LFxuXHRcblx0ICAgIGRlZmF1bHRzID0ge1xuXHQgICAgICAgIG5vdGVzOiBcImFzaWRlXCIsXG5cdCAgICAgICAga2V5czoge1xuXHQgICAgICAgICAgICB0b2dnbGU6IEtleUNvbnN0YW50cy5TXG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICByYW5kb21JbnRlZ2VyID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcblx0ICAgICAgICAvLyBUT0RPOiBsb29rIGZvciBzb21lb25lIGVsc2UncyBpbXBsZW1lbnRhdGlvbiAtIHRoZXkndmUgcHJvYmFibHkgY292ZXJlZCBhbGwgdGhlIGNvcm5lciBjYXNlcy5cblx0ICAgICAgICAvLyBUaGlzIHNob3VsZCBkbyBmb3IgMCA8PSBmcm9tIDwgdG8gPCAocmFuZG9tJ3MgcmVzb2x1dGlvbikgdGhvdWdoLlxuXHQgICAgICAgIHZhciBkaWZmLFxuXHQgICAgICAgICAgICBybmQ7XG5cdFxuXHQgICAgICAgIGlmICh0byA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHRvID0gZnJvbTtcblx0ICAgICAgICAgICAgZnJvbSA9IDA7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBkaWZmID0gdG8gLSBmcm9tO1xuXHRcblx0ICAgICAgICBybmQgPSBmcm9tICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGlmZik7XG5cdFxuXHQgICAgICAgIHJldHVybiBybmQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIGJhc2VXaW5kb3dOYW1lID0gcGx1Z2luTmFtZSArIFwiLXdpbmRvdy1cIixcblx0XG5cdCAgICBnZW5lcmF0ZVdpbmRvd05hbWUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcm5kID0gcmFuZG9tSW50ZWdlcigxMDAwLCAxMDAwMCksXG5cdCAgICAgICAgICAgIHdpbmRvd05hbWUgPSBiYXNlV2luZG93TmFtZSArIHJuZDtcblx0XG5cdCAgICAgICAgcmV0dXJuIHdpbmRvd05hbWU7XG5cdCAgICB9LFxuXHRcblx0ICAgIGluaXRpYWxpemVTZWNvbmRhcnlXaW5kb3dDb250ZW50cyA9IGZ1bmN0aW9uKGRvYykge1xuXHQgICAgICAgIGRvYy5ib2R5LmlubmVySFRNTCA9IFwiPGgxPk5vdGVzPC9oMT48ZGl2IGlkPSdub3Rlcyc+PC9kaXY+XCI7XG5cdCAgICB9LFxuXHRcblx0ICAgIHBsdWdpbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgZGVja2VyID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgICAgICB2YXIgY3ZCb3VuZFRvRGVjayA9IGN2LmFjdGl2YXRlRGVjayhkZWNrKSxcblx0XG5cdCAgICAgICAgICAgICAgICBvZmYgPSB7fSxcblx0XG5cdCAgICAgICAgICAgICAgICB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcblx0ICAgICAgICAgICAgICAgICAgICBnZXROb3Rlc0VsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkud2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudCAmJiB0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3Rlc1wiKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBpc09wZW46IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHRoaXMuc2Vjb25kYXJ5LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdyA9IHMud2luZG93LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXNJbml0aWFsaXplZCwgaXNOb3ROdWxsLCBpc05vdENsb3NlZCwgaXNPd25lZEJ5VGhpc1dpbmRvdywgY29udGFpbnNOb3Rlc0VsZW1lbnRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICEhKHMgIT09IHVuZGVmaW5lZCAmJiB3ICE9PSBudWxsICYmIHcuY2xvc2VkICE9PSB0cnVlICYmIHcub3BlbmVyID09PSB3aW5kb3cgJiYgdGhpcy5zZWNvbmRhcnkuZ2V0Tm90ZXNFbGVtZW50KCkgIT09IG51bGwpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBvcGVuOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93ID0gd2luZG93Lm9wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVTZWNvbmRhcnlXaW5kb3dDb250ZW50cyh0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5jbG9zZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGZvY3VzOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cuZm9jdXMoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkuY2xvc2UoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5Lm9wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIHN5bmNocm9uaXplOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlTm90ZXMsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOb3Rlcztcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZSA9IHRoaXMuZ2V0QWN0aXZlU2xpZGUoKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlTm90ZXMgPSBjb252ZW5pZW50LmNvcHlBcnJheShzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMubm90ZXMpKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGFsbE5vdGVzID0gc2xpZGVOb3Rlcy5yZWR1Y2UoZnVuY3Rpb24obm90ZXNIdG1sLCBzbGlkZU5vdGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3Rlc0h0bWwgKyBzbGlkZU5vdGUub3V0ZXJIVE1MO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9LCBcIlwiKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gYWxsTm90ZXM7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVjay5zZWNvbmRhcnkgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdzogbnVsbCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5V2luZG93TmFtZTogZ2VuZXJhdGVXaW5kb3dOYW1lKCksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGdldE5vdGVzRWxlbWVudDogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmdldE5vdGVzRWxlbWVudC5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW46IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5pc09wZW4uYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLm9wZW4uYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2U6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5jbG9zZS5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmZvY3VzLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLnRvZ2dsZS5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzeW5jaHJvbml6ZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLnN5bmNocm9uaXplLmJpbmQoZGVjaylcblx0ICAgICAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBpbml0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG1lcmdlIGZ1bmN0aW9uP1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgbWVyZ2Uga25vd24gb3B0aW9uc1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBtZXJnZWQgPSB7fTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzID0ge307XG5cdCAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLmtleXMudG9nZ2xlID0gKG9wdGlvbnMua2V5cyAmJiBvcHRpb25zLmtleXMudG9nZ2xlKSB8fCBkZWZhdWx0cy5rZXlzLnRvZ2dsZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLm5vdGVzID0gb3B0aW9ucy5ub3RlcyB8fCBkZWZhdWx0cy5ub3Rlcztcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IG1lcmdlZDtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAga2V5RG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBldmVudEhhbmRsZWQgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gTm8gbW9kaWZpZXIga2V5cywgcGxlYXNlXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFlLmFsdEtleSAmJiAhZS5jdHJsS2V5ICYmICFlLm1ldGFLZXkgJiYgIWUuc2hpZnRLZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRIYW5kbGVkID0gZXZlbnRIYW5kbGVkIHx8IChlLndoaWNoID09PSBvcHRpb25zLmtleXMudG9nZ2xlICYmIGN2Qm91bmRUb0RlY2suZmlyZShcInRvZ2dsZVwiLCBlKSAmJiBkZWNrLnNlY29uZGFyeS50b2dnbGUoKSAmJiBkZWNrLnNlY29uZGFyeS5zeW5jaHJvbml6ZSgpKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEhhbmRsZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFldmVudEhhbmRsZWQ7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIG9uQmVmb3JlVW5sb2FkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVjay5zZWNvbmRhcnkuY2xvc2UoKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIG9uQWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeS5zeW5jaHJvbml6ZSgpO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBlbmFibGUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciBkb2Vzbid0IHNlZW0gdG8gd29yayBmb3Igb25iZWZvcmV1bmxvYWRcblx0ICAgICAgICAgICAgICAgICAgICB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBvbkJlZm9yZVVubG9hZDtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5RG93bkxpc3RlbmVyLCBmYWxzZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgb2ZmLmFjdGl2YXRlID0gZGVjay5vbihcImFjdGl2YXRlXCIsIG9uQWN0aXZhdGUpO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaW5pdE9wdGlvbnMoKTtcblx0ICAgICAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgZW5hYmxlKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgaW5pdCgpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHJldHVybiBkZWNrZXI7XG5cdCAgICB9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBwbHVnaW47XG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IFRlcm1pbmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcblx0Y29uc3QgcGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNilcblx0Y29uc3QgYm9vdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0XG5cdGNvbnN0IGNvbW1hbmRzID0ge1xuXHQgIGxzOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSxcblx0ICBwd2Q6IF9fd2VicGFja19yZXF1aXJlX18oMzMpLFxuXHQgIG1rZGlyOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KSxcblx0ICB0b3VjaDogX193ZWJwYWNrX3JlcXVpcmVfXygzNSksXG5cdCAgY2F0OiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSxcblx0ICBjZDogX193ZWJwYWNrX3JlcXVpcmVfXygzNyksXG5cdCAgcm06IF9fd2VicGFja19yZXF1aXJlX18oMzgpLFxuXHQgIGNsZWFyOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KSxcblx0ICB0aGVtZTogX193ZWJwYWNrX3JlcXVpcmVfXyg0MCksXG5cdCAgdmVyc2lvbjogX193ZWJwYWNrX3JlcXVpcmVfXyg0MSksXG5cdFxuXHQgIG5wbTogX193ZWJwYWNrX3JlcXVpcmVfXyg0MiksXG5cdCAgJ2lwZnMtbnBtJzogX193ZWJwYWNrX3JlcXVpcmVfXyg0NSlcblx0fVxuXHRcblx0Y29tbWFuZHMuaGVscCA9IHtcblx0ICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuXHQgICAgcmV0dXJuIGBDb21tYW5kczogJHtPYmplY3Qua2V5cyhjb21tYW5kcykuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKX08YnI+TW9yZSBoZWxwIGF2YWlsYWJsZSA8YSBjbGFzcz1cImV4dGVybmFsXCIgaHJlZj1cImh0dHA6Ly9naXRodWIuY29tL3Nhc2Fkam9saWMvZG9tLXRlcm1pbmFsXCIgdGFyZ2V0PVwiX2JsYW5rXCI+aGVyZTwvYT5gXG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IChkZWNrKSA9PiB7XG5cdCAgdHJ5IHtcblx0ICAgIGNvbnN0IHRlcm1pbmFsID0gbmV3IFRlcm1pbmFsKCd0ZXJtaW5hbCcsIHt9LCB7XG5cdCAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKGNtZCwgYXJncykge1xuXHQgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBjb21tYW5kc1tjbWRdXG5cdFxuXHQgICAgICAgIGlmICghY29tbWFuZCkge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgYXJncyA9IHBhcnNlcihhcmdzLCBjb21tYW5kLmFyZ3MpXG5cdFxuXHQgICAgICAgICAgbGV0IG91dHB1dCA9IGNvbW1hbmQuaGFuZGxlcih0ZXJtaW5hbCwgYXJncylcblx0XG5cdCAgICAgICAgICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQgfHwgb3V0cHV0ID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCA9ICcnXG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgaWYgKHR5cGVvZiBvdXRwdXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC9cXHQvZywgJycpXG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgcmV0dXJuIG91dHB1dFxuXHQgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG5cdCAgICAgICAgICByZXR1cm4gZXJyLm1lc3NhZ2Vcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdFxuXHQgICAgYm9vdCgpXG5cdFxuXHQgICAgdGVybWluYWwuc2V0UHJvbXB0KGZzLnB3ZCgpLnNwbGl0KCcvJykucG9wKCkgKyAnICcpXG5cdCAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICBjb25zb2xlLmVycm9yKGVycilcblx0ICB9XG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0KGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuXHRcblx0XHR2YXIgVGVybWluYWwgPSBUZXJtaW5hbCB8fCBmdW5jdGlvbihjb250YWluZXJJRCwgb3B0aW9ucykge1xuXHRcdFx0aWYgKCFjb250YWluZXJJRCkgcmV0dXJuO1xuXHRcblx0XHRcdHZhciBkZWZhdWx0cyA9IHtcblx0XHRcdFx0d2VsY29tZTogJycsXG5cdFx0XHRcdHByb21wdDogJycsXG5cdFx0XHRcdHNlcGFyYXRvcjogJyZndDsnLFxuXHRcdFx0XHR0aGVtZTogJ2ludGVybGFjZWQnXG5cdFx0XHR9O1xuXHRcblx0XHRcdHZhciBvcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cztcblx0XHRcdG9wdGlvbnMud2VsY29tZSA9IG9wdGlvbnMud2VsY29tZSB8fCBkZWZhdWx0cy53ZWxjb21lO1xuXHRcdFx0b3B0aW9ucy5wcm9tcHQgPSBvcHRpb25zLnByb21wdCB8fCBkZWZhdWx0cy5wcm9tcHQ7XG5cdFx0XHRvcHRpb25zLnNlcGFyYXRvciA9IG9wdGlvbnMuc2VwYXJhdG9yIHx8IGRlZmF1bHRzLnNlcGFyYXRvcjtcblx0XHRcdG9wdGlvbnMudGhlbWUgPSBvcHRpb25zLnRoZW1lIHx8IGRlZmF1bHRzLnRoZW1lO1xuXHRcblx0XHRcdHZhciBleHRlbnNpb25zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcblx0XG5cdFx0XHR2YXIgX2hpc3RvcnkgPSBsb2NhbFN0b3JhZ2UuaGlzdG9yeSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmhpc3RvcnkpIDogW107XG5cdFx0XHR2YXIgX2hpc3Rwb3MgPSBfaGlzdG9yeS5sZW5ndGg7XG5cdFx0XHR2YXIgX2hpc3R0ZW1wID0gJyc7XG5cdFxuXHRcdFx0Ly8gQ3JlYXRlIHRlcm1pbmFsIGFuZCBjYWNoZSBET00gbm9kZXM7XG5cdFx0XHR2YXIgX3Rlcm1pbmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySUQpO1xuXHRcdFx0X3Rlcm1pbmFsLmNsYXNzTGlzdC5hZGQoJ3Rlcm1pbmFsJyk7XG5cdFx0XHRfdGVybWluYWwuY2xhc3NMaXN0LmFkZCgndGVybWluYWwtJyArIG9wdGlvbnMudGhlbWUpO1xuXHRcdFx0X3Rlcm1pbmFsLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlRW5kJywgW1xuXHRcdFx0XHQnPGRpdiBjbGFzcz1cImJhY2tncm91bmRcIj48ZGl2IGNsYXNzPVwiaW50ZXJsYWNlXCI+PC9kaXY+PC9kaXY+Jyxcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJjb250YWluZXJcIj4nLFxuXHRcdFx0XHQnPG91dHB1dD48L291dHB1dD4nLFxuXHRcdFx0XHQnPHRhYmxlIGNsYXNzPVwiaW5wdXQtbGluZVwiPicsXG5cdFx0XHRcdCc8dHI+PHRkIG5vd3JhcD48ZGl2IGNsYXNzPVwicHJvbXB0XCI+JyArIG9wdGlvbnMucHJvbXB0ICsgb3B0aW9ucy5zZXBhcmF0b3IgKyAnPC9kaXY+PC90ZD48dGQgd2lkdGg9XCIxMDAlXCI+PGlucHV0IGNsYXNzPVwiY21kbGluZVwiIHNwZWxsY2hlY2s9XCJmYWxzZVwiIGF1dG9mb2N1cyAvPjwvdGQ+PC90cj4nLFxuXHRcdFx0XHQnPC90YWJsZT4nLFxuXHRcdFx0XHQnPC9kaXY+J10uam9pbignJykpO1xuXHRcdFx0dmFyIF9jb250YWluZXIgPSBfdGVybWluYWwucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpO1xuXHRcdFx0dmFyIF9pbnB1dExpbmUgPSBfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1saW5lJyk7XG5cdFx0XHR2YXIgX2NtZExpbmUgPSBfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1saW5lIC5jbWRsaW5lJyk7XG5cdFx0XHR2YXIgX291dHB1dCA9IF9jb250YWluZXIucXVlcnlTZWxlY3Rvcignb3V0cHV0Jyk7XG5cdFx0XHR2YXIgX3Byb21wdCA9IF9jb250YWluZXIucXVlcnlTZWxlY3RvcignLnByb21wdCcpO1xuXHRcdFx0dmFyIF9iYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tncm91bmQnKTtcblx0XG5cdFx0XHQvLyBIYWNrZXJ5IHRvIHJlc2l6ZSB0aGUgaW50ZXJsYWNlIGJhY2tncm91bmQgaW1hZ2UgYXMgdGhlIGNvbnRhaW5lciBncm93cy5cblx0XHRcdF9vdXRwdXQuYWRkRXZlbnRMaXN0ZW5lcignRE9NU3VidHJlZU1vZGlmaWVkJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHQvLyBXb3JrcyBiZXN0IHdpdGggdGhlIHNjcm9sbCBpbnRvIHZpZXcgd3JhcHBlZCBpbiBhIHNldFRpbWVvdXQuXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0X2NtZExpbmUuc2Nyb2xsSW50b1ZpZXcoKTtcblx0XHRcdFx0fSwgMCk7XG5cdFx0XHR9LCBmYWxzZSk7XG5cdFxuXHRcdFx0aWYgKG9wdGlvbnMud2VsY29tZSkge1xuXHRcdFx0XHRvdXRwdXQob3B0aW9ucy53ZWxjb21lKTtcblx0XHRcdH1cblx0XG5cdFx0XHRfdGVybWluYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdF9jbWRMaW5lLmZvY3VzKCk7XG5cdFx0XHR9LCBmYWxzZSk7XG5cdFxuXHRcdFx0X291dHB1dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdH0sIGZhbHNlKTtcblx0XG5cdFx0XHQvLyBBbHdheXMgZm9yY2UgdGV4dCBjdXJzb3IgdG8gZW5kIG9mIGlucHV0IGxpbmUuXG5cdFx0XHRfY21kTGluZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGlucHV0VGV4dENsaWNrLCBmYWxzZSk7XG5cdFx0XHRfaW5wdXRMaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRfY21kTGluZS5mb2N1cygpO1xuXHRcdFx0fSwgZmFsc2UpO1xuXHRcblx0XHRcdC8vIEhhbmRsZSB1cC9kb3duIGtleSBwcmVzc2VzIGZvciBzaGVsbCBoaXN0b3J5IGFuZCBlbnRlciBmb3IgbmV3IGNvbW1hbmQuXG5cdFx0XHRfY21kTGluZS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhpc3RvcnlIYW5kbGVyLCBmYWxzZSk7XG5cdFx0XHRfY21kTGluZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcHJvY2Vzc05ld0NvbW1hbmQsIHRydWUpO1xuXHRcblx0XHRcdGZ1bmN0aW9uIGlucHV0VGV4dENsaWNrKGUpIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHRoaXMudmFsdWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gaGlzdG9yeUhhbmRsZXIoZSkge1xuXHRcdFx0XHQvLyBDbGVhciBjb21tYW5kLWxpbmUgb24gRXNjYXBlIGtleS5cblx0XHRcdFx0aWYgKGUua2V5Q29kZSA9PSAyNykge1xuXHRcdFx0XHRcdHRoaXMudmFsdWUgPSAnJztcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKF9oaXN0b3J5Lmxlbmd0aCAmJiAoZS5rZXlDb2RlID09IDM4IHx8IGUua2V5Q29kZSA9PSA0MCkpIHtcblx0XHRcdFx0XHRpZiAoX2hpc3RvcnlbX2hpc3Rwb3NdKSB7XG5cdFx0XHRcdFx0XHRfaGlzdG9yeVtfaGlzdHBvc10gPSB0aGlzLnZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdF9oaXN0dGVtcCA9IHRoaXMudmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRpZiAoZS5rZXlDb2RlID09IDM4KSB7XG5cdFx0XHRcdFx0XHQvLyBVcCBhcnJvdyBrZXkuXG5cdFx0XHRcdFx0XHRfaGlzdHBvcy0tO1xuXHRcdFx0XHRcdFx0aWYgKF9oaXN0cG9zIDwgMCkge1xuXHRcdFx0XHRcdFx0XHRfaGlzdHBvcyA9IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKGUua2V5Q29kZSA9PSA0MCkge1xuXHRcdFx0XHRcdFx0Ly8gRG93biBhcnJvdyBrZXkuXG5cdFx0XHRcdFx0XHRfaGlzdHBvcysrO1xuXHRcdFx0XHRcdFx0aWYgKF9oaXN0cG9zID4gX2hpc3RvcnkubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdF9oaXN0cG9zID0gX2hpc3RvcnkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0dGhpcy52YWx1ZSA9IF9oaXN0b3J5W19oaXN0cG9zXSA/IF9oaXN0b3J5W19oaXN0cG9zXSA6IF9oaXN0dGVtcDtcblx0XG5cdFx0XHRcdFx0Ly8gTW92ZSBjdXJzb3IgdG8gZW5kIG9mIGlucHV0LlxuXHRcdFx0XHRcdHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gcHJvY2Vzc05ld0NvbW1hbmQoZSkge1xuXHRcdFx0XHRpZiAoY21kTGluZUlzVmlzaWJsZSgpKSB7XG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gT25seSBoYW5kbGUgdGhlIEVudGVyIGtleS5cblx0XHRcdFx0aWYgKGUua2V5Q29kZSAhPSAxMykgcmV0dXJuO1xuXHRcblx0XHRcdFx0dmFyIGNtZGxpbmUgPSB0aGlzLnZhbHVlO1xuXHRcblx0XHRcdFx0Ly8gU2F2ZSBzaGVsbCBoaXN0b3J5LlxuXHRcdFx0XHRpZiAoY21kbGluZSkge1xuXHRcdFx0XHRcdF9oaXN0b3J5W19oaXN0b3J5Lmxlbmd0aF0gPSBjbWRsaW5lO1xuXHRcdFx0XHRcdGxvY2FsU3RvcmFnZVsnaGlzdG9yeSddID0gSlNPTi5zdHJpbmdpZnkoX2hpc3RvcnkpO1xuXHRcdFx0XHRcdF9oaXN0cG9zID0gX2hpc3RvcnkubGVuZ3RoO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBEdXBsaWNhdGUgY3VycmVudCBpbnB1dCBhbmQgYXBwZW5kIHRvIG91dHB1dCBzZWN0aW9uLlxuXHRcdFx0XHR2YXIgbGluZSA9IHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbG9uZU5vZGUodHJ1ZSk7XG5cdFx0XHRcdGxpbmUucmVtb3ZlQXR0cmlidXRlKCdpZCcpXG5cdFx0XHRcdGxpbmUuY2xhc3NMaXN0LmFkZCgnbGluZScpO1xuXHRcdFx0XHR2YXIgaW5wdXQgPSBsaW5lLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LmNtZGxpbmUnKTtcblx0XHRcdFx0aW5wdXQuYXV0b2ZvY3VzID0gZmFsc2U7XG5cdFx0XHRcdGlucHV0LnJlYWRPbmx5ID0gdHJ1ZTtcblx0XHRcdFx0aW5wdXQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGlucHV0LnZhbHVlKTtcblx0XHRcdFx0aW5wdXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpbnB1dCk7XG5cdFx0XHRcdF9vdXRwdXQuYXBwZW5kQ2hpbGQobGluZSk7XG5cdFxuXHRcdFx0XHQvLyBIaWRlIGNvbW1hbmQgbGluZSB1bnRpbCB3ZSdyZSBkb25lIHByb2Nlc3NpbmcgaW5wdXQuXG5cdFx0XHRcdF9pbnB1dExpbmUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cdFxuXHRcdFx0XHQvLyBDbGVhci9zZXR1cCBsaW5lIGZvciBuZXh0IGlucHV0LlxuXHRcdFx0XHR0aGlzLnZhbHVlID0gJyc7XG5cdFxuXHRcdFx0XHQvLyBQYXJzZSBvdXQgY29tbWFuZCwgYXJncywgYW5kIHRyaW0gb2ZmIHdoaXRlc3BhY2UuXG5cdFx0XHRcdGlmIChjbWRsaW5lICYmIGNtZGxpbmUudHJpbSgpKSB7XG5cdFx0XHRcdFx0dmFyIGFyZ3MgPSBjbWRsaW5lLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uKHZhbCwgaSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbDtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR2YXIgY21kID0gYXJnc1swXTtcblx0XHRcdFx0XHRhcmdzID0gYXJncy5zcGxpY2UoMSk7IC8vIFJlbW92ZSBjbWQgZnJvbSBhcmcgbGlzdC5cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKGNtZCkge1xuXHRcdFx0XHRcdHZhciByZXNwb25zZSA9IGZhbHNlO1xuXHRcdFx0XHRcdGZvciAodmFyIGluZGV4IGluIGV4dGVuc2lvbnMpIHtcblx0XHRcdFx0XHRcdHZhciBleHQgPSBleHRlbnNpb25zW2luZGV4XTtcblx0XHRcdFx0XHRcdGlmIChleHQuZXhlY3V0ZSkgcmVzcG9uc2UgPSBleHQuZXhlY3V0ZShjbWQsIGFyZ3MpO1xuXHRcdFx0XHRcdFx0aWYgKHJlc3BvbnNlICE9PSBmYWxzZSkgYnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChyZXNwb25zZSA9PT0gZmFsc2UpIHJlc3BvbnNlID0gY21kICsgJzogY29tbWFuZCBub3QgZm91bmQnO1xuXHRcdFx0XHRcdG91dHB1dChyZXNwb25zZSB8fCAnJyk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFNob3cgdGhlIGNvbW1hbmQgbGluZS5cblx0XHRcdFx0X2lucHV0TGluZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblx0XHRcdH1cblx0XG5cdFx0XHRmdW5jdGlvbiBjbGVhcigpIHtcblx0XHRcdFx0X291dHB1dC5pbm5lckhUTUwgPSAnJztcblx0XHRcdFx0X2NtZExpbmUudmFsdWUgPSAnJztcblx0XHRcdFx0X2JhY2tncm91bmQuc3R5bGUubWluSGVpZ2h0ID0gJyc7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gb3V0cHV0KGh0bWwpIHtcblx0XHRcdFx0X291dHB1dC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZUVuZCcsIGh0bWwpO1xuXHRcdFx0XHRfY21kTGluZS5zY3JvbGxJbnRvVmlldygpO1xuXHRcdFx0fVxuXHRcblx0XHRcdGZ1bmN0aW9uIGNtZExpbmVJc1Zpc2libGUgKCkge1xuXHRcdFx0XHRsZXQgcGFyZW50ID0gX2NtZExpbmUucGFyZW50RWxlbWVudFxuXHRcblx0XHRcdFx0d2hpbGUgKHBhcmVudCkge1xuXHRcdFx0XHRcdGlmICgocGFyZW50LmNsYXNzTmFtZSB8fCAnJykuaW5jbHVkZXMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGNsZWFyOiBjbGVhcixcblx0XHRcdFx0c2V0UHJvbXB0OiBmdW5jdGlvbihwcm9tcHQpIHsgX3Byb21wdC5pbm5lckhUTUwgPSBwcm9tcHQgKyBvcHRpb25zLnNlcGFyYXRvcjsgfSxcblx0XHRcdFx0Z2V0UHJvbXB0OiBmdW5jdGlvbigpIHsgcmV0dXJuIF9wcm9tcHQuaW5uZXJIVE1MLnJlcGxhY2UobmV3IFJlZ0V4cChvcHRpb25zLnNlcGFyYXRvciArICckJyksICcnKTsgfSxcblx0XHRcdFx0c2V0VGhlbWU6IGZ1bmN0aW9uKHRoZW1lKSB7IF90ZXJtaW5hbC5jbGFzc0xpc3QucmVtb3ZlKCd0ZXJtaW5hbC0nICsgb3B0aW9ucy50aGVtZSk7IG9wdGlvbnMudGhlbWUgPSB0aGVtZTsgX3Rlcm1pbmFsLmNsYXNzTGlzdC5hZGQoJ3Rlcm1pbmFsLScgKyBvcHRpb25zLnRoZW1lKTsgfSxcblx0XHRcdFx0Z2V0VGhlbWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gb3B0aW9ucy50aGVtZTsgfSxcblx0XHRcdFx0cHJpbnQ6IG91dHB1dFxuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdC8vIG5vZGUuanNcblx0XHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gVGVybWluYWw7XG5cdFxuXHRcdC8vIHdlYiBicm93c2Vyc1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgb2xkVGVybWluYWwgPSBnbG9iYWwuVGVybWluYWw7XG5cdFx0XHRUZXJtaW5hbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRnbG9iYWwuVGVybWluYWwgPSBvbGRUZXJtaW5hbDtcblx0XHRcdFx0cmV0dXJuIFRlcm1pbmFsO1xuXHRcdFx0fTtcblx0XHRcdGdsb2JhbC5UZXJtaW5hbCA9IFRlcm1pbmFsO1xuXHRcdH1cblx0XG5cdH0pKHRoaXMpO1xuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykge3ZhciBjYW1lbENhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KVxuXHR2YXIgZGVjYW1lbGl6ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpXG5cdHZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMClcblx0dmFyIHRva2VuaXplQXJnU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSlcblx0dmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKVxuXHRcblx0ZnVuY3Rpb24gcGFyc2UgKGFyZ3MsIG9wdHMpIHtcblx0ICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuXHQgIC8vIGFsbG93IGEgc3RyaW5nIGFyZ3VtZW50IHRvIGJlIHBhc3NlZCBpbiByYXRoZXJcblx0ICAvLyB0aGFuIGFuIGFyZ3YgYXJyYXkuXG5cdCAgYXJncyA9IHRva2VuaXplQXJnU3RyaW5nKGFyZ3MpXG5cdFxuXHQgIC8vIGFsaWFzZXMgbWlnaHQgaGF2ZSB0cmFuc2l0aXZlIHJlbGF0aW9uc2hpcHMsIG5vcm1hbGl6ZSB0aGlzLlxuXHQgIHZhciBhbGlhc2VzID0gY29tYmluZUFsaWFzZXMob3B0cy5hbGlhcyB8fCB7fSlcblx0ICB2YXIgY29uZmlndXJhdGlvbiA9IE9iamVjdC5hc3NpZ24oe1xuXHQgICAgJ3Nob3J0LW9wdGlvbi1ncm91cHMnOiB0cnVlLFxuXHQgICAgJ2NhbWVsLWNhc2UtZXhwYW5zaW9uJzogdHJ1ZSxcblx0ICAgICdkb3Qtbm90YXRpb24nOiB0cnVlLFxuXHQgICAgJ3BhcnNlLW51bWJlcnMnOiB0cnVlLFxuXHQgICAgJ2Jvb2xlYW4tbmVnYXRpb24nOiB0cnVlLFxuXHQgICAgJ25lZ2F0aW9uLXByZWZpeCc6ICduby0nLFxuXHQgICAgJ2R1cGxpY2F0ZS1hcmd1bWVudHMtYXJyYXknOiB0cnVlLFxuXHQgICAgJ2ZsYXR0ZW4tZHVwbGljYXRlLWFycmF5cyc6IHRydWUsXG5cdCAgICAncG9wdWxhdGUtLSc6IGZhbHNlLFxuXHQgICAgJ2NvbWJpbmUtYXJyYXlzJzogZmFsc2UsXG5cdCAgICAnc2V0LXBsYWNlaG9sZGVyLWtleSc6IGZhbHNlLFxuXHQgICAgJ2hhbHQtYXQtbm9uLW9wdGlvbic6IGZhbHNlLFxuXHQgICAgJ3N0cmlwLWFsaWFzZWQnOiBmYWxzZSxcblx0ICAgICdzdHJpcC1kYXNoZWQnOiBmYWxzZVxuXHQgIH0sIG9wdHMuY29uZmlndXJhdGlvbilcblx0ICB2YXIgZGVmYXVsdHMgPSBvcHRzLmRlZmF1bHQgfHwge31cblx0ICB2YXIgY29uZmlnT2JqZWN0cyA9IG9wdHMuY29uZmlnT2JqZWN0cyB8fCBbXVxuXHQgIHZhciBlbnZQcmVmaXggPSBvcHRzLmVudlByZWZpeFxuXHQgIHZhciBub3RGbGFnc09wdGlvbiA9IGNvbmZpZ3VyYXRpb25bJ3BvcHVsYXRlLS0nXVxuXHQgIHZhciBub3RGbGFnc0FyZ3YgPSBub3RGbGFnc09wdGlvbiA/ICctLScgOiAnXydcblx0ICB2YXIgbmV3QWxpYXNlcyA9IHt9XG5cdCAgLy8gYWxsb3cgYSBpMThuIGhhbmRsZXIgdG8gYmUgcGFzc2VkIGluLCBkZWZhdWx0IHRvIGEgZmFrZSBvbmUgKHV0aWwuZm9ybWF0KS5cblx0ICB2YXIgX18gPSBvcHRzLl9fIHx8IHV0aWwuZm9ybWF0XG5cdCAgdmFyIGVycm9yID0gbnVsbFxuXHQgIHZhciBmbGFncyA9IHtcblx0ICAgIGFsaWFzZXM6IHt9LFxuXHQgICAgYXJyYXlzOiB7fSxcblx0ICAgIGJvb2xzOiB7fSxcblx0ICAgIHN0cmluZ3M6IHt9LFxuXHQgICAgbnVtYmVyczoge30sXG5cdCAgICBjb3VudHM6IHt9LFxuXHQgICAgbm9ybWFsaXplOiB7fSxcblx0ICAgIGNvbmZpZ3M6IHt9LFxuXHQgICAgZGVmYXVsdGVkOiB7fSxcblx0ICAgIG5hcmdzOiB7fSxcblx0ICAgIGNvZXJjaW9uczoge30sXG5cdCAgICBrZXlzOiBbXVxuXHQgIH1cblx0ICB2YXIgbmVnYXRpdmUgPSAvXi1bMC05XSsoXFwuWzAtOV0rKT8vXG5cdCAgdmFyIG5lZ2F0ZWRCb29sZWFuID0gbmV3IFJlZ0V4cCgnXi0tJyArIGNvbmZpZ3VyYXRpb25bJ25lZ2F0aW9uLXByZWZpeCddICsgJyguKyknKVxuXHRcblx0ICA7W10uY29uY2F0KG9wdHMuYXJyYXkpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChvcHQpIHtcblx0ICAgIHZhciBrZXkgPSBvcHQua2V5IHx8IG9wdFxuXHRcblx0ICAgIC8vIGFzc2lnbiB0byBmbGFnc1tib29sc3xzdHJpbmdzfG51bWJlcnNdXG5cdCAgICBjb25zdCBhc3NpZ25tZW50ID0gT2JqZWN0LmtleXMob3B0KS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gKHtcblx0ICAgICAgICBib29sZWFuOiAnYm9vbHMnLFxuXHQgICAgICAgIHN0cmluZzogJ3N0cmluZ3MnLFxuXHQgICAgICAgIG51bWJlcjogJ251bWJlcnMnXG5cdCAgICAgIH0pW2tleV1cblx0ICAgIH0pLmZpbHRlcihCb29sZWFuKS5wb3AoKVxuXHRcblx0ICAgIC8vIGFzc2lnbiBrZXkgdG8gYmUgY29lcmNlZFxuXHQgICAgaWYgKGFzc2lnbm1lbnQpIHtcblx0ICAgICAgZmxhZ3NbYXNzaWdubWVudF1ba2V5XSA9IHRydWVcblx0ICAgIH1cblx0XG5cdCAgICBmbGFncy5hcnJheXNba2V5XSA9IHRydWVcblx0ICAgIGZsYWdzLmtleXMucHVzaChrZXkpXG5cdCAgfSlcblx0XG5cdCAgO1tdLmNvbmNhdChvcHRzLmJvb2xlYW4pLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGZsYWdzLmJvb2xzW2tleV0gPSB0cnVlXG5cdCAgICBmbGFncy5rZXlzLnB1c2goa2V5KVxuXHQgIH0pXG5cdFxuXHQgIDtbXS5jb25jYXQob3B0cy5zdHJpbmcpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGZsYWdzLnN0cmluZ3Nba2V5XSA9IHRydWVcblx0ICAgIGZsYWdzLmtleXMucHVzaChrZXkpXG5cdCAgfSlcblx0XG5cdCAgO1tdLmNvbmNhdChvcHRzLm51bWJlcikuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgZmxhZ3MubnVtYmVyc1trZXldID0gdHJ1ZVxuXHQgICAgZmxhZ3Mua2V5cy5wdXNoKGtleSlcblx0ICB9KVxuXHRcblx0ICA7W10uY29uY2F0KG9wdHMuY291bnQpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGZsYWdzLmNvdW50c1trZXldID0gdHJ1ZVxuXHQgICAgZmxhZ3Mua2V5cy5wdXNoKGtleSlcblx0ICB9KVxuXHRcblx0ICA7W10uY29uY2F0KG9wdHMubm9ybWFsaXplKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBmbGFncy5ub3JtYWxpemVba2V5XSA9IHRydWVcblx0ICAgIGZsYWdzLmtleXMucHVzaChrZXkpXG5cdCAgfSlcblx0XG5cdCAgT2JqZWN0LmtleXMob3B0cy5uYXJnIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG5cdCAgICBmbGFncy5uYXJnc1trXSA9IG9wdHMubmFyZ1trXVxuXHQgICAgZmxhZ3Mua2V5cy5wdXNoKGspXG5cdCAgfSlcblx0XG5cdCAgT2JqZWN0LmtleXMob3B0cy5jb2VyY2UgfHwge30pLmZvckVhY2goZnVuY3Rpb24gKGspIHtcblx0ICAgIGZsYWdzLmNvZXJjaW9uc1trXSA9IG9wdHMuY29lcmNlW2tdXG5cdCAgICBmbGFncy5rZXlzLnB1c2goaylcblx0ICB9KVxuXHRcblx0ICBpZiAoQXJyYXkuaXNBcnJheShvcHRzLmNvbmZpZykgfHwgdHlwZW9mIG9wdHMuY29uZmlnID09PSAnc3RyaW5nJykge1xuXHQgICAgO1tdLmNvbmNhdChvcHRzLmNvbmZpZykuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICBmbGFncy5jb25maWdzW2tleV0gPSB0cnVlXG5cdCAgICB9KVxuXHQgIH0gZWxzZSB7XG5cdCAgICBPYmplY3Qua2V5cyhvcHRzLmNvbmZpZyB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuXHQgICAgICBmbGFncy5jb25maWdzW2tdID0gb3B0cy5jb25maWdba11cblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICAvLyBjcmVhdGUgYSBsb29rdXAgdGFibGUgdGhhdCB0YWtlcyBpbnRvIGFjY291bnQgYWxsXG5cdCAgLy8gY29tYmluYXRpb25zIG9mIGFsaWFzZXM6IHtmOiBbJ2ZvbyddLCBmb286IFsnZiddfVxuXHQgIGV4dGVuZEFsaWFzZXMob3B0cy5rZXksIGFsaWFzZXMsIG9wdHMuZGVmYXVsdCwgZmxhZ3MuYXJyYXlzKVxuXHRcblx0ICAvLyBhcHBseSBkZWZhdWx0IHZhbHVlcyB0byBhbGwgYWxpYXNlcy5cblx0ICBPYmplY3Qua2V5cyhkZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChhbGlhcykge1xuXHQgICAgICBkZWZhdWx0c1thbGlhc10gPSBkZWZhdWx0c1trZXldXG5cdCAgICB9KVxuXHQgIH0pXG5cdFxuXHQgIHZhciBhcmd2ID0geyBfOiBbXSB9XG5cdFxuXHQgIE9iamVjdC5rZXlzKGZsYWdzLmJvb2xzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVmYXVsdHMsIGtleSkpIHtcblx0ICAgICAgc2V0QXJnKGtleSwgZGVmYXVsdHNba2V5XSlcblx0ICAgICAgc2V0RGVmYXVsdGVkKGtleSlcblx0ICAgIH1cblx0ICB9KVxuXHRcblx0ICB2YXIgbm90RmxhZ3MgPSBbXVxuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBhcmcgPSBhcmdzW2ldXG5cdCAgICB2YXIgYnJva2VuXG5cdCAgICB2YXIga2V5XG5cdCAgICB2YXIgbGV0dGVyc1xuXHQgICAgdmFyIG1cblx0ICAgIHZhciBuZXh0XG5cdCAgICB2YXIgdmFsdWVcblx0XG5cdCAgICAvLyAtLSBzZXBhcmF0ZWQgYnkgPVxuXHQgICAgaWYgKGFyZy5tYXRjaCgvXi0tLis9LykgfHwgKFxuXHQgICAgICAhY29uZmlndXJhdGlvblsnc2hvcnQtb3B0aW9uLWdyb3VwcyddICYmIGFyZy5tYXRjaCgvXi0uKz0vKVxuXHQgICAgKSkge1xuXHQgICAgICAvLyBVc2luZyBbXFxzXFxTXSBpbnN0ZWFkIG9mIC4gYmVjYXVzZSBqcyBkb2Vzbid0IHN1cHBvcnQgdGhlXG5cdCAgICAgIC8vICdkb3RhbGwnIHJlZ2V4IG1vZGlmaWVyLiBTZWU6XG5cdCAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwNjgzMDgvMTMyMTZcblx0ICAgICAgbSA9IGFyZy5tYXRjaCgvXi0tPyhbXj1dKyk9KFtcXHNcXFNdKikkLylcblx0XG5cdCAgICAgIC8vIG5hcmdzIGZvcm1hdCA9ICctLWY9bW9ua2V5IHdhc2hpbmcgY2F0J1xuXHQgICAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKG1bMV0sIGZsYWdzLm5hcmdzKSkge1xuXHQgICAgICAgIGFyZ3Muc3BsaWNlKGkgKyAxLCAwLCBtWzJdKVxuXHQgICAgICAgIGkgPSBlYXROYXJncyhpLCBtWzFdLCBhcmdzKVxuXHQgICAgICAvLyBhcnJheXMgZm9ybWF0ID0gJy0tZj1hIGIgYydcblx0ICAgICAgfSBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMobVsxXSwgZmxhZ3MuYXJyYXlzKSAmJiBhcmdzLmxlbmd0aCA+IGkgKyAxKSB7XG5cdCAgICAgICAgYXJncy5zcGxpY2UoaSArIDEsIDAsIG1bMl0pXG5cdCAgICAgICAgaSA9IGVhdEFycmF5KGksIG1bMV0sIGFyZ3MpXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgc2V0QXJnKG1bMV0sIG1bMl0pXG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoYXJnLm1hdGNoKG5lZ2F0ZWRCb29sZWFuKSAmJiBjb25maWd1cmF0aW9uWydib29sZWFuLW5lZ2F0aW9uJ10pIHtcblx0ICAgICAga2V5ID0gYXJnLm1hdGNoKG5lZ2F0ZWRCb29sZWFuKVsxXVxuXHQgICAgICBzZXRBcmcoa2V5LCBmYWxzZSlcblx0XG5cdCAgICAvLyAtLSBzZXBlcmF0ZWQgYnkgc3BhY2UuXG5cdCAgICB9IGVsc2UgaWYgKGFyZy5tYXRjaCgvXi0tLisvKSB8fCAoXG5cdCAgICAgICFjb25maWd1cmF0aW9uWydzaG9ydC1vcHRpb24tZ3JvdXBzJ10gJiYgYXJnLm1hdGNoKC9eLVteLV0rLylcblx0ICAgICkpIHtcblx0ICAgICAga2V5ID0gYXJnLm1hdGNoKC9eLS0/KC4rKS8pWzFdXG5cdFxuXHQgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLS1mb28gYSBiIGMnXG5cdCAgICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncykpIHtcblx0ICAgICAgICBpID0gZWF0TmFyZ3MoaSwga2V5LCBhcmdzKVxuXHQgICAgICAvLyBhcnJheSBmb3JtYXQgPSAnLS1mb28gYSBiIGMnXG5cdCAgICAgIH0gZWxzZSBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYXJyYXlzKSAmJiBhcmdzLmxlbmd0aCA+IGkgKyAxKSB7XG5cdCAgICAgICAgaSA9IGVhdEFycmF5KGksIGtleSwgYXJncylcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBuZXh0ID0gZmxhZ3MubmFyZ3Nba2V5XSA9PT0gMCA/IHVuZGVmaW5lZCA6IGFyZ3NbaSArIDFdXG5cdFxuXHQgICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgKCFuZXh0Lm1hdGNoKC9eLS8pIHx8XG5cdCAgICAgICAgICBuZXh0Lm1hdGNoKG5lZ2F0aXZlKSkgJiZcblx0ICAgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykgJiZcblx0ICAgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpKSB7XG5cdCAgICAgICAgICBzZXRBcmcoa2V5LCBuZXh0KVxuXHQgICAgICAgICAgaSsrXG5cdCAgICAgICAgfSBlbHNlIGlmICgvXih0cnVlfGZhbHNlKSQvLnRlc3QobmV4dCkpIHtcblx0ICAgICAgICAgIHNldEFyZyhrZXksIG5leHQpXG5cdCAgICAgICAgICBpKytcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgc2V0QXJnKGtleSwgZGVmYXVsdFZhbHVlKGtleSkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgLy8gZG90LW5vdGF0aW9uIGZsYWcgc2VwZXJhdGVkIGJ5ICc9Jy5cblx0ICAgIH0gZWxzZSBpZiAoYXJnLm1hdGNoKC9eLS5cXC4uKz0vKSkge1xuXHQgICAgICBtID0gYXJnLm1hdGNoKC9eLShbXj1dKyk9KFtcXHNcXFNdKikkLylcblx0ICAgICAgc2V0QXJnKG1bMV0sIG1bMl0pXG5cdFxuXHQgICAgLy8gZG90LW5vdGF0aW9uIGZsYWcgc2VwZXJhdGVkIGJ5IHNwYWNlLlxuXHQgICAgfSBlbHNlIGlmIChhcmcubWF0Y2goL14tLlxcLi4rLykpIHtcblx0ICAgICAgbmV4dCA9IGFyZ3NbaSArIDFdXG5cdCAgICAgIGtleSA9IGFyZy5tYXRjaCgvXi0oLlxcLi4rKS8pWzFdXG5cdFxuXHQgICAgICBpZiAobmV4dCAhPT0gdW5kZWZpbmVkICYmICFuZXh0Lm1hdGNoKC9eLS8pICYmXG5cdCAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSAmJlxuXHQgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpKSB7XG5cdCAgICAgICAgc2V0QXJnKGtleSwgbmV4dClcblx0ICAgICAgICBpKytcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBzZXRBcmcoa2V5LCBkZWZhdWx0VmFsdWUoa2V5KSlcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChhcmcubWF0Y2goL14tW14tXSsvKSAmJiAhYXJnLm1hdGNoKG5lZ2F0aXZlKSkge1xuXHQgICAgICBsZXR0ZXJzID0gYXJnLnNsaWNlKDEsIC0xKS5zcGxpdCgnJylcblx0ICAgICAgYnJva2VuID0gZmFsc2Vcblx0XG5cdCAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGV0dGVycy5sZW5ndGg7IGorKykge1xuXHQgICAgICAgIG5leHQgPSBhcmcuc2xpY2UoaiArIDIpXG5cdFxuXHQgICAgICAgIGlmIChsZXR0ZXJzW2ogKyAxXSAmJiBsZXR0ZXJzW2ogKyAxXSA9PT0gJz0nKSB7XG5cdCAgICAgICAgICB2YWx1ZSA9IGFyZy5zbGljZShqICsgMylcblx0ICAgICAgICAgIGtleSA9IGxldHRlcnNbal1cblx0XG5cdCAgICAgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLWY9bW9ua2V5IHdhc2hpbmcgY2F0J1xuXHQgICAgICAgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm5hcmdzKSkge1xuXHQgICAgICAgICAgICBhcmdzLnNwbGljZShpICsgMSwgMCwgdmFsdWUpXG5cdCAgICAgICAgICAgIGkgPSBlYXROYXJncyhpLCBrZXksIGFyZ3MpXG5cdCAgICAgICAgICAvLyBhcnJheSBmb3JtYXQgPSAnLWY9YSBiIGMnXG5cdCAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmFycmF5cykgJiYgYXJncy5sZW5ndGggPiBpICsgMSkge1xuXHQgICAgICAgICAgICBhcmdzLnNwbGljZShpICsgMSwgMCwgdmFsdWUpXG5cdCAgICAgICAgICAgIGkgPSBlYXRBcnJheShpLCBrZXksIGFyZ3MpXG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBzZXRBcmcoa2V5LCB2YWx1ZSlcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBicm9rZW4gPSB0cnVlXG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKG5leHQgPT09ICctJykge1xuXHQgICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQpXG5cdCAgICAgICAgICBjb250aW51ZVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gY3VycmVudCBsZXR0ZXIgaXMgYW4gYWxwaGFiZXRpYyBjaGFyYWN0ZXIgYW5kIG5leHQgdmFsdWUgaXMgYSBudW1iZXJcblx0ICAgICAgICBpZiAoL1tBLVphLXpdLy50ZXN0KGxldHRlcnNbal0pICYmXG5cdCAgICAgICAgICAvXi0/XFxkKyhcXC5cXGQqKT8oZS0/XFxkKyk/JC8udGVzdChuZXh0KSkge1xuXHQgICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQpXG5cdCAgICAgICAgICBicm9rZW4gPSB0cnVlXG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGxldHRlcnNbaiArIDFdICYmIGxldHRlcnNbaiArIDFdLm1hdGNoKC9cXFcvKSkge1xuXHQgICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQpXG5cdCAgICAgICAgICBicm9rZW4gPSB0cnVlXG5cdCAgICAgICAgICBicmVha1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBzZXRBcmcobGV0dGVyc1tqXSwgZGVmYXVsdFZhbHVlKGxldHRlcnNbal0pKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAga2V5ID0gYXJnLnNsaWNlKC0xKVswXVxuXHRcblx0ICAgICAgaWYgKCFicm9rZW4gJiYga2V5ICE9PSAnLScpIHtcblx0ICAgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLWYgYSBiIGMnXG5cdCAgICAgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm5hcmdzKSkge1xuXHQgICAgICAgICAgaSA9IGVhdE5hcmdzKGksIGtleSwgYXJncylcblx0ICAgICAgICAvLyBhcnJheSBmb3JtYXQgPSAnLWYgYSBiIGMnXG5cdCAgICAgICAgfSBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpICYmIGFyZ3MubGVuZ3RoID4gaSArIDEpIHtcblx0ICAgICAgICAgIGkgPSBlYXRBcnJheShpLCBrZXksIGFyZ3MpXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIG5leHQgPSBhcmdzW2kgKyAxXVxuXHRcblx0ICAgICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgKCEvXigtfC0tKVteLV0vLnRlc3QobmV4dCkgfHxcblx0ICAgICAgICAgICAgbmV4dC5tYXRjaChuZWdhdGl2ZSkpICYmXG5cdCAgICAgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykgJiZcblx0ICAgICAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpIHtcblx0ICAgICAgICAgICAgc2V0QXJnKGtleSwgbmV4dClcblx0ICAgICAgICAgICAgaSsrXG5cdCAgICAgICAgICB9IGVsc2UgaWYgKC9eKHRydWV8ZmFsc2UpJC8udGVzdChuZXh0KSkge1xuXHQgICAgICAgICAgICBzZXRBcmcoa2V5LCBuZXh0KVxuXHQgICAgICAgICAgICBpKytcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHNldEFyZyhrZXksIGRlZmF1bHRWYWx1ZShrZXkpKVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChhcmcgPT09ICctLScpIHtcblx0ICAgICAgbm90RmxhZ3MgPSBhcmdzLnNsaWNlKGkgKyAxKVxuXHQgICAgICBicmVha1xuXHQgICAgfSBlbHNlIGlmIChjb25maWd1cmF0aW9uWydoYWx0LWF0LW5vbi1vcHRpb24nXSkge1xuXHQgICAgICBub3RGbGFncyA9IGFyZ3Muc2xpY2UoaSlcblx0ICAgICAgYnJlYWtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGFyZ3YuXy5wdXNoKG1heWJlQ29lcmNlTnVtYmVyKCdfJywgYXJnKSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIG9yZGVyIG9mIHByZWNlZGVuY2U6XG5cdCAgLy8gMS4gY29tbWFuZCBsaW5lIGFyZ1xuXHQgIC8vIDIuIHZhbHVlIGZyb20gZW52IHZhclxuXHQgIC8vIDMuIHZhbHVlIGZyb20gY29uZmlnIGZpbGVcblx0ICAvLyA0LiB2YWx1ZSBmcm9tIGNvbmZpZyBvYmplY3RzXG5cdCAgLy8gNS4gY29uZmlndXJlZCBkZWZhdWx0IHZhbHVlXG5cdCAgYXBwbHlFbnZWYXJzKGFyZ3YsIHRydWUpIC8vIHNwZWNpYWwgY2FzZTogY2hlY2sgZW52IHZhcnMgdGhhdCBwb2ludCB0byBjb25maWcgZmlsZVxuXHQgIGFwcGx5RW52VmFycyhhcmd2LCBmYWxzZSlcblx0ICBzZXRDb25maWcoYXJndilcblx0ICBzZXRDb25maWdPYmplY3RzKClcblx0ICBhcHBseURlZmF1bHRzQW5kQWxpYXNlcyhhcmd2LCBmbGFncy5hbGlhc2VzLCBkZWZhdWx0cylcblx0ICBhcHBseUNvZXJjaW9ucyhhcmd2KVxuXHQgIGlmIChjb25maWd1cmF0aW9uWydzZXQtcGxhY2Vob2xkZXIta2V5J10pIHNldFBsYWNlaG9sZGVyS2V5cyhhcmd2KVxuXHRcblx0ICAvLyBmb3IgYW55IGNvdW50cyBlaXRoZXIgbm90IGluIGFyZ3Mgb3Igd2l0aG91dCBhbiBleHBsaWNpdCBkZWZhdWx0LCBzZXQgdG8gMFxuXHQgIE9iamVjdC5rZXlzKGZsYWdzLmNvdW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBpZiAoIWhhc0tleShhcmd2LCBrZXkuc3BsaXQoJy4nKSkpIHNldEFyZyhrZXksIDApXG5cdCAgfSlcblx0XG5cdCAgLy8gJy0tJyBkZWZhdWx0cyB0byB1bmRlZmluZWQuXG5cdCAgaWYgKG5vdEZsYWdzT3B0aW9uICYmIG5vdEZsYWdzLmxlbmd0aCkgYXJndltub3RGbGFnc0FyZ3ZdID0gW11cblx0ICBub3RGbGFncy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGFyZ3Zbbm90RmxhZ3NBcmd2XS5wdXNoKGtleSlcblx0ICB9KVxuXHRcblx0ICBpZiAoY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSAmJiBjb25maWd1cmF0aW9uWydzdHJpcC1kYXNoZWQnXSkge1xuXHQgICAgT2JqZWN0LmtleXMoYXJndikuZmlsdGVyKGtleSA9PiBrZXkgIT09ICctLScgJiYga2V5LmluY2x1ZGVzKCctJykpLmZvckVhY2goa2V5ID0+IHtcblx0ICAgICAgZGVsZXRlIGFyZ3Zba2V5XVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIGlmIChjb25maWd1cmF0aW9uWydzdHJpcC1hbGlhc2VkJ10pIHtcblx0ICAgIC8vIFhYWCBTd2l0Y2ggdG8gW10uY29uY2F0KC4uLk9iamVjdC52YWx1ZXMoYWxpYXNlcykpIG9uY2Ugbm9kZS5qcyA2IGlzIGRyb3BwZWRcblx0ICAgIDtbXS5jb25jYXQoLi4uT2JqZWN0LmtleXMoYWxpYXNlcykubWFwKGsgPT4gYWxpYXNlc1trXSkpLmZvckVhY2goYWxpYXMgPT4ge1xuXHQgICAgICBpZiAoY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSkge1xuXHQgICAgICAgIGRlbGV0ZSBhcmd2W2FsaWFzLnNwbGl0KCcuJykubWFwKHByb3AgPT4gY2FtZWxDYXNlKHByb3ApKS5qb2luKCcuJyldXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGRlbGV0ZSBhcmd2W2FsaWFzXVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIC8vIGhvdyBtYW55IGFyZ3VtZW50cyBzaG91bGQgd2UgY29uc3VtZSwgYmFzZWRcblx0ICAvLyBvbiB0aGUgbmFyZ3Mgb3B0aW9uP1xuXHQgIGZ1bmN0aW9uIGVhdE5hcmdzIChpLCBrZXksIGFyZ3MpIHtcblx0ICAgIHZhciBpaVxuXHQgICAgY29uc3QgdG9FYXQgPSBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncylcblx0XG5cdCAgICAvLyBuYXJncyB3aWxsIG5vdCBjb25zdW1lIGZsYWcgYXJndW1lbnRzLCBlLmcuLCAtYWJjLCAtLWZvbyxcblx0ICAgIC8vIGFuZCB0ZXJtaW5hdGVzIHdoZW4gb25lIGlzIG9ic2VydmVkLlxuXHQgICAgdmFyIGF2YWlsYWJsZSA9IDBcblx0ICAgIGZvciAoaWkgPSBpICsgMTsgaWkgPCBhcmdzLmxlbmd0aDsgaWkrKykge1xuXHQgICAgICBpZiAoIWFyZ3NbaWldLm1hdGNoKC9eLVteMC05XS8pKSBhdmFpbGFibGUrK1xuXHQgICAgICBlbHNlIGJyZWFrXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGF2YWlsYWJsZSA8IHRvRWF0KSBlcnJvciA9IEVycm9yKF9fKCdOb3QgZW5vdWdoIGFyZ3VtZW50cyBmb2xsb3dpbmc6ICVzJywga2V5KSlcblx0XG5cdCAgICBjb25zdCBjb25zdW1lZCA9IE1hdGgubWluKGF2YWlsYWJsZSwgdG9FYXQpXG5cdCAgICBmb3IgKGlpID0gaSArIDE7IGlpIDwgKGNvbnN1bWVkICsgaSArIDEpOyBpaSsrKSB7XG5cdCAgICAgIHNldEFyZyhrZXksIGFyZ3NbaWldKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiAoaSArIGNvbnN1bWVkKVxuXHQgIH1cblx0XG5cdCAgLy8gaWYgYW4gb3B0aW9uIGlzIGFuIGFycmF5LCBlYXQgYWxsIG5vbi1oeXBoZW5hdGVkIGFyZ3VtZW50c1xuXHQgIC8vIGZvbGxvd2luZyBpdC4uLiBZVU0hXG5cdCAgLy8gZS5nLiwgLS1mb28gYXBwbGUgYmFuYW5hIGNhdCBiZWNvbWVzIFtcImFwcGxlXCIsIFwiYmFuYW5hXCIsIFwiY2F0XCJdXG5cdCAgZnVuY3Rpb24gZWF0QXJyYXkgKGksIGtleSwgYXJncykge1xuXHQgICAgdmFyIHN0YXJ0ID0gaSArIDFcblx0ICAgIHZhciBhcmdzVG9TZXQgPSBbXVxuXHQgICAgdmFyIG11bHRpcGxlQXJyYXlGbGFnID0gaSA+IDBcblx0ICAgIGZvciAodmFyIGlpID0gaSArIDE7IGlpIDwgYXJncy5sZW5ndGg7IGlpKyspIHtcblx0ICAgICAgaWYgKC9eLS8udGVzdChhcmdzW2lpXSkgJiYgIW5lZ2F0aXZlLnRlc3QoYXJnc1tpaV0pKSB7XG5cdCAgICAgICAgaWYgKGlpID09PSBzdGFydCkge1xuXHQgICAgICAgICAgc2V0QXJnKGtleSwgZGVmYXVsdEZvclR5cGUoJ2FycmF5JykpXG5cdCAgICAgICAgfVxuXHQgICAgICAgIG11bHRpcGxlQXJyYXlGbGFnID0gdHJ1ZVxuXHQgICAgICAgIGJyZWFrXG5cdCAgICAgIH1cblx0ICAgICAgaSA9IGlpXG5cdCAgICAgIGFyZ3NUb1NldC5wdXNoKGFyZ3NbaWldKVxuXHQgICAgfVxuXHQgICAgaWYgKG11bHRpcGxlQXJyYXlGbGFnKSB7XG5cdCAgICAgIHNldEFyZyhrZXksIGFyZ3NUb1NldC5tYXAoZnVuY3Rpb24gKGFyZykge1xuXHQgICAgICAgIHJldHVybiBwcm9jZXNzVmFsdWUoa2V5LCBhcmcpXG5cdCAgICAgIH0pKVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYXJnc1RvU2V0LmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuXHQgICAgICAgIHNldEFyZyhrZXksIGFyZylcblx0ICAgICAgfSlcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gaVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gc2V0QXJnIChrZXksIHZhbCkge1xuXHQgICAgdW5zZXREZWZhdWx0ZWQoa2V5KVxuXHRcblx0ICAgIGlmICgvLS8udGVzdChrZXkpICYmIGNvbmZpZ3VyYXRpb25bJ2NhbWVsLWNhc2UtZXhwYW5zaW9uJ10pIHtcblx0ICAgICAgdmFyIGFsaWFzID0ga2V5LnNwbGl0KCcuJykubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG5cdCAgICAgICAgcmV0dXJuIGNhbWVsQ2FzZShwcm9wKVxuXHQgICAgICB9KS5qb2luKCcuJylcblx0ICAgICAgYWRkTmV3QWxpYXMoa2V5LCBhbGlhcylcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdmFsdWUgPSBwcm9jZXNzVmFsdWUoa2V5LCB2YWwpXG5cdFxuXHQgICAgdmFyIHNwbGl0S2V5ID0ga2V5LnNwbGl0KCcuJylcblx0ICAgIHNldEtleShhcmd2LCBzcGxpdEtleSwgdmFsdWUpXG5cdFxuXHQgICAgLy8gaGFuZGxlIHBvcHVsYXRpbmcgYWxpYXNlcyBvZiB0aGUgZnVsbCBrZXlcblx0ICAgIGlmIChmbGFncy5hbGlhc2VzW2tleV0pIHtcblx0ICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcblx0ICAgICAgICB4ID0geC5zcGxpdCgnLicpXG5cdCAgICAgICAgc2V0S2V5KGFyZ3YsIHgsIHZhbHVlKVxuXHQgICAgICB9KVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIGhhbmRsZSBwb3B1bGF0aW5nIGFsaWFzZXMgb2YgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGRvdC1ub3RhdGlvbiBrZXlcblx0ICAgIGlmIChzcGxpdEtleS5sZW5ndGggPiAxICYmIGNvbmZpZ3VyYXRpb25bJ2RvdC1ub3RhdGlvbiddKSB7XG5cdCAgICAgIDsoZmxhZ3MuYWxpYXNlc1tzcGxpdEtleVswXV0gfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcblx0ICAgICAgICB4ID0geC5zcGxpdCgnLicpXG5cdFxuXHQgICAgICAgIC8vIGV4cGFuZCBhbGlhcyB3aXRoIG5lc3RlZCBvYmplY3RzIGluIGtleVxuXHQgICAgICAgIHZhciBhID0gW10uY29uY2F0KHNwbGl0S2V5KVxuXHQgICAgICAgIGEuc2hpZnQoKSAvLyBudWtlIHRoZSBvbGQga2V5LlxuXHQgICAgICAgIHggPSB4LmNvbmNhdChhKVxuXHRcblx0ICAgICAgICBzZXRLZXkoYXJndiwgeCwgdmFsdWUpXG5cdCAgICAgIH0pXG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU2V0IG5vcm1hbGl6ZSBnZXR0ZXIgYW5kIHNldHRlciB3aGVuIGtleSBpcyBpbiAnbm9ybWFsaXplJyBidXQgaXNuJ3QgYW4gYXJyYXlcblx0ICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ub3JtYWxpemUpICYmICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB7XG5cdCAgICAgIHZhciBrZXlzID0gW2tleV0uY29uY2F0KGZsYWdzLmFsaWFzZXNba2V5XSB8fCBbXSlcblx0ICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICBhcmd2Ll9fZGVmaW5lU2V0dGVyX18oa2V5LCBmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgdmFsID0gcGF0aC5ub3JtYWxpemUodilcblx0ICAgICAgICB9KVxuXHRcblx0ICAgICAgICBhcmd2Ll9fZGVmaW5lR2V0dGVyX18oa2V5LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyBwYXRoLm5vcm1hbGl6ZSh2YWwpIDogdmFsXG5cdCAgICAgICAgfSlcblx0ICAgICAgfSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFkZE5ld0FsaWFzIChrZXksIGFsaWFzKSB7XG5cdCAgICBpZiAoIShmbGFncy5hbGlhc2VzW2tleV0gJiYgZmxhZ3MuYWxpYXNlc1trZXldLmxlbmd0aCkpIHtcblx0ICAgICAgZmxhZ3MuYWxpYXNlc1trZXldID0gW2FsaWFzXVxuXHQgICAgICBuZXdBbGlhc2VzW2FsaWFzXSA9IHRydWVcblx0ICAgIH1cblx0ICAgIGlmICghKGZsYWdzLmFsaWFzZXNbYWxpYXNdICYmIGZsYWdzLmFsaWFzZXNbYWxpYXNdLmxlbmd0aCkpIHtcblx0ICAgICAgYWRkTmV3QWxpYXMoYWxpYXMsIGtleSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZSAoa2V5LCB2YWwpIHtcblx0ICAgIC8vIHN0cmluZ3MgbWF5IGJlIHF1b3RlZCwgY2xlYW4gdGhpcyB1cCBhcyB3ZSBhc3NpZ24gdmFsdWVzLlxuXHQgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmXG5cdCAgICAgICh2YWxbMF0gPT09IFwiJ1wiIHx8IHZhbFswXSA9PT0gJ1wiJykgJiZcblx0ICAgICAgdmFsW3ZhbC5sZW5ndGggLSAxXSA9PT0gdmFsWzBdXG5cdCAgICApIHtcblx0ICAgICAgdmFsID0gdmFsLnN1YnN0cmluZygxLCB2YWwubGVuZ3RoIC0gMSlcblx0ICAgIH1cblx0XG5cdCAgICAvLyBoYW5kbGUgcGFyc2luZyBib29sZWFuIGFyZ3VtZW50cyAtLWZvbz10cnVlIC0tYmFyIGZhbHNlLlxuXHQgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSB8fCBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykgdmFsID0gdmFsID09PSAndHJ1ZSdcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdmFsdWUgPSBtYXliZUNvZXJjZU51bWJlcihrZXksIHZhbClcblx0XG5cdCAgICAvLyBpbmNyZW1lbnQgYSBjb3VudCBnaXZlbiBhcyBhcmcgKGVpdGhlciBubyB2YWx1ZSBvciB2YWx1ZSBwYXJzZWQgYXMgYm9vbGVhbilcblx0ICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpICYmIChpc1VuZGVmaW5lZCh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpKSB7XG5cdCAgICAgIHZhbHVlID0gaW5jcmVtZW50XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU2V0IG5vcm1hbGl6ZWQgdmFsdWUgd2hlbiBrZXkgaXMgaW4gJ25vcm1hbGl6ZScgYW5kIGluICdhcnJheXMnXG5cdCAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3Mubm9ybWFsaXplKSAmJiBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5hcnJheXMpKSB7XG5cdCAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHZhbHVlID0gdmFsLm1hcChwYXRoLm5vcm1hbGl6ZSlcblx0ICAgICAgZWxzZSB2YWx1ZSA9IHBhdGgubm9ybWFsaXplKHZhbClcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWx1ZVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbWF5YmVDb2VyY2VOdW1iZXIgKGtleSwgdmFsdWUpIHtcblx0ICAgIGlmICghY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3Muc3RyaW5ncykgJiYgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvZXJjaW9ucykpIHtcblx0ICAgICAgY29uc3Qgc2hvdWxkQ29lcmNlTnVtYmVyID0gaXNOdW1iZXIodmFsdWUpICYmIGNvbmZpZ3VyYXRpb25bJ3BhcnNlLW51bWJlcnMnXSAmJiAoXG5cdCAgICAgICAgTnVtYmVyLmlzU2FmZUludGVnZXIoTWF0aC5mbG9vcih2YWx1ZSkpXG5cdCAgICAgIClcblx0ICAgICAgaWYgKHNob3VsZENvZXJjZU51bWJlciB8fCAoIWlzVW5kZWZpbmVkKHZhbHVlKSAmJiBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5udW1iZXJzKSkpIHZhbHVlID0gTnVtYmVyKHZhbHVlKVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZhbHVlXG5cdCAgfVxuXHRcblx0ICAvLyBzZXQgYXJncyBmcm9tIGNvbmZpZy5qc29uIGZpbGUsIHRoaXMgc2hvdWxkIGJlXG5cdCAgLy8gYXBwbGllZCBsYXN0IHNvIHRoYXQgZGVmYXVsdHMgY2FuIGJlIGFwcGxpZWQuXG5cdCAgZnVuY3Rpb24gc2V0Q29uZmlnIChhcmd2KSB7XG5cdCAgICB2YXIgY29uZmlnTG9va3VwID0ge31cblx0XG5cdCAgICAvLyBleHBhbmQgZGVmYXVsdHMvYWxpYXNlcywgaW4tY2FzZSBhbnkgaGFwcGVuIHRvIHJlZmVyZW5jZVxuXHQgICAgLy8gdGhlIGNvbmZpZy5qc29uIGZpbGUuXG5cdCAgICBhcHBseURlZmF1bHRzQW5kQWxpYXNlcyhjb25maWdMb29rdXAsIGZsYWdzLmFsaWFzZXMsIGRlZmF1bHRzKVxuXHRcblx0ICAgIE9iamVjdC5rZXlzKGZsYWdzLmNvbmZpZ3MpLmZvckVhY2goZnVuY3Rpb24gKGNvbmZpZ0tleSkge1xuXHQgICAgICB2YXIgY29uZmlnUGF0aCA9IGFyZ3ZbY29uZmlnS2V5XSB8fCBjb25maWdMb29rdXBbY29uZmlnS2V5XVxuXHQgICAgICBpZiAoY29uZmlnUGF0aCkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICB2YXIgY29uZmlnID0gbnVsbFxuXHQgICAgICAgICAgdmFyIHJlc29sdmVkQ29uZmlnUGF0aCA9IHBhdGgucmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCBjb25maWdQYXRoKVxuXHRcblx0ICAgICAgICAgIGlmICh0eXBlb2YgZmxhZ3MuY29uZmlnc1tjb25maWdLZXldID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgY29uZmlnID0gZmxhZ3MuY29uZmlnc1tjb25maWdLZXldKHJlc29sdmVkQ29uZmlnUGF0aClcblx0ICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAgIGNvbmZpZyA9IGVcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoY29uZmlnIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgICAgICAgICBlcnJvciA9IGNvbmZpZ1xuXHQgICAgICAgICAgICAgIHJldHVyblxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKShyZXNvbHZlZENvbmZpZ1BhdGgpXG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgc2V0Q29uZmlnT2JqZWN0KGNvbmZpZylcblx0ICAgICAgICB9IGNhdGNoIChleCkge1xuXHQgICAgICAgICAgaWYgKGFyZ3ZbY29uZmlnS2V5XSkgZXJyb3IgPSBFcnJvcihfXygnSW52YWxpZCBKU09OIGNvbmZpZyBmaWxlOiAlcycsIGNvbmZpZ1BhdGgpKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIC8vIHNldCBhcmdzIGZyb20gY29uZmlnIG9iamVjdC5cblx0ICAvLyBpdCByZWN1cnNpdmVseSBjaGVja3MgbmVzdGVkIG9iamVjdHMuXG5cdCAgZnVuY3Rpb24gc2V0Q29uZmlnT2JqZWN0IChjb25maWcsIHByZXYpIHtcblx0ICAgIE9iamVjdC5rZXlzKGNvbmZpZykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIHZhciB2YWx1ZSA9IGNvbmZpZ1trZXldXG5cdCAgICAgIHZhciBmdWxsS2V5ID0gcHJldiA/IHByZXYgKyAnLicgKyBrZXkgOiBrZXlcblx0XG5cdCAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBhbiBpbm5lciBvYmplY3QgYW5kIHdlIGhhdmUgZG90LW5vdGF0aW9uXG5cdCAgICAgIC8vIGVuYWJsZWQsIHRyZWF0IGlubmVyIG9iamVjdHMgaW4gY29uZmlnIHRoZSBzYW1lIGFzXG5cdCAgICAgIC8vIGhlYXZpbHkgbmVzdGVkIGRvdCBub3RhdGlvbnMgKGZvby5iYXIuYXBwbGUpLlxuXHQgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgY29uZmlndXJhdGlvblsnZG90LW5vdGF0aW9uJ10pIHtcblx0ICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0IGJ1dCBub3QgYW4gYXJyYXksIGNoZWNrIG5lc3RlZCBvYmplY3Rcblx0ICAgICAgICBzZXRDb25maWdPYmplY3QodmFsdWUsIGZ1bGxLZXkpXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gc2V0dGluZyBhcmd1bWVudHMgdmlhIENMSSB0YWtlcyBwcmVjZWRlbmNlIG92ZXJcblx0ICAgICAgICAvLyB2YWx1ZXMgd2l0aGluIHRoZSBjb25maWcgZmlsZS5cblx0ICAgICAgICBpZiAoIWhhc0tleShhcmd2LCBmdWxsS2V5LnNwbGl0KCcuJykpIHx8IChmbGFncy5kZWZhdWx0ZWRbZnVsbEtleV0pIHx8IChmbGFncy5hcnJheXNbZnVsbEtleV0gJiYgY29uZmlndXJhdGlvblsnY29tYmluZS1hcnJheXMnXSkpIHtcblx0ICAgICAgICAgIHNldEFyZyhmdWxsS2V5LCB2YWx1ZSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICAvLyBzZXQgYWxsIGNvbmZpZyBvYmplY3RzIHBhc3NlZCBpbiBvcHRzXG5cdCAgZnVuY3Rpb24gc2V0Q29uZmlnT2JqZWN0cyAoKSB7XG5cdCAgICBpZiAodHlwZW9mIGNvbmZpZ09iamVjdHMgPT09ICd1bmRlZmluZWQnKSByZXR1cm5cblx0ICAgIGNvbmZpZ09iamVjdHMuZm9yRWFjaChmdW5jdGlvbiAoY29uZmlnT2JqZWN0KSB7XG5cdCAgICAgIHNldENvbmZpZ09iamVjdChjb25maWdPYmplY3QpXG5cdCAgICB9KVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gYXBwbHlFbnZWYXJzIChhcmd2LCBjb25maWdPbmx5KSB7XG5cdCAgICBpZiAodHlwZW9mIGVudlByZWZpeCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuXHRcblx0ICAgIHZhciBwcmVmaXggPSB0eXBlb2YgZW52UHJlZml4ID09PSAnc3RyaW5nJyA/IGVudlByZWZpeCA6ICcnXG5cdCAgICBPYmplY3Qua2V5cyhwcm9jZXNzLmVudikuZm9yRWFjaChmdW5jdGlvbiAoZW52VmFyKSB7XG5cdCAgICAgIGlmIChwcmVmaXggPT09ICcnIHx8IGVudlZhci5sYXN0SW5kZXhPZihwcmVmaXgsIDApID09PSAwKSB7XG5cdCAgICAgICAgLy8gZ2V0IGFycmF5IG9mIG5lc3RlZCBrZXlzIGFuZCBjb252ZXJ0IHRoZW0gdG8gY2FtZWwgY2FzZVxuXHQgICAgICAgIHZhciBrZXlzID0gZW52VmFyLnNwbGl0KCdfXycpLm1hcChmdW5jdGlvbiAoa2V5LCBpKSB7XG5cdCAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuXHQgICAgICAgICAgICBrZXkgPSBrZXkuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gY2FtZWxDYXNlKGtleSlcblx0ICAgICAgICB9KVxuXHRcblx0ICAgICAgICBpZiAoKChjb25maWdPbmx5ICYmIGZsYWdzLmNvbmZpZ3Nba2V5cy5qb2luKCcuJyldKSB8fCAhY29uZmlnT25seSkgJiYgKCFoYXNLZXkoYXJndiwga2V5cykgfHwgZmxhZ3MuZGVmYXVsdGVkW2tleXMuam9pbignLicpXSkpIHtcblx0ICAgICAgICAgIHNldEFyZyhrZXlzLmpvaW4oJy4nKSwgcHJvY2Vzcy5lbnZbZW52VmFyXSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBhcHBseUNvZXJjaW9ucyAoYXJndikge1xuXHQgICAgdmFyIGNvZXJjZVxuXHQgICAgdmFyIGFwcGxpZWQgPSB7fVxuXHQgICAgT2JqZWN0LmtleXMoYXJndikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIGlmICghYXBwbGllZC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7IC8vIElmIHdlIGhhdmVuJ3QgYWxyZWFkeSBjb2VyY2VkIHRoaXMgb3B0aW9uIHZpYSBvbmUgb2YgaXRzIGFsaWFzZXNcblx0ICAgICAgICBjb2VyY2UgPSBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb2VyY2lvbnMpXG5cdCAgICAgICAgaWYgKHR5cGVvZiBjb2VyY2UgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvZXJjZShhcmd2W2tleV0pXG5cdCAgICAgICAgICAgIDsoW10uY29uY2F0KGZsYWdzLmFsaWFzZXNba2V5XSB8fCBbXSwga2V5KSkuZm9yRWFjaChhbGkgPT4ge1xuXHQgICAgICAgICAgICAgIGFwcGxpZWRbYWxpXSA9IGFyZ3ZbYWxpXSA9IHZhbHVlXG5cdCAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgZXJyb3IgPSBlcnJcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBzZXRQbGFjZWhvbGRlcktleXMgKGFyZ3YpIHtcblx0ICAgIGZsYWdzLmtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG5cdCAgICAgIC8vIGRvbid0IHNldCBwbGFjZWhvbGRlciBrZXlzIGZvciBkb3Qgbm90YXRpb24gb3B0aW9ucyAnZm9vLmJhcicuXG5cdCAgICAgIGlmICh+a2V5LmluZGV4T2YoJy4nKSkgcmV0dXJuXG5cdCAgICAgIGlmICh0eXBlb2YgYXJndltrZXldID09PSAndW5kZWZpbmVkJykgYXJndltrZXldID0gdW5kZWZpbmVkXG5cdCAgICB9KVxuXHQgICAgcmV0dXJuIGFyZ3Zcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFwcGx5RGVmYXVsdHNBbmRBbGlhc2VzIChvYmosIGFsaWFzZXMsIGRlZmF1bHRzKSB7XG5cdCAgICBPYmplY3Qua2V5cyhkZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIGlmICghaGFzS2V5KG9iaiwga2V5LnNwbGl0KCcuJykpKSB7XG5cdCAgICAgICAgc2V0S2V5KG9iaiwga2V5LnNwbGl0KCcuJyksIGRlZmF1bHRzW2tleV0pXG5cdFxuXHQgICAgICAgIDsoYWxpYXNlc1trZXldIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG5cdCAgICAgICAgICBpZiAoaGFzS2V5KG9iaiwgeC5zcGxpdCgnLicpKSkgcmV0dXJuXG5cdCAgICAgICAgICBzZXRLZXkob2JqLCB4LnNwbGl0KCcuJyksIGRlZmF1bHRzW2tleV0pXG5cdCAgICAgICAgfSlcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGhhc0tleSAob2JqLCBrZXlzKSB7XG5cdCAgICB2YXIgbyA9IG9ialxuXHRcblx0ICAgIGlmICghY29uZmlndXJhdGlvblsnZG90LW5vdGF0aW9uJ10pIGtleXMgPSBba2V5cy5qb2luKCcuJyldXG5cdFxuXHQgICAga2V5cy5zbGljZSgwLCAtMSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIG8gPSAob1trZXldIHx8IHt9KVxuXHQgICAgfSlcblx0XG5cdCAgICB2YXIga2V5ID0ga2V5c1trZXlzLmxlbmd0aCAtIDFdXG5cdFxuXHQgICAgaWYgKHR5cGVvZiBvICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlXG5cdCAgICBlbHNlIHJldHVybiBrZXkgaW4gb1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gc2V0S2V5IChvYmosIGtleXMsIHZhbHVlKSB7XG5cdCAgICB2YXIgbyA9IG9ialxuXHRcblx0ICAgIGlmICghY29uZmlndXJhdGlvblsnZG90LW5vdGF0aW9uJ10pIGtleXMgPSBba2V5cy5qb2luKCcuJyldXG5cdFxuXHQgICAga2V5cy5zbGljZSgwLCAtMSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuXHQgICAgICBpZiAodHlwZW9mIG8gPT09ICdvYmplY3QnICYmIG9ba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgb1trZXldID0ge31cblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHR5cGVvZiBvW2tleV0gIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkob1trZXldKSkge1xuXHQgICAgICAgIC8vIGVuc3VyZSB0aGF0IG9ba2V5XSBpcyBhbiBhcnJheSwgYW5kIHRoYXQgdGhlIGxhc3QgaXRlbSBpcyBhbiBlbXB0eSBvYmplY3QuXG5cdCAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob1trZXldKSkge1xuXHQgICAgICAgICAgb1trZXldLnB1c2goe30pXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIG9ba2V5XSA9IFtvW2tleV0sIHt9XVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gd2Ugd2FudCB0byB1cGRhdGUgdGhlIGVtcHR5IG9iamVjdCBhdCB0aGUgZW5kIG9mIHRoZSBvW2tleV0gYXJyYXksIHNvIHNldCBvIHRvIHRoYXQgb2JqZWN0XG5cdCAgICAgICAgbyA9IG9ba2V5XVtvW2tleV0ubGVuZ3RoIC0gMV1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBvID0gb1trZXldXG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdFxuXHQgICAgdmFyIGtleSA9IGtleXNba2V5cy5sZW5ndGggLSAxXVxuXHRcblx0ICAgIHZhciBpc1R5cGVBcnJheSA9IGNoZWNrQWxsQWxpYXNlcyhrZXlzLmpvaW4oJy4nKSwgZmxhZ3MuYXJyYXlzKVxuXHQgICAgdmFyIGlzVmFsdWVBcnJheSA9IEFycmF5LmlzQXJyYXkodmFsdWUpXG5cdCAgICB2YXIgZHVwbGljYXRlID0gY29uZmlndXJhdGlvblsnZHVwbGljYXRlLWFyZ3VtZW50cy1hcnJheSddXG5cdFxuXHQgICAgLy8gbmFyZ3MgaGFzIGhpZ2hlciBwcmlvcml0eSB0aGFuIGR1cGxpY2F0ZVxuXHQgICAgaWYgKCFkdXBsaWNhdGUgJiYgY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MubmFyZ3MpKSB7XG5cdCAgICAgIGR1cGxpY2F0ZSA9IHRydWVcblx0ICAgICAgaWYgKCghaXNVbmRlZmluZWQob1trZXldKSAmJiBmbGFncy5uYXJnc1trZXldID09PSAxKSB8fCAoQXJyYXkuaXNBcnJheShvW2tleV0pICYmIG9ba2V5XS5sZW5ndGggPT09IGZsYWdzLm5hcmdzW2tleV0pKSB7XG5cdCAgICAgICAgb1trZXldID0gdW5kZWZpbmVkXG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAodmFsdWUgPT09IGluY3JlbWVudCkge1xuXHQgICAgICBvW2tleV0gPSBpbmNyZW1lbnQob1trZXldKVxuXHQgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9ba2V5XSkpIHtcblx0ICAgICAgaWYgKGR1cGxpY2F0ZSAmJiBpc1R5cGVBcnJheSAmJiBpc1ZhbHVlQXJyYXkpIHtcblx0ICAgICAgICBvW2tleV0gPSBjb25maWd1cmF0aW9uWydmbGF0dGVuLWR1cGxpY2F0ZS1hcnJheXMnXSA/IG9ba2V5XS5jb25jYXQodmFsdWUpIDogKEFycmF5LmlzQXJyYXkob1trZXldWzBdKSA/IG9ba2V5XSA6IFtvW2tleV1dKS5jb25jYXQoW3ZhbHVlXSlcblx0ICAgICAgfSBlbHNlIGlmICghZHVwbGljYXRlICYmIEJvb2xlYW4oaXNUeXBlQXJyYXkpID09PSBCb29sZWFuKGlzVmFsdWVBcnJheSkpIHtcblx0ICAgICAgICBvW2tleV0gPSB2YWx1ZVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIG9ba2V5XSA9IG9ba2V5XS5jb25jYXQoW3ZhbHVlXSlcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChvW2tleV0gPT09IHVuZGVmaW5lZCAmJiBpc1R5cGVBcnJheSkge1xuXHQgICAgICBvW2tleV0gPSBpc1ZhbHVlQXJyYXkgPyB2YWx1ZSA6IFt2YWx1ZV1cblx0ICAgIH0gZWxzZSBpZiAoZHVwbGljYXRlICYmICEob1trZXldID09PSB1bmRlZmluZWQgfHwgY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYm9vbHMpIHx8IGNoZWNrQWxsQWxpYXNlcyhrZXlzLmpvaW4oJy4nKSwgZmxhZ3MuYm9vbHMpIHx8IGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpKSB7XG5cdCAgICAgIG9ba2V5XSA9IFsgb1trZXldLCB2YWx1ZSBdXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBvW2tleV0gPSB2YWx1ZVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gZXh0ZW5kIHRoZSBhbGlhc2VzIGxpc3Qgd2l0aCBpbmZlcnJlZCBhbGlhc2VzLlxuXHQgIGZ1bmN0aW9uIGV4dGVuZEFsaWFzZXMgKC4uLmFyZ3MpIHtcblx0ICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgIE9iamVjdC5rZXlzKG9iaiB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBpZiB3ZSd2ZSBhbHJlYWR5IGFkZGVkIGEga2V5XG5cdCAgICAgICAgLy8gdG8gdGhlIGFsaWFzZXMgYXJyYXksIGZvciBleGFtcGxlIGl0IG1pZ2h0XG5cdCAgICAgICAgLy8gZXhpc3QgaW4gYm90aCAnb3B0cy5kZWZhdWx0JyBhbmQgJ29wdHMua2V5Jy5cblx0ICAgICAgICBpZiAoZmxhZ3MuYWxpYXNlc1trZXldKSByZXR1cm5cblx0XG5cdCAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldID0gW10uY29uY2F0KGFsaWFzZXNba2V5XSB8fCBbXSlcblx0ICAgICAgICAvLyBGb3IgXCItLW9wdGlvbi1uYW1lXCIsIGFsc28gc2V0IGFyZ3Yub3B0aW9uTmFtZVxuXHQgICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5jb25jYXQoa2V5KS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG5cdCAgICAgICAgICBpZiAoLy0vLnRlc3QoeCkgJiYgY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSkge1xuXHQgICAgICAgICAgICB2YXIgYyA9IGNhbWVsQ2FzZSh4KVxuXHQgICAgICAgICAgICBpZiAoYyAhPT0ga2V5ICYmIGZsYWdzLmFsaWFzZXNba2V5XS5pbmRleE9mKGMpID09PSAtMSkge1xuXHQgICAgICAgICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5wdXNoKGMpXG5cdCAgICAgICAgICAgICAgbmV3QWxpYXNlc1tjXSA9IHRydWVcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pXG5cdCAgICAgICAgLy8gRm9yIFwiLS1vcHRpb25OYW1lXCIsIGFsc28gc2V0IGFyZ3ZbJ29wdGlvbi1uYW1lJ11cblx0ICAgICAgICBmbGFncy5hbGlhc2VzW2tleV0uY29uY2F0KGtleSkuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuXHQgICAgICAgICAgaWYgKHgubGVuZ3RoID4gMSAmJiAvW0EtWl0vLnRlc3QoeCkgJiYgY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSkge1xuXHQgICAgICAgICAgICB2YXIgYyA9IGRlY2FtZWxpemUoeCwgJy0nKVxuXHQgICAgICAgICAgICBpZiAoYyAhPT0ga2V5ICYmIGZsYWdzLmFsaWFzZXNba2V5XS5pbmRleE9mKGMpID09PSAtMSkge1xuXHQgICAgICAgICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5wdXNoKGMpXG5cdCAgICAgICAgICAgICAgbmV3QWxpYXNlc1tjXSA9IHRydWVcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pXG5cdCAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcblx0ICAgICAgICAgIGZsYWdzLmFsaWFzZXNbeF0gPSBba2V5XS5jb25jYXQoZmxhZ3MuYWxpYXNlc1trZXldLmZpbHRlcihmdW5jdGlvbiAoeSkge1xuXHQgICAgICAgICAgICByZXR1cm4geCAhPT0geVxuXHQgICAgICAgICAgfSkpXG5cdCAgICAgICAgfSlcblx0ICAgICAgfSlcblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICAvLyBjaGVjayBpZiBhIGZsYWcgaXMgc2V0IGZvciBhbnkgb2YgYSBrZXkncyBhbGlhc2VzLlxuXHQgIGZ1bmN0aW9uIGNoZWNrQWxsQWxpYXNlcyAoa2V5LCBmbGFnKSB7XG5cdCAgICB2YXIgaXNTZXQgPSBmYWxzZVxuXHQgICAgdmFyIHRvQ2hlY2sgPSBbXS5jb25jYXQoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdLCBrZXkpXG5cdFxuXHQgICAgdG9DaGVjay5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgaWYgKGZsYWdba2V5XSkgaXNTZXQgPSBmbGFnW2tleV1cblx0ICAgIH0pXG5cdFxuXHQgICAgcmV0dXJuIGlzU2V0XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBzZXREZWZhdWx0ZWQgKGtleSkge1xuXHQgICAgW10uY29uY2F0KGZsYWdzLmFsaWFzZXNba2V5XSB8fCBbXSwga2V5KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG5cdCAgICAgIGZsYWdzLmRlZmF1bHRlZFtrXSA9IHRydWVcblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiB1bnNldERlZmF1bHRlZCAoa2V5KSB7XG5cdCAgICBbXS5jb25jYXQoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdLCBrZXkpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcblx0ICAgICAgZGVsZXRlIGZsYWdzLmRlZmF1bHRlZFtrXVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIC8vIG1ha2UgYSBiZXN0IGVmZm9yIHRvIHBpY2sgYSBkZWZhdWx0IHZhbHVlXG5cdCAgLy8gZm9yIGFuIG9wdGlvbiBiYXNlZCBvbiBuYW1lIGFuZCB0eXBlLlxuXHQgIGZ1bmN0aW9uIGRlZmF1bHRWYWx1ZSAoa2V5KSB7XG5cdCAgICBpZiAoIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSAmJlxuXHQgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpICYmXG5cdCAgICAgICAgYCR7a2V5fWAgaW4gZGVmYXVsdHMpIHtcblx0ICAgICAgcmV0dXJuIGRlZmF1bHRzW2tleV1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBkZWZhdWx0Rm9yVHlwZShndWVzc1R5cGUoa2V5KSlcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIHJldHVybiBhIGRlZmF1bHQgdmFsdWUsIGdpdmVuIHRoZSB0eXBlIG9mIGEgZmxhZy4sXG5cdCAgLy8gZS5nLiwga2V5IG9mIHR5cGUgJ3N0cmluZycgd2lsbCBkZWZhdWx0IHRvICcnLCByYXRoZXIgdGhhbiAndHJ1ZScuXG5cdCAgZnVuY3Rpb24gZGVmYXVsdEZvclR5cGUgKHR5cGUpIHtcblx0ICAgIHZhciBkZWYgPSB7XG5cdCAgICAgIGJvb2xlYW46IHRydWUsXG5cdCAgICAgIHN0cmluZzogJycsXG5cdCAgICAgIG51bWJlcjogdW5kZWZpbmVkLFxuXHQgICAgICBhcnJheTogW11cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZGVmW3R5cGVdXG5cdCAgfVxuXHRcblx0ICAvLyBnaXZlbiBhIGZsYWcsIGVuZm9yY2UgYSBkZWZhdWx0IHR5cGUuXG5cdCAgZnVuY3Rpb24gZ3Vlc3NUeXBlIChrZXkpIHtcblx0ICAgIHZhciB0eXBlID0gJ2Jvb2xlYW4nXG5cdFxuXHQgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLnN0cmluZ3MpKSB0eXBlID0gJ3N0cmluZydcblx0ICAgIGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm51bWJlcnMpKSB0eXBlID0gJ251bWJlcidcblx0ICAgIGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmFycmF5cykpIHR5cGUgPSAnYXJyYXknXG5cdFxuXHQgICAgcmV0dXJuIHR5cGVcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzTnVtYmVyICh4KSB7XG5cdCAgICBpZiAoeCA9PT0gbnVsbCB8fCB4ID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZVxuXHQgICAgLy8gaWYgbG9hZGVkIGZyb20gY29uZmlnLCBtYXkgYWxyZWFkeSBiZSBhIG51bWJlci5cblx0ICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHJldHVybiB0cnVlXG5cdCAgICAvLyBoZXhhZGVjaW1hbC5cblx0ICAgIGlmICgvXjB4WzAtOWEtZl0rJC9pLnRlc3QoeCkpIHJldHVybiB0cnVlXG5cdCAgICAvLyBkb24ndCB0cmVhdCAwMTIzIGFzIGEgbnVtYmVyOyBhcyBpdCBkcm9wcyB0aGUgbGVhZGluZyAnMCcuXG5cdCAgICBpZiAoeC5sZW5ndGggPiAxICYmIHhbMF0gPT09ICcwJykgcmV0dXJuIGZhbHNlXG5cdCAgICByZXR1cm4gL15bLV0/KD86XFxkKyg/OlxcLlxcZCopP3xcXC5cXGQrKShlWy0rXT9cXGQrKT8kLy50ZXN0KHgpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpc1VuZGVmaW5lZCAobnVtKSB7XG5cdCAgICByZXR1cm4gbnVtID09PSB1bmRlZmluZWRcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBhcmd2OiBhcmd2LFxuXHQgICAgZXJyb3I6IGVycm9yLFxuXHQgICAgYWxpYXNlczogZmxhZ3MuYWxpYXNlcyxcblx0ICAgIG5ld0FsaWFzZXM6IG5ld0FsaWFzZXMsXG5cdCAgICBjb25maWd1cmF0aW9uOiBjb25maWd1cmF0aW9uXG5cdCAgfVxuXHR9XG5cdFxuXHQvLyBpZiBhbnkgYWxpYXNlcyByZWZlcmVuY2UgZWFjaCBvdGhlciwgd2Ugc2hvdWxkXG5cdC8vIG1lcmdlIHRoZW0gdG9nZXRoZXIuXG5cdGZ1bmN0aW9uIGNvbWJpbmVBbGlhc2VzIChhbGlhc2VzKSB7XG5cdCAgdmFyIGFsaWFzQXJyYXlzID0gW11cblx0ICB2YXIgY2hhbmdlID0gdHJ1ZVxuXHQgIHZhciBjb21iaW5lZCA9IHt9XG5cdFxuXHQgIC8vIHR1cm4gYWxpYXMgbG9va3VwIGhhc2gge2tleTogWydhbGlhczEnLCAnYWxpYXMyJ119IGludG9cblx0ICAvLyBhIHNpbXBsZSBhcnJheSBbJ2tleScsICdhbGlhczEnLCAnYWxpYXMyJ11cblx0ICBPYmplY3Qua2V5cyhhbGlhc2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGFsaWFzQXJyYXlzLnB1c2goXG5cdCAgICAgIFtdLmNvbmNhdChhbGlhc2VzW2tleV0sIGtleSlcblx0ICAgIClcblx0ICB9KVxuXHRcblx0ICAvLyBjb21iaW5lIGFycmF5cyB1bnRpbCB6ZXJvIGNoYW5nZXMgYXJlXG5cdCAgLy8gbWFkZSBpbiBhbiBpdGVyYXRpb24uXG5cdCAgd2hpbGUgKGNoYW5nZSkge1xuXHQgICAgY2hhbmdlID0gZmFsc2Vcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxpYXNBcnJheXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgZm9yICh2YXIgaWkgPSBpICsgMTsgaWkgPCBhbGlhc0FycmF5cy5sZW5ndGg7IGlpKyspIHtcblx0ICAgICAgICB2YXIgaW50ZXJzZWN0ID0gYWxpYXNBcnJheXNbaV0uZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgICByZXR1cm4gYWxpYXNBcnJheXNbaWldLmluZGV4T2YodikgIT09IC0xXG5cdCAgICAgICAgfSlcblx0XG5cdCAgICAgICAgaWYgKGludGVyc2VjdC5sZW5ndGgpIHtcblx0ICAgICAgICAgIGFsaWFzQXJyYXlzW2ldID0gYWxpYXNBcnJheXNbaV0uY29uY2F0KGFsaWFzQXJyYXlzW2lpXSlcblx0ICAgICAgICAgIGFsaWFzQXJyYXlzLnNwbGljZShpaSwgMSlcblx0ICAgICAgICAgIGNoYW5nZSA9IHRydWVcblx0ICAgICAgICAgIGJyZWFrXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBtYXAgYXJyYXlzIGJhY2sgdG8gdGhlIGhhc2gtbG9va3VwIChkZS1kdXBlIHdoaWxlXG5cdCAgLy8gd2UncmUgYXQgaXQpLlxuXHQgIGFsaWFzQXJyYXlzLmZvckVhY2goZnVuY3Rpb24gKGFsaWFzQXJyYXkpIHtcblx0ICAgIGFsaWFzQXJyYXkgPSBhbGlhc0FycmF5LmZpbHRlcihmdW5jdGlvbiAodiwgaSwgc2VsZikge1xuXHQgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKHYpID09PSBpXG5cdCAgICB9KVxuXHQgICAgY29tYmluZWRbYWxpYXNBcnJheS5wb3AoKV0gPSBhbGlhc0FycmF5XG5cdCAgfSlcblx0XG5cdCAgcmV0dXJuIGNvbWJpbmVkXG5cdH1cblx0XG5cdC8vIHRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gYSBjb3VudCBpcyBnaXZlbiBhcyBhbiBhcmdcblx0Ly8gaXQgaXMgTk9UIGNhbGxlZCB0byBzZXQgYSBkZWZhdWx0IHZhbHVlXG5cdC8vIHRodXMgd2UgY2FuIHN0YXJ0IHRoZSBjb3VudCBhdCAxIGluc3RlYWQgb2YgMFxuXHRmdW5jdGlvbiBpbmNyZW1lbnQgKG9yaWcpIHtcblx0ICByZXR1cm4gb3JpZyAhPT0gdW5kZWZpbmVkID8gb3JpZyArIDEgOiAxXG5cdH1cblx0XG5cdGZ1bmN0aW9uIFBhcnNlciAoYXJncywgb3B0cykge1xuXHQgIHZhciByZXN1bHQgPSBwYXJzZShhcmdzLnNsaWNlKCksIG9wdHMpXG5cdFxuXHQgIHJldHVybiByZXN1bHQuYXJndlxuXHR9XG5cdFxuXHQvLyBwYXJzZSBhcmd1bWVudHMgYW5kIHJldHVybiBkZXRhaWxlZFxuXHQvLyBtZXRhIGluZm9ybWF0aW9uLCBhbGlhc2VzLCBldGMuXG5cdFBhcnNlci5kZXRhaWxlZCA9IGZ1bmN0aW9uIChhcmdzLCBvcHRzKSB7XG5cdCAgcmV0dXJuIHBhcnNlKGFyZ3Muc2xpY2UoKSwgb3B0cylcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBQYXJzZXJcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KSkpXG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHRmdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICB9XG5cdH0gKCkpXG5cdGZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG5cdCAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG5cdCAgICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3Jcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHR9XG5cdGZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcblx0ICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cblx0ICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0XG5cdH1cblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0cHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5cdHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRjb25zdCBwcmVzZXJ2ZUNhbWVsQ2FzZSA9IHN0cmluZyA9PiB7XG5cdFx0bGV0IGlzTGFzdENoYXJMb3dlciA9IGZhbHNlO1xuXHRcdGxldCBpc0xhc3RDaGFyVXBwZXIgPSBmYWxzZTtcblx0XHRsZXQgaXNMYXN0TGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXHRcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgY2hhcmFjdGVyID0gc3RyaW5nW2ldO1xuXHRcblx0XHRcdGlmIChpc0xhc3RDaGFyTG93ZXIgJiYgL1thLXpBLVpdLy50ZXN0KGNoYXJhY3RlcikgJiYgY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkgPT09IGNoYXJhY3Rlcikge1xuXHRcdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgaSkgKyAnLScgKyBzdHJpbmcuc2xpY2UoaSk7XG5cdFx0XHRcdGlzTGFzdENoYXJMb3dlciA9IGZhbHNlO1xuXHRcdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSB0cnVlO1xuXHRcdFx0XHRpKys7XG5cdFx0XHR9IGVsc2UgaWYgKGlzTGFzdENoYXJVcHBlciAmJiBpc0xhc3RMYXN0Q2hhclVwcGVyICYmIC9bYS16QS1aXS8udGVzdChjaGFyYWN0ZXIpICYmIGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpID09PSBjaGFyYWN0ZXIpIHtcblx0XHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIGkgLSAxKSArICctJyArIHN0cmluZy5zbGljZShpIC0gMSk7XG5cdFx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRcdGlzTGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXHRcdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aXNMYXN0Q2hhckxvd2VyID0gY2hhcmFjdGVyLnRvTG93ZXJDYXNlKCkgPT09IGNoYXJhY3RlciAmJiBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKSAhPT0gY2hhcmFjdGVyO1xuXHRcdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKSA9PT0gY2hhcmFjdGVyICYmIGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpICE9PSBjaGFyYWN0ZXI7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gc3RyaW5nO1xuXHR9O1xuXHRcblx0Y29uc3QgY2FtZWxDYXNlID0gKGlucHV0LCBvcHRpb25zKSA9PiB7XG5cdFx0aWYgKCEodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGlucHV0KSkpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBpbnB1dCB0byBiZSBgc3RyaW5nIHwgc3RyaW5nW11gJyk7XG5cdFx0fVxuXHRcblx0XHRvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0XHRwYXNjYWxDYXNlOiBmYWxzZVxuXHRcdH0sIG9wdGlvbnMpO1xuXHRcblx0XHRjb25zdCBwb3N0UHJvY2VzcyA9IHggPT4gb3B0aW9ucy5wYXNjYWxDYXNlID8geC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHguc2xpY2UoMSkgOiB4O1xuXHRcblx0XHRpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0XHRcdGlucHV0ID0gaW5wdXQubWFwKHggPT4geC50cmltKCkpXG5cdFx0XHRcdC5maWx0ZXIoeCA9PiB4Lmxlbmd0aClcblx0XHRcdFx0LmpvaW4oJy0nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aW5wdXQgPSBpbnB1dC50cmltKCk7XG5cdFx0fVxuXHRcblx0XHRpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fVxuXHRcblx0XHRpZiAoaW5wdXQubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucy5wYXNjYWxDYXNlID8gaW5wdXQudG9VcHBlckNhc2UoKSA6IGlucHV0LnRvTG93ZXJDYXNlKCk7XG5cdFx0fVxuXHRcblx0XHRjb25zdCBoYXNVcHBlckNhc2UgPSBpbnB1dCAhPT0gaW5wdXQudG9Mb3dlckNhc2UoKTtcblx0XG5cdFx0aWYgKGhhc1VwcGVyQ2FzZSkge1xuXHRcdFx0aW5wdXQgPSBwcmVzZXJ2ZUNhbWVsQ2FzZShpbnB1dCk7XG5cdFx0fVxuXHRcblx0XHRpbnB1dCA9IGlucHV0XG5cdFx0XHQucmVwbGFjZSgvXltfLlxcLSBdKy8sICcnKVxuXHRcdFx0LnRvTG93ZXJDYXNlKClcblx0XHRcdC5yZXBsYWNlKC9bXy5cXC0gXSsoXFx3fCQpL2csIChfLCBwMSkgPT4gcDEudG9VcHBlckNhc2UoKSlcblx0XHRcdC5yZXBsYWNlKC9cXGQrKFxcd3wkKS9nLCBtID0+IG0udG9VcHBlckNhc2UoKSk7XG5cdFxuXHRcdHJldHVybiBwb3N0UHJvY2VzcyhpbnB1dCk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGNhbWVsQ2FzZTtcblx0Ly8gVE9ETzogUmVtb3ZlIHRoaXMgZm9yIHRoZSBuZXh0IG1ham9yIHJlbGVhc2Vcblx0bW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGNhbWVsQ2FzZTtcblxuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIsIHNlcCkge1xuXHRcdGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSBzdHJpbmcnKTtcblx0XHR9XG5cdFxuXHRcdHNlcCA9IHR5cGVvZiBzZXAgPT09ICd1bmRlZmluZWQnID8gJ18nIDogc2VwO1xuXHRcblx0XHRyZXR1cm4gc3RyXG5cdFx0XHQucmVwbGFjZSgvKFthLXpcXGRdKShbQS1aXSkvZywgJyQxJyArIHNlcCArICckMicpXG5cdFx0XHQucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XFxkXSspL2csICckMScgKyBzZXAgKyAnJDInKVxuXHRcdFx0LnRvTG93ZXJDYXNlKCk7XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7Ly8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG5cdC8vXG5cdC8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG5cdC8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcblx0Ly8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG5cdC8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcblx0Ly8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuXHQvLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcblx0Ly8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cdC8vXG5cdC8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG5cdC8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXHQvL1xuXHQvLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG5cdC8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcblx0Ly8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuXHQvLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcblx0Ly8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG5cdC8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcblx0Ly8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblx0XG5cdC8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuXHQvLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuXHQvLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2hcblx0Ly8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuXHRmdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcblx0ICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuXHQgIHZhciB1cCA9IDA7XG5cdCAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICB2YXIgbGFzdCA9IHBhcnRzW2ldO1xuXHQgICAgaWYgKGxhc3QgPT09ICcuJykge1xuXHQgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG5cdCAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcblx0ICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuXHQgICAgICB1cCsrO1xuXHQgICAgfSBlbHNlIGlmICh1cCkge1xuXHQgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG5cdCAgICAgIHVwLS07XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG5cdCAgaWYgKGFsbG93QWJvdmVSb290KSB7XG5cdCAgICBmb3IgKDsgdXAtLTsgdXApIHtcblx0ICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBwYXJ0cztcblx0fVxuXHRcblx0Ly8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cblx0Ly8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cblx0dmFyIHNwbGl0UGF0aFJlID1cblx0ICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xuXHR2YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcblx0ICByZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG5cdH07XG5cdFxuXHQvLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG5cdC8vIHBvc2l4IHZlcnNpb25cblx0ZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuXHQgICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cdFxuXHQgIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG5cdCAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogcHJvY2Vzcy5jd2QoKTtcblx0XG5cdCAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXNcblx0ICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcblx0ICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcblx0ICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuXHQgIH1cblx0XG5cdCAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuXHQgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuXHRcblx0ICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcblx0ICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcblx0ICAgIHJldHVybiAhIXA7XG5cdCAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cdFxuXHQgIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcblx0fTtcblx0XG5cdC8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG5cdC8vIHBvc2l4IHZlcnNpb25cblx0ZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihwYXRoKSB7XG5cdCAgdmFyIGlzQWJzb2x1dGUgPSBleHBvcnRzLmlzQWJzb2x1dGUocGF0aCksXG5cdCAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cdFxuXHQgIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuXHQgIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG5cdCAgICByZXR1cm4gISFwO1xuXHQgIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpO1xuXHRcblx0ICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHtcblx0ICAgIHBhdGggPSAnLic7XG5cdCAgfVxuXHQgIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcblx0ICAgIHBhdGggKz0gJy8nO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDtcblx0fTtcblx0XG5cdC8vIHBvc2l4IHZlcnNpb25cblx0ZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuXHQgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuXHR9O1xuXHRcblx0Ly8gcG9zaXggdmVyc2lvblxuXHRleHBvcnRzLmpvaW4gPSBmdW5jdGlvbigpIHtcblx0ICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXHQgIHJldHVybiBleHBvcnRzLm5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG5cdCAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcDtcblx0ICB9KS5qb2luKCcvJykpO1xuXHR9O1xuXHRcblx0XG5cdC8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG5cdC8vIHBvc2l4IHZlcnNpb25cblx0ZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG5cdCAgZnJvbSA9IGV4cG9ydHMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG5cdCAgdG8gPSBleHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtcblx0XG5cdCAgZnVuY3Rpb24gdHJpbShhcnIpIHtcblx0ICAgIHZhciBzdGFydCA9IDA7XG5cdCAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG5cdCAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuXHQgICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuXHQgICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcblx0ICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG5cdCAgfVxuXHRcblx0ICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuXHQgIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblx0XG5cdCAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcblx0ICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcblx0ICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcblx0ICAgICAgYnJlYWs7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcblx0ICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuXHQgIH1cblx0XG5cdCAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblx0XG5cdCAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcblx0fTtcblx0XG5cdGV4cG9ydHMuc2VwID0gJy8nO1xuXHRleHBvcnRzLmRlbGltaXRlciA9ICc6Jztcblx0XG5cdGV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcblx0ICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuXHQgICAgICByb290ID0gcmVzdWx0WzBdLFxuXHQgICAgICBkaXIgPSByZXN1bHRbMV07XG5cdFxuXHQgIGlmICghcm9vdCAmJiAhZGlyKSB7XG5cdCAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcblx0ICAgIHJldHVybiAnLic7XG5cdCAgfVxuXHRcblx0ICBpZiAoZGlyKSB7XG5cdCAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuXHQgICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gcm9vdCArIGRpcjtcblx0fTtcblx0XG5cdFxuXHRleHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG5cdCAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG5cdCAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzP1xuXHQgIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG5cdCAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcblx0ICB9XG5cdCAgcmV0dXJuIGY7XG5cdH07XG5cdFxuXHRcblx0ZXhwb3J0cy5leHRuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuXHQgIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG5cdCAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuXHQgICAgdmFyIHJlcyA9IFtdO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXM7XG5cdH1cblx0XG5cdC8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcblx0dmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG5cdCAgICA/IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfVxuXHQgICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG5cdCAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG5cdCAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7XG5cdCAgICB9XG5cdDtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KSkpXG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyB0YWtlIGFuIHVuLXNwbGl0IGFyZ3Ygc3RyaW5nIGFuZCB0b2tlbml6ZSBpdC5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJnU3RyaW5nKSB7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkoYXJnU3RyaW5nKSkge1xuXHQgICAgcmV0dXJuIGFyZ1N0cmluZy5tYXAoZSA9PiB0eXBlb2YgZSAhPT0gJ3N0cmluZycgPyBlICsgJycgOiBlKVxuXHQgIH1cblx0XG5cdCAgYXJnU3RyaW5nID0gYXJnU3RyaW5nLnRyaW0oKVxuXHRcblx0ICB2YXIgaSA9IDBcblx0ICB2YXIgcHJldkMgPSBudWxsXG5cdCAgdmFyIGMgPSBudWxsXG5cdCAgdmFyIG9wZW5pbmcgPSBudWxsXG5cdCAgdmFyIGFyZ3MgPSBbXVxuXHRcblx0ICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgYXJnU3RyaW5nLmxlbmd0aDsgaWkrKykge1xuXHQgICAgcHJldkMgPSBjXG5cdCAgICBjID0gYXJnU3RyaW5nLmNoYXJBdChpaSlcblx0XG5cdCAgICAvLyBzcGxpdCBvbiBzcGFjZXMgdW5sZXNzIHdlJ3JlIGluIHF1b3Rlcy5cblx0ICAgIGlmIChjID09PSAnICcgJiYgIW9wZW5pbmcpIHtcblx0ICAgICAgaWYgKCEocHJldkMgPT09ICcgJykpIHtcblx0ICAgICAgICBpKytcblx0ICAgICAgfVxuXHQgICAgICBjb250aW51ZVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIGRvbid0IHNwbGl0IHRoZSBzdHJpbmcgaWYgd2UncmUgaW4gbWF0Y2hpbmdcblx0ICAgIC8vIG9wZW5pbmcgb3IgY2xvc2luZyBzaW5nbGUgYW5kIGRvdWJsZSBxdW90ZXMuXG5cdCAgICBpZiAoYyA9PT0gb3BlbmluZykge1xuXHQgICAgICBvcGVuaW5nID0gbnVsbFxuXHQgICAgfSBlbHNlIGlmICgoYyA9PT0gXCInXCIgfHwgYyA9PT0gJ1wiJykgJiYgIW9wZW5pbmcpIHtcblx0ICAgICAgb3BlbmluZyA9IGNcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWFyZ3NbaV0pIGFyZ3NbaV0gPSAnJ1xuXHQgICAgYXJnc1tpXSArPSBjXG5cdCAgfVxuXHRcblx0ICByZXR1cm4gYXJnc1xuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIHNsb3dMb2csXG5cdCAgc2VyaWVzLFxuXHQgIHJhbmRvbU51bWJlclxuXHR9XG5cdFxuXHRmdW5jdGlvbiByYW5kb21OdW1iZXIgKG1pbiwgbWF4KSB7XG5cdCAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2xvd0xvZyh0LCBpdGVyYXRvciwgbWluLCBtYXgsIGRvbmUpIHtcblx0ICBsZXQgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKVxuXHRcblx0ICBpZiAobmV4dCA9PT0gdW5kZWZpbmVkIHx8IG5leHQgPT09IG51bGwpIHtcblx0ICAgIHJldHVybiBkb25lKClcblx0ICB9XG5cdFxuXHQgIHQucHJpbnQobmV4dC5yZXBsYWNlKC9cXHQvZywgJycpICsgJzxici8+Jylcblx0XG5cdCAgc2V0VGltZW91dCgoKSA9PiB7XG5cdCAgICBzbG93TG9nKHQsIGl0ZXJhdG9yLCBtaW4sIG1heCwgZG9uZSlcblx0ICB9LCByYW5kb21OdW1iZXIobWluLCBtYXgpKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXJpZXMgKG9wcywgZG9uZSkge1xuXHQgIGNvbnN0IG9wID0gb3BzLnNoaWZ0KClcblx0XG5cdCAgb3AoKGVyciwgcmVzKSA9PiB7XG5cdCAgICBpZiAoZXJyKSB7XG5cdCAgICAgIHJldHVybiBkb25lKGVycilcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIW9wcy5sZW5ndGgpIHtcblx0ICAgICAgcmV0dXJuIGRvbmUobnVsbCwgcmVzKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBzZXJpZXMob3BzLCBkb25lKVxuXHQgIH0pXG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDIzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1hcCA9IHtcblx0XHRcIi4vaW5kZXhcIjogMTYsXG5cdFx0XCIuL2luZGV4LmpzXCI6IDE2LFxuXHRcdFwiLi9saWIvdG9rZW5pemUtYXJnLXN0cmluZ1wiOiAyMSxcblx0XHRcIi4vbGliL3Rva2VuaXplLWFyZy1zdHJpbmcuanNcIjogMjFcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18od2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkpO1xuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdFx0cmV0dXJuIG1hcFtyZXFdIHx8IChmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIikgfSgpKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcblx0d2VicGFja0NvbnRleHQuaWQgPSAyMztcblxuXG4vKioqLyB9KSxcbi8qIDI0ICovLFxuLyogMjUgKi8sXG4vKiAyNiAqLyxcbi8qIDI3ICovLFxuLyogMjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCB1c2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpXG5cdGNvbnN0IGdyb3VwcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuXHQgIGdyb3Vwcy5hZGQoJ3Jvb3QnKVxuXHQgIGdyb3Vwcy5hZGQoJ3doZWVsJylcblx0ICBncm91cHMuYWRkKCdzdGFmZicpXG5cdCAgZ3JvdXBzLmFkZCgnYWxleCcpXG5cdFxuXHQgIHVzZXJBZGQoJ3Jvb3QnLCBbXSlcblx0ICB1c2VyQWRkKCdhbGV4JywgWyd3aGVlbCcsICdzdGFmZiddKVxuXHRcblx0ICBmcy5jZCgnL2hvbWUvYWxleCcpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVzZXJBZGQgKG5hbWUsIGdyb3Vwcykge1xuXHQgIGxldCBob21lID0gYC9ob21lLyR7bmFtZX1gXG5cdFxuXHQgIGlmIChuYW1lID09PSAncm9vdCcpIHtcblx0ICAgIGhvbWUgPSAnL3Jvb3QnXG5cdCAgfVxuXHRcblx0ICB1c2Vycy5hZGQobmFtZSwgaG9tZSwgbmFtZSwgZ3JvdXBzKVxuXHRcblx0ICBpZiAobmFtZSA9PT0gJ3Jvb3QnKSB7XG5cdCAgICBmcy5ta2Rpcihob21lLCB1c2Vycy5pZHMoJ3Jvb3QnKSlcblx0ICB9IGVsc2Uge1xuXHQgICAgZnMubWtkaXIoJy9ob21lJywgdXNlcnMuaWRzKCdyb290JykpXG5cdCAgICBmcy5ta2Rpcihob21lLCB1c2Vycy5pZHMobmFtZSkpXG5cdCAgfVxuXHRcblx0ICBmcy5ta2RpcihgJHtob21lfS9Eb2N1bWVudHNgLCB1c2Vycy5pZHMobmFtZSkpXG5cdCAgZnMubWtkaXIoYCR7aG9tZX0vQ29kZWAsIHVzZXJzLmlkcyhuYW1lKSlcblx0ICBmcy53cml0ZShgJHtob21lfS8uYmFzaF9oaXN0b3J5YCwgYGxzXG5cdCAgbHNcblx0ICBta2RpclxuXHQgIHJtIC1yZiAvYCwgdXNlcnMuaWRzKG5hbWUpKVxuXHQgIGZzLndyaXRlKGAke2hvbWV9Ly5iYXNoX3Byb2ZpbGVgLCBgc291cmNlIC9ldGMvcHJvZmlsZVxuXHRcblx0ICBleHBvcnQgTlZNX0RJUj1cIi8ke2hvbWV9fS8ubnZtXCJcblx0ICBbIC1zIFwiJE5WTV9ESVIvbnZtLnNoXCIgXSAmJiAuIFwiJE5WTV9ESVIvbnZtLnNoXCIgICMgVGhpcyBsb2FkcyBudm1cblx0XG5cdCAgbnZtIHVzZSAxMGAsIHVzZXJzLmlkcyhuYW1lKSlcblx0fVxuXG5cbi8qKiovIH0pLFxuLyogMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCBncm91cHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKVxuXHRcblx0bGV0IG5leHRVaWQgPSAwXG5cdGNvbnN0IHVzZXJzID0ge31cblx0XG5cdGNvbnN0IHVzZXJBcGkgPSB7XG5cdCAgYWRkOiAobmFtZSwgaG9tZSwgZ3JvdXAsIHN1cHBsZW1lbnRhcnlHcm91cHMpID0+IHtcblx0ICAgIHVzZXJzW25leHRVaWRdID0ge1xuXHQgICAgICB1aWQ6IG5leHRVaWQsXG5cdCAgICAgIGdpZDogZ3JvdXBzLmZpbmQoZ3JvdXApLmdpZCxcblx0ICAgICAgbmFtZSxcblx0ICAgICAgaG9tZSxcblx0ICAgICAgZ3JvdXBzOiBzdXBwbGVtZW50YXJ5R3JvdXBzLm1hcChncm91cCA9PiBncm91cHMuZmluZChncm91cCkuZ2lkKVxuXHQgICAgfVxuXHRcblx0ICAgIG5leHRVaWQrK1xuXHQgIH0sXG5cdCAgZmluZDogKGlkKSA9PiB7XG5cdCAgICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJyB8fCBpZCBpbnN0YW5jZW9mIFN0cmluZykge1xuXHQgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh1c2VycykuZmluZCh1c2VyID0+IHVzZXIubmFtZSA9PT0gaWQpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHVzZXJzW2lkXVxuXHQgIH0sXG5cdCAgaWRzOiAoaWQpID0+IHtcblx0ICAgIGNvbnN0IHJlc3VsdCA9IHVzZXJBcGkuZmluZChpZClcblx0XG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgdWlkOiByZXN1bHQudWlkLFxuXHQgICAgICAgIGdpZDogcmVzdWx0LmdpZCxcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB1c2VyQXBpXG5cdFxuXG5cbi8qKiovIH0pLFxuLyogMzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRsZXQgbmV4dEdpZCA9IDBcblx0Y29uc3QgZ3JvdXBzID0ge31cblx0XG5cdGNvbnN0IGdyb3VwQXBpID0ge1xuXHQgIGFkZDogKG5hbWUpID0+IHtcblx0ICAgIGdyb3Vwc1tuZXh0R2lkXSA9IHtcblx0ICAgICAgZ2lkOiBuZXh0R2lkLFxuXHQgICAgICBuYW1lXG5cdCAgICB9XG5cdFxuXHQgICAgbmV4dEdpZCsrXG5cdCAgfSxcblx0ICBmaW5kOiAoaWQpID0+IHtcblx0ICAgIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnIHx8IGlkIGluc3RhbmNlb2YgU3RyaW5nKSB7XG5cdCAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGdyb3VwcykuZmluZChnID0+IGcubmFtZSA9PT0gaWQpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGdyb3Vwc1tpZF1cblx0ICB9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZ3JvdXBBcGlcblxuXG4vKioqLyB9KSxcbi8qIDMxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Y29uc3Qge1xuXHQgIHJlc29sdmVcblx0fSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApXG5cdFxuXHRjb25zdCBjcmVhdGVEaXIgPSAoeyB1aWQsIGdpZCB9ID0ge30pID0+IHtcblx0ICByZXR1cm4ge1xuXHQgICAgdWlkOiB1aWQgfHwgMCxcblx0ICAgIGdpZDogZ2lkIHx8IDAsXG5cdCAgICBzaXplICgpIHtcblx0ICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuY2hpbGRyZW4pLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG5cdCAgICAgICAgcmV0dXJuIGFjYyArIHRoaXMuY2hpbGRyZW5bY3Vycl0uc2l6ZSgpXG5cdCAgICAgIH0sIDApXG5cdCAgICB9LFxuXHQgICAgbXRpbWU6IG5ldyBEYXRlKCksXG5cdCAgICBjaGlsZHJlbjogeyB9XG5cdCAgfVxuXHR9XG5cdFxuXHRjb25zdCBjcmVhdGVGaWxlID0gKGNvbnRlbnQgPSAnJywgeyB1aWQsIGdpZCB9ID0ge30pID0+IHtcblx0ICByZXR1cm4ge1xuXHQgICAgdWlkOiB1aWQgfHwgMCxcblx0ICAgIGdpZDogZ2lkIHx8IDAsXG5cdCAgICBzaXplICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGhcblx0ICAgIH0sXG5cdCAgICBtdGltZTogbmV3IERhdGUoKSxcblx0ICAgIGNvbnRlbnRcblx0ICB9XG5cdH1cblx0XG5cdGxldCBwd2QgPSAnL2hvbWUvYWxleCdcblx0Y29uc3QgZmlsZVN5c3RlbSA9IGNyZWF0ZURpcih7XG5cdCAgdWlkOiAwLFxuXHQgIGdpZDogMFxuXHR9KVxuXHRcblx0Y29uc3QgZnMgPSB7XG5cdCAgcHdkOiAoKSA9PiB7XG5cdCAgICByZXR1cm4gcHdkXG5cdCAgfSxcblx0ICBnZXROb2RlOiAoaW5wdXQpID0+IHtcblx0ICAgIGxldCBwYXRoID0gbm9ybWFsaXNlUGF0aChpbnB1dClcblx0XG5cdCAgICBpZiAocGF0aCA9PT0gJy8nKSB7XG5cdCAgICAgIHJldHVybiBmaWxlU3lzdGVtXG5cdCAgICB9XG5cdFxuXHQgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcLysvZywgJycpLnJlcGxhY2UoL1xcLyskL2csICcnKVxuXHQgICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJylcblx0ICAgIGxldCBub2RlID0gZmlsZVN5c3RlbS5jaGlsZHJlbltwYXJ0c1swXV1cblx0XG5cdCAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmICghbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV0pIHtcblx0ICAgICAgICByZXR1cm4gbnVsbFxuXHQgICAgICB9XG5cdFxuXHQgICAgICBub2RlID0gbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbm9kZVxuXHQgIH0sXG5cdCAgbWtkaXI6IChpbnB1dCwgb3B0cykgPT4ge1xuXHQgICAgbGV0IHBhdGggPSBub3JtYWxpc2VQYXRoKGlucHV0KVxuXHRcblx0ICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15cXC8rL2csICcnKS5yZXBsYWNlKC9cXC8rJC9nLCAnJylcblx0ICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpXG5cdCAgICBsZXQgbm9kZSA9IGZpbGVTeXN0ZW1cblx0XG5cdCAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGxldCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dXG5cdFxuXHQgICAgICBpZiAoY2hpbGQpIHtcblx0ICAgICAgICBub2RlID0gY2hpbGRcblx0ICAgICAgICBjb250aW51ZVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAob3B0cy5wIHx8IGkgPT09IHBhcnRzLmxlbmd0aCAtIDEpIHtcblx0ICAgICAgICBub2RlID0gbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV0gPSBjcmVhdGVEaXIob3B0cylcblx0XG5cdCAgICAgICAgY29udGludWVcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGBta2RpcjogJHtpbnB1dH06IE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnlgKVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgd3JpdGU6IChpbnB1dCwgY29udGVudCwgb3B0cykgPT4ge1xuXHQgICAgbGV0IHBhdGggPSBub3JtYWxpc2VQYXRoKGlucHV0KVxuXHRcblx0ICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15cXC8rL2csICcnKS5yZXBsYWNlKC9cXC8rJC9nLCAnJylcblx0ICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpXG5cdCAgICBsZXQgbm9kZSA9IGZpbGVTeXN0ZW1cblx0XG5cdCAgICBjb25zdCBmaWxlID0gcGFydHMucG9wKClcblx0XG5cdCAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGxldCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dXG5cdFxuXHQgICAgICBpZiAoY2hpbGQpIHtcblx0ICAgICAgICBub2RlID0gY2hpbGRcblx0ICAgICAgICBjb250aW51ZVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAob3B0cy5wKSB7XG5cdCAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dID0gY3JlYXRlRGlyKG9wdHMpXG5cdFxuXHQgICAgICAgIGNvbnRpbnVlXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihgdG91Y2g6ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcblx0ICAgIH1cblx0XG5cdCAgICBub2RlLmNoaWxkcmVuW2ZpbGVdID0gY3JlYXRlRmlsZShjb250ZW50LCBvcHRzKVxuXHQgIH0sXG5cdCAgcmVhZDogKGlucHV0KSA9PiB7XG5cdCAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQpXG5cdCAgICBjb25zdCBub2RlID0gZnMuZ2V0Tm9kZShwYXRoKVxuXHRcblx0ICAgIGlmICghbm9kZSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlYWQ6ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbm9kZS5jb250ZW50XG5cdCAgfSxcblx0ICBybTogKGlucHV0LCBvcHRzKSA9PiB7XG5cdCAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQpXG5cdFxuXHQgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcLysvZywgJycpLnJlcGxhY2UoL1xcLyskL2csICcnKVxuXHQgICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJylcblx0ICAgIGxldCBub2RlID0gZmlsZVN5c3RlbVxuXHRcblx0ICAgIGNvbnN0IGZpbGUgPSBwYXJ0cy5wb3AoKVxuXHRcblx0ICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgbGV0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV1cblx0XG5cdCAgICAgIGlmIChjaGlsZCkge1xuXHQgICAgICAgIG5vZGUgPSBjaGlsZFxuXHQgICAgICAgIGNvbnRpbnVlXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihgcm06ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIW5vZGUuY2hpbGRyZW5bZmlsZV0pIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGBybTogJHtpbnB1dH06IE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnlgKVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChub2RlLmNoaWxkcmVuW2ZpbGVdLmNoaWxkcmVuICYmICFvcHRzLnIpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGBybTogJHtpbnB1dH06IGlzIGEgZGlyZWN0b3J5YClcblx0ICAgIH1cblx0XG5cdCAgICBkZWxldGUgbm9kZS5jaGlsZHJlbltmaWxlXVxuXHQgIH0sXG5cdCAgY2Q6IChpbnB1dCkgPT4ge1xuXHQgICAgbGV0IHBhdGggPSBub3JtYWxpc2VQYXRoKGlucHV0KVxuXHQgICAgY29uc3Qgbm9kZSA9IGZzLmdldE5vZGUocGF0aClcblx0XG5cdCAgICBpZiAoIW5vZGUpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGAtYmFzaDogY2Q6ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcblx0ICAgIH1cblx0XG5cdCAgICBwd2QgPSBwYXRoXG5cdCAgfSxcblx0ICBsczogKGlucHV0KSA9PiB7XG5cdCAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQgfHwgcHdkKVxuXHQgICAgY29uc3Qgbm9kZSA9IGZzLmdldE5vZGUocGF0aClcblx0XG5cdCAgICBpZiAoIW5vZGUpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWFkOiAke2lucHV0fTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG5vZGUuY29udGVudCkge1xuXHQgICAgICByZXR1cm4gW3tcblx0ICAgICAgICBuYW1lOiBwYXRoLnNwbGl0KCcvJykucG9wKCksXG5cdCAgICAgICAgbm9kZTogbm9kZVxuXHQgICAgICB9XVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBPYmplY3Qua2V5cyhub2RlLmNoaWxkcmVuKVxuXHQgICAgICAubWFwKG5hbWUgPT4ge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICBuYW1lOiBuYW1lLFxuXHQgICAgICAgICAgbm9kZTogbm9kZS5jaGlsZHJlbltuYW1lXVxuXHQgICAgICAgIH1cblx0ICAgICAgfSlcblx0ICB9LFxuXHR9XG5cdFxuXHRmdW5jdGlvbiBub3JtYWxpc2VQYXRoIChpbnB1dCkge1xuXHQgIGxldCBwYXRoID0gaW5wdXRcblx0XG5cdCAgaWYgKHBhdGguc3Vic3RyaW5nKDAsIDEpICE9PSAnLycpIHtcblx0ICAgIHBhdGggPSBgJHtwd2R9LyR7cGF0aH1gXG5cdCAgfVxuXHRcblx0ICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXC8rL2csICcvJylcblx0ICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwvKy9nLCAnJykucmVwbGFjZSgvXFwvKyQvZywgJycpXG5cdCAgcGF0aCA9IGAvJHtwYXRofWBcblx0XG5cdCAgcGF0aCA9IHJlc29sdmUocGF0aClcblx0XG5cdCAgcmV0dXJuIHBhdGhcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmc1xuXG5cbi8qKiovIH0pLFxuLyogMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCBmcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdGNvbnN0IHVzZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSlcblx0Y29uc3QgZ3JvdXBzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBsZXQgZmlsZXMgPSBmcy5scyhhcmdzLl9bMF0pXG5cdCAgICBmaWxlcyA9IGZpbGVzLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXG5cdFxuXHQgICAgaWYgKCFhcmdzLmEpIHtcblx0ICAgICAgZmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLm5hbWUuc3Vic3RyaW5nKDAsIDEpICE9PSAnLicpXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGFyZ3MubCkge1xuXHQgICAgICByZXR1cm4gYFxuXHQgICAgICA8dGFibGU+PHRib2R5PlxuXHQgICAgICAgICR7XG5cdCAgICAgICAgICBmaWxlc1xuXHQgICAgICAgICAgLm1hcChjaGlsZCA9PiB7XG5cdCAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjaGlsZC5ub2RlXG5cdCAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBub2RlLm10aW1lLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tR0InLCB7XG5cdCAgICAgICAgICAgICAgZGF5OiAnMi1kaWdpdCcsXG5cdCAgICAgICAgICAgICAgbW9udGg6ICdzaG9ydCcsXG5cdCAgICAgICAgICAgICAgaG91cjogJzItZGlnaXQnLFxuXHQgICAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnXG5cdCAgICAgICAgICAgIH0pXG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gYDx0cj5cblx0ICAgICAgICAgICAgICA8dGQ+JHtub2RlLmNoaWxkcmVuID8gJ2QnIDogJy0nfXJ3LXItLXItLSZuYnNwOzwvdGQ+XG5cdCAgICAgICAgICAgICAgPHRkPiR7dXNlcnMuZmluZChub2RlLnVpZCkubmFtZX0mbmJzcDs8L3RkPlxuXHQgICAgICAgICAgICAgIDx0ZD4ke2dyb3Vwcy5maW5kKG5vZGUuZ2lkKS5uYW1lfSZuYnNwOzwvdGQ+XG5cdCAgICAgICAgICAgICAgPHRkPiR7bm9kZS5zaXplKCl9Jm5ic3A7PC90ZD5cblx0ICAgICAgICAgICAgICA8dGQ+JHtkYXRlfSZuYnNwOzwvdGQ+XG5cdCAgICAgICAgICAgICAgPHRkPiR7Y2hpbGQubmFtZX08L3RkPlxuXHQgICAgICAgICAgICA8L3RyPmBcblx0ICAgICAgICAgIH0pLmpvaW4oJycpXG5cdCAgICAgICAgfVxuXHQgICAgICA8dGJvZHk+PC90YWJsZT5gXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZpbGVzXG5cdCAgICAgIC5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKVxuXHQgICAgICAubWFwKGZpbGUgPT4gZmlsZS5uYW1lKVxuXHQgICAgICAuam9pbignICcpXG5cdCAgfSxcblx0ICBhcmdzOiB7XG5cdCAgICBib29sZWFuOiBbXG5cdCAgICAgICdsJyxcblx0ICAgICAgJ2EnXG5cdCAgICBdXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICgpID0+IHtcblx0ICAgIHJldHVybiBmcy5wd2QoKVxuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0pLFxuLyogMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCBmcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdGNvbnN0IHVzZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCB7IF8gfSA9IGFyZ3Ncblx0XG5cdCAgICBpZiAoIV8ubGVuZ3RoKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcigndXNhZ2U6IG1rZGlyIFstcHZdIFstbSBtb2RlXSBkaXJlY3RvcnkgLi4uJylcblx0ICAgIH1cblx0XG5cdCAgICBmb3IobGV0IGkgPSAwOyBpIDwgXy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBmcy5ta2RpcihfW2ldLCB7XG5cdCAgICAgICAgdWlkOiB1c2Vycy5maW5kKCdhbGV4JykudWlkLFxuXHQgICAgICAgIGdpZDogdXNlcnMuZmluZCgnYWxleCcpLmdpZCxcblx0ICAgICAgICBwOiBhcmdzLnBcblx0ICAgICAgfSlcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gJydcblx0ICB9LFxuXHQgIGFyZ3M6IHtcblx0ICAgIGJvb2xlYW46IFtcblx0ICAgICAgJ3AnXG5cdCAgICBdXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCB7IF8gfSA9IGFyZ3Ncblx0XG5cdCAgICBpZiAoIV8ubGVuZ3RoKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcigndXNhZ2U6IHRvdWNoIFstQSBbLV1bW2hoXW1tXVNTXSBbLWFjZmhtXSBbLXIgZmlsZV0gWy10IFtbQ0NdWVldTU1ERGhobW1bLlNTXV0gZmlsZSAuLi4nKVxuXHQgICAgfVxuXHRcblx0ICAgIGZzLndyaXRlKF9bMF0sICcnLCB7XG5cdCAgICAgIHVpZDogZnMudXNlcig1MDApLnVpZCxcblx0ICAgICAgZ2lkOiBmcy51c2VyKDUwMCkuZ2lkXG5cdCAgICB9KVxuXHRcblx0ICAgIHJldHVybiAnJ1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCBmcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuXHQgICAgbGV0IG5vZGUgPSBmcy5nZXROb2RlKGFyZ3MuX1swXSlcblx0XG5cdCAgICBpZiAoIW5vZGUpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYXQ6ICR7YXJncy5fWzBdfTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYXQ6ICR7YXJncy5fWzBdfTogSXMgYSBkaXJlY3RvcnlgKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBgPHByZT4ke25vZGUuY29udGVudH08L3ByZT5gXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAzNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCB7IF8gfSA9IGFyZ3Ncblx0XG5cdCAgICBpZiAoIV8ubGVuZ3RoKSB7XG5cdCAgICAgIF8ucHVzaCgnL2hvbWUvYWxleCcpXG5cdCAgICB9XG5cdFxuXHQgICAgZnMuY2QoX1swXSlcblx0XG5cdCAgICB0LnNldFByb21wdChfWzBdLnNwbGl0KCcvJykucG9wKCkgKyAnICcpXG5cdFxuXHQgICAgcmV0dXJuICcnXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAzOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IGZzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCB7IF8gfSA9IGFyZ3Ncblx0XG5cdCAgICBpZiAoIV8ubGVuZ3RoKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcigndXNhZ2U6IHJtIFstZiB8IC1pXSBbLWRQUnJ2V10gZmlsZSAuLi4gdW5saW5rIGZpbGUnKVxuXHQgICAgfVxuXHRcblx0ICAgIGZvcihsZXQgaSA9IDA7IGkgPCBfLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGZzLnJtKF9baV0sIGFyZ3MpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuICcnXG5cdCAgfSxcblx0ICBhcmdzOiB7XG5cdCAgICBib29sZWFuOiBbXG5cdCAgICAgICdyJyxcblx0ICAgICAgJ2YnXG5cdCAgICBdXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiAzOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBoYW5kbGVyOiAodCkgPT4ge1xuXHQgICAgdC5jbGVhcigpXG5cdFxuXHQgICAgcmV0dXJuICcnXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiA0MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuXHQgICAgaWYgKCFhcmdzLl8ubGVuZ3RoKSB7XG5cdCAgICAgIHJldHVybiB0LmdldFRoZW1lKClcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoYXJncy5fLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb28gbWFueSBhcmd1bWVudHMnKVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChhcmdzLl9bMF0ubWF0Y2goL15pbnRlcmxhY2VkfG1vZGVybnx3aGl0ZSQvKSkge1xuXHQgICAgICB0LnNldFRoZW1lKGFyZ3NbMF0pXG5cdCAgICAgIHJldHVybiAnJ1xuXHQgICAgfVxuXHRcblx0ICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0aGVtZScpXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiA0MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBoYW5kbGVyOiAoKSA9PiB7XG5cdCAgICByZXR1cm4gJzEuMC4yJ1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0pLFxuLyogNDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCB7XG5cdCAgc2xvd0xvZ1xuXHR9ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0XG5cdGNvbnN0IHN1YkNvbW1hbmRzID0ge1xuXHQgIGluc3RhbGw6IF9fd2VicGFja19yZXF1aXJlX18oNDMpXG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCBzdWJDb21tYW5kID0gYXJncy5fLnNoaWZ0KClcblx0XG5cdCAgICBpZiAoc3ViQ29tbWFuZHNbc3ViQ29tbWFuZF0pIHtcblx0ICAgICAgcmV0dXJuIHN1YkNvbW1hbmRzW3N1YkNvbW1hbmRdLmhhbmRsZXIodCwgYXJncylcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYDxwcmU+VXNhZ2U6IG5wbSA8Y29tbWFuZD5cblx0XG5cdHdoZXJlIDxjb21tYW5kPiBpcyBvbmUgb2Y6XG5cdCAgICAke09iamVjdC5rZXlzKHN1YkNvbW1hbmRzKS5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpfVxuXHRcblx0bnBtIDxjb21tYW5kPiAtaCAgcXVpY2sgaGVscCBvbiA8Y29tbWFuZD5cblx0bnBtIC1sICAgICAgICAgICAgZGlzcGxheSBmdWxsIHVzYWdlIGluZm9cblx0bnBtIGhlbHAgPHRlcm0+ICAgc2VhcmNoIGZvciBoZWxwIG9uIDx0ZXJtPlxuXHRucG0gaGVscCBucG0gICAgICBpbnZvbHZlZCBvdmVydmlld1xuXHRcblx0U3BlY2lmeSBjb25maWdzIGluIHRoZSBpbmktZm9ybWF0dGVkIGZpbGU6XG5cdCAgICAvaG9tZS9hbGV4Ly5ucG1yY1xuXHRvciBvbiB0aGUgY29tbWFuZCBsaW5lIHZpYTogbnBtIDxjb21tYW5kPiAtLWtleSB2YWx1ZVxuXHRDb25maWcgaW5mbyBjYW4gYmUgdmlld2VkIHZpYTogbnBtIGhlbHAgY29uZmlnXG5cdFxuXHRucG1ANi40LjEgL2hvbWUvYWxleC8ubnZtL3ZlcnNpb25zL25vZGUvdjEwLjE1LjMvbGliL25vZGVfbW9kdWxlcy9ucG08L3ByZT5gXG5cdCAgfSxcblx0ICBhcmdzOiB7XG5cdCAgICBib29sZWFuOiBbXG5cdCAgICAgICdzYXZlJywgJ3NhdmUtZGV2JywgJ3Byb2R1Y3Rpb24nLCAnZycsICdnbG9iYWwnXG5cdCAgICBdXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSksXG4vKiA0MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGNvbnN0IHtcblx0ICBucG1JbnN0YWxsTG9nXG5cdH0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcblx0ICAgIG5wbUluc3RhbGxMb2codCwge1xuXHQgICAgICBuYW1lOiBhcmdzLl9bMF0sXG5cdCAgICAgIGRlcGVuZGVuY2llczogW1xuXHQgICAgICAgICdkbnNjYWNoZScsXG5cdCAgICAgICAgJ2V4cHJlc3MtaHR0cC1wcm94eScsXG5cdCAgICAgICAgJ2lwZnNkLWN0bCcsXG5cdCAgICAgICAgJ2lwZnMtaHR0cC1jbGllbnQnLFxuXHQgICAgICAgICdpcGZzJyxcblx0ICAgICAgICAnZXhwcmVzcycsXG5cdCAgICAgICAgJ2RlYnVnJyxcblx0ICAgICAgICAnb25jZScsXG5cdCAgICAgICAgJ3JlcXVlc3QnLFxuXHQgICAgICAgICdyYycsXG5cdCAgICAgICAgJ3JlcXVlc3QtcHJvbWlzZScsXG5cdCAgICAgICAgJ3lhcmdzJyxcblx0ICAgICAgICAnQHlhcm5wa2clMmZsb2NrZmlsZScsXG5cdCAgICAgICAgJ2lwZnMtcmVnaXN0cnktbWlycm9yLWNvbW1vbicsXG5cdCAgICAgICAgJ3doaWNoLXByb21pc2UnXG5cdCAgICAgIF1cblx0ICAgIH0pXG5cdCAgfVxuXHR9XG5cdFxuXG5cbi8qKiovIH0pLFxuLyogNDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCB7XG5cdCAgc2xvd0xvZyxcblx0ICByYW5kb21OdW1iZXJcblx0fSA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdFxuXHRjb25zdCBucG1JbnN0YWxsTG9nID0gKHQsIHBrZykgPT4ge1xuXHQgIGxldCBkZXBzID0gW1xuXHQgICAgJ25wbSBpbmZvIGl0IHdvcmtlZCBpZiBpdCBlbmRzIHdpdGggb2snLFxuXHQgICAgJ25wbSBpbmZvIHVzaW5nIG5wbUA2LjQuMScsXG5cdCAgICAnbnBtIGluZm8gdXNpbmcgbm9kZUB2MTAuMTUuMycsXG5cdCAgICBgbnBtIGh0dHAgZmV0Y2ggR0VUIDMwNCBodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy8ke3BrZy5uYW1lfSA5OTdtcyAoZnJvbSBjYWNoZSlgLFxuXHQgICAgJ25wbSB0aW1pbmcgc3RhZ2U6bG9hZEN1cnJlbnRUcmVlIENvbXBsZXRlZCBpbiA2MjQ4bXMnLFxuXHQgICAgJ25wbSB0aW1pbmcgc3RhZ2U6bG9hZElkZWFsVHJlZTpjbG9uZUN1cnJlbnRUcmVlIENvbXBsZXRlZCBpbiAzNm1zJyxcblx0ICAgICducG0gdGltaW5nIHN0YWdlOmxvYWRJZGVhbFRyZWU6bG9hZFNocmlua3dyYXAgQ29tcGxldGVkIGluIDI0NTJtcydcblx0ICBdXG5cdFxuXHQgIHBrZy5kZXBlbmRlbmNpZXMuZm9yRWFjaChkZXAgPT4ge1xuXHQgICAgZGVwcy5wdXNoKGBucG0gaHR0cCBmZXRjaCBHRVQgMzA0IGh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnLyR7ZGVwfSAke3JhbmRvbU51bWJlcigxMDAsIDUwMCl9bXMgKGZyb20gY2FjaGUpYClcblx0ICB9KVxuXHRcblx0ICBwa2cuZGVwZW5kZW5jaWVzLmZvckVhY2goZGVwID0+IHtcblx0ICAgIGRlcHMucHVzaChgbnBtIGluZm8gbGlmZWN5Y2xlICR7ZGVwfUAwLjguMH5wb3N0aW5zdGFsbDogJHtkZXB9QDAuOC4wYClcblx0ICB9KVxuXHRcblx0ICBkZXBzID0gZGVwcy5jb25jYXQoW1xuXHQgICAgJ25wbSB0aW1pbmcgYWN0aW9uOnBvc3RpbnN0YWxsIENvbXBsZXRlZCBpbiAzOTFtcycsXG5cdCAgICAnbnBtIHRpbWluZyBzdGFnZTpleGVjdXRlQWN0aW9ucyBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuXHQgICAgJ25wbSB0aW1pbmcgc3RhZ2U6cm9sbGJhY2tGYWlsZWRPcHRpb25hbCBDb21wbGV0ZWQgaW4gMm1zJyxcblx0ICAgICducG0gdGltaW5nIHN0YWdlOnJ1blRvcExldmVsTGlmZWN5Y2xlcyBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuXHQgICAgYCsgJHtwa2cubmFtZX1AMC4xNi4zYCxcblx0ICAgICdhZGRlZCAxNjMgcGFja2FnZXMgZnJvbSAyODUgY29udHJpYnV0b3JzIGFuZCB1cGRhdGVkIDExMzIgcGFja2FnZXMgaW4gOTcuNzYxcycsXG5cdCAgICAnbnBtIHRpbWluZyBucG0gQ29tcGxldGVkIGluICV0aW1lJW1zJyxcblx0ICAgICducG0gaW5mbyBvaydcblx0ICBdKVxuXHRcblx0ICBjb25zdCBzdGFydCA9IERhdGUubm93KClcblx0XG5cdCAgc2xvd0xvZyh0LCB7XG5cdCAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGxldCBsaW5lID0gZGVwcy5zaGlmdCgpXG5cdFxuXHQgICAgICBpZiAoIWxpbmUpIHtcblx0ICAgICAgICByZXR1cm4gbnVsbFxuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gbGluZS5yZXBsYWNlKCcldGltZSUnLCBEYXRlLm5vdygpIC0gc3RhcnQpXG5cdCAgICB9XG5cdCAgfSwgNTAsIDIwMCwgKCkgPT4ge30pXG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIG5wbUluc3RhbGxMb2dcblx0fVxuXG4vKioqLyB9KSxcbi8qIDQ1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Y29uc3Qge1xuXHQgIHNsb3dMb2dcblx0fSA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdFxuXHRjb25zdCBzdWJDb21tYW5kcyA9IHtcblx0ICBpbml0OiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KSxcblx0ICBpbnN0YWxsOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuXHQgICAgY29uc3Qgc3ViQ29tbWFuZCA9IGFyZ3MuXy5zaGlmdCgpXG5cdFxuXHQgICAgaWYgKHN1YkNvbW1hbmRzW3N1YkNvbW1hbmRdKSB7XG5cdCAgICAgIHJldHVybiBzdWJDb21tYW5kc1tzdWJDb21tYW5kXS5oYW5kbGVyKHQsIGFyZ3MpXG5cdCAgICB9XG5cdFxuXHQgICAgY29uc3QgbG9nID0gW1xuXHQgICAgICAn8J+RqeKAjfCfmoAgU3RhcnRpbmcgbG9jYWwgcHJveHknLFxuXHQgICAgICAn8J+agCBTZXJ2ZXIgcnVubmluZyBvbiBwb3J0IDQ5ODIwJyxcblx0ICAgICAgJ/CfjoEgSW5zdGFsbGluZyBkZXBlbmRlbmNpZXMgd2l0aCAvVXNlcnMvYWxleC8ubnZtL3ZlcnNpb25zL25vZGUvdjEwLjE1LjMvYmluL25wbScsXG5cdCAgICAgICducG0gaW5mbyBpdCB3b3JrZWQgaWYgaXQgZW5kcyB3aXRoIG9rJyxcblx0ICAgICAgJ25wbSBpbmZvIHVzaW5nIG5wbUA2LjQuMScsXG5cdCAgICAgICducG0gaW5mbyB1c2luZyBub2RlQHYxMC4xNS4zJyxcblx0XG5cdCAgICAgIGA8cHJlPlVzYWdlOiBucG0gPGNvbW1hbmQ+XG5cdFxuXHR3aGVyZSA8Y29tbWFuZD4gaXMgb25lIG9mOlxuXHQgICAgYWNjZXNzLCBhZGR1c2VyLCBhdWRpdCwgYmluLCBidWdzLCBjLCBjYWNoZSwgY2ksIGNpdCxcblx0ICAgIGNvbXBsZXRpb24sIGNvbmZpZywgY3JlYXRlLCBkZHAsIGRlZHVwZSwgZGVwcmVjYXRlLFxuXHQgICAgZGlzdC10YWcsIGRvY3MsIGRvY3RvciwgZWRpdCwgZXhwbG9yZSwgZ2V0LCBoZWxwLFxuXHQgICAgaGVscC1zZWFyY2gsIGhvb2ssIGksIGluaXQsIGluc3RhbGwsIGluc3RhbGwtdGVzdCwgaXQsIGxpbmssXG5cdCAgICBsaXN0LCBsbiwgbG9naW4sIGxvZ291dCwgbHMsIG91dGRhdGVkLCBvd25lciwgcGFjaywgcGluZyxcblx0ICAgIHByZWZpeCwgcHJvZmlsZSwgcHJ1bmUsIHB1Ymxpc2gsIHJiLCByZWJ1aWxkLCByZXBvLCByZXN0YXJ0LFxuXHQgICAgcm9vdCwgcnVuLCBydW4tc2NyaXB0LCBzLCBzZSwgc2VhcmNoLCBzZXQsIHNocmlua3dyYXAsIHN0YXIsXG5cdCAgICBzdGFycywgc3RhcnQsIHN0b3AsIHQsIHRlYW0sIHRlc3QsIHRva2VuLCB0c3QsIHVuLFxuXHQgICAgdW5pbnN0YWxsLCB1bnB1Ymxpc2gsIHVuc3RhciwgdXAsIHVwZGF0ZSwgdiwgdmVyc2lvbiwgdmlldyxcblx0ICAgIHdob2FtaVxuXHRcblx0bnBtIDxjb21tYW5kPiAtaCAgcXVpY2sgaGVscCBvbiA8Y29tbWFuZD5cblx0bnBtIC1sICAgICAgICAgICAgZGlzcGxheSBmdWxsIHVzYWdlIGluZm9cblx0bnBtIGhlbHAgPHRlcm0+ICAgc2VhcmNoIGZvciBoZWxwIG9uIDx0ZXJtPlxuXHRucG0gaGVscCBucG0gICAgICBpbnZvbHZlZCBvdmVydmlld1xuXHRcblx0U3BlY2lmeSBjb25maWdzIGluIHRoZSBpbmktZm9ybWF0dGVkIGZpbGU6XG5cdCAgICAvVXNlcnMvYWxleC8ubnBtcmNcblx0b3Igb24gdGhlIGNvbW1hbmQgbGluZSB2aWE6IG5wbSA8Y29tbWFuZD4gLS1rZXkgdmFsdWVcblx0Q29uZmlnIGluZm8gY2FuIGJlIHZpZXdlZCB2aWE6IG5wbSBoZWxwIGNvbmZpZ1xuXHRcblx0bnBtQDYuNC4xIC9Vc2Vycy9hbGV4Ly5udm0vdmVyc2lvbnMvbm9kZS92MTAuMTUuMy9saWIvbm9kZV9tb2R1bGVzL25wbVxuXHTwn46BIC9Vc2Vycy9hbGV4Ly5udm0vdmVyc2lvbnMvbm9kZS92MTAuMTUuMy9iaW4vbnBtIGV4aXRlZCB3aXRoIGNvZGUgMVxuXHTwn6S3IE5vIHBhY2thZ2UtbG9jay5qc29uIGZvdW5kPC9wcmU+YFxuXHQgICAgXVxuXHRcblx0ICAgIHNsb3dMb2codCwge1xuXHQgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIGxvZy5zaGlmdCgpXG5cdCAgICAgIH1cblx0ICAgIH0sIDUwLCAyMDAsICgpID0+IHt9KVxuXHRcblx0ICAgIHJldHVybiAnJ1xuXHQgIH0sXG5cdCAgYXJnczoge1xuXHQgICAgYm9vbGVhbjogW1xuXHQgICAgICAnc2F2ZScsXG5cdCAgICAgICd5J1xuXHQgICAgXVxuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0pLFxuLyogNDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRjb25zdCBmcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdGNvbnN0IHVzZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSlcblx0Y29uc3Qge1xuXHQgIHNsb3dMb2dcblx0fSA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuXHQgICAgY29uc3QgcHdkID0gZnMucHdkKClcblx0ICAgIGNvbnN0IHByb2ogPSBwd2Quc3BsaXQoJy8nKS5wb3AoKVxuXHRcblx0ICAgIGNvbnN0IGNvbnRlbnQgPSBge1xuXHQgIFwibmFtZVwiOiBcIiR7cHJvan1cIixcblx0ICBcInZlcnNpb25cIjogXCIxLjAuMFwiLFxuXHQgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcblx0ICBcIm1haW5cIjogXCJpbmRleC5qc1wiLFxuXHQgIFwic2NyaXB0c1wiOiB7XG5cdCAgICBcInRlc3RcIjogXCJlY2hvIFxcXFxcIkVycm9yOiBubyB0ZXN0IHNwZWNpZmllZFxcXFxcIiAmJiBleGl0IDFcIlxuXHQgIH0sXG5cdCAgXCJrZXl3b3Jkc1wiOiBbXSxcblx0ICBcImF1dGhvclwiOiBcIlwiLFxuXHQgIFwibGljZW5zZVwiOiBcIklTQ1wiXG5cdH1gXG5cdFxuXHQgICAgZnMud3JpdGUoYCR7cHdkfS9wYWNrYWdlLmpzb25gLCBjb250ZW50LCB1c2Vycy5pZHMoJ2FsZXgnKSlcblx0XG5cdCAgICByZXR1cm4gYDxwcmU+V3JvdGUgdG8gJHtwd2R9L3BhY2thZ2UuanNvbjpcblx0XG5cdCAgICAke2NvbnRlbnR9PC9wcmU+YFxuXHQgIH0sXG5cdCAgYXJnczoge1xuXHQgICAgYm9vbGVhbjogW1xuXHQgICAgICAneSdcblx0ICAgIF1cblx0ICB9XG5cdH1cblxuXG4vKioqLyB9KSxcbi8qIDQ3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Y29uc3QgZnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKVxuXHRjb25zdCB1c2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpXG5cdGNvbnN0IHtcblx0ICBzbG93TG9nLFxuXHQgIHJhbmRvbU51bWJlclxuXHR9ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG5cdCAgICBjb25zdCBwd2QgPSBmcy5wd2QoKVxuXHQgICAgY29uc3QgcGtnID0gYCR7cHdkfS9wYWNrYWdlLmpzb25gXG5cdCAgICBjb25zdCBjb250ZW50ID0gZnMucmVhZChwa2cpXG5cdCAgICBjb25zdCBtYW5pZmVzdCA9IEpTT04ucGFyc2UoY29udGVudClcblx0XG5cdCAgICBpZiAoYXJncy5fLmxlbmd0aCkge1xuXHQgICAgICAvLyBpbnN0YWxsIGEgcGFja2FnZVxuXHQgICAgICBucG1JbnN0YWxsU2luZ2xlUGFja2FnZUxvZyh0LCBhcmdzLl9bMF0pXG5cdFxuXHQgICAgICBpZiAoYXJncy5zYXZlKSB7XG5cdCAgICAgICAgbWFuaWZlc3QuZGVwZW5kZW5jaWVzID0gbWFuaWZlc3QuZGVwZW5kZW5jaWVzIHx8IHt9XG5cdCAgICAgICAgbWFuaWZlc3QuZGVwZW5kZW5jaWVzW2FyZ3MuX1swXV0gPSAnXjkuMC4wJ1xuXHRcblx0ICAgICAgICBmcy53cml0ZShwa2csIEpTT04uc3RyaW5naWZ5KG1hbmlmZXN0LCBudWxsLCAyKSwgdXNlcnMuaWRzKCdhbGV4JykpXG5cdCAgICAgICAgZnMud3JpdGUoYCR7cHdkfS9wYWNrYWdlLWxvY2suanNvbmAsIGB7XG5cdCAgXCJuYW1lXCI6IFwiJHttYW5pZmVzdC5uYW1lfVwiLFxuXHQgIFwidmVyc2lvblwiOiBcIjEuMC4wXCIsXG5cdCAgXCJsb2NrZmlsZVZlcnNpb25cIjogMSxcblx0ICBcInJlcXVpcmVzXCI6IHRydWUsXG5cdCAgXCJkZXBlbmRlbmNpZXNcIjoge1xuXHQgICAgXCIke2FyZ3MuX1swXX1cIjoge1xuXHQgICAgICBcInZlcnNpb25cIjogXCI5LjAuMFwiLFxuXHQgICAgICBcInJlc29sdmVkXCI6IFwiaHR0cHM6Ly9yZWdpc3RyeS5qcy5pcGZzLmlvLyR7YXJncy5fWzBdfS8tLyR7YXJncy5fWzBdfS05LjAuMC50Z3pcIixcblx0ICAgICAgXCJpbnRlZ3JpdHlcIjogXCJzaGE1MTItdC9PWWhoSjJTRCtZR0JRY2pZOEd6ekRIRWs5ZjNuZXJ4anRmYTZ0bE1YZmU3ZnJzL1dvemh2Q05vR3ZwTTBQM2JOZjNHcTVaUk1sR3I1ZjNyNC9OOEE9PVwiXG5cdCAgICB9XG5cdCAgfVxuXHR9YClcblx0ICAgICAgICBmcy5ta2RpcihgJHtwd2R9L25vZGVfbW9kdWxlc2AsIHVzZXJzLmlkcygnYWxleCcpKVxuXHQgICAgICAgIGZzLm1rZGlyKGAke3B3ZH0vbm9kZV9tb2R1bGVzLyR7YXJncy5fWzBdfWAsIHVzZXJzLmlkcygnYWxleCcpKVxuXHQgICAgICAgIGZzLndyaXRlKGAke3B3ZH0vbm9kZV9tb2R1bGVzLyR7YXJncy5fWzBdfS9wYWNrYWdlLmpzb25gLCAnSSBhbSBhIHZlcnkgbmljZSBwYWNrYWdlJywgdXNlcnMuaWRzKCdhbGV4JykpXG5cdCAgICAgICAgZnMud3JpdGUoYCR7cHdkfS9ub2RlX21vZHVsZXMvJHthcmdzLl9bMF19L2luZGV4LmpzYCwgJ0xvb2sgYXQgbWUgYmVpbmcgYW4gaW1wbGVtZW50YXRpb24nLCB1c2Vycy5pZHMoJ2FsZXgnKSlcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8gaW5zdGFsbCBhbGwgb2YgdGhlIHBhY2thZ2VzXG5cdCAgICB9XG5cdCAgfSxcblx0ICBhcmdzOiB7XG5cdCAgICBib29sZWFuOiBbXG5cdCAgICAgICdzYXZlJ1xuXHQgICAgXVxuXHQgIH1cblx0fVxuXHRcblx0Y29uc3QgbnBtSW5zdGFsbFNpbmdsZVBhY2thZ2VMb2cgPSAodCwgcGtnKSA9PiB7XG5cdCAgbGV0IGxvZ3MgPSBbXG5cdCAgICAn8J+RqeKAjfCfmoAgU3RhcnRpbmcgbG9jYWwgcHJveHknLFxuXHQgICAgJ/CfmoAgU2VydmVyIHJ1bm5pbmcgb24gcG9ydCA2MDAwMCcsXG5cdCAgICAn8J+OgSBJbnN0YWxsaW5nIGRlcGVuZGVuY2llcyB3aXRoIC9ob21lL2FsZXgvLm52bS92ZXJzaW9ucy9ub2RlL3YxMC4xNS4zL2Jpbi9ucG0nLFxuXHQgICAgJ25wbSBpbmZvIGl0IHdvcmtlZCBpZiBpdCBlbmRzIHdpdGggb2snLFxuXHQgICAgJ25wbSBpbmZvIHVzaW5nIG5wbUA2LjQuMScsXG5cdCAgICAnbnBtIGluZm8gdXNpbmcgbm9kZUB2MTAuMTUuMycsXG5cdCAgICAn8J+YiCBTcGF3bmluZyBhbiBpbi1wcm9jZXNzIElQRlMgbm9kZSB1c2luZyByZXBvIGF0IC9ob21lL2FsZXgvLmpzaXBmczInLFxuXHQgICAgJ1N3YXJtIGxpc3RlbmluZyBvbiAvaXA0LzEyNy4wLjAuMS90Y3AvNjAwMTUvaXBmcy9RbVZZRGVMZzJVc2Z2WTF0WVF1SERONWlvaUNpZW5nZk5HaW1NRmJuanl2YmpiJyxcblx0ICAgICdTd2FybSBsaXN0ZW5pbmcgb24gL3AycC1jaXJjdWl0L2lwZnMvUW1WWURlTGcyVXNmdlkxdFlRdUhETjVpb2lDaWVuZ2ZOR2ltTUZibmp5dmJqYicsXG5cdCAgICAnU3dhcm0gbGlzdGVuaW5nIG9uIC9wMnAtY2lyY3VpdC9pcDQvMTI3LjAuMC4xL3RjcC82MDAxNS9pcGZzL1FtVllEZUxnMlVzZnZZMXRZUXVIRE41aW9pQ2llbmdmTkdpbU1GYm5qeXZiamInLFxuXHQgICAgJ/Cfl4LvuI8gIExvYWRpbmcgcmVnaXN0cnkgaW5kZXggZnJvbSBodHRwczovL3JlZ2lzdHJ5LmpzLmlwZnMuaW8nLFxuXHQgICAgJ+KYju+4jyAgRGlhbGxpbmcgcmVnaXN0cnkgbWlycm9yIC9pcDQvMzUuMTc4LjE5Mi4xMTkvdGNwLzEwMDM2L2lwZnMvUW1jdFE0VDFTdjFhQlR0Umh0em1Sd3ZBZjhzdnRITFBoSldXYnY2d2ZWY3JSTiwvZG5zNC9yZWdpc3RyeS5qcy5pcGZzLmlvL3RjcC8xMDAzNi9pcGZzL1FtY3RRNFQxU3YxYUJUdFJodHptUnd2QWY4c3Z0SExQaEpXV2J2NndmVmNyUk4nLFxuXHQgICAgJ/Cfk7HvuI8gQ29ubmVjdGVkIHRvIHJlZ2lzdHJ5Jyxcblx0ICAgIGDwn4aVIE5ldyB2ZXJzaW9ucyBvZiAke3BrZ30gZGV0ZWN0ZWQgLSAxLjAuMCwgMS4wLjEsIDEuMS4wLCAxLjEuMSwgMS4yLjAsIDEuMi4xLCAxLjMuMCwgMS40LjAsIDEuNC4xLCAxLjUuMCwgMi4wLjAsIDIuMC4xLCAyLjAuMiwgMi4wLjMsIDIuMC41LCAyLjAuNiwgMi4wLjcsIDIuMC44LCAyLjEuMCwgMi4xLjEsIDIuMS4yLCAyLjEuMywgMi4xLjQsIDIuMi4wLCAyLjMuMCwgMi40LjAsIDMuMC4wLCAzLjAuMSwgMy4xLjAsIDMuMS4xLCAzLjEuMiwgNC4wLjAsIDQuMC4xLCA0LjAuMiwgNC4wLjMsIDQuMC40LCA0LjEuMCwgNS4wLjAsIDYuMC4wLCA3LjAuMCwgNy4wLjEsIDcuMC4yLCA3LjEuMCwgNy4yLjAsIDcuMi4xLCA4LjAuMSwgOC4wLjIsIDguMS4xLCA5LjAuMCwgOC4xLjBgLFxuXHQgICAgYPCfk4QgR0VUIC8ke3BrZ30gMjAwIDI4NTdtc2AsXG5cdCAgICBgbnBtIGh0dHAgZmV0Y2ggR0VUIDIwMCBodHRwOi8vbG9jYWxob3N0OjYwMDAwLyR7cGtnfSAyOTA3bXNgLFxuXHQgICAgJ25wbSBXQVJOIGZvb0AxLjAuMCBObyBkZXNjcmlwdGlvbicsXG5cdCAgICAnbnBtIFdBUk4gZm9vQDEuMC4wIE5vIHJlcG9zaXRvcnkgZmllbGQuJyxcblx0ICAgICcgJyxcblx0ICAgICfwn5OEIFBPU1QgLy0vbnBtL3YxL3NlY3VyaXR5L2F1ZGl0cy9xdWljayAyMDAgNDM5bXMnLFxuXHQgICAgJ25wbSB0aW1pbmcgYXVkaXQgc3VibWl0IENvbXBsZXRlZCBpbiA0OTNtcycsXG5cdCAgICAnbnBtIGh0dHAgZmV0Y2ggUE9TVCAyMDAgaHR0cDovL2xvY2FsaG9zdDo2MDAwMC8tL25wbS92MS9zZWN1cml0eS9hdWRpdHMvcXVpY2sgNDkybXMnLFxuXHQgICAgJ25wbSB0aW1pbmcgYXVkaXQgYm9keSBDb21wbGV0ZWQgaW4gMG1zJyxcblx0ICAgIGArICR7cGtnfUA5LjAuMGAsXG5cdCAgICAnYWRkZWQgMSBwYWNrYWdlIGZyb20gMSBjb250cmlidXRvciBhbmQgYXVkaXRlZCAxIHBhY2thZ2UgaW4gJXRpbWUlbXMnLFxuXHQgICAgJ2ZvdW5kIDAgdnVsbmVyYWJpbGl0aWVzJyxcblx0ICAgICcgJyxcblx0ICAgICducG0gdGltaW5nIG5wbSBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuXHQgICAgJ25wbSBpbmZvIG9rICcsXG5cdCAgICAn8J+OgSAvVXNlcnMvYWxleC8ubnZtL3ZlcnNpb25zL25vZGUvdjEwLjE1LjMvYmluL25wbSBleGl0ZWQgd2l0aCBjb2RlIDAnLFxuXHQgICAgJ/CflI8gVXBkYXRpbmcgcGFja2FnZS1sb2NrLmpzb24nXG5cdCAgXVxuXHRcblx0ICBjb25zdCBzdGFydCA9IERhdGUubm93KClcblx0XG5cdCAgc2xvd0xvZyh0LCB7XG5cdCAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGxldCBsaW5lID0gbG9ncy5zaGlmdCgpXG5cdFxuXHQgICAgICBpZiAoIWxpbmUpIHtcblx0ICAgICAgICByZXR1cm4gbnVsbFxuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gbGluZS5yZXBsYWNlKCcldGltZSUnLCBEYXRlLm5vdygpIC0gc3RhcnQpXG5cdCAgICB9XG5cdCAgfSwgMjAwLCA1MDAsICgpID0+IHt9KVxuXHR9XG5cdFxuXHRcblx0XG5cdGNvbnN0IG5wbUluc3RhbGxMb2cgPSAodCwgcGtnKSA9PiB7XG5cdCAgbGV0IGRlcHMgPSBbXG5cdCAgICAnbnBtIGluZm8gaXQgd29ya2VkIGlmIGl0IGVuZHMgd2l0aCBvaycsXG5cdCAgICAnbnBtIGluZm8gdXNpbmcgbnBtQDYuNC4xJyxcblx0ICAgICducG0gaW5mbyB1c2luZyBub2RlQHYxMC4xNS4zJyxcblx0ICAgIGBucG0gaHR0cCBmZXRjaCBHRVQgMzA0IGh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnLyR7cGtnLm5hbWV9IDk5N21zIChmcm9tIGNhY2hlKWAsXG5cdCAgICAnbnBtIHRpbWluZyBzdGFnZTpsb2FkQ3VycmVudFRyZWUgQ29tcGxldGVkIGluIDYyNDhtcycsXG5cdCAgICAnbnBtIHRpbWluZyBzdGFnZTpsb2FkSWRlYWxUcmVlOmNsb25lQ3VycmVudFRyZWUgQ29tcGxldGVkIGluIDM2bXMnLFxuXHQgICAgJ25wbSB0aW1pbmcgc3RhZ2U6bG9hZElkZWFsVHJlZTpsb2FkU2hyaW5rd3JhcCBDb21wbGV0ZWQgaW4gMjQ1Mm1zJ1xuXHQgIF1cblx0XG5cdCAgcGtnLmRlcGVuZGVuY2llcy5mb3JFYWNoKGRlcCA9PiB7XG5cdCAgICBkZXBzLnB1c2goYG5wbSBodHRwIGZldGNoIEdFVCAzMDQgaHR0cHM6Ly9yZWdpc3RyeS5ucG1qcy5vcmcvJHtkZXB9ICR7cmFuZG9tTnVtYmVyKDEwMCwgNTAwKX1tcyAoZnJvbSBjYWNoZSlgKVxuXHQgIH0pXG5cdFxuXHQgIHBrZy5kZXBlbmRlbmNpZXMuZm9yRWFjaChkZXAgPT4ge1xuXHQgICAgZGVwcy5wdXNoKGBucG0gaW5mbyBsaWZlY3ljbGUgJHtkZXB9QDAuOC4wfnBvc3RpbnN0YWxsOiAke2RlcH1AMC44LjBgKVxuXHQgIH0pXG5cdFxuXHQgIGRlcHMgPSBkZXBzLmNvbmNhdChbXG5cdCAgICAnbnBtIHRpbWluZyBhY3Rpb246cG9zdGluc3RhbGwgQ29tcGxldGVkIGluIDM5MW1zJyxcblx0ICAgICducG0gdGltaW5nIHN0YWdlOmV4ZWN1dGVBY3Rpb25zIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG5cdCAgICAnbnBtIHRpbWluZyBzdGFnZTpyb2xsYmFja0ZhaWxlZE9wdGlvbmFsIENvbXBsZXRlZCBpbiAybXMnLFxuXHQgICAgJ25wbSB0aW1pbmcgc3RhZ2U6cnVuVG9wTGV2ZWxMaWZlY3ljbGVzIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG5cdCAgICBgKyAke3BrZy5uYW1lfUAwLjE2LjNgLFxuXHQgICAgJ2FkZGVkIDE2MyBwYWNrYWdlcyBmcm9tIDI4NSBjb250cmlidXRvcnMgYW5kIHVwZGF0ZWQgMTEzMiBwYWNrYWdlcyBpbiA5Ny43NjFzJyxcblx0ICAgICducG0gdGltaW5nIG5wbSBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuXHQgICAgJ25wbSBpbmZvIG9rJ1xuXHQgIF0pXG5cdFxuXHQgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKVxuXHRcblx0ICBzbG93TG9nKHQsIHtcblx0ICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgbGV0IGxpbmUgPSBkZXBzLnNoaWZ0KClcblx0XG5cdCAgICAgIGlmICghbGluZSkge1xuXHQgICAgICAgIHJldHVybiBudWxsXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBsaW5lLnJlcGxhY2UoJyV0aW1lJScsIERhdGUubm93KCkgLSBzdGFydClcblx0ICAgIH1cblx0ICB9LCA1MCwgMjAwLCAoKSA9PiB7fSlcblx0fVxuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGJlNDk3ZjIzODNmMWRiNDQwZTA5IiwicmVxdWlyZSgncHJpc21qcycpXG5jb25zdCBiZXNwb2tlID0gcmVxdWlyZSgnYmVzcG9rZScpXG5jb25zdCB0aGVtZSA9IHJlcXVpcmUoJ2Jlc3Bva2UtdGhlbWUtbmVidWxhJylcbmNvbnN0IGtleXMgPSByZXF1aXJlKCdiZXNwb2tlLWtleXMnKVxuY29uc3QgdG91Y2ggPSByZXF1aXJlKCdiZXNwb2tlLXRvdWNoJylcbmNvbnN0IGJ1bGxldHMgPSByZXF1aXJlKCdiZXNwb2tlLWJ1bGxldHMnKVxuY29uc3QgYmFja2Ryb3AgPSByZXF1aXJlKCdiZXNwb2tlLWJhY2tkcm9wJylcbmNvbnN0IHNjYWxlID0gcmVxdWlyZSgnYmVzcG9rZS1zY2FsZScpXG5jb25zdCBoYXNoID0gcmVxdWlyZSgnYmVzcG9rZS1oYXNoJylcbmNvbnN0IHByb2dyZXNzID0gcmVxdWlyZSgnYmVzcG9rZS1wcm9ncmVzcycpXG5jb25zdCBpbmRleEZpbmdlciA9IHJlcXVpcmUoJ2Jlc3Bva2UtaW5kZXhmaW5nZXInKVxuY29uc3Qgc2Vjb25kYXJ5ID0gcmVxdWlyZSgnYmVzcG9rZS1zZWNvbmRhcnknKVxuXG52YXIgcGx1Z2lucyA9IFtcbiAgdGhlbWUoKSxcbiAga2V5cygpLFxuICB0b3VjaCgpLFxuICBidWxsZXRzKCcuZGVsYXllZCwgLmJ1bGxldCcpLFxuICBiYWNrZHJvcCgpLFxuICBzY2FsZSgpLFxuICBoYXNoKCksXG4gIHByb2dyZXNzKCksXG4gIGluZGV4RmluZ2VyKCksXG4gIHNlY29uZGFyeSgpXG5dXG5cbnRyeSB7XG4gIHJlcXVpcmUoJ3BsdWdpbnMnKShwbHVnaW5zKVxufSBjYXRjaCAoZXJyb3IpIHtcblxufVxuXG52YXIgZGVjayA9IGJlc3Bva2UuZnJvbSgnYXJ0aWNsZScsIHBsdWdpbnMpXG5cbnRyeSB7XG4gIHJlcXVpcmUoJ2RlY2snKShkZWNrKVxufSBjYXRjaCAoZXJyb3IpIHtcblxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BhY2hpbmdicmFpbi9zbGlkZXMvdGVtcC9zbGlkZXMuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWNvcmUuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxudmFyIF9zZWxmID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuXHQ/IHdpbmRvdyAgIC8vIGlmIGluIGJyb3dzZXJcblx0OiAoXG5cdFx0KHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlKVxuXHRcdD8gc2VsZiAvLyBpZiBpbiB3b3JrZXJcblx0XHQ6IHt9ICAgLy8gaWYgaW4gbm9kZSBqc1xuXHQpO1xuXG4vKipcbiAqIFByaXNtOiBMaWdodHdlaWdodCwgcm9idXN0LCBlbGVnYW50IHN5bnRheCBoaWdobGlnaHRpbmdcbiAqIE1JVCBsaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwL1xuICogQGF1dGhvciBMZWEgVmVyb3UgaHR0cDovL2xlYS52ZXJvdS5tZVxuICovXG5cbnZhciBQcmlzbSA9IChmdW5jdGlvbiAoX3NlbGYpe1xuXG4vLyBQcml2YXRlIGhlbHBlciB2YXJzXG52YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pO1xudmFyIHVuaXF1ZUlkID0gMDtcblxudmFyIF8gPSB7XG5cdG1hbnVhbDogX3NlbGYuUHJpc20gJiYgX3NlbGYuUHJpc20ubWFudWFsLFxuXHRkaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXI6IF9zZWxmLlByaXNtICYmIF9zZWxmLlByaXNtLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcixcblx0dXRpbDoge1xuXHRcdGVuY29kZTogZnVuY3Rpb24gKHRva2Vucykge1xuXHRcdFx0aWYgKHRva2VucyBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdHJldHVybiBuZXcgVG9rZW4odG9rZW5zLnR5cGUsIF8udXRpbC5lbmNvZGUodG9rZW5zLmNvbnRlbnQpLCB0b2tlbnMuYWxpYXMpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRva2VucykpIHtcblx0XHRcdFx0cmV0dXJuIHRva2Vucy5tYXAoXy51dGlsLmVuY29kZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdG9rZW5zLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoL1xcdTAwYTAvZywgJyAnKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0dHlwZTogZnVuY3Rpb24gKG8pIHtcblx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuXHRcdH0sXG5cblx0XHRvYmpJZDogZnVuY3Rpb24gKG9iaikge1xuXHRcdFx0aWYgKCFvYmpbJ19faWQnXSkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnX19pZCcsIHsgdmFsdWU6ICsrdW5pcXVlSWQgfSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2JqWydfX2lkJ107XG5cdFx0fSxcblxuXHRcdC8vIERlZXAgY2xvbmUgYSBsYW5ndWFnZSBkZWZpbml0aW9uIChlLmcuIHRvIGV4dGVuZCBpdClcblx0XHRjbG9uZTogZnVuY3Rpb24gZGVlcENsb25lKG8sIHZpc2l0ZWQpIHtcblx0XHRcdHZhciBjbG9uZSwgaWQsIHR5cGUgPSBfLnV0aWwudHlwZShvKTtcblx0XHRcdHZpc2l0ZWQgPSB2aXNpdGVkIHx8IHt9O1xuXG5cdFx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdFx0XHRpZCA9IF8udXRpbC5vYmpJZChvKTtcblx0XHRcdFx0XHRpZiAodmlzaXRlZFtpZF0pIHtcblx0XHRcdFx0XHRcdHJldHVybiB2aXNpdGVkW2lkXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2xvbmUgPSB7fTtcblx0XHRcdFx0XHR2aXNpdGVkW2lkXSA9IGNsb25lO1xuXG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIG8pIHtcblx0XHRcdFx0XHRcdGlmIChvLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdFx0Y2xvbmVba2V5XSA9IGRlZXBDbG9uZShvW2tleV0sIHZpc2l0ZWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjbG9uZTtcblxuXHRcdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdFx0aWQgPSBfLnV0aWwub2JqSWQobyk7XG5cdFx0XHRcdFx0aWYgKHZpc2l0ZWRbaWRdKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmlzaXRlZFtpZF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNsb25lID0gW107XG5cdFx0XHRcdFx0dmlzaXRlZFtpZF0gPSBjbG9uZTtcblxuXHRcdFx0XHRcdG8uZm9yRWFjaChmdW5jdGlvbiAodiwgaSkge1xuXHRcdFx0XHRcdFx0Y2xvbmVbaV0gPSBkZWVwQ2xvbmUodiwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRyZXR1cm4gbztcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0bGFuZ3VhZ2VzOiB7XG5cdFx0ZXh0ZW5kOiBmdW5jdGlvbiAoaWQsIHJlZGVmKSB7XG5cdFx0XHR2YXIgbGFuZyA9IF8udXRpbC5jbG9uZShfLmxhbmd1YWdlc1tpZF0pO1xuXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcmVkZWYpIHtcblx0XHRcdFx0bGFuZ1trZXldID0gcmVkZWZba2V5XTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxhbmc7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEluc2VydCBhIHRva2VuIGJlZm9yZSBhbm90aGVyIHRva2VuIGluIGEgbGFuZ3VhZ2UgbGl0ZXJhbFxuXHRcdCAqIEFzIHRoaXMgbmVlZHMgdG8gcmVjcmVhdGUgdGhlIG9iamVjdCAod2UgY2Fubm90IGFjdHVhbGx5IGluc2VydCBiZWZvcmUga2V5cyBpbiBvYmplY3QgbGl0ZXJhbHMpLFxuXHRcdCAqIHdlIGNhbm5vdCBqdXN0IHByb3ZpZGUgYW4gb2JqZWN0LCB3ZSBuZWVkIGFuIG9iamVjdCBhbmQgYSBrZXkuXG5cdFx0ICogQHBhcmFtIGluc2lkZSBUaGUga2V5IChvciBsYW5ndWFnZSBpZCkgb2YgdGhlIHBhcmVudFxuXHRcdCAqIEBwYXJhbSBiZWZvcmUgVGhlIGtleSB0byBpbnNlcnQgYmVmb3JlLlxuXHRcdCAqIEBwYXJhbSBpbnNlcnQgT2JqZWN0IHdpdGggdGhlIGtleS92YWx1ZSBwYWlycyB0byBpbnNlcnRcblx0XHQgKiBAcGFyYW0gcm9vdCBUaGUgb2JqZWN0IHRoYXQgY29udGFpbnMgYGluc2lkZWAuIElmIGVxdWFsIHRvIFByaXNtLmxhbmd1YWdlcywgaXQgY2FuIGJlIG9taXR0ZWQuXG5cdFx0ICovXG5cdFx0aW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAoaW5zaWRlLCBiZWZvcmUsIGluc2VydCwgcm9vdCkge1xuXHRcdFx0cm9vdCA9IHJvb3QgfHwgXy5sYW5ndWFnZXM7XG5cdFx0XHR2YXIgZ3JhbW1hciA9IHJvb3RbaW5zaWRlXTtcblx0XHRcdHZhciByZXQgPSB7fTtcblxuXHRcdFx0Zm9yICh2YXIgdG9rZW4gaW4gZ3JhbW1hcikge1xuXHRcdFx0XHRpZiAoZ3JhbW1hci5oYXNPd25Qcm9wZXJ0eSh0b2tlbikpIHtcblxuXHRcdFx0XHRcdGlmICh0b2tlbiA9PSBiZWZvcmUpIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIG5ld1Rva2VuIGluIGluc2VydCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoaW5zZXJ0Lmhhc093blByb3BlcnR5KG5ld1Rva2VuKSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldFtuZXdUb2tlbl0gPSBpbnNlcnRbbmV3VG9rZW5dO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRG8gbm90IGluc2VydCB0b2tlbiB3aGljaCBhbHNvIG9jY3VyIGluIGluc2VydC4gU2VlICMxNTI1XG5cdFx0XHRcdFx0aWYgKCFpbnNlcnQuaGFzT3duUHJvcGVydHkodG9rZW4pKSB7XG5cdFx0XHRcdFx0XHRyZXRbdG9rZW5dID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHZhciBvbGQgPSByb290W2luc2lkZV07XG5cdFx0XHRyb290W2luc2lkZV0gPSByZXQ7XG5cblx0XHRcdC8vIFVwZGF0ZSByZWZlcmVuY2VzIGluIG90aGVyIGxhbmd1YWdlIGRlZmluaXRpb25zXG5cdFx0XHRfLmxhbmd1YWdlcy5ERlMoXy5sYW5ndWFnZXMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0aWYgKHZhbHVlID09PSBvbGQgJiYga2V5ICE9IGluc2lkZSkge1xuXHRcdFx0XHRcdHRoaXNba2V5XSA9IHJldDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblxuXHRcdC8vIFRyYXZlcnNlIGEgbGFuZ3VhZ2UgZGVmaW5pdGlvbiB3aXRoIERlcHRoIEZpcnN0IFNlYXJjaFxuXHRcdERGUzogZnVuY3Rpb24gREZTKG8sIGNhbGxiYWNrLCB0eXBlLCB2aXNpdGVkKSB7XG5cdFx0XHR2aXNpdGVkID0gdmlzaXRlZCB8fCB7fTtcblxuXHRcdFx0dmFyIG9iaklkID0gXy51dGlsLm9iaklkO1xuXG5cdFx0XHRmb3IgKHZhciBpIGluIG8pIHtcblx0XHRcdFx0aWYgKG8uaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKG8sIGksIG9baV0sIHR5cGUgfHwgaSk7XG5cblx0XHRcdFx0XHR2YXIgcHJvcGVydHkgPSBvW2ldLFxuXHRcdFx0XHRcdCAgICBwcm9wZXJ0eVR5cGUgPSBfLnV0aWwudHlwZShwcm9wZXJ0eSk7XG5cblx0XHRcdFx0XHRpZiAocHJvcGVydHlUeXBlID09PSAnT2JqZWN0JyAmJiAhdmlzaXRlZFtvYmpJZChwcm9wZXJ0eSldKSB7XG5cdFx0XHRcdFx0XHR2aXNpdGVkW29iaklkKHByb3BlcnR5KV0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0REZTKHByb3BlcnR5LCBjYWxsYmFjaywgbnVsbCwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHByb3BlcnR5VHlwZSA9PT0gJ0FycmF5JyAmJiAhdmlzaXRlZFtvYmpJZChwcm9wZXJ0eSldKSB7XG5cdFx0XHRcdFx0XHR2aXNpdGVkW29iaklkKHByb3BlcnR5KV0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0REZTKHByb3BlcnR5LCBjYWxsYmFjaywgaSwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRwbHVnaW5zOiB7fSxcblxuXHRoaWdobGlnaHRBbGw6IGZ1bmN0aW9uKGFzeW5jLCBjYWxsYmFjaykge1xuXHRcdF8uaGlnaGxpZ2h0QWxsVW5kZXIoZG9jdW1lbnQsIGFzeW5jLCBjYWxsYmFjayk7XG5cdH0sXG5cblx0aGlnaGxpZ2h0QWxsVW5kZXI6IGZ1bmN0aW9uKGNvbnRhaW5lciwgYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0dmFyIGVudiA9IHtcblx0XHRcdGNhbGxiYWNrOiBjYWxsYmFjayxcblx0XHRcdHNlbGVjdG9yOiAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnXG5cdFx0fTtcblxuXHRcdF8uaG9va3MucnVuKFwiYmVmb3JlLWhpZ2hsaWdodGFsbFwiLCBlbnYpO1xuXG5cdFx0dmFyIGVsZW1lbnRzID0gZW52LmVsZW1lbnRzIHx8IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGVudi5zZWxlY3Rvcik7XG5cblx0XHRmb3IgKHZhciBpPTAsIGVsZW1lbnQ7IGVsZW1lbnQgPSBlbGVtZW50c1tpKytdOykge1xuXHRcdFx0Xy5oaWdobGlnaHRFbGVtZW50KGVsZW1lbnQsIGFzeW5jID09PSB0cnVlLCBlbnYuY2FsbGJhY2spO1xuXHRcdH1cblx0fSxcblxuXHRoaWdobGlnaHRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBhc3luYywgY2FsbGJhY2spIHtcblx0XHQvLyBGaW5kIGxhbmd1YWdlXG5cdFx0dmFyIGxhbmd1YWdlLCBncmFtbWFyLCBwYXJlbnQgPSBlbGVtZW50O1xuXG5cdFx0d2hpbGUgKHBhcmVudCAmJiAhbGFuZy50ZXN0KHBhcmVudC5jbGFzc05hbWUpKSB7XG5cdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcblx0XHR9XG5cblx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRsYW5ndWFnZSA9IChwYXJlbnQuY2xhc3NOYW1lLm1hdGNoKGxhbmcpIHx8IFssJyddKVsxXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0Z3JhbW1hciA9IF8ubGFuZ3VhZ2VzW2xhbmd1YWdlXTtcblx0XHR9XG5cblx0XHQvLyBTZXQgbGFuZ3VhZ2Ugb24gdGhlIGVsZW1lbnQsIGlmIG5vdCBwcmVzZW50XG5cdFx0ZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblxuXHRcdGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHtcblx0XHRcdC8vIFNldCBsYW5ndWFnZSBvbiB0aGUgcGFyZW50LCBmb3Igc3R5bGluZ1xuXHRcdFx0cGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoL3ByZS9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkge1xuXHRcdFx0XHRwYXJlbnQuY2xhc3NOYW1lID0gcGFyZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgY29kZSA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG5cblx0XHR2YXIgZW52ID0ge1xuXHRcdFx0ZWxlbWVudDogZWxlbWVudCxcblx0XHRcdGxhbmd1YWdlOiBsYW5ndWFnZSxcblx0XHRcdGdyYW1tYXI6IGdyYW1tYXIsXG5cdFx0XHRjb2RlOiBjb2RlXG5cdFx0fTtcblxuXHRcdHZhciBpbnNlcnRIaWdobGlnaHRlZENvZGUgPSBmdW5jdGlvbiAoaGlnaGxpZ2h0ZWRDb2RlKSB7XG5cdFx0XHRlbnYuaGlnaGxpZ2h0ZWRDb2RlID0gaGlnaGxpZ2h0ZWRDb2RlO1xuXG5cdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWluc2VydCcsIGVudik7XG5cblx0XHRcdGVudi5lbGVtZW50LmlubmVySFRNTCA9IGVudi5oaWdobGlnaHRlZENvZGU7XG5cblx0XHRcdF8uaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLCBlbnYpO1xuXHRcdFx0Xy5ob29rcy5ydW4oJ2NvbXBsZXRlJywgZW52KTtcblx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZW52LmVsZW1lbnQpO1xuXHRcdH1cblxuXHRcdF8uaG9va3MucnVuKCdiZWZvcmUtc2FuaXR5LWNoZWNrJywgZW52KTtcblxuXHRcdGlmICghZW52LmNvZGUpIHtcblx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS1oaWdobGlnaHQnLCBlbnYpO1xuXG5cdFx0aWYgKCFlbnYuZ3JhbW1hcikge1xuXHRcdFx0aW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlKF8udXRpbC5lbmNvZGUoZW52LmNvZGUpKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoYXN5bmMgJiYgX3NlbGYuV29ya2VyKSB7XG5cdFx0XHR2YXIgd29ya2VyID0gbmV3IFdvcmtlcihfLmZpbGVuYW1lKTtcblxuXHRcdFx0d29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2dCkge1xuXHRcdFx0XHRpbnNlcnRIaWdobGlnaHRlZENvZGUoZXZ0LmRhdGEpO1xuXHRcdFx0fTtcblxuXHRcdFx0d29ya2VyLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0bGFuZ3VhZ2U6IGVudi5sYW5ndWFnZSxcblx0XHRcdFx0Y29kZTogZW52LmNvZGUsXG5cdFx0XHRcdGltbWVkaWF0ZUNsb3NlOiB0cnVlXG5cdFx0XHR9KSk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0aW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlKF8uaGlnaGxpZ2h0KGVudi5jb2RlLCBlbnYuZ3JhbW1hciwgZW52Lmxhbmd1YWdlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdGhpZ2hsaWdodDogZnVuY3Rpb24gKHRleHQsIGdyYW1tYXIsIGxhbmd1YWdlKSB7XG5cdFx0dmFyIGVudiA9IHtcblx0XHRcdGNvZGU6IHRleHQsXG5cdFx0XHRncmFtbWFyOiBncmFtbWFyLFxuXHRcdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlXG5cdFx0fTtcblx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLXRva2VuaXplJywgZW52KTtcblx0XHRlbnYudG9rZW5zID0gXy50b2tlbml6ZShlbnYuY29kZSwgZW52LmdyYW1tYXIpO1xuXHRcdF8uaG9va3MucnVuKCdhZnRlci10b2tlbml6ZScsIGVudik7XG5cdFx0cmV0dXJuIFRva2VuLnN0cmluZ2lmeShfLnV0aWwuZW5jb2RlKGVudi50b2tlbnMpLCBlbnYubGFuZ3VhZ2UpO1xuXHR9LFxuXG5cdG1hdGNoR3JhbW1hcjogZnVuY3Rpb24gKHRleHQsIHN0cmFyciwgZ3JhbW1hciwgaW5kZXgsIHN0YXJ0UG9zLCBvbmVzaG90LCB0YXJnZXQpIHtcblx0XHRmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cdFx0XHRpZighZ3JhbW1hci5oYXNPd25Qcm9wZXJ0eSh0b2tlbikgfHwgIWdyYW1tYXJbdG9rZW5dKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodG9rZW4gPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBhdHRlcm5zID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRwYXR0ZXJucyA9IChfLnV0aWwudHlwZShwYXR0ZXJucykgPT09IFwiQXJyYXlcIikgPyBwYXR0ZXJucyA6IFtwYXR0ZXJuc107XG5cblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGF0dGVybnMubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0dmFyIHBhdHRlcm4gPSBwYXR0ZXJuc1tqXSxcblx0XHRcdFx0XHRpbnNpZGUgPSBwYXR0ZXJuLmluc2lkZSxcblx0XHRcdFx0XHRsb29rYmVoaW5kID0gISFwYXR0ZXJuLmxvb2tiZWhpbmQsXG5cdFx0XHRcdFx0Z3JlZWR5ID0gISFwYXR0ZXJuLmdyZWVkeSxcblx0XHRcdFx0XHRsb29rYmVoaW5kTGVuZ3RoID0gMCxcblx0XHRcdFx0XHRhbGlhcyA9IHBhdHRlcm4uYWxpYXM7XG5cblx0XHRcdFx0aWYgKGdyZWVkeSAmJiAhcGF0dGVybi5wYXR0ZXJuLmdsb2JhbCkge1xuXHRcdFx0XHRcdC8vIFdpdGhvdXQgdGhlIGdsb2JhbCBmbGFnLCBsYXN0SW5kZXggd29uJ3Qgd29ya1xuXHRcdFx0XHRcdHZhciBmbGFncyA9IHBhdHRlcm4ucGF0dGVybi50b1N0cmluZygpLm1hdGNoKC9baW11eV0qJC8pWzBdO1xuXHRcdFx0XHRcdHBhdHRlcm4ucGF0dGVybiA9IFJlZ0V4cChwYXR0ZXJuLnBhdHRlcm4uc291cmNlLCBmbGFncyArIFwiZ1wiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHBhdHRlcm4gPSBwYXR0ZXJuLnBhdHRlcm4gfHwgcGF0dGVybjtcblxuXHRcdFx0XHQvLyBEb27igJl0IGNhY2hlIGxlbmd0aCBhcyBpdCBjaGFuZ2VzIGR1cmluZyB0aGUgbG9vcFxuXHRcdFx0XHRmb3IgKHZhciBpID0gaW5kZXgsIHBvcyA9IHN0YXJ0UG9zOyBpIDwgc3RyYXJyLmxlbmd0aDsgcG9zICs9IHN0cmFycltpXS5sZW5ndGgsICsraSkge1xuXG5cdFx0XHRcdFx0dmFyIHN0ciA9IHN0cmFycltpXTtcblxuXHRcdFx0XHRcdGlmIChzdHJhcnIubGVuZ3RoID4gdGV4dC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdC8vIFNvbWV0aGluZyB3ZW50IHRlcnJpYmx5IHdyb25nLCBBQk9SVCwgQUJPUlQhXG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHN0ciBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoZ3JlZWR5ICYmIGkgIT0gc3RyYXJyLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdHBhdHRlcm4ubGFzdEluZGV4ID0gcG9zO1xuXHRcdFx0XHRcdFx0dmFyIG1hdGNoID0gcGF0dGVybi5leGVjKHRleHQpO1xuXHRcdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFyIGZyb20gPSBtYXRjaC5pbmRleCArIChsb29rYmVoaW5kID8gbWF0Y2hbMV0ubGVuZ3RoIDogMCksXG5cdFx0XHRcdFx0XHQgICAgdG8gPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCxcblx0XHRcdFx0XHRcdCAgICBrID0gaSxcblx0XHRcdFx0XHRcdCAgICBwID0gcG9zO1xuXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBsZW4gPSBzdHJhcnIubGVuZ3RoOyBrIDwgbGVuICYmIChwIDwgdG8gfHwgKCFzdHJhcnJba10udHlwZSAmJiAhc3RyYXJyW2sgLSAxXS5ncmVlZHkpKTsgKytrKSB7XG5cdFx0XHRcdFx0XHRcdHAgKz0gc3RyYXJyW2tdLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0Ly8gTW92ZSB0aGUgaW5kZXggaSB0byB0aGUgZWxlbWVudCBpbiBzdHJhcnIgdGhhdCBpcyBjbG9zZXN0IHRvIGZyb21cblx0XHRcdFx0XHRcdFx0aWYgKGZyb20gPj0gcCkge1xuXHRcdFx0XHRcdFx0XHRcdCsraTtcblx0XHRcdFx0XHRcdFx0XHRwb3MgPSBwO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIElmIHN0cmFycltpXSBpcyBhIFRva2VuLCB0aGVuIHRoZSBtYXRjaCBzdGFydHMgaW5zaWRlIGFub3RoZXIgVG9rZW4sIHdoaWNoIGlzIGludmFsaWRcblx0XHRcdFx0XHRcdGlmIChzdHJhcnJbaV0gaW5zdGFuY2VvZiBUb2tlbikge1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTnVtYmVyIG9mIHRva2VucyB0byBkZWxldGUgYW5kIHJlcGxhY2Ugd2l0aCB0aGUgbmV3IG1hdGNoXG5cdFx0XHRcdFx0XHRkZWxOdW0gPSBrIC0gaTtcblx0XHRcdFx0XHRcdHN0ciA9IHRleHQuc2xpY2UocG9zLCBwKTtcblx0XHRcdFx0XHRcdG1hdGNoLmluZGV4IC09IHBvcztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cGF0dGVybi5sYXN0SW5kZXggPSAwO1xuXG5cdFx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoc3RyKSxcblx0XHRcdFx0XHRcdFx0ZGVsTnVtID0gMTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdFx0XHRpZiAob25lc2hvdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYobG9va2JlaGluZCkge1xuXHRcdFx0XHRcdFx0bG9va2JlaGluZExlbmd0aCA9IG1hdGNoWzFdID8gbWF0Y2hbMV0ubGVuZ3RoIDogMDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgZnJvbSA9IG1hdGNoLmluZGV4ICsgbG9va2JlaGluZExlbmd0aCxcblx0XHRcdFx0XHQgICAgbWF0Y2ggPSBtYXRjaFswXS5zbGljZShsb29rYmVoaW5kTGVuZ3RoKSxcblx0XHRcdFx0XHQgICAgdG8gPSBmcm9tICsgbWF0Y2gubGVuZ3RoLFxuXHRcdFx0XHRcdCAgICBiZWZvcmUgPSBzdHIuc2xpY2UoMCwgZnJvbSksXG5cdFx0XHRcdFx0ICAgIGFmdGVyID0gc3RyLnNsaWNlKHRvKTtcblxuXHRcdFx0XHRcdHZhciBhcmdzID0gW2ksIGRlbE51bV07XG5cblx0XHRcdFx0XHRpZiAoYmVmb3JlKSB7XG5cdFx0XHRcdFx0XHQrK2k7XG5cdFx0XHRcdFx0XHRwb3MgKz0gYmVmb3JlLmxlbmd0aDtcblx0XHRcdFx0XHRcdGFyZ3MucHVzaChiZWZvcmUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciB3cmFwcGVkID0gbmV3IFRva2VuKHRva2VuLCBpbnNpZGU/IF8udG9rZW5pemUobWF0Y2gsIGluc2lkZSkgOiBtYXRjaCwgYWxpYXMsIG1hdGNoLCBncmVlZHkpO1xuXG5cdFx0XHRcdFx0YXJncy5wdXNoKHdyYXBwZWQpO1xuXG5cdFx0XHRcdFx0aWYgKGFmdGVyKSB7XG5cdFx0XHRcdFx0XHRhcmdzLnB1c2goYWZ0ZXIpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoc3RyYXJyLCBhcmdzKTtcblxuXHRcdFx0XHRcdGlmIChkZWxOdW0gIT0gMSlcblx0XHRcdFx0XHRcdF8ubWF0Y2hHcmFtbWFyKHRleHQsIHN0cmFyciwgZ3JhbW1hciwgaSwgcG9zLCB0cnVlLCB0b2tlbik7XG5cblx0XHRcdFx0XHRpZiAob25lc2hvdClcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHRva2VuaXplOiBmdW5jdGlvbih0ZXh0LCBncmFtbWFyKSB7XG5cdFx0dmFyIHN0cmFyciA9IFt0ZXh0XTtcblxuXHRcdHZhciByZXN0ID0gZ3JhbW1hci5yZXN0O1xuXG5cdFx0aWYgKHJlc3QpIHtcblx0XHRcdGZvciAodmFyIHRva2VuIGluIHJlc3QpIHtcblx0XHRcdFx0Z3JhbW1hclt0b2tlbl0gPSByZXN0W3Rva2VuXTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsZXRlIGdyYW1tYXIucmVzdDtcblx0XHR9XG5cblx0XHRfLm1hdGNoR3JhbW1hcih0ZXh0LCBzdHJhcnIsIGdyYW1tYXIsIDAsIDAsIGZhbHNlKTtcblxuXHRcdHJldHVybiBzdHJhcnI7XG5cdH0sXG5cblx0aG9va3M6IHtcblx0XHRhbGw6IHt9LFxuXG5cdFx0YWRkOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcblx0XHRcdHZhciBob29rcyA9IF8uaG9va3MuYWxsO1xuXG5cdFx0XHRob29rc1tuYW1lXSA9IGhvb2tzW25hbWVdIHx8IFtdO1xuXG5cdFx0XHRob29rc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcblx0XHR9LFxuXG5cdFx0cnVuOiBmdW5jdGlvbiAobmFtZSwgZW52KSB7XG5cdFx0XHR2YXIgY2FsbGJhY2tzID0gXy5ob29rcy5hbGxbbmFtZV07XG5cblx0XHRcdGlmICghY2FsbGJhY2tzIHx8ICFjYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Zm9yICh2YXIgaT0wLCBjYWxsYmFjazsgY2FsbGJhY2sgPSBjYWxsYmFja3NbaSsrXTspIHtcblx0XHRcdFx0Y2FsbGJhY2soZW52KTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0VG9rZW46IFRva2VuXG59O1xuXG5fc2VsZi5QcmlzbSA9IF87XG5cbmZ1bmN0aW9uIFRva2VuKHR5cGUsIGNvbnRlbnQsIGFsaWFzLCBtYXRjaGVkU3RyLCBncmVlZHkpIHtcblx0dGhpcy50eXBlID0gdHlwZTtcblx0dGhpcy5jb250ZW50ID0gY29udGVudDtcblx0dGhpcy5hbGlhcyA9IGFsaWFzO1xuXHQvLyBDb3B5IG9mIHRoZSBmdWxsIHN0cmluZyB0aGlzIHRva2VuIHdhcyBjcmVhdGVkIGZyb21cblx0dGhpcy5sZW5ndGggPSAobWF0Y2hlZFN0ciB8fCBcIlwiKS5sZW5ndGh8MDtcblx0dGhpcy5ncmVlZHkgPSAhIWdyZWVkeTtcbn1cblxuVG9rZW4uc3RyaW5naWZ5ID0gZnVuY3Rpb24obywgbGFuZ3VhZ2UsIHBhcmVudCkge1xuXHRpZiAodHlwZW9mIG8gPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGlmIChBcnJheS5pc0FycmF5KG8pKSB7XG5cdFx0cmV0dXJuIG8ubWFwKGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRcdHJldHVybiBUb2tlbi5zdHJpbmdpZnkoZWxlbWVudCwgbGFuZ3VhZ2UsIG8pO1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0dmFyIGVudiA9IHtcblx0XHR0eXBlOiBvLnR5cGUsXG5cdFx0Y29udGVudDogVG9rZW4uc3RyaW5naWZ5KG8uY29udGVudCwgbGFuZ3VhZ2UsIHBhcmVudCksXG5cdFx0dGFnOiAnc3BhbicsXG5cdFx0Y2xhc3NlczogWyd0b2tlbicsIG8udHlwZV0sXG5cdFx0YXR0cmlidXRlczoge30sXG5cdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlLFxuXHRcdHBhcmVudDogcGFyZW50XG5cdH07XG5cblx0aWYgKG8uYWxpYXMpIHtcblx0XHR2YXIgYWxpYXNlcyA9IEFycmF5LmlzQXJyYXkoby5hbGlhcykgPyBvLmFsaWFzIDogW28uYWxpYXNdO1xuXHRcdEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGVudi5jbGFzc2VzLCBhbGlhc2VzKTtcblx0fVxuXG5cdF8uaG9va3MucnVuKCd3cmFwJywgZW52KTtcblxuXHR2YXIgYXR0cmlidXRlcyA9IE9iamVjdC5rZXlzKGVudi5hdHRyaWJ1dGVzKS5tYXAoZnVuY3Rpb24obmFtZSkge1xuXHRcdHJldHVybiBuYW1lICsgJz1cIicgKyAoZW52LmF0dHJpYnV0ZXNbbmFtZV0gfHwgJycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKSArICdcIic7XG5cdH0pLmpvaW4oJyAnKTtcblxuXHRyZXR1cm4gJzwnICsgZW52LnRhZyArICcgY2xhc3M9XCInICsgZW52LmNsYXNzZXMuam9pbignICcpICsgJ1wiJyArIChhdHRyaWJ1dGVzID8gJyAnICsgYXR0cmlidXRlcyA6ICcnKSArICc+JyArIGVudi5jb250ZW50ICsgJzwvJyArIGVudi50YWcgKyAnPic7XG5cbn07XG5cbmlmICghX3NlbGYuZG9jdW1lbnQpIHtcblx0aWYgKCFfc2VsZi5hZGRFdmVudExpc3RlbmVyKSB7XG5cdFx0Ly8gaW4gTm9kZS5qc1xuXHRcdHJldHVybiBfO1xuXHR9XG5cblx0aWYgKCFfLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcikge1xuXHRcdC8vIEluIHdvcmtlclxuXHRcdF9zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZ0KSB7XG5cdFx0XHR2YXIgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpLFxuXHRcdFx0XHRsYW5nID0gbWVzc2FnZS5sYW5ndWFnZSxcblx0XHRcdFx0Y29kZSA9IG1lc3NhZ2UuY29kZSxcblx0XHRcdFx0aW1tZWRpYXRlQ2xvc2UgPSBtZXNzYWdlLmltbWVkaWF0ZUNsb3NlO1xuXG5cdFx0XHRfc2VsZi5wb3N0TWVzc2FnZShfLmhpZ2hsaWdodChjb2RlLCBfLmxhbmd1YWdlc1tsYW5nXSwgbGFuZykpO1xuXHRcdFx0aWYgKGltbWVkaWF0ZUNsb3NlKSB7XG5cdFx0XHRcdF9zZWxmLmNsb3NlKCk7XG5cdFx0XHR9XG5cdFx0fSwgZmFsc2UpO1xuXHR9XG5cblx0cmV0dXJuIF87XG59XG5cbi8vR2V0IGN1cnJlbnQgc2NyaXB0IGFuZCBoaWdobGlnaHRcbnZhciBzY3JpcHQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0IHx8IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIikpLnBvcCgpO1xuXG5pZiAoc2NyaXB0KSB7XG5cdF8uZmlsZW5hbWUgPSBzY3JpcHQuc3JjO1xuXG5cdGlmICghXy5tYW51YWwgJiYgIXNjcmlwdC5oYXNBdHRyaWJ1dGUoJ2RhdGEtbWFudWFsJykpIHtcblx0XHRpZihkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIikge1xuXHRcdFx0aWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcblx0XHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfLmhpZ2hsaWdodEFsbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChfLmhpZ2hsaWdodEFsbCwgMTYpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBfLmhpZ2hsaWdodEFsbCk7XG5cdFx0fVxuXHR9XG59XG5cbnJldHVybiBfO1xuXG59KShfc2VsZik7XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRtb2R1bGUuZXhwb3J0cyA9IFByaXNtO1xufVxuXG4vLyBoYWNrIGZvciBjb21wb25lbnRzIHRvIHdvcmsgY29ycmVjdGx5IGluIG5vZGUuanNcbmlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuXHRnbG9iYWwuUHJpc20gPSBQcmlzbTtcbn1cblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLW1hcmt1cC5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG5QcmlzbS5sYW5ndWFnZXMubWFya3VwID0ge1xuXHQnY29tbWVudCc6IC88IS0tW1xcc1xcU10qPy0tPi8sXG5cdCdwcm9sb2cnOiAvPFxcP1tcXHNcXFNdKz9cXD8+Lyxcblx0J2RvY3R5cGUnOiAvPCFET0NUWVBFW1xcc1xcU10rPz4vaSxcblx0J2NkYXRhJzogLzwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XV0+L2ksXG5cdCd0YWcnOiB7XG5cdFx0cGF0dGVybjogLzxcXC8/KD8hXFxkKVteXFxzPlxcLz0kPCVdKyg/Olxccyg/OlxccypbXlxccz5cXC89XSsoPzpcXHMqPVxccyooPzpcIlteXCJdKlwifCdbXiddKid8W15cXHMnXCI+PV0rKD89W1xccz5dKSl8KD89W1xccy8+XSkpKSspP1xccypcXC8/Pi9pLFxuXHRcdGdyZWVkeTogdHJ1ZSxcblx0XHRpbnNpZGU6IHtcblx0XHRcdCd0YWcnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9ePFxcLz9bXlxccz5cXC9dKy9pLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQncHVuY3R1YXRpb24nOiAvXjxcXC8/Lyxcblx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC89XFxzKig/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXlxccydcIj49XSspL2ksXG5cdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IFtcblx0XHRcdFx0XHRcdC9ePS8sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHBhdHRlcm46IC9eKFxccyopW1wiJ118W1wiJ10kLyxcblx0XHRcdFx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCdwdW5jdHVhdGlvbic6IC9cXC8/Pi8sXG5cdFx0XHQnYXR0ci1uYW1lJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvW15cXHM+XFwvXSsvLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cdH0sXG5cdCdlbnRpdHknOiAvJiM/W1xcZGEtel17MSw4fTsvaVxufTtcblxuUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cFsndGFnJ10uaW5zaWRlWydhdHRyLXZhbHVlJ10uaW5zaWRlWydlbnRpdHknXSA9XG5cdFByaXNtLmxhbmd1YWdlcy5tYXJrdXBbJ2VudGl0eSddO1xuXG4vLyBQbHVnaW4gdG8gbWFrZSBlbnRpdHkgdGl0bGUgc2hvdyB0aGUgcmVhbCBlbnRpdHksIGlkZWEgYnkgUm9tYW4gS29tYXJvdlxuUHJpc20uaG9va3MuYWRkKCd3cmFwJywgZnVuY3Rpb24oZW52KSB7XG5cblx0aWYgKGVudi50eXBlID09PSAnZW50aXR5Jykge1xuXHRcdGVudi5hdHRyaWJ1dGVzWyd0aXRsZSddID0gZW52LmNvbnRlbnQucmVwbGFjZSgvJmFtcDsvLCAnJicpO1xuXHR9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLCAnYWRkSW5saW5lZCcsIHtcblx0LyoqXG5cdCAqIEFkZHMgYW4gaW5saW5lZCBsYW5ndWFnZSB0byBtYXJrdXAuXG5cdCAqXG5cdCAqIEFuIGV4YW1wbGUgb2YgYW4gaW5saW5lZCBsYW5ndWFnZSBpcyBDU1Mgd2l0aCBgPHN0eWxlPmAgdGFncy5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgVGhlIG5hbWUgb2YgdGhlIHRhZyB0aGF0IGNvbnRhaW5zIHRoZSBpbmxpbmVkIGxhbmd1YWdlLiBUaGlzIG5hbWUgd2lsbCBiZSB0cmVhdGVkIGFzXG5cdCAqIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nIFRoZSBsYW5ndWFnZSBrZXkuXG5cdCAqIEBleGFtcGxlXG5cdCAqIGFkZElubGluZWQoJ3N0eWxlJywgJ2NzcycpO1xuXHQgKi9cblx0dmFsdWU6IGZ1bmN0aW9uIGFkZElubGluZWQodGFnTmFtZSwgbGFuZykge1xuXHRcdHZhciBpbmNsdWRlZENkYXRhSW5zaWRlID0ge307XG5cdFx0aW5jbHVkZWRDZGF0YUluc2lkZVsnbGFuZ3VhZ2UtJyArIGxhbmddID0ge1xuXHRcdFx0cGF0dGVybjogLyhePCFcXFtDREFUQVxcWylbXFxzXFxTXSs/KD89XFxdXFxdPiQpL2ksXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXNbbGFuZ11cblx0XHR9O1xuXHRcdGluY2x1ZGVkQ2RhdGFJbnNpZGVbJ2NkYXRhJ10gPSAvXjwhXFxbQ0RBVEFcXFt8XFxdXFxdPiQvaTtcblxuXHRcdHZhciBpbnNpZGUgPSB7XG5cdFx0XHQnaW5jbHVkZWQtY2RhdGEnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC88IVxcW0NEQVRBXFxbW1xcc1xcU10qP1xcXVxcXT4vaSxcblx0XHRcdFx0aW5zaWRlOiBpbmNsdWRlZENkYXRhSW5zaWRlXG5cdFx0XHR9XG5cdFx0fTtcblx0XHRpbnNpZGVbJ2xhbmd1YWdlLScgKyBsYW5nXSA9IHtcblx0XHRcdHBhdHRlcm46IC9bXFxzXFxTXSsvLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXNbbGFuZ11cblx0XHR9O1xuXG5cdFx0dmFyIGRlZiA9IHt9O1xuXHRcdGRlZlt0YWdOYW1lXSA9IHtcblx0XHRcdHBhdHRlcm46IFJlZ0V4cCgvKDxfX1tcXHNcXFNdKj8+KSg/OjwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdPlxccyp8W1xcc1xcU10pKj8oPz08XFwvX18+KS8uc291cmNlLnJlcGxhY2UoL19fL2csIHRhZ05hbWUpLCAnaScpLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGdyZWVkeTogdHJ1ZSxcblx0XHRcdGluc2lkZTogaW5zaWRlXG5cdFx0fTtcblxuXHRcdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ21hcmt1cCcsICdjZGF0YScsIGRlZik7XG5cdH1cbn0pO1xuXG5QcmlzbS5sYW5ndWFnZXMueG1sID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnbWFya3VwJywge30pO1xuUHJpc20ubGFuZ3VhZ2VzLmh0bWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuUHJpc20ubGFuZ3VhZ2VzLm1hdGhtbCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5QcmlzbS5sYW5ndWFnZXMuc3ZnID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWNzcy5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG4oZnVuY3Rpb24gKFByaXNtKSB7XG5cblx0dmFyIHN0cmluZyA9IC8oXCJ8JykoPzpcXFxcKD86XFxyXFxufFtcXHNcXFNdKXwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxLztcblxuXHRQcmlzbS5sYW5ndWFnZXMuY3NzID0ge1xuXHRcdCdjb21tZW50JzogL1xcL1xcKltcXHNcXFNdKj9cXCpcXC8vLFxuXHRcdCdhdHJ1bGUnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvQFtcXHctXSs/W1xcc1xcU10qPyg/Ojt8KD89XFxzKlxceykpL2ksXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0J3J1bGUnOiAvQFtcXHctXSsvXG5cdFx0XHRcdC8vIFNlZSByZXN0IGJlbG93XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQndXJsJzogUmVnRXhwKCd1cmxcXFxcKCg/OicgKyBzdHJpbmcuc291cmNlICsgJ3wuKj8pXFxcXCknLCAnaScpLFxuXHRcdCdzZWxlY3Rvcic6IFJlZ0V4cCgnW157fVxcXFxzXSg/Oltee307XCJcXCddfCcgKyBzdHJpbmcuc291cmNlICsgJykqPyg/PVxcXFxzKlxcXFx7KScpLFxuXHRcdCdzdHJpbmcnOiB7XG5cdFx0XHRwYXR0ZXJuOiBzdHJpbmcsXG5cdFx0XHRncmVlZHk6IHRydWVcblx0XHR9LFxuXHRcdCdwcm9wZXJ0eSc6IC9bLV9hLXpcXHhBMC1cXHVGRkZGXVstXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKjopL2ksXG5cdFx0J2ltcG9ydGFudCc6IC8haW1wb3J0YW50XFxiL2ksXG5cdFx0J2Z1bmN0aW9uJzogL1stYS16MC05XSsoPz1cXCgpL2ksXG5cdFx0J3B1bmN0dWF0aW9uJzogL1soKXt9OzosXS9cblx0fTtcblxuXHRQcmlzbS5sYW5ndWFnZXMuY3NzWydhdHJ1bGUnXS5pbnNpZGUucmVzdCA9IFByaXNtLmxhbmd1YWdlcy5jc3M7XG5cblx0dmFyIG1hcmt1cCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdGlmIChtYXJrdXApIHtcblx0XHRtYXJrdXAudGFnLmFkZElubGluZWQoJ3N0eWxlJywgJ2NzcycpO1xuXG5cdFx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnaW5zaWRlJywgJ2F0dHItdmFsdWUnLCB7XG5cdFx0XHQnc3R5bGUtYXR0cic6IHtcblx0XHRcdFx0cGF0dGVybjogL1xccypzdHlsZT0oXCJ8JykoPzpcXFxcW1xcc1xcU118KD8hXFwxKVteXFxcXF0pKlxcMS9pLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQnYXR0ci1uYW1lJzoge1xuXHRcdFx0XHRcdFx0cGF0dGVybjogL15cXHMqc3R5bGUvaSxcblx0XHRcdFx0XHRcdGluc2lkZTogbWFya3VwLnRhZy5pbnNpZGVcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9eXFxzKj1cXHMqWydcIl18WydcIl1cXHMqJC8sXG5cdFx0XHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdFx0XHRwYXR0ZXJuOiAvLisvaSxcblx0XHRcdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0YWxpYXM6ICdsYW5ndWFnZS1jc3MnXG5cdFx0XHR9XG5cdFx0fSwgbWFya3VwLnRhZyk7XG5cdH1cblxufShQcmlzbSkpO1xuXG5cbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgQmVnaW4gcHJpc20tY2xpa2UuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuUHJpc20ubGFuZ3VhZ2VzLmNsaWtlID0ge1xuXHQnY29tbWVudCc6IFtcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcXSlcXC9cXCpbXFxzXFxTXSo/KD86XFwqXFwvfCQpLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXnxbXlxcXFw6XSlcXC9cXC8uKi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0Z3JlZWR5OiB0cnVlXG5cdFx0fVxuXHRdLFxuXHQnc3RyaW5nJzoge1xuXHRcdHBhdHRlcm46IC8oW1wiJ10pKD86XFxcXCg/OlxcclxcbnxbXFxzXFxTXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS8sXG5cdFx0Z3JlZWR5OiB0cnVlXG5cdH0sXG5cdCdjbGFzcy1uYW1lJzoge1xuXHRcdHBhdHRlcm46IC8oKD86XFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylcXHMrKXwoPzpjYXRjaFxccytcXCgpKVtcXHcuXFxcXF0rL2ksXG5cdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRpbnNpZGU6IHtcblx0XHRcdHB1bmN0dWF0aW9uOiAvWy5cXFxcXS9cblx0XHR9XG5cdH0sXG5cdCdrZXl3b3JkJzogL1xcYig/OmlmfGVsc2V8d2hpbGV8ZG98Zm9yfHJldHVybnxpbnxpbnN0YW5jZW9mfGZ1bmN0aW9ufG5ld3x0cnl8dGhyb3d8Y2F0Y2h8ZmluYWxseXxudWxsfGJyZWFrfGNvbnRpbnVlKVxcYi8sXG5cdCdib29sZWFuJzogL1xcYig/OnRydWV8ZmFsc2UpXFxiLyxcblx0J2Z1bmN0aW9uJzogL1xcdysoPz1cXCgpLyxcblx0J251bWJlcic6IC9cXGIweFtcXGRhLWZdK1xcYnwoPzpcXGJcXGQrXFwuP1xcZCp8XFxCXFwuXFxkKykoPzplWystXT9cXGQrKT8vaSxcblx0J29wZXJhdG9yJzogLy0tP3xcXCtcXCs/fCE9Pz0/fDw9P3w+PT98PT0/PT98JiY/fFxcfFxcfD98XFw/fFxcKnxcXC98fnxcXF58JS8sXG5cdCdwdW5jdHVhdGlvbic6IC9be31bXFxdOygpLC46XS9cbn07XG5cblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBCZWdpbiBwcmlzbS1qYXZhc2NyaXB0LmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cblByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0ID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnY2xpa2UnLCB7XG5cdCdjbGFzcy1uYW1lJzogW1xuXHRcdFByaXNtLmxhbmd1YWdlcy5jbGlrZVsnY2xhc3MtbmFtZSddLFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXnxbXiRcXHdcXHhBMC1cXHVGRkZGXSlbXyRBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFwuKD86cHJvdG90eXBlfGNvbnN0cnVjdG9yKSkvLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdH1cblx0XSxcblx0J2tleXdvcmQnOiBbXG5cdFx0e1xuXHRcdFx0cGF0dGVybjogLygoPzpefH0pXFxzKikoPzpjYXRjaHxmaW5hbGx5KVxcYi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvKF58W14uXSlcXGIoPzphc3xhc3luYyg/PVxccyooPzpmdW5jdGlvblxcYnxcXCh8WyRcXHdcXHhBMC1cXHVGRkZGXXwkKSl8YXdhaXR8YnJlYWt8Y2FzZXxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxcYi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0fSxcblx0XSxcblx0J251bWJlcic6IC9cXGIoPzooPzowW3hYXVtcXGRBLUZhLWZdK3wwW2JCXVswMV0rfDBbb09dWzAtN10rKW4/fFxcZCtufE5hTnxJbmZpbml0eSlcXGJ8KD86XFxiXFxkK1xcLj9cXGQqfFxcQlxcLlxcZCspKD86W0VlXVsrLV0/XFxkKyk/Lyxcblx0Ly8gQWxsb3cgZm9yIGFsbCBub24tQVNDSUkgY2hhcmFjdGVycyAoU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIwMDg0NDQpXG5cdCdmdW5jdGlvbic6IC9bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKig/OlxcLlxccyooPzphcHBseXxiaW5kfGNhbGwpXFxzKik/XFwoKS8sXG5cdCdvcGVyYXRvcic6IC8tWy09XT98XFwrWys9XT98IT0/PT98PDw/PT98Pj4/Pj89P3w9KD86PT0/fD4pP3wmWyY9XT98XFx8W3w9XT98XFwqXFwqPz0/fFxcLz0/fH58XFxePT98JT0/fFxcP3xcXC57M30vXG59KTtcblxuUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRbJ2NsYXNzLW5hbWUnXVswXS5wYXR0ZXJuID0gLyhcXGIoPzpjbGFzc3xpbnRlcmZhY2V8ZXh0ZW5kc3xpbXBsZW1lbnRzfGluc3RhbmNlb2Z8bmV3KVxccyspW1xcdy5cXFxcXSsvXG5cblByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2phdmFzY3JpcHQnLCAna2V5d29yZCcsIHtcblx0J3JlZ2V4Jzoge1xuXHRcdHBhdHRlcm46IC8oKD86XnxbXiRcXHdcXHhBMC1cXHVGRkZGLlwiJ1xcXSlcXHNdKVxccyopXFwvKFxcWyg/OlteXFxdXFxcXFxcclxcbl18XFxcXC4pKl18XFxcXC58W14vXFxcXFxcW1xcclxcbl0pK1xcL1tnaW15dV17MCw1fSg/PVxccyooJHxbXFxyXFxuLC47fSlcXF1dKSkvLFxuXHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0Z3JlZWR5OiB0cnVlXG5cdH0sXG5cdC8vIFRoaXMgbXVzdCBiZSBkZWNsYXJlZCBiZWZvcmUga2V5d29yZCBiZWNhdXNlIHdlIHVzZSBcImZ1bmN0aW9uXCIgaW5zaWRlIHRoZSBsb29rLWZvcndhcmRcblx0J2Z1bmN0aW9uLXZhcmlhYmxlJzoge1xuXHRcdHBhdHRlcm46IC9bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKls9Ol1cXHMqKD86YXN5bmNcXHMqKT8oPzpcXGJmdW5jdGlvblxcYnwoPzpcXCgoPzpbXigpXXxcXChbXigpXSpcXCkpKlxcKXxbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKVxccyo9PikpLyxcblx0XHRhbGlhczogJ2Z1bmN0aW9uJ1xuXHR9LFxuXHQncGFyYW1ldGVyJzogW1xuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oZnVuY3Rpb24oPzpcXHMrW18kQS1aYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKik/XFxzKlxcKFxccyopKD8hXFxzKSg/OlteKCldfFxcKFteKCldKlxcKSkrPyg/PVxccypcXCkpLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0fSxcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvW18kYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKig/PVxccyo9PikvaSxcblx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXFwoXFxzKikoPyFcXHMpKD86W14oKV18XFwoW14oKV0qXFwpKSs/KD89XFxzKlxcKVxccyo9PikvLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oKD86XFxifFxcc3xeKSg/ISg/OmFzfGFzeW5jfGF3YWl0fGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZpbmFsbHl8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKSg/IVskXFx3XFx4QTAtXFx1RkZGRl0pKSg/OltfJEEtWmEtelxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSpcXHMqKVxcKFxccyopKD8hXFxzKSg/OlteKCldfFxcKFteKCldKlxcKSkrPyg/PVxccypcXClcXHMqXFx7KS8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFxuXHRcdH1cblx0XSxcblx0J2NvbnN0YW50JzogL1xcYltBLVpdKD86W0EtWl9dfFxcZHg/KSpcXGIvXG59KTtcblxuUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdzdHJpbmcnLCB7XG5cdCd0ZW1wbGF0ZS1zdHJpbmcnOiB7XG5cdFx0cGF0dGVybjogL2AoPzpcXFxcW1xcc1xcU118XFwke1tefV0rfXxbXlxcXFxgXSkqYC8sXG5cdFx0Z3JlZWR5OiB0cnVlLFxuXHRcdGluc2lkZToge1xuXHRcdFx0J2ludGVycG9sYXRpb24nOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9cXCR7W159XSt9Lyxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J2ludGVycG9sYXRpb24tcHVuY3R1YXRpb24nOiB7XG5cdFx0XHRcdFx0XHRwYXR0ZXJuOiAvXlxcJHt8fSQvLFxuXHRcdFx0XHRcdFx0YWxpYXM6ICdwdW5jdHVhdGlvbidcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlc3Q6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQnc3RyaW5nJzogL1tcXHNcXFNdKy9cblx0XHR9XG5cdH1cbn0pO1xuXG5pZiAoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCkge1xuXHRQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5hZGRJbmxpbmVkKCdzY3JpcHQnLCAnamF2YXNjcmlwdCcpO1xufVxuXG5QcmlzbS5sYW5ndWFnZXMuanMgPSBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdDtcblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWZpbGUtaGlnaGxpZ2h0LmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdGlmICh0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgfHwgIXNlbGYuUHJpc20gfHwgIXNlbGYuZG9jdW1lbnQgfHwgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtFbGVtZW50fSBbY29udGFpbmVyPWRvY3VtZW50XVxuXHQgKi9cblx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0ID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0Y29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIEV4dGVuc2lvbnMgPSB7XG5cdFx0XHQnanMnOiAnamF2YXNjcmlwdCcsXG5cdFx0XHQncHknOiAncHl0aG9uJyxcblx0XHRcdCdyYic6ICdydWJ5Jyxcblx0XHRcdCdwczEnOiAncG93ZXJzaGVsbCcsXG5cdFx0XHQncHNtMSc6ICdwb3dlcnNoZWxsJyxcblx0XHRcdCdzaCc6ICdiYXNoJyxcblx0XHRcdCdiYXQnOiAnYmF0Y2gnLFxuXHRcdFx0J2gnOiAnYycsXG5cdFx0XHQndGV4JzogJ2xhdGV4J1xuXHRcdH07XG5cblx0XHRBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgncHJlW2RhdGEtc3JjXScpKS5mb3JFYWNoKGZ1bmN0aW9uIChwcmUpIHtcblx0XHRcdC8vIGlnbm9yZSBpZiBhbHJlYWR5IGxvYWRlZFxuXHRcdFx0aWYgKHByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3JjLWxvYWRlZCcpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbG9hZCBjdXJyZW50XG5cdFx0XHR2YXIgc3JjID0gcHJlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcblxuXHRcdFx0dmFyIGxhbmd1YWdlLCBwYXJlbnQgPSBwcmU7XG5cdFx0XHR2YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pO1xuXHRcdFx0d2hpbGUgKHBhcmVudCAmJiAhbGFuZy50ZXN0KHBhcmVudC5jbGFzc05hbWUpKSB7XG5cdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdGxhbmd1YWdlID0gKHByZS5jbGFzc05hbWUubWF0Y2gobGFuZykgfHwgWywgJyddKVsxXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFsYW5ndWFnZSkge1xuXHRcdFx0XHR2YXIgZXh0ZW5zaW9uID0gKHNyYy5tYXRjaCgvXFwuKFxcdyspJC8pIHx8IFssICcnXSlbMV07XG5cdFx0XHRcdGxhbmd1YWdlID0gRXh0ZW5zaW9uc1tleHRlbnNpb25dIHx8IGV4dGVuc2lvbjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2RlJyk7XG5cdFx0XHRjb2RlLmNsYXNzTmFtZSA9ICdsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cblx0XHRcdHByZS50ZXh0Q29udGVudCA9ICcnO1xuXG5cdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ0xvYWRpbmfigKYnO1xuXG5cdFx0XHRwcmUuYXBwZW5kQ2hpbGQoY29kZSk7XG5cblx0XHRcdHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXHRcdFx0eGhyLm9wZW4oJ0dFVCcsIHNyYywgdHJ1ZSk7XG5cblx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0KSB7XG5cblx0XHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA8IDQwMCAmJiB4aHIucmVzcG9uc2VUZXh0KSB7XG5cdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0geGhyLnJlc3BvbnNlVGV4dDtcblxuXHRcdFx0XHRcdFx0UHJpc20uaGlnaGxpZ2h0RWxlbWVudChjb2RlKTtcblx0XHRcdFx0XHRcdC8vIG1hcmsgYXMgbG9hZGVkXG5cdFx0XHRcdFx0XHRwcmUuc2V0QXR0cmlidXRlKCdkYXRhLXNyYy1sb2FkZWQnLCAnJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHhoci5zdGF0dXMgPj0gNDAwKSB7XG5cdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ+KcliBFcnJvciAnICsgeGhyLnN0YXR1cyArICcgd2hpbGUgZmV0Y2hpbmcgZmlsZTogJyArIHhoci5zdGF0dXNUZXh0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAn4pyWIEVycm9yOiBGaWxlIGRvZXMgbm90IGV4aXN0IG9yIGlzIGVtcHR5Jztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdHhoci5zZW5kKG51bGwpO1xuXHRcdH0pO1xuXG5cdFx0aWYgKFByaXNtLnBsdWdpbnMudG9vbGJhcikge1xuXHRcdFx0UHJpc20ucGx1Z2lucy50b29sYmFyLnJlZ2lzdGVyQnV0dG9uKCdkb3dubG9hZC1maWxlJywgZnVuY3Rpb24gKGVudikge1xuXHRcdFx0XHR2YXIgcHJlID0gZW52LmVsZW1lbnQucGFyZW50Tm9kZTtcblx0XHRcdFx0aWYgKCFwcmUgfHwgIS9wcmUvaS50ZXN0KHByZS5ub2RlTmFtZSkgfHwgIXByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3JjJykgfHwgIXByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtbGluaycpKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBzcmMgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuXHRcdFx0XHR2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0XHRcdFx0YS50ZXh0Q29udGVudCA9IHByZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtbGluay1sYWJlbCcpIHx8ICdEb3dubG9hZCc7XG5cdFx0XHRcdGEuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICcnKTtcblx0XHRcdFx0YS5ocmVmID0gc3JjO1xuXHRcdFx0XHRyZXR1cm4gYTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHR9O1xuXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gZXhlY3V0ZSBpbnNpZGUgaGFuZGxlciwgZm9yIGRyb3BwaW5nIEV2ZW50IGFzIGFyZ3VtZW50XG5cdFx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0KCk7XG5cdH0pO1xuXG59KSgpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3ByaXNtanMvcHJpc20uanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGZyb20gPSBmdW5jdGlvbihvcHRzLCBwbHVnaW5zKSB7XG4gIHZhciBwYXJlbnQgPSAob3B0cy5wYXJlbnQgfHwgb3B0cykubm9kZVR5cGUgPT09IDEgPyAob3B0cy5wYXJlbnQgfHwgb3B0cykgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdHMucGFyZW50IHx8IG9wdHMpLFxuICAgIHNsaWRlcyA9IFtdLmZpbHRlci5jYWxsKHR5cGVvZiBvcHRzLnNsaWRlcyA9PT0gJ3N0cmluZycgPyBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChvcHRzLnNsaWRlcykgOiAob3B0cy5zbGlkZXMgfHwgcGFyZW50LmNoaWxkcmVuKSwgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLm5vZGVOYW1lICE9PSAnU0NSSVBUJzsgfSksXG4gICAgYWN0aXZlU2xpZGUgPSBzbGlkZXNbMF0sXG4gICAgbGlzdGVuZXJzID0ge30sXG5cbiAgICBhY3RpdmF0ZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG4gICAgICBpZiAoIXNsaWRlc1tpbmRleF0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmaXJlKCdkZWFjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG4gICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1tpbmRleF07XG4gICAgICBmaXJlKCdhY3RpdmF0ZScsIGNyZWF0ZUV2ZW50RGF0YShhY3RpdmVTbGlkZSwgY3VzdG9tRGF0YSkpO1xuICAgIH0sXG5cbiAgICBzbGlkZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICBmaXJlKCdzbGlkZScsIGNyZWF0ZUV2ZW50RGF0YShzbGlkZXNbaW5kZXhdLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoaW5kZXgsIGN1c3RvbURhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RlcCA9IGZ1bmN0aW9uKG9mZnNldCwgY3VzdG9tRGF0YSkge1xuICAgICAgdmFyIHNsaWRlSW5kZXggPSBzbGlkZXMuaW5kZXhPZihhY3RpdmVTbGlkZSkgKyBvZmZzZXQ7XG5cbiAgICAgIGZpcmUob2Zmc2V0ID4gMCA/ICduZXh0JyA6ICdwcmV2JywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoc2xpZGVJbmRleCwgY3VzdG9tRGF0YSk7XG4gICAgfSxcblxuICAgIG9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IChsaXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdKSkucHVzaChjYWxsYmFjayk7XG4gICAgICByZXR1cm4gb2ZmLmJpbmQobnVsbCwgZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgfSxcblxuICAgIG9mZiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIGxpc3RlbmVyc1tldmVudE5hbWVdID0gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24obGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyICE9PSBjYWxsYmFjazsgfSk7XG4gICAgfSxcblxuICAgIGZpcmUgPSBmdW5jdGlvbihldmVudE5hbWUsIGV2ZW50RGF0YSkge1xuICAgICAgcmV0dXJuIChsaXN0ZW5lcnNbZXZlbnROYW1lXSB8fCBbXSlcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbihub3RDYW5jZWxsZWQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIG5vdENhbmNlbGxlZCAmJiBjYWxsYmFjayhldmVudERhdGEpICE9PSBmYWxzZTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIGNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGVsLCBldmVudERhdGEpIHtcbiAgICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCB7fTtcbiAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlcy5pbmRleE9mKGVsKTtcbiAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IGVsO1xuICAgICAgcmV0dXJuIGV2ZW50RGF0YTtcbiAgICB9LFxuXG4gICAgZGVjayA9IHtcbiAgICAgIG9uOiBvbixcbiAgICAgIG9mZjogb2ZmLFxuICAgICAgZmlyZTogZmlyZSxcbiAgICAgIHNsaWRlOiBzbGlkZSxcbiAgICAgIG5leHQ6IHN0ZXAuYmluZChudWxsLCAxKSxcbiAgICAgIHByZXY6IHN0ZXAuYmluZChudWxsLCAtMSksXG4gICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgIHNsaWRlczogc2xpZGVzXG4gICAgfTtcblxuICAocGx1Z2lucyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICBwbHVnaW4oZGVjayk7XG4gIH0pO1xuXG4gIGFjdGl2YXRlKDApO1xuXG4gIHJldHVybiBkZWNrO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGZyb206IGZyb21cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS9saWIvYmVzcG9rZS5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiFcbiAqIGJlc3Bva2UtdGhlbWUtbmVidWxhIHYxLjAuMVxuICpcbiAqIENvcHlyaWdodCAyMDE0LCBNYXJrIERhbGdsZWlzaFxuICogVGhpcyBjb250ZW50IGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogXG4gKi9cblxuIWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoZSk7ZWxzZXt2YXIgbztcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P289d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/bz1nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJihvPXNlbGYpO3ZhciBmPW87Zj1mLmJlc3Bva2V8fChmLmJlc3Bva2U9e30pLGY9Zi50aGVtZXN8fChmLnRoZW1lcz17fSksZi5uZWJ1bGE9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cbnZhciBjbGFzc2VzID0gX2RlcmVxXygnYmVzcG9rZS1jbGFzc2VzJyk7XG52YXIgaW5zZXJ0Q3NzID0gX2RlcmVxXygnaW5zZXJ0LWNzcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3NzID0gXCIvKiEgbm9ybWFsaXplLmNzcyB2My4wLjAgfCBNSVQgTGljZW5zZSB8IGdpdC5pby9ub3JtYWxpemUgKi9odG1se2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJX1ib2R5e21hcmdpbjowfWFydGljbGUsYXNpZGUsZGV0YWlscyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLGhncm91cCxtYWluLG5hdixzZWN0aW9uLHN1bW1hcnl7ZGlzcGxheTpibG9ja31hdWRpbyxjYW52YXMscHJvZ3Jlc3MsdmlkZW97ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9YXVkaW86bm90KFtjb250cm9sc10pe2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MH1baGlkZGVuXSx0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9YXtiYWNrZ3JvdW5kOjAgMH1hOmFjdGl2ZSxhOmhvdmVye291dGxpbmU6MH1hYmJyW3RpdGxlXXtib3JkZXItYm90dG9tOjFweCBkb3R0ZWR9Yntmb250LXdlaWdodDo3MDB9ZGZue2ZvbnQtc3R5bGU6aXRhbGljfWgxe2ZvbnQtc2l6ZToyZW19bWFya3tiYWNrZ3JvdW5kOiNmZjA7Y29sb3I6IzAwMH1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN1cHt0b3A6LS41ZW19c3Vie2JvdHRvbTotLjI1ZW19aW1ne2JvcmRlcjowfXN2Zzpub3QoOnJvb3Qpe292ZXJmbG93OmhpZGRlbn1maWd1cmV7bWFyZ2luOjFlbSA0MHB4fWhye2JveC1zaXppbmc6Y29udGVudC1ib3h9cHJle292ZXJmbG93OmF1dG99Y29kZSxrYmQscHJlLHNhbXB7Zm9udC1zaXplOjFlbX1rYmQscHJlLHNhbXB7Zm9udC1mYW1pbHk6bW9ub3NwYWNlLG1vbm9zcGFjZX1idXR0b24saW5wdXQsb3B0Z3JvdXAsc2VsZWN0LHRleHRhcmVhe2NvbG9yOmluaGVyaXQ7Zm9udDppbmhlcml0O21hcmdpbjowfWJ1dHRvbntvdmVyZmxvdzp2aXNpYmxlfWJ1dHRvbixzZWxlY3R7dGV4dC10cmFuc2Zvcm06bm9uZX1idXR0b24saHRtbCBpbnB1dFt0eXBlPVxcXCJidXR0b25cXFwiXSxpbnB1dFt0eXBlPVxcXCJyZXNldFxcXCJdLGlucHV0W3R5cGU9XFxcInN1Ym1pdFxcXCJdey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247Y3Vyc29yOnBvaW50ZXJ9YnV0dG9uW2Rpc2FibGVkXSxodG1sIGlucHV0W2Rpc2FibGVkXXtjdXJzb3I6ZGVmYXVsdH1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIsaW5wdXQ6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOjA7cGFkZGluZzowfWlucHV0e2xpbmUtaGVpZ2h0Om5vcm1hbH1pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLGlucHV0W3R5cGU9XFxcInJhZGlvXFxcIl17Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH1pbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixpbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbntoZWlnaHQ6YXV0b31pbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXXstd2Via2l0LWFwcGVhcmFuY2U6dGV4dGZpZWxkO2JveC1zaXppbmc6Y29udGVudC1ib3h9aW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWNhbmNlbC1idXR0b24saW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb257LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9ZmllbGRzZXR7Ym9yZGVyOjFweCBzb2xpZCBzaWx2ZXI7bWFyZ2luOjAgMnB4O3BhZGRpbmc6LjM1ZW0gLjYyNWVtIC43NWVtfWxlZ2VuZHtib3JkZXI6MDtwYWRkaW5nOjB9dGV4dGFyZWF7b3ZlcmZsb3c6YXV0b31vcHRncm91cHtmb250LXdlaWdodDo3MDB9dGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JvcmRlci1zcGFjaW5nOjB9dGQsdGgsKntwYWRkaW5nOjB9KnttYXJnaW46MH1odG1sey13ZWJraXQtdGV4dC1zaXplLWFkanVzdDphdXRvOy1tcy10ZXh0LXNpemUtYWRqdXN0OmF1dG87dGV4dC1zaXplLWFkanVzdDphdXRvfS5iZXNwb2tlLXBhcmVudHtmb250LXNpemU6MS41ZW07YmFja2dyb3VuZDojMTExO2NvbG9yOiNkZGQ7Zm9udC1mYW1pbHk6ZnV0dXJhLGhlbHZldGljYSxhcmlhbCxhcmlhbCxzYW5zLXNlcmlmO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZCAxcyBlYXNlO3RyYW5zaXRpb246YmFja2dyb3VuZCAxcyBlYXNlO2JhY2tncm91bmQtcG9zaXRpb246NTAlIDUwJX0uYmVzcG9rZS1wYXJlbnQsLmJlc3Bva2Utc2NhbGUtcGFyZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowfS5iZXNwb2tlLXNjYWxlLXBhcmVudHtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6MX0uYmVzcG9rZS1zY2FsZS1wYXJlbnQgLmJlc3Bva2UtYWN0aXZle3BvaW50ZXItZXZlbnRzOmF1dG99LmJlc3Bva2Utc2xpZGV7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjVzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC41cyBlYXNlO3dpZHRoOjk0MHB4O2hlaWdodDo0ODBweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi00NzBweDttYXJnaW4tdG9wOi0yNDBweDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LXdlYmtpdC1mbGV4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy13ZWJraXQtZmxleC1kaXJlY3Rpb246Y29sdW1uOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy13ZWJraXQtanVzdGlmeS1jb250ZW50OmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3otaW5kZXg6MX0uYmVzcG9rZS1hY3RpdmV7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi41czt0cmFuc2l0aW9uLWRlbGF5Oi41c30uYmVzcG9rZS1hY3RpdmVbZGF0YS1iZXNwb2tlLWJhY2tkcm9wXXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6Ljc1czt0cmFuc2l0aW9uLWRlbGF5Oi43NXN9LmJlc3Bva2UtaW5hY3RpdmV7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmV9LmJlc3Bva2UtYmFja2Ryb3B7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7aGVpZ2h0Oi4zdnc7ei1pbmRleDoxfS5iZXNwb2tlLXByb2dyZXNzLWJhcntiYWNrZ3JvdW5kOiNkZGQ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO2hlaWdodDoxMDAlOy13ZWJraXQtdHJhbnNpdGlvbjp3aWR0aCAxcyBlYXNlO3RyYW5zaXRpb246d2lkdGggMXMgZWFzZX0uYmVzcG9rZS1idWxsZXR7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlfS5iZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZXtvcGFjaXR5OjB9c3Ryb25ne2ZvbnQtd2VpZ2h0OjQwMH1ocnt3aWR0aDo1MCU7bWFyZ2luOjFyZW0gYXV0bztoZWlnaHQ6MXB4O2JvcmRlcjowO2JhY2tncm91bmQ6I2RkZH1oMyxwLGxpe3BhZGRpbmctbGVmdDoyMHB4O3BhZGRpbmctcmlnaHQ6MjBweH1oMyxoNCxwLGxpLHByZXtmb250LXdlaWdodDoyMDB9aDF7bGluZS1oZWlnaHQ6MS40ZW07cGFkZGluZzoxZW07Ym9yZGVyOjFweCBzb2xpZCAjZGRkO2JvcmRlci1sZWZ0LXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOjA7bWluLXdpZHRoOjhlbX1oMSxoMntsZXR0ZXItc3BhY2luZzouM2VtO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtmb250LXdlaWdodDo0MDA7bWFyZ2luOi4xN2VtIDA7cG9zaXRpb246cmVsYXRpdmV9aDJ7bGluZS1oZWlnaHQ6MS4xZW07cGFkZGluZzowIDAgMCAuM2VtfWgze2ZvbnQtZmFtaWx5OmRpZG90LHRpbWVzIG5ldyByb21hbixzZXJpZjtmb250LXN0eWxlOml0YWxpYztmb250LXNpemU6MS4yZW07bGluZS1oZWlnaHQ6MS42ZW07bWFyZ2luOi41ZW0gMH1oNHt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC1zaXplOi44ZW07bGluZS1oZWlnaHQ6MS44ZW07bGV0dGVyLXNwYWNpbmc6LjNlbTttYXJnaW46MWVtIDB9dWwsb2x7cGFkZGluZzowO21hcmdpbjowO3RleHQtYWxpZ246bGVmdH1saXtsaXN0LXN0eWxlOm5vbmU7bWFyZ2luOi4yZW07Zm9udC1zdHlsZTpub3JtYWw7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCl9bGk6YmVmb3Jle2NvbnRlbnQ6J1xcXFwyMDE0JzttYXJnaW4tcmlnaHQ6NHB4fXByZXtiYWNrZ3JvdW5kOm5vbmUhaW1wb3J0YW50fWNvZGV7Zm9udC1mYW1pbHk6cHJlc3RpZ2UgZWxpdGUgc3RkLGNvbnNvbGFzLGNvdXJpZXIgbmV3LG1vbm9zcGFjZSFpbXBvcnRhbnQ7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6MjAwIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnR9YXtwYWRkaW5nLWxlZnQ6LjNlbTtjb2xvcjpjdXJyZW50Q29sb3I7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgY3VycmVudENvbG9yfS5lbXBoYXRpY3tiYWNrZ3JvdW5kOiNmMzB9LnNpbmdsZS13b3Jkc3t3b3JkLXNwYWNpbmc6OTk5OXB4O2xpbmUtaGVpZ2h0OjIuOWVtO292ZXJmbG93OmhpZGRlbn0uYmVzcG9rZS1iYWNrZHJvcHtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSA2cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlLHRyYW5zZm9ybSA2cyBlYXNlO2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKXNjYWxlKDEuMyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMClzY2FsZSgxLjMpfS5iZXNwb2tlLWJhY2tkcm9wLWFjdGl2ZSwuYmVzcG9rZS1iYWNrZHJvcC1iZWZvcmV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKX0uYmVzcG9rZS1iYWNrZHJvcC1iZWZvcmV7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi4yczt0cmFuc2l0aW9uLWRlbGF5Oi4yc30uYmVzcG9rZS1iYWNrZHJvcC1hY3RpdmV7b3BhY2l0eTouNX1cIjtcbiAgaW5zZXJ0Q3NzKGNzcywgeyBwcmVwZW5kOiB0cnVlIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgY2xhc3NlcygpKGRlY2spO1xuICB9O1xufTtcblxufSx7XCJiZXNwb2tlLWNsYXNzZXNcIjoyLFwiaW5zZXJ0LWNzc1wiOjN9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGFkZENsYXNzID0gZnVuY3Rpb24oZWwsIGNscykge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLScgKyBjbHMpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbCwgY2xzKSB7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZVxuICAgICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoJ2Jlc3Bva2UtJyArIGNscyArJyhcXFxcc3wkKScsICdnJyksICcgJylcbiAgICAgICAgICAudHJpbSgpO1xuICAgICAgfSxcblxuICAgICAgZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uKGVsLCBpbmRleCkge1xuICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSBkZWNrLnNsaWRlc1tkZWNrLnNsaWRlKCldLFxuICAgICAgICAgIG9mZnNldCA9IGluZGV4IC0gZGVjay5zbGlkZSgpLFxuICAgICAgICAgIG9mZnNldENsYXNzID0gb2Zmc2V0ID4gMCA/ICdhZnRlcicgOiAnYmVmb3JlJztcblxuICAgICAgICBbJ2JlZm9yZSgtXFxcXGQrKT8nLCAnYWZ0ZXIoLVxcXFxkKyk/JywgJ2FjdGl2ZScsICdpbmFjdGl2ZSddLm1hcChyZW1vdmVDbGFzcy5iaW5kKG51bGwsIGVsKSk7XG5cbiAgICAgICAgaWYgKGVsICE9PSBhY3RpdmVTbGlkZSkge1xuICAgICAgICAgIFsnaW5hY3RpdmUnLCBvZmZzZXRDbGFzcywgb2Zmc2V0Q2xhc3MgKyAnLScgKyBNYXRoLmFicyhvZmZzZXQpXS5tYXAoYWRkQ2xhc3MuYmluZChudWxsLCBlbCkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgYWRkQ2xhc3MoZGVjay5wYXJlbnQsICdwYXJlbnQnKTtcbiAgICBkZWNrLnNsaWRlcy5tYXAoZnVuY3Rpb24oZWwpIHsgYWRkQ2xhc3MoZWwsICdzbGlkZScpOyB9KTtcblxuICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgZGVjay5zbGlkZXMubWFwKGRlYWN0aXZhdGUpO1xuICAgICAgYWRkQ2xhc3MoZS5zbGlkZSwgJ2FjdGl2ZScpO1xuICAgICAgcmVtb3ZlQ2xhc3MoZS5zbGlkZSwgJ2luYWN0aXZlJyk7XG4gICAgfSk7XG4gIH07XG59O1xuXG59LHt9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpbnNlcnRlZCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MsIG9wdGlvbnMpIHtcbiAgICBpZiAoaW5zZXJ0ZWRbY3NzXSkgcmV0dXJuO1xuICAgIGluc2VydGVkW2Nzc10gPSB0cnVlO1xuICAgIFxuICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuXG4gICAgaWYgKCd0ZXh0Q29udGVudCcgaW4gZWxlbSkge1xuICAgICAgZWxlbS50ZXh0Q29udGVudCA9IGNzcztcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgfVxuICAgIFxuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnByZXBlbmQpIHtcbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoZWxlbSwgaGVhZC5jaGlsZE5vZGVzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgIH1cbn07XG5cbn0se31dfSx7fSxbMV0pXG4oMSlcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLXRoZW1lLW5lYnVsYS9kaXN0L2Jlc3Bva2UtdGhlbWUtbmVidWxhLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBpc0hvcml6b250YWwgPSBvcHRpb25zICE9PSAndmVydGljYWwnO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDM0IHx8IC8vIFBBR0UgRE9XTlxuICAgICAgICAoZS53aGljaCA9PSAzMiAmJiAhZS5zaGlmdEtleSkgfHwgLy8gU1BBQ0UgV0lUSE9VVCBTSElGVFxuICAgICAgICAoaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzkpIHx8IC8vIFJJR0hUXG4gICAgICAgICghaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gNDApIC8vIERPV05cbiAgICAgICkgeyBkZWNrLm5leHQoKTsgfVxuXG4gICAgICBpZiAoZS53aGljaCA9PSAzMyB8fCAvLyBQQUdFIFVQXG4gICAgICAgIChlLndoaWNoID09IDMyICYmIGUuc2hpZnRLZXkpIHx8IC8vIFNQQUNFICsgU0hJRlRcbiAgICAgICAgKGlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM3KSB8fCAvLyBMRUZUXG4gICAgICAgICghaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzgpIC8vIFVQXG4gICAgICApIHsgZGVjay5wcmV2KCk7IH1cbiAgICB9KTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS1rZXlzL2xpYi9iZXNwb2tlLWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGF4aXMgPSBvcHRpb25zID09ICd2ZXJ0aWNhbCcgPyAnWScgOiAnWCcsXG4gICAgICBzdGFydFBvc2l0aW9uLFxuICAgICAgZGVsdGE7XG5cbiAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICBzdGFydFBvc2l0aW9uID0gZS50b3VjaGVzWzBdWydwYWdlJyArIGF4aXNdO1xuICAgICAgICBkZWx0YSA9IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZGVsdGEgPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc10gLSBzdGFydFBvc2l0aW9uO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVjay5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiA1MCkge1xuICAgICAgICBkZWNrW2RlbHRhID4gMCA/ICdwcmV2JyA6ICduZXh0J10oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS10b3VjaC9saWIvYmVzcG9rZS10b3VjaC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgYWN0aXZlU2xpZGVJbmRleCxcbiAgICAgIGFjdGl2ZUJ1bGxldEluZGV4LFxuXG4gICAgICBidWxsZXRzID0gZGVjay5zbGlkZXMubWFwKGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/IG9wdGlvbnMgOiAnW2RhdGEtYmVzcG9rZS1idWxsZXRdJykpLCAwKTtcbiAgICAgIH0pLFxuXG4gICAgICBuZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXh0U2xpZGVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXggKyAxO1xuXG4gICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KDEpKSB7XG4gICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggKyAxKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1tuZXh0U2xpZGVJbmRleF0pIHtcbiAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChuZXh0U2xpZGVJbmRleCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHByZXYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHByZXZTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCAtIDE7XG5cbiAgICAgICAgaWYgKGFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQoLTEpKSB7XG4gICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggLSAxKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1twcmV2U2xpZGVJbmRleF0pIHtcbiAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChwcmV2U2xpZGVJbmRleCwgYnVsbGV0c1twcmV2U2xpZGVJbmRleF0ubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGFjdGl2YXRlQnVsbGV0ID0gZnVuY3Rpb24oc2xpZGVJbmRleCwgYnVsbGV0SW5kZXgpIHtcbiAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IHNsaWRlSW5kZXg7XG4gICAgICAgIGFjdGl2ZUJ1bGxldEluZGV4ID0gYnVsbGV0SW5kZXg7XG5cbiAgICAgICAgYnVsbGV0cy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlLCBzKSB7XG4gICAgICAgICAgc2xpZGUuZm9yRWFjaChmdW5jdGlvbihidWxsZXQsIGIpIHtcbiAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldCcpO1xuXG4gICAgICAgICAgICBpZiAocyA8IHNsaWRlSW5kZXggfHwgcyA9PT0gc2xpZGVJbmRleCAmJiBiIDw9IGJ1bGxldEluZGV4KSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWluYWN0aXZlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtaW5hY3RpdmUnKTtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWFjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocyA9PT0gc2xpZGVJbmRleCAmJiBiID09PSBidWxsZXRJbmRleCkge1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtY3VycmVudCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWN1cnJlbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0ID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBidWxsZXRzW2FjdGl2ZVNsaWRlSW5kZXhdW2FjdGl2ZUJ1bGxldEluZGV4ICsgb2Zmc2V0XSAhPT0gdW5kZWZpbmVkO1xuICAgICAgfTtcblxuICAgIGRlY2sub24oJ25leHQnLCBuZXh0KTtcbiAgICBkZWNrLm9uKCdwcmV2JywgcHJldik7XG5cbiAgICBkZWNrLm9uKCdzbGlkZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGFjdGl2YXRlQnVsbGV0KGUuaW5kZXgsIDApO1xuICAgIH0pO1xuXG4gICAgYWN0aXZhdGVCdWxsZXQoMCwgMCk7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtYnVsbGV0cy9saWIvYmVzcG9rZS1idWxsZXRzLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGJhY2tkcm9wcztcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhY2tkcm9wRm9yU2xpZGUoc2xpZGUpIHtcbiAgICAgIHZhciBiYWNrZHJvcEF0dHJpYnV0ZSA9IHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWJhY2tkcm9wJyk7XG5cbiAgICAgIGlmIChiYWNrZHJvcEF0dHJpYnV0ZSkge1xuICAgICAgICB2YXIgYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYmFja2Ryb3AuY2xhc3NOYW1lID0gYmFja2Ryb3BBdHRyaWJ1dGU7XG4gICAgICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYmFja2Ryb3AnKTtcbiAgICAgICAgZGVjay5wYXJlbnQuYXBwZW5kQ2hpbGQoYmFja2Ryb3ApO1xuICAgICAgICByZXR1cm4gYmFja2Ryb3A7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NlcyhlbCkge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhY2tkcm9wcy5pbmRleE9mKGVsKSxcbiAgICAgICAgICBjdXJyZW50SW5kZXggPSBkZWNrLnNsaWRlKCk7XG5cbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdhY3RpdmUnKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdpbmFjdGl2ZScpO1xuICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2JlZm9yZScpO1xuICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2FmdGVyJyk7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2luYWN0aXZlJyk7XG4gICAgICAgICAgYWRkQ2xhc3MoZWwsIGluZGV4IDwgY3VycmVudEluZGV4ID8gJ2JlZm9yZScgOiAnYWZ0ZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1iYWNrZHJvcC0nICsgY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJhY2tkcm9wLScgKyBjbGFzc05hbWUpO1xuICAgIH1cblxuICAgIGJhY2tkcm9wcyA9IGRlY2suc2xpZGVzXG4gICAgICAubWFwKGNyZWF0ZUJhY2tkcm9wRm9yU2xpZGUpO1xuXG4gICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGJhY2tkcm9wcy5mb3JFYWNoKHVwZGF0ZUNsYXNzZXMpO1xuICAgIH0pO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLWJhY2tkcm9wL2xpYi9iZXNwb2tlLWJhY2tkcm9wLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBwYXJlbnQgPSBkZWNrLnBhcmVudCxcbiAgICAgIGZpcnN0U2xpZGUgPSBkZWNrLnNsaWRlc1swXSxcbiAgICAgIHNsaWRlSGVpZ2h0ID0gZmlyc3RTbGlkZS5vZmZzZXRIZWlnaHQsXG4gICAgICBzbGlkZVdpZHRoID0gZmlyc3RTbGlkZS5vZmZzZXRXaWR0aCxcbiAgICAgIHVzZVpvb20gPSBvcHRpb25zID09PSAnem9vbScgfHwgKCd6b29tJyBpbiBwYXJlbnQuc3R5bGUgJiYgb3B0aW9ucyAhPT0gJ3RyYW5zZm9ybScpLFxuXG4gICAgICB3cmFwID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXNjYWxlLXBhcmVudCc7XG4gICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWxlbWVudCk7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgICAgfSxcblxuICAgICAgZWxlbWVudHMgPSB1c2Vab29tID8gZGVjay5zbGlkZXMgOiBkZWNrLnNsaWRlcy5tYXAod3JhcCksXG5cbiAgICAgIHRyYW5zZm9ybVByb3BlcnR5ID0gKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgIHZhciBwcmVmaXhlcyA9ICdNb3ogV2Via2l0IE8gbXMnLnNwbGl0KCcgJyk7XG4gICAgICAgIHJldHVybiBwcmVmaXhlcy5yZWR1Y2UoZnVuY3Rpb24oY3VycmVudFByb3BlcnR5LCBwcmVmaXgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyBwcm9wZXJ0eSBpbiBwYXJlbnQuc3R5bGUgPyBwcmVmaXggKyBwcm9wZXJ0eSA6IGN1cnJlbnRQcm9wZXJ0eTtcbiAgICAgICAgICB9LCBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH0oJ1RyYW5zZm9ybScpKSxcblxuICAgICAgc2NhbGUgPSB1c2Vab29tID9cbiAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnpvb20gPSByYXRpbztcbiAgICAgICAgfSA6XG4gICAgICAgIGZ1bmN0aW9uKHJhdGlvLCBlbGVtZW50KSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZVt0cmFuc2Zvcm1Qcm9wZXJ0eV0gPSAnc2NhbGUoJyArIHJhdGlvICsgJyknO1xuICAgICAgICB9LFxuXG4gICAgICBzY2FsZUFsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeFNjYWxlID0gcGFyZW50Lm9mZnNldFdpZHRoIC8gc2xpZGVXaWR0aCxcbiAgICAgICAgICB5U2NhbGUgPSBwYXJlbnQub2Zmc2V0SGVpZ2h0IC8gc2xpZGVIZWlnaHQ7XG5cbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChzY2FsZS5iaW5kKG51bGwsIE1hdGgubWluKHhTY2FsZSwgeVNjYWxlKSkpO1xuICAgICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzY2FsZUFsbCk7XG4gICAgc2NhbGVBbGwoKTtcbiAgfTtcblxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLXNjYWxlL2xpYi9iZXNwb2tlLXNjYWxlLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGFjdGl2YXRlU2xpZGUgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgdmFyIGluZGV4VG9BY3RpdmF0ZSA9IC0xIDwgaW5kZXggJiYgaW5kZXggPCBkZWNrLnNsaWRlcy5sZW5ndGggPyBpbmRleCA6IDA7XG4gICAgICBpZiAoaW5kZXhUb0FjdGl2YXRlICE9PSBkZWNrLnNsaWRlKCkpIHtcbiAgICAgICAgZGVjay5zbGlkZShpbmRleFRvQWN0aXZhdGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcGFyc2VIYXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLFxuICAgICAgICBzbGlkZU51bWJlck9yTmFtZSA9IHBhcnNlSW50KGhhc2gsIDEwKTtcblxuICAgICAgaWYgKGhhc2gpIHtcbiAgICAgICAgaWYgKHNsaWRlTnVtYmVyT3JOYW1lKSB7XG4gICAgICAgICAgYWN0aXZhdGVTbGlkZShzbGlkZU51bWJlck9yTmFtZSAtIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlY2suc2xpZGVzLmZvckVhY2goZnVuY3Rpb24oc2xpZGUsIGkpIHtcbiAgICAgICAgICAgIGlmIChzbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1oYXNoJykgPT09IGhhc2ggfHwgc2xpZGUuaWQgPT09IGhhc2gpIHtcbiAgICAgICAgICAgICAgYWN0aXZhdGVTbGlkZShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgcGFyc2VIYXNoKCk7XG5cbiAgICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgc2xpZGVOYW1lID0gZS5zbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1oYXNoJykgfHwgZS5zbGlkZS5pZDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBzbGlkZU5hbWUgfHwgZS5pbmRleCArIDE7XG4gICAgICB9KTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBwYXJzZUhhc2gpO1xuICAgIH0sIDApO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLWhhc2gvbGliL2Jlc3Bva2UtaGFzaC5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkZWNrKSB7XG4gICAgdmFyIHByb2dyZXNzUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgcHJvcCA9IG9wdGlvbnMgPT09ICd2ZXJ0aWNhbCcgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgICBwcm9ncmVzc1BhcmVudC5jbGFzc05hbWUgPSAnYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnQnO1xuICAgIHByb2dyZXNzQmFyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXByb2dyZXNzLWJhcic7XG4gICAgcHJvZ3Jlc3NQYXJlbnQuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCYXIpO1xuICAgIGRlY2sucGFyZW50LmFwcGVuZENoaWxkKHByb2dyZXNzUGFyZW50KTtcblxuICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGVbcHJvcF0gPSAoZS5pbmRleCAqIDEwMCAvIChkZWNrLnNsaWRlcy5sZW5ndGggLSAxKSkgKyAnJSc7XG4gICAgfSk7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtcHJvZ3Jlc3MvbGliL2Jlc3Bva2UtcHJvZ3Jlc3MuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qZ2xvYmFsIG1vZHVsZTp0cnVlLCByZXF1aXJlOnRydWUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBwbHVnaW5OYW1lID0gXCJpbmRleGZpbmdlclwiLFxuICAgIC8vIEhhY2sgdG8gZ2V0IGFyb3VuZCBoYXZpbmcgdG8gd3JpdGUgYWxsIGJyb3dzZXIgY29kZSB3aXRoIHJlcXVpcmUoKS5cbiAgICBicm93c2VyR2xvYmFsID0gKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIGYoXCJyZXR1cm4gdGhpc1wiKSgpO1xuICAgIH0oRnVuY3Rpb24pKSxcbiAgICBjb252ZW5pZW50ID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuY29udmVuaWVudCkgfHwgcmVxdWlyZShcImJlc3Bva2UtY29udmVuaWVudFwiKSksXG4gICAgY3YgPSBjb252ZW5pZW50LmJ1aWxkZXIocGx1Z2luTmFtZSksXG5cbiAgICBwbHVnaW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWNrZXIgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgY3ZCb3VuZFRvRGVjayA9IGN2LmFjdGl2YXRlRGVjayhkZWNrKSxcblxuICAgICAgICAgICAgICAgIG9mZiA9IHt9LFxuXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBudWxsLFxuXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IC0xLFxuXG4gICAgICAgICAgICAgICAgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2ZmLnNhdmVBY3RpdmVTbGlkZSA9IHRoaXMub24oXCJhY3RpdmF0ZVwiLCB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5zYXZlQWN0aXZlU2xpZGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc2F2ZUFjdGl2ZVNsaWRlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZSA9IGUuc2xpZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gZS5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0QWN0aXZlU2xpZGVJbmRleDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suZ2V0QWN0aXZlU2xpZGUgPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZS5iaW5kKGRlY2spO1xuICAgICAgICAgICAgICAgICAgICBkZWNrLmdldEFjdGl2ZVNsaWRlSW5kZXggPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZUluZGV4LmJpbmQoZGVjayk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5lbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyLmNhbGwoZGVjayk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlY2tlcjtcbiAgICB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLWluZGV4ZmluZ2VyL2xpYi9iZXNwb2tlLWluZGV4ZmluZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgY29uc29sZTp0cnVlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgcGx1Z2luTmFtZSA9IFwiY29udmVuaWVudFwiLFxuICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfShGdW5jdGlvbikpLFxuXG4gICAgY3YsXG5cbiAgICAvLyBUaGUgZGVmYXVsdHMgb2JqZWN0IGlzIHBhc3NlZCBhcyBhIHJlZmVyZW5jZSwgYW5kIGNhbiBiZSBtb2RpZmllZCBieSBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRJbml0XG4gICAgZGVmYXVsdHMgPSB7XG4gICAgICAgIGxvZ2dlcjoge1xuICAgICAgICAgICAgbG9nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBwaGFudG9tLXBvbHlmaWxsLmpzIHByb2JsZW1zIGJpbmRpbmcgY29uc29sZS5sb2cgKHdpbmRvdy5jb25zb2xlLmxvZylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtZXJnZWQgPSB7fTtcblxuICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcbiAgICAgICAgbWVyZ2VkLmxvZ2dlciA9IHt9O1xuICAgICAgICBtZXJnZWQubG9nZ2VyLmxvZyA9IChicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zICYmIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyICYmIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZykgfHwgZGVmYXVsdHMubG9nZ2VyLmxvZztcblxuICAgICAgICBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zID0gbWVyZ2VkO1xuICAgIH0sXG5cbiAgICBwbHVnaW4gPSB7fSxcblxuICAgIGRlY2tzU3RvcmFnZXMgPSBbXSxcblxuICAgIGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVja0FscmVhZHlTdG9yZWQgPSBkZWNrc1N0b3JhZ2VzLnNvbWUoZnVuY3Rpb24oZGVja1N0b3JhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNrU3RvcmFnZS5kZWNrID09PSBkZWNrO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGVja0FscmVhZHlTdG9yZWQ7XG4gICAgfSxcblxuICAgIHN0b3JlRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgdmFyIGRlY2tBbHJlYWR5U3RvcmVkID0gaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2soZGVjayk7XG5cbiAgICAgICAgaWYgKCFkZWNrQWxyZWFkeVN0b3JlZCkge1xuICAgICAgICAgICAgZGVja3NTdG9yYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkZWNrOiBkZWNrLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IHt9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbiA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcbiAgICAgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWNrKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayksXG4gICAgICAgICAgICBpc1N0b3JhZ2VJbml0aWF0ZWQgPSAhIShzdG9yYWdlICYmIHN0b3JhZ2VbcGx1Z2luTmFtZV0pO1xuXG4gICAgICAgIHJldHVybiBpc1N0b3JhZ2VJbml0aWF0ZWQ7XG4gICAgfSxcblxuICAgIGluaXRpYXRlRGVja1BsdWdpblN0b3JhZ2UgPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG4gICAgICAgIGlmICghcGx1Z2luTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVjaykge1xuICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXG4gICAgICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgICAgICAgc3RvcmVEZWNrKGRlY2spO1xuICAgICAgICAgICAgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3JhZ2VbcGx1Z2luTmFtZV0gPSB7fTtcbiAgICB9LFxuXG4gICAgaXNOdW1iZXIgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgwODIvdmFsaWRhdGUtbnVtYmVycy1pbi1qYXZhc2NyaXB0LWlzbnVtZXJpY1xuICAgICAgICAvLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE4MzA4NDRcbiAgICAgICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbiAgICB9LFxuXG4gICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpbml0T3B0aW9ucygpO1xuICAgIH07XG5cbi8vIEZvciBwbHVnaW5zIHRoZW1zZWx2ZXNcbnBsdWdpbi5idWlsZGVyID0gZnVuY3Rpb24gc2VsZihvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgcGx1Z2luIG9wdGlvbnMgd2VyZSBub3QgcHJvcGVybHkgZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBwbHVnaW5OYW1lOiBvcHRpb25zXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnBsdWdpbk5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSBwbHVnaW4gbmFtZSB3YXMgbm90IHByb3Blcmx5IGRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIHZhciBleHRlcm5hbCA9IHt9LFxuXG4gICAgICAgIHRhZyA9IFwiYmVzcG9rZS5cIiArIG9wdGlvbnMucGx1Z2luTmFtZSxcblxuICAgICAgICBnZW5lcmF0ZUVycm9yT2JqZWN0ID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcih0YWcgKyBcIjogXCIgKyBtZXNzYWdlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudE5hbWVzcGFjZSA9IG9wdGlvbnMucGx1Z2luTmFtZSxcblxuICAgICAgICBldmVudEluTmFtZXNwYWNlID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnROYW1lc3BhY2UgKyBcIi5cIiArIGV2ZW50TmFtZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuICAgICAgICAvLyBNaW1pY2luZywgYW5kIGV4dGVuZGluZyx0aGUgaW50ZXJuYWwgY3JlYXRlRXZlbnREYXRhIGJlc3Bva2UgdXNlc1xuICAgICAgICBjcmVhdGVFdmVudERhdGEgPSBmdW5jdGlvbihkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcGx1Z2luLmNyZWF0ZUV2ZW50RGF0YS5jYWxsKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFRPRE86IGNyZWF0ZSBhIHNlY29uZCBvYmplY3QgYm91bmQgdG8gYm90aCB0aGlzIGV4dGVybmFsIG9iamVjdCBhbmQgdGhlIGRlY2ssXG4gICAgICAgIC8vIHRvIGF2b2lkIHBhc3NpbmcgdGhlIGRlY2sgcGFyYW1ldGVyIGV2ZXJ5IHRpbWUuIChXaGljaCBjYW4gYmUgYWxsZXZpYXRlZCB3aXRoIHNpbXBsZXIgZnVuY3Rpb24gYmluZGluZyB0aG91Z2guKVxuICAgICAgICBmaXJlID0gZnVuY3Rpb24oZGVjaywgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgY3VzdG9tRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlY2suZmlyZShldmVudEluTmFtZXNwYWNlKGV2ZW50TmFtZSksIGNyZWF0ZUV2ZW50RGF0YShkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgY3VzdG9tRGF0YSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxvZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHByZWZpeGVzID0gW3RhZ107XG5cbiAgICAgICAgICAgIC8vIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZyBpcyBkeW5hbWljLCBzbyBjYW4ndCBiaW5kIGRpcmVjdGx5IHRvIGl0XG4gICAgICAgICAgICBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cuYXBwbHkoYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nLCBwcmVmaXhlcy5jb25jYXQocGx1Z2luLmNvcHlBcnJheShhcmd1bWVudHMpKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICAgICAgdmFyIGlzU3RvcmFnZUluaXRpYXRlZCA9IGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luKG9wdGlvbnMucGx1Z2luTmFtZSwgZGVjayk7XG5cbiAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VJbml0aWF0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlICdcIiArIG9wdGlvbnMucGx1Z2luTmFtZSArIFwiJyBwbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhY3RpdmF0ZWQgZm9yIHRoaXMgZGVjaywgY2FuJ3QgYWN0aXZhdGUgaXQgdHdpY2UuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmRUb0RlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgZGVja0JvdW5kID0ge307XG5cbiAgICAgICAgICAgIGRlY2tCb3VuZC5jcmVhdGVFdmVudERhdGEgPSBleHRlcm5hbC5jcmVhdGVFdmVudERhdGEuYmluZCh0aGlzLCBkZWNrKTtcbiAgICAgICAgICAgIGRlY2tCb3VuZC5maXJlID0gZXh0ZXJuYWwuZmlyZS5iaW5kKHRoaXMsIGRlY2spO1xuICAgICAgICAgICAgZGVja0JvdW5kLmdldFN0b3JhZ2UgPSBleHRlcm5hbC5nZXRTdG9yYWdlLmJpbmQodGhpcywgZGVjayk7XG4gICAgICAgICAgICBkZWNrQm91bmQubG9nID0gZXh0ZXJuYWwubG9nLmJpbmQodGhpcywgZGVjayk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWNrQm91bmQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWN0aXZhdGVEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICAgICAgdmFyIGRlY2tCb3VuZDtcblxuICAgICAgICAgICAgdGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrKGRlY2spO1xuICAgICAgICAgICAgaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZShvcHRpb25zLnBsdWdpbk5hbWUsIGRlY2spO1xuXG4gICAgICAgICAgICBkZWNrQm91bmQgPSBiaW5kVG9EZWNrKGRlY2spO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVja0JvdW5kO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmRFeHRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXh0ZXJuYWwuY3JlYXRlRXZlbnREYXRhID0gY3JlYXRlRXZlbnREYXRhLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5nZW5lcmF0ZUVycm9yT2JqZWN0ID0gZ2VuZXJhdGVFcnJvck9iamVjdC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZXh0ZXJuYWwuZmlyZSA9IGZpcmUuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGV4dGVybmFsLmxvZyA9IGxvZy5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZXh0ZXJuYWwuYWN0aXZhdGVEZWNrID0gYWN0aXZhdGVEZWNrLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5nZXRTdG9yYWdlID0gcGx1Z2luLmdldERlY2tQbHVnaW5TdG9yYWdlLmJpbmQodGhpcywgb3B0aW9ucy5wbHVnaW5OYW1lKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBiaW5kRXh0ZXJuYWwoKTtcbiAgICAgICAgfTtcblxuICAgIGluaXQoKTtcblxuICAgIHJldHVybiBleHRlcm5hbDtcbn07XG5cbnBsdWdpbi5nZXREZWNrU3RvcmFnZSA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgc3RvcmFnZSA9IG51bGw7XG5cbiAgICBkZWNrc1N0b3JhZ2VzLnNvbWUoZnVuY3Rpb24oZGVja1N0b3JhZ2UpIHtcbiAgICAgICAgaWYgKGRlY2tTdG9yYWdlLmRlY2sgPT09IGRlY2spIHtcbiAgICAgICAgICAgIHN0b3JhZ2UgPSBkZWNrU3RvcmFnZS5zdG9yYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RvcmFnZTtcbn07XG5cbnBsdWdpbi5nZXREZWNrUGx1Z2luU3RvcmFnZSA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcbiAgICBpZiAoIXBsdWdpbk5hbWUpIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcblxuICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwic3RvcmFnZSB3YXMgbm90IGluaXRpYXRlZCBmb3IgdGhpcyBkZWNrLlwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RvcmFnZVtwbHVnaW5OYW1lXTtcbn07XG5cbi8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4vLyBNaW1pY2luZywgYW5kIGV4dGVuZGluZyx0aGUgaW50ZXJuYWwgY3JlYXRlRXZlbnREYXRhIGJlc3Bva2UgdXNlc1xucGx1Z2luLmNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpIHtcbiAgICBldmVudERhdGEgPSBldmVudERhdGEgfHwge307XG5cbiAgICBldmVudERhdGEuZXZlbnROYW1lc3BhY2UgPSBldmVudE5hbWVzcGFjZSB8fCBudWxsO1xuXG4gICAgZXZlbnREYXRhLmV2ZW50TmFtZSA9IGV2ZW50TmFtZSB8fCBudWxsO1xuXG4gICAgLy8gQ2FuIGJlIGVpdGhlciBhIERPTS9icm93c2VyIGV2ZW50IG9yIGEgYmVzcG9rZSBldmVudFxuICAgIGV2ZW50RGF0YS5pbm5lckV2ZW50ID0gaW5uZXJFdmVudCB8fCBudWxsO1xuXG4gICAgaWYgKGlzTnVtYmVyKHNsaWRlKSkge1xuICAgICAgICBldmVudERhdGEuaW5kZXggPSBzbGlkZTtcbiAgICAgICAgZXZlbnREYXRhLnNsaWRlID0gdGhpcy5zbGlkZXNbc2xpZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHRoaXMuc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuICAgICAgICBldmVudERhdGEuc2xpZGUgPSBzbGlkZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXZlbnREYXRhO1xufTtcblxucGx1Z2luLmNvcHlBcnJheSA9IGZ1bmN0aW9uKGFycikge1xuICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGFyciwgMCk7XG59O1xuXG5jdiA9IHBsdWdpbi5idWlsZGVyKHBsdWdpbk5hbWUpO1xuXG5pbml0KCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtY29udmVuaWVudC9saWIvYmVzcG9rZS1jb252ZW5pZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgcmVxdWlyZTp0cnVlLCB3aW5kb3c6dHJ1ZSwgZG9jdW1lbnQ6dHJ1ZSwgTWF0aDp0cnVlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgcGx1Z2luTmFtZSA9IFwic2Vjb25kYXJ5XCIsXG4gICAgLy8gSGFjayB0byBnZXQgYXJvdW5kIGhhdmluZyB0byB3cml0ZSBhbGwgYnJvd3NlciBjb2RlIHdpdGggcmVxdWlyZSgpLlxuICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfShGdW5jdGlvbikpLFxuICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCByZXF1aXJlKFwiYmVzcG9rZS1jb252ZW5pZW50XCIpKSxcbiAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblxuICAgIC8vIE1ha2luZyBzdXJlIGluZGV4ZmluZ2VyIGlzIGF2YWlsYWJsZS5cbiAgICAvLyBUT0RPOiBjaGVjayB0aGF0IGluZGV4ZmluZ2VyIGhhcyBiZWVuIGxvYWRlZDsgbWF5YmUgY2hlY2tpbmcgZm9yIGRlY2suZ2V0QWN0aXZlU2xpZGUoKS5cbiAgICBpbmRleGZpbmdlciA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmluZGV4ZmluZ2VyKSB8fCByZXF1aXJlKFwiYmVzcG9rZS1pbmRleGZpbmdlclwiKSksXG5cbiAgICBLZXlDb25zdGFudHMgPSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50I1ZpcnR1YWxfa2V5X2NvZGVzXG4gICAgICAgIFM6IDB4NTMsIC8vICg4MykgXCJTXCIga2V5LlxuICAgIH0sXG5cbiAgICBkZWZhdWx0cyA9IHtcbiAgICAgICAgbm90ZXM6IFwiYXNpZGVcIixcbiAgICAgICAga2V5czoge1xuICAgICAgICAgICAgdG9nZ2xlOiBLZXlDb25zdGFudHMuU1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHJhbmRvbUludGVnZXIgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICAgICAgICAvLyBUT0RPOiBsb29rIGZvciBzb21lb25lIGVsc2UncyBpbXBsZW1lbnRhdGlvbiAtIHRoZXkndmUgcHJvYmFibHkgY292ZXJlZCBhbGwgdGhlIGNvcm5lciBjYXNlcy5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgZG8gZm9yIDAgPD0gZnJvbSA8IHRvIDwgKHJhbmRvbSdzIHJlc29sdXRpb24pIHRob3VnaC5cbiAgICAgICAgdmFyIGRpZmYsXG4gICAgICAgICAgICBybmQ7XG5cbiAgICAgICAgaWYgKHRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRvID0gZnJvbTtcbiAgICAgICAgICAgIGZyb20gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlmZiA9IHRvIC0gZnJvbTtcblxuICAgICAgICBybmQgPSBmcm9tICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGlmZik7XG5cbiAgICAgICAgcmV0dXJuIHJuZDtcbiAgICB9LFxuXG4gICAgYmFzZVdpbmRvd05hbWUgPSBwbHVnaW5OYW1lICsgXCItd2luZG93LVwiLFxuXG4gICAgZ2VuZXJhdGVXaW5kb3dOYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBybmQgPSByYW5kb21JbnRlZ2VyKDEwMDAsIDEwMDAwKSxcbiAgICAgICAgICAgIHdpbmRvd05hbWUgPSBiYXNlV2luZG93TmFtZSArIHJuZDtcblxuICAgICAgICByZXR1cm4gd2luZG93TmFtZTtcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgIGRvYy5ib2R5LmlubmVySFRNTCA9IFwiPGgxPk5vdGVzPC9oMT48ZGl2IGlkPSdub3Rlcyc+PC9kaXY+XCI7XG4gICAgfSxcblxuICAgIHBsdWdpbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlY2tlciA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgICAgIHZhciBjdkJvdW5kVG9EZWNrID0gY3YuYWN0aXZhdGVEZWNrKGRlY2spLFxuXG4gICAgICAgICAgICAgICAgb2ZmID0ge30sXG5cbiAgICAgICAgICAgICAgICB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGdldE5vdGVzRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkud2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudCAmJiB0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3Rlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBpc09wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnNlY29uZGFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ID0gcy53aW5kb3csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXNJbml0aWFsaXplZCwgaXNOb3ROdWxsLCBpc05vdENsb3NlZCwgaXNPd25lZEJ5VGhpc1dpbmRvdywgY29udGFpbnNOb3Rlc0VsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAhIShzICE9PSB1bmRlZmluZWQgJiYgdyAhPT0gbnVsbCAmJiB3LmNsb3NlZCAhPT0gdHJ1ZSAmJiB3Lm9wZW5lciA9PT0gd2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpICE9PSBudWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBvcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cgPSB3aW5kb3cub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVTZWNvbmRhcnlXaW5kb3dDb250ZW50cyh0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOb3RlcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUgPSB0aGlzLmdldEFjdGl2ZVNsaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlTm90ZXMgPSBjb252ZW5pZW50LmNvcHlBcnJheShzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMubm90ZXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm90ZXMgPSBzbGlkZU5vdGVzLnJlZHVjZShmdW5jdGlvbihub3Rlc0h0bWwsIHNsaWRlTm90ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3Rlc0h0bWwgKyBzbGlkZU5vdGUub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gYWxsTm90ZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5V2luZG93TmFtZTogZ2VuZXJhdGVXaW5kb3dOYW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXROb3Rlc0VsZW1lbnQ6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5nZXROb3Rlc0VsZW1lbnQuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmlzT3Blbi5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLm9wZW4uYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuY2xvc2UuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuZm9jdXMuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLnRvZ2dsZS5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5zeW5jaHJvbml6ZS5iaW5kKGRlY2spXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG1lcmdlIGZ1bmN0aW9uP1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzID0ge307XG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzLnRvZ2dsZSA9IChvcHRpb25zLmtleXMgJiYgb3B0aW9ucy5rZXlzLnRvZ2dsZSkgfHwgZGVmYXVsdHMua2V5cy50b2dnbGU7XG5cbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLm5vdGVzID0gb3B0aW9ucy5ub3RlcyB8fCBkZWZhdWx0cy5ub3RlcztcblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gbWVyZ2VkO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBrZXlEb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudEhhbmRsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBObyBtb2RpZmllciBrZXlzLCBwbGVhc2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlLmFsdEtleSAmJiAhZS5jdHJsS2V5ICYmICFlLm1ldGFLZXkgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlZCA9IGV2ZW50SGFuZGxlZCB8fCAoZS53aGljaCA9PT0gb3B0aW9ucy5rZXlzLnRvZ2dsZSAmJiBjdkJvdW5kVG9EZWNrLmZpcmUoXCJ0b2dnbGVcIiwgZSkgJiYgZGVjay5zZWNvbmRhcnkudG9nZ2xlKCkgJiYgZGVjay5zZWNvbmRhcnkuc3luY2hyb25pemUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWV2ZW50SGFuZGxlZDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgb25CZWZvcmVVbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjay5zZWNvbmRhcnkuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgb25BY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeS5zeW5jaHJvbml6ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBlbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgZG9lc24ndCBzZWVtIHRvIHdvcmsgZm9yIG9uYmVmb3JldW5sb2FkXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IG9uQmVmb3JlVW5sb2FkO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleURvd25MaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBvZmYuYWN0aXZhdGUgPSBkZWNrLm9uKFwiYWN0aXZhdGVcIiwgb25BY3RpdmF0ZSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlY2tlcjtcbiAgICB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLXNlY29uZGFyeS9saWIvYmVzcG9rZS1zZWNvbmRhcnkuanNcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IFRlcm1pbmFsID0gcmVxdWlyZSgnZG9tLXRlcm1pbmFsL2xpYi90ZXJtaW5hbCcpXG5jb25zdCBwYXJzZXIgPSByZXF1aXJlKCd5YXJncy1wYXJzZXInKVxuY29uc3QgYm9vdCA9IHJlcXVpcmUoJy4vc3lzdGVtL2Jvb3QnKVxuY29uc3QgZnMgPSByZXF1aXJlKCcuL3N5c3RlbS9mcycpXG5cbmNvbnN0IGNvbW1hbmRzID0ge1xuICBsczogcmVxdWlyZSgnLi9jb21tYW5kcy9scycpLFxuICBwd2Q6IHJlcXVpcmUoJy4vY29tbWFuZHMvcHdkJyksXG4gIG1rZGlyOiByZXF1aXJlKCcuL2NvbW1hbmRzL21rZGlyJyksXG4gIHRvdWNoOiByZXF1aXJlKCcuL2NvbW1hbmRzL3RvdWNoJyksXG4gIGNhdDogcmVxdWlyZSgnLi9jb21tYW5kcy9jYXQnKSxcbiAgY2Q6IHJlcXVpcmUoJy4vY29tbWFuZHMvY2QnKSxcbiAgcm06IHJlcXVpcmUoJy4vY29tbWFuZHMvcm0nKSxcbiAgY2xlYXI6IHJlcXVpcmUoJy4vY29tbWFuZHMvY2xlYXInKSxcbiAgdGhlbWU6IHJlcXVpcmUoJy4vY29tbWFuZHMvdGhlbWUnKSxcbiAgdmVyc2lvbjogcmVxdWlyZSgnLi9jb21tYW5kcy92ZXJzaW9uJyksXG5cbiAgbnBtOiByZXF1aXJlKCcuL2NvbW1hbmRzL25wbScpLFxuICAnaXBmcy1ucG0nOiByZXF1aXJlKCcuL2NvbW1hbmRzL2lwZnMtbnBtJylcbn1cblxuY29tbWFuZHMuaGVscCA9IHtcbiAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcbiAgICByZXR1cm4gYENvbW1hbmRzOiAke09iamVjdC5rZXlzKGNvbW1hbmRzKS5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpfTxicj5Nb3JlIGhlbHAgYXZhaWxhYmxlIDxhIGNsYXNzPVwiZXh0ZXJuYWxcIiBocmVmPVwiaHR0cDovL2dpdGh1Yi5jb20vc2FzYWRqb2xpYy9kb20tdGVybWluYWxcIiB0YXJnZXQ9XCJfYmxhbmtcIj5oZXJlPC9hPmBcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IChkZWNrKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdGVybWluYWwgPSBuZXcgVGVybWluYWwoJ3Rlcm1pbmFsJywge30sIHtcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKGNtZCwgYXJncykge1xuICAgICAgICBjb25zdCBjb21tYW5kID0gY29tbWFuZHNbY21kXVxuXG4gICAgICAgIGlmICghY29tbWFuZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhcmdzID0gcGFyc2VyKGFyZ3MsIGNvbW1hbmQuYXJncylcblxuICAgICAgICAgIGxldCBvdXRwdXQgPSBjb21tYW5kLmhhbmRsZXIodGVybWluYWwsIGFyZ3MpXG5cbiAgICAgICAgICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQgfHwgb3V0cHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSAnJ1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0eXBlb2Ygb3V0cHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL1xcdC9nLCAnJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gb3V0cHV0XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgICAgIHJldHVybiBlcnIubWVzc2FnZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIGJvb3QoKVxuXG4gICAgdGVybWluYWwuc2V0UHJvbXB0KGZzLnB3ZCgpLnNwbGl0KCcvJykucG9wKCkgKyAnICcpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2RlY2suanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcblxuXHR2YXIgVGVybWluYWwgPSBUZXJtaW5hbCB8fCBmdW5jdGlvbihjb250YWluZXJJRCwgb3B0aW9ucykge1xuXHRcdGlmICghY29udGFpbmVySUQpIHJldHVybjtcblxuXHRcdHZhciBkZWZhdWx0cyA9IHtcblx0XHRcdHdlbGNvbWU6ICcnLFxuXHRcdFx0cHJvbXB0OiAnJyxcblx0XHRcdHNlcGFyYXRvcjogJyZndDsnLFxuXHRcdFx0dGhlbWU6ICdpbnRlcmxhY2VkJ1xuXHRcdH07XG5cblx0XHR2YXIgb3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdHM7XG5cdFx0b3B0aW9ucy53ZWxjb21lID0gb3B0aW9ucy53ZWxjb21lIHx8IGRlZmF1bHRzLndlbGNvbWU7XG5cdFx0b3B0aW9ucy5wcm9tcHQgPSBvcHRpb25zLnByb21wdCB8fCBkZWZhdWx0cy5wcm9tcHQ7XG5cdFx0b3B0aW9ucy5zZXBhcmF0b3IgPSBvcHRpb25zLnNlcGFyYXRvciB8fCBkZWZhdWx0cy5zZXBhcmF0b3I7XG5cdFx0b3B0aW9ucy50aGVtZSA9IG9wdGlvbnMudGhlbWUgfHwgZGVmYXVsdHMudGhlbWU7XG5cblx0XHR2YXIgZXh0ZW5zaW9ucyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG5cblx0XHR2YXIgX2hpc3RvcnkgPSBsb2NhbFN0b3JhZ2UuaGlzdG9yeSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmhpc3RvcnkpIDogW107XG5cdFx0dmFyIF9oaXN0cG9zID0gX2hpc3RvcnkubGVuZ3RoO1xuXHRcdHZhciBfaGlzdHRlbXAgPSAnJztcblxuXHRcdC8vIENyZWF0ZSB0ZXJtaW5hbCBhbmQgY2FjaGUgRE9NIG5vZGVzO1xuXHRcdHZhciBfdGVybWluYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJRCk7XG5cdFx0X3Rlcm1pbmFsLmNsYXNzTGlzdC5hZGQoJ3Rlcm1pbmFsJyk7XG5cdFx0X3Rlcm1pbmFsLmNsYXNzTGlzdC5hZGQoJ3Rlcm1pbmFsLScgKyBvcHRpb25zLnRoZW1lKTtcblx0XHRfdGVybWluYWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVFbmQnLCBbXG5cdFx0XHQnPGRpdiBjbGFzcz1cImJhY2tncm91bmRcIj48ZGl2IGNsYXNzPVwiaW50ZXJsYWNlXCI+PC9kaXY+PC9kaXY+Jyxcblx0XHRcdCc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+Jyxcblx0XHRcdCc8b3V0cHV0Pjwvb3V0cHV0PicsXG5cdFx0XHQnPHRhYmxlIGNsYXNzPVwiaW5wdXQtbGluZVwiPicsXG5cdFx0XHQnPHRyPjx0ZCBub3dyYXA+PGRpdiBjbGFzcz1cInByb21wdFwiPicgKyBvcHRpb25zLnByb21wdCArIG9wdGlvbnMuc2VwYXJhdG9yICsgJzwvZGl2PjwvdGQ+PHRkIHdpZHRoPVwiMTAwJVwiPjxpbnB1dCBjbGFzcz1cImNtZGxpbmVcIiBzcGVsbGNoZWNrPVwiZmFsc2VcIiBhdXRvZm9jdXMgLz48L3RkPjwvdHI+Jyxcblx0XHRcdCc8L3RhYmxlPicsXG5cdFx0XHQnPC9kaXY+J10uam9pbignJykpO1xuXHRcdHZhciBfY29udGFpbmVyID0gX3Rlcm1pbmFsLnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcblx0XHR2YXIgX2lucHV0TGluZSA9IF9jb250YWluZXIucXVlcnlTZWxlY3RvcignLmlucHV0LWxpbmUnKTtcblx0XHR2YXIgX2NtZExpbmUgPSBfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1saW5lIC5jbWRsaW5lJyk7XG5cdFx0dmFyIF9vdXRwdXQgPSBfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ291dHB1dCcpO1xuXHRcdHZhciBfcHJvbXB0ID0gX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucHJvbXB0Jyk7XG5cdFx0dmFyIF9iYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tncm91bmQnKTtcblxuXHRcdC8vIEhhY2tlcnkgdG8gcmVzaXplIHRoZSBpbnRlcmxhY2UgYmFja2dyb3VuZCBpbWFnZSBhcyB0aGUgY29udGFpbmVyIGdyb3dzLlxuXHRcdF9vdXRwdXQuYWRkRXZlbnRMaXN0ZW5lcignRE9NU3VidHJlZU1vZGlmaWVkJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0Ly8gV29ya3MgYmVzdCB3aXRoIHRoZSBzY3JvbGwgaW50byB2aWV3IHdyYXBwZWQgaW4gYSBzZXRUaW1lb3V0LlxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0X2NtZExpbmUuc2Nyb2xsSW50b1ZpZXcoKTtcblx0XHRcdH0sIDApO1xuXHRcdH0sIGZhbHNlKTtcblxuXHRcdGlmIChvcHRpb25zLndlbGNvbWUpIHtcblx0XHRcdG91dHB1dChvcHRpb25zLndlbGNvbWUpO1xuXHRcdH1cblxuXHRcdF90ZXJtaW5hbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdF9jbWRMaW5lLmZvY3VzKCk7XG5cdFx0fSwgZmFsc2UpO1xuXG5cdFx0X291dHB1dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fSwgZmFsc2UpO1xuXG5cdFx0Ly8gQWx3YXlzIGZvcmNlIHRleHQgY3Vyc29yIHRvIGVuZCBvZiBpbnB1dCBsaW5lLlxuXHRcdF9jbWRMaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5wdXRUZXh0Q2xpY2ssIGZhbHNlKTtcblx0XHRfaW5wdXRMaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0X2NtZExpbmUuZm9jdXMoKTtcblx0XHR9LCBmYWxzZSk7XG5cblx0XHQvLyBIYW5kbGUgdXAvZG93biBrZXkgcHJlc3NlcyBmb3Igc2hlbGwgaGlzdG9yeSBhbmQgZW50ZXIgZm9yIG5ldyBjb21tYW5kLlxuXHRcdF9jbWRMaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgaGlzdG9yeUhhbmRsZXIsIGZhbHNlKTtcblx0XHRfY21kTGluZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcHJvY2Vzc05ld0NvbW1hbmQsIHRydWUpO1xuXG5cdFx0ZnVuY3Rpb24gaW5wdXRUZXh0Q2xpY2soZSkge1xuXHRcdFx0dGhpcy52YWx1ZSA9IHRoaXMudmFsdWU7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaGlzdG9yeUhhbmRsZXIoZSkge1xuXHRcdFx0Ly8gQ2xlYXIgY29tbWFuZC1saW5lIG9uIEVzY2FwZSBrZXkuXG5cdFx0XHRpZiAoZS5rZXlDb2RlID09IDI3KSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSAnJztcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoX2hpc3RvcnkubGVuZ3RoICYmIChlLmtleUNvZGUgPT0gMzggfHwgZS5rZXlDb2RlID09IDQwKSkge1xuXHRcdFx0XHRpZiAoX2hpc3RvcnlbX2hpc3Rwb3NdKSB7XG5cdFx0XHRcdFx0X2hpc3RvcnlbX2hpc3Rwb3NdID0gdGhpcy52YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRfaGlzdHRlbXAgPSB0aGlzLnZhbHVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGUua2V5Q29kZSA9PSAzOCkge1xuXHRcdFx0XHRcdC8vIFVwIGFycm93IGtleS5cblx0XHRcdFx0XHRfaGlzdHBvcy0tO1xuXHRcdFx0XHRcdGlmIChfaGlzdHBvcyA8IDApIHtcblx0XHRcdFx0XHRcdF9oaXN0cG9zID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAoZS5rZXlDb2RlID09IDQwKSB7XG5cdFx0XHRcdFx0Ly8gRG93biBhcnJvdyBrZXkuXG5cdFx0XHRcdFx0X2hpc3Rwb3MrKztcblx0XHRcdFx0XHRpZiAoX2hpc3Rwb3MgPiBfaGlzdG9yeS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdF9oaXN0cG9zID0gX2hpc3RvcnkubGVuZ3RoO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMudmFsdWUgPSBfaGlzdG9yeVtfaGlzdHBvc10gPyBfaGlzdG9yeVtfaGlzdHBvc10gOiBfaGlzdHRlbXA7XG5cblx0XHRcdFx0Ly8gTW92ZSBjdXJzb3IgdG8gZW5kIG9mIGlucHV0LlxuXHRcdFx0XHR0aGlzLnZhbHVlID0gdGhpcy52YWx1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBwcm9jZXNzTmV3Q29tbWFuZChlKSB7XG5cdFx0XHRpZiAoY21kTGluZUlzVmlzaWJsZSgpKSB7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgaGFuZGxlIHRoZSBFbnRlciBrZXkuXG5cdFx0XHRpZiAoZS5rZXlDb2RlICE9IDEzKSByZXR1cm47XG5cblx0XHRcdHZhciBjbWRsaW5lID0gdGhpcy52YWx1ZTtcblxuXHRcdFx0Ly8gU2F2ZSBzaGVsbCBoaXN0b3J5LlxuXHRcdFx0aWYgKGNtZGxpbmUpIHtcblx0XHRcdFx0X2hpc3RvcnlbX2hpc3RvcnkubGVuZ3RoXSA9IGNtZGxpbmU7XG5cdFx0XHRcdGxvY2FsU3RvcmFnZVsnaGlzdG9yeSddID0gSlNPTi5zdHJpbmdpZnkoX2hpc3RvcnkpO1xuXHRcdFx0XHRfaGlzdHBvcyA9IF9oaXN0b3J5Lmxlbmd0aDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRHVwbGljYXRlIGN1cnJlbnQgaW5wdXQgYW5kIGFwcGVuZCB0byBvdXRwdXQgc2VjdGlvbi5cblx0XHRcdHZhciBsaW5lID0gdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsb25lTm9kZSh0cnVlKTtcblx0XHRcdGxpbmUucmVtb3ZlQXR0cmlidXRlKCdpZCcpXG5cdFx0XHRsaW5lLmNsYXNzTGlzdC5hZGQoJ2xpbmUnKTtcblx0XHRcdHZhciBpbnB1dCA9IGxpbmUucXVlcnlTZWxlY3RvcignaW5wdXQuY21kbGluZScpO1xuXHRcdFx0aW5wdXQuYXV0b2ZvY3VzID0gZmFsc2U7XG5cdFx0XHRpbnB1dC5yZWFkT25seSA9IHRydWU7XG5cdFx0XHRpbnB1dC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgaW5wdXQudmFsdWUpO1xuXHRcdFx0aW5wdXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpbnB1dCk7XG5cdFx0XHRfb3V0cHV0LmFwcGVuZENoaWxkKGxpbmUpO1xuXG5cdFx0XHQvLyBIaWRlIGNvbW1hbmQgbGluZSB1bnRpbCB3ZSdyZSBkb25lIHByb2Nlc3NpbmcgaW5wdXQuXG5cdFx0XHRfaW5wdXRMaW5lLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXG5cdFx0XHQvLyBDbGVhci9zZXR1cCBsaW5lIGZvciBuZXh0IGlucHV0LlxuXHRcdFx0dGhpcy52YWx1ZSA9ICcnO1xuXG5cdFx0XHQvLyBQYXJzZSBvdXQgY29tbWFuZCwgYXJncywgYW5kIHRyaW0gb2ZmIHdoaXRlc3BhY2UuXG5cdFx0XHRpZiAoY21kbGluZSAmJiBjbWRsaW5lLnRyaW0oKSkge1xuXHRcdFx0XHR2YXIgYXJncyA9IGNtZGxpbmUuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24odmFsLCBpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHZhciBjbWQgPSBhcmdzWzBdO1xuXHRcdFx0XHRhcmdzID0gYXJncy5zcGxpY2UoMSk7IC8vIFJlbW92ZSBjbWQgZnJvbSBhcmcgbGlzdC5cblx0XHRcdH1cblxuXHRcdFx0aWYgKGNtZCkge1xuXHRcdFx0XHR2YXIgcmVzcG9uc2UgPSBmYWxzZTtcblx0XHRcdFx0Zm9yICh2YXIgaW5kZXggaW4gZXh0ZW5zaW9ucykge1xuXHRcdFx0XHRcdHZhciBleHQgPSBleHRlbnNpb25zW2luZGV4XTtcblx0XHRcdFx0XHRpZiAoZXh0LmV4ZWN1dGUpIHJlc3BvbnNlID0gZXh0LmV4ZWN1dGUoY21kLCBhcmdzKTtcblx0XHRcdFx0XHRpZiAocmVzcG9uc2UgIT09IGZhbHNlKSBicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocmVzcG9uc2UgPT09IGZhbHNlKSByZXNwb25zZSA9IGNtZCArICc6IGNvbW1hbmQgbm90IGZvdW5kJztcblx0XHRcdFx0b3V0cHV0KHJlc3BvbnNlIHx8ICcnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyB0aGUgY29tbWFuZCBsaW5lLlxuXHRcdFx0X2lucHV0TGluZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjbGVhcigpIHtcblx0XHRcdF9vdXRwdXQuaW5uZXJIVE1MID0gJyc7XG5cdFx0XHRfY21kTGluZS52YWx1ZSA9ICcnO1xuXHRcdFx0X2JhY2tncm91bmQuc3R5bGUubWluSGVpZ2h0ID0gJyc7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb3V0cHV0KGh0bWwpIHtcblx0XHRcdF9vdXRwdXQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVFbmQnLCBodG1sKTtcblx0XHRcdF9jbWRMaW5lLnNjcm9sbEludG9WaWV3KCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY21kTGluZUlzVmlzaWJsZSAoKSB7XG5cdFx0XHRsZXQgcGFyZW50ID0gX2NtZExpbmUucGFyZW50RWxlbWVudFxuXG5cdFx0XHR3aGlsZSAocGFyZW50KSB7XG5cdFx0XHRcdGlmICgocGFyZW50LmNsYXNzTmFtZSB8fCAnJykuaW5jbHVkZXMoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGNsZWFyOiBjbGVhcixcblx0XHRcdHNldFByb21wdDogZnVuY3Rpb24ocHJvbXB0KSB7IF9wcm9tcHQuaW5uZXJIVE1MID0gcHJvbXB0ICsgb3B0aW9ucy5zZXBhcmF0b3I7IH0sXG5cdFx0XHRnZXRQcm9tcHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gX3Byb21wdC5pbm5lckhUTUwucmVwbGFjZShuZXcgUmVnRXhwKG9wdGlvbnMuc2VwYXJhdG9yICsgJyQnKSwgJycpOyB9LFxuXHRcdFx0c2V0VGhlbWU6IGZ1bmN0aW9uKHRoZW1lKSB7IF90ZXJtaW5hbC5jbGFzc0xpc3QucmVtb3ZlKCd0ZXJtaW5hbC0nICsgb3B0aW9ucy50aGVtZSk7IG9wdGlvbnMudGhlbWUgPSB0aGVtZTsgX3Rlcm1pbmFsLmNsYXNzTGlzdC5hZGQoJ3Rlcm1pbmFsLScgKyBvcHRpb25zLnRoZW1lKTsgfSxcblx0XHRcdGdldFRoZW1lOiBmdW5jdGlvbigpIHsgcmV0dXJuIG9wdGlvbnMudGhlbWU7IH0sXG5cdFx0XHRwcmludDogb3V0cHV0XG5cdFx0fVxuXHR9O1xuXG5cdC8vIG5vZGUuanNcblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBUZXJtaW5hbDtcblxuXHQvLyB3ZWIgYnJvd3NlcnNcblx0fSBlbHNlIHtcblx0XHR2YXIgb2xkVGVybWluYWwgPSBnbG9iYWwuVGVybWluYWw7XG5cdFx0VGVybWluYWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGdsb2JhbC5UZXJtaW5hbCA9IG9sZFRlcm1pbmFsO1xuXHRcdFx0cmV0dXJuIFRlcm1pbmFsO1xuXHRcdH07XG5cdFx0Z2xvYmFsLlRlcm1pbmFsID0gVGVybWluYWw7XG5cdH1cblxufSkodGhpcyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZG9tLXRlcm1pbmFsL2xpYi90ZXJtaW5hbC5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGNhbWVsQ2FzZSA9IHJlcXVpcmUoJ2NhbWVsY2FzZScpXG52YXIgZGVjYW1lbGl6ZSA9IHJlcXVpcmUoJ2RlY2FtZWxpemUnKVxudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJylcbnZhciB0b2tlbml6ZUFyZ1N0cmluZyA9IHJlcXVpcmUoJy4vbGliL3Rva2VuaXplLWFyZy1zdHJpbmcnKVxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcblxuZnVuY3Rpb24gcGFyc2UgKGFyZ3MsIG9wdHMpIHtcbiAgaWYgKCFvcHRzKSBvcHRzID0ge31cbiAgLy8gYWxsb3cgYSBzdHJpbmcgYXJndW1lbnQgdG8gYmUgcGFzc2VkIGluIHJhdGhlclxuICAvLyB0aGFuIGFuIGFyZ3YgYXJyYXkuXG4gIGFyZ3MgPSB0b2tlbml6ZUFyZ1N0cmluZyhhcmdzKVxuXG4gIC8vIGFsaWFzZXMgbWlnaHQgaGF2ZSB0cmFuc2l0aXZlIHJlbGF0aW9uc2hpcHMsIG5vcm1hbGl6ZSB0aGlzLlxuICB2YXIgYWxpYXNlcyA9IGNvbWJpbmVBbGlhc2VzKG9wdHMuYWxpYXMgfHwge30pXG4gIHZhciBjb25maWd1cmF0aW9uID0gT2JqZWN0LmFzc2lnbih7XG4gICAgJ3Nob3J0LW9wdGlvbi1ncm91cHMnOiB0cnVlLFxuICAgICdjYW1lbC1jYXNlLWV4cGFuc2lvbic6IHRydWUsXG4gICAgJ2RvdC1ub3RhdGlvbic6IHRydWUsXG4gICAgJ3BhcnNlLW51bWJlcnMnOiB0cnVlLFxuICAgICdib29sZWFuLW5lZ2F0aW9uJzogdHJ1ZSxcbiAgICAnbmVnYXRpb24tcHJlZml4JzogJ25vLScsXG4gICAgJ2R1cGxpY2F0ZS1hcmd1bWVudHMtYXJyYXknOiB0cnVlLFxuICAgICdmbGF0dGVuLWR1cGxpY2F0ZS1hcnJheXMnOiB0cnVlLFxuICAgICdwb3B1bGF0ZS0tJzogZmFsc2UsXG4gICAgJ2NvbWJpbmUtYXJyYXlzJzogZmFsc2UsXG4gICAgJ3NldC1wbGFjZWhvbGRlci1rZXknOiBmYWxzZSxcbiAgICAnaGFsdC1hdC1ub24tb3B0aW9uJzogZmFsc2UsXG4gICAgJ3N0cmlwLWFsaWFzZWQnOiBmYWxzZSxcbiAgICAnc3RyaXAtZGFzaGVkJzogZmFsc2VcbiAgfSwgb3B0cy5jb25maWd1cmF0aW9uKVxuICB2YXIgZGVmYXVsdHMgPSBvcHRzLmRlZmF1bHQgfHwge31cbiAgdmFyIGNvbmZpZ09iamVjdHMgPSBvcHRzLmNvbmZpZ09iamVjdHMgfHwgW11cbiAgdmFyIGVudlByZWZpeCA9IG9wdHMuZW52UHJlZml4XG4gIHZhciBub3RGbGFnc09wdGlvbiA9IGNvbmZpZ3VyYXRpb25bJ3BvcHVsYXRlLS0nXVxuICB2YXIgbm90RmxhZ3NBcmd2ID0gbm90RmxhZ3NPcHRpb24gPyAnLS0nIDogJ18nXG4gIHZhciBuZXdBbGlhc2VzID0ge31cbiAgLy8gYWxsb3cgYSBpMThuIGhhbmRsZXIgdG8gYmUgcGFzc2VkIGluLCBkZWZhdWx0IHRvIGEgZmFrZSBvbmUgKHV0aWwuZm9ybWF0KS5cbiAgdmFyIF9fID0gb3B0cy5fXyB8fCB1dGlsLmZvcm1hdFxuICB2YXIgZXJyb3IgPSBudWxsXG4gIHZhciBmbGFncyA9IHtcbiAgICBhbGlhc2VzOiB7fSxcbiAgICBhcnJheXM6IHt9LFxuICAgIGJvb2xzOiB7fSxcbiAgICBzdHJpbmdzOiB7fSxcbiAgICBudW1iZXJzOiB7fSxcbiAgICBjb3VudHM6IHt9LFxuICAgIG5vcm1hbGl6ZToge30sXG4gICAgY29uZmlnczoge30sXG4gICAgZGVmYXVsdGVkOiB7fSxcbiAgICBuYXJnczoge30sXG4gICAgY29lcmNpb25zOiB7fSxcbiAgICBrZXlzOiBbXVxuICB9XG4gIHZhciBuZWdhdGl2ZSA9IC9eLVswLTldKyhcXC5bMC05XSspPy9cbiAgdmFyIG5lZ2F0ZWRCb29sZWFuID0gbmV3IFJlZ0V4cCgnXi0tJyArIGNvbmZpZ3VyYXRpb25bJ25lZ2F0aW9uLXByZWZpeCddICsgJyguKyknKVxuXG4gIDtbXS5jb25jYXQob3B0cy5hcnJheSkuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKG9wdCkge1xuICAgIHZhciBrZXkgPSBvcHQua2V5IHx8IG9wdFxuXG4gICAgLy8gYXNzaWduIHRvIGZsYWdzW2Jvb2xzfHN0cmluZ3N8bnVtYmVyc11cbiAgICBjb25zdCBhc3NpZ25tZW50ID0gT2JqZWN0LmtleXMob3B0KS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuICh7XG4gICAgICAgIGJvb2xlYW46ICdib29scycsXG4gICAgICAgIHN0cmluZzogJ3N0cmluZ3MnLFxuICAgICAgICBudW1iZXI6ICdudW1iZXJzJ1xuICAgICAgfSlba2V5XVxuICAgIH0pLmZpbHRlcihCb29sZWFuKS5wb3AoKVxuXG4gICAgLy8gYXNzaWduIGtleSB0byBiZSBjb2VyY2VkXG4gICAgaWYgKGFzc2lnbm1lbnQpIHtcbiAgICAgIGZsYWdzW2Fzc2lnbm1lbnRdW2tleV0gPSB0cnVlXG4gICAgfVxuXG4gICAgZmxhZ3MuYXJyYXlzW2tleV0gPSB0cnVlXG4gICAgZmxhZ3Mua2V5cy5wdXNoKGtleSlcbiAgfSlcblxuICA7W10uY29uY2F0KG9wdHMuYm9vbGVhbikuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGZsYWdzLmJvb2xzW2tleV0gPSB0cnVlXG4gICAgZmxhZ3Mua2V5cy5wdXNoKGtleSlcbiAgfSlcblxuICA7W10uY29uY2F0KG9wdHMuc3RyaW5nKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZmxhZ3Muc3RyaW5nc1trZXldID0gdHJ1ZVxuICAgIGZsYWdzLmtleXMucHVzaChrZXkpXG4gIH0pXG5cbiAgO1tdLmNvbmNhdChvcHRzLm51bWJlcikuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGZsYWdzLm51bWJlcnNba2V5XSA9IHRydWVcbiAgICBmbGFncy5rZXlzLnB1c2goa2V5KVxuICB9KVxuXG4gIDtbXS5jb25jYXQob3B0cy5jb3VudCkuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGZsYWdzLmNvdW50c1trZXldID0gdHJ1ZVxuICAgIGZsYWdzLmtleXMucHVzaChrZXkpXG4gIH0pXG5cbiAgO1tdLmNvbmNhdChvcHRzLm5vcm1hbGl6ZSkuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGZsYWdzLm5vcm1hbGl6ZVtrZXldID0gdHJ1ZVxuICAgIGZsYWdzLmtleXMucHVzaChrZXkpXG4gIH0pXG5cbiAgT2JqZWN0LmtleXMob3B0cy5uYXJnIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgZmxhZ3MubmFyZ3Nba10gPSBvcHRzLm5hcmdba11cbiAgICBmbGFncy5rZXlzLnB1c2goaylcbiAgfSlcblxuICBPYmplY3Qua2V5cyhvcHRzLmNvZXJjZSB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIGZsYWdzLmNvZXJjaW9uc1trXSA9IG9wdHMuY29lcmNlW2tdXG4gICAgZmxhZ3Mua2V5cy5wdXNoKGspXG4gIH0pXG5cbiAgaWYgKEFycmF5LmlzQXJyYXkob3B0cy5jb25maWcpIHx8IHR5cGVvZiBvcHRzLmNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICA7W10uY29uY2F0KG9wdHMuY29uZmlnKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBmbGFncy5jb25maWdzW2tleV0gPSB0cnVlXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICBPYmplY3Qua2V5cyhvcHRzLmNvbmZpZyB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgZmxhZ3MuY29uZmlnc1trXSA9IG9wdHMuY29uZmlnW2tdXG4gICAgfSlcbiAgfVxuXG4gIC8vIGNyZWF0ZSBhIGxvb2t1cCB0YWJsZSB0aGF0IHRha2VzIGludG8gYWNjb3VudCBhbGxcbiAgLy8gY29tYmluYXRpb25zIG9mIGFsaWFzZXM6IHtmOiBbJ2ZvbyddLCBmb286IFsnZiddfVxuICBleHRlbmRBbGlhc2VzKG9wdHMua2V5LCBhbGlhc2VzLCBvcHRzLmRlZmF1bHQsIGZsYWdzLmFycmF5cylcblxuICAvLyBhcHBseSBkZWZhdWx0IHZhbHVlcyB0byBhbGwgYWxpYXNlcy5cbiAgT2JqZWN0LmtleXMoZGVmYXVsdHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIChmbGFncy5hbGlhc2VzW2tleV0gfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKGFsaWFzKSB7XG4gICAgICBkZWZhdWx0c1thbGlhc10gPSBkZWZhdWx0c1trZXldXG4gICAgfSlcbiAgfSlcblxuICB2YXIgYXJndiA9IHsgXzogW10gfVxuXG4gIE9iamVjdC5rZXlzKGZsYWdzLmJvb2xzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRlZmF1bHRzLCBrZXkpKSB7XG4gICAgICBzZXRBcmcoa2V5LCBkZWZhdWx0c1trZXldKVxuICAgICAgc2V0RGVmYXVsdGVkKGtleSlcbiAgICB9XG4gIH0pXG5cbiAgdmFyIG5vdEZsYWdzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYXJnID0gYXJnc1tpXVxuICAgIHZhciBicm9rZW5cbiAgICB2YXIga2V5XG4gICAgdmFyIGxldHRlcnNcbiAgICB2YXIgbVxuICAgIHZhciBuZXh0XG4gICAgdmFyIHZhbHVlXG5cbiAgICAvLyAtLSBzZXBhcmF0ZWQgYnkgPVxuICAgIGlmIChhcmcubWF0Y2goL14tLS4rPS8pIHx8IChcbiAgICAgICFjb25maWd1cmF0aW9uWydzaG9ydC1vcHRpb24tZ3JvdXBzJ10gJiYgYXJnLm1hdGNoKC9eLS4rPS8pXG4gICAgKSkge1xuICAgICAgLy8gVXNpbmcgW1xcc1xcU10gaW5zdGVhZCBvZiAuIGJlY2F1c2UganMgZG9lc24ndCBzdXBwb3J0IHRoZVxuICAgICAgLy8gJ2RvdGFsbCcgcmVnZXggbW9kaWZpZXIuIFNlZTpcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwNjgzMDgvMTMyMTZcbiAgICAgIG0gPSBhcmcubWF0Y2goL14tLT8oW149XSspPShbXFxzXFxTXSopJC8pXG5cbiAgICAgIC8vIG5hcmdzIGZvcm1hdCA9ICctLWY9bW9ua2V5IHdhc2hpbmcgY2F0J1xuICAgICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhtWzFdLCBmbGFncy5uYXJncykpIHtcbiAgICAgICAgYXJncy5zcGxpY2UoaSArIDEsIDAsIG1bMl0pXG4gICAgICAgIGkgPSBlYXROYXJncyhpLCBtWzFdLCBhcmdzKVxuICAgICAgLy8gYXJyYXlzIGZvcm1hdCA9ICctLWY9YSBiIGMnXG4gICAgICB9IGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhtWzFdLCBmbGFncy5hcnJheXMpICYmIGFyZ3MubGVuZ3RoID4gaSArIDEpIHtcbiAgICAgICAgYXJncy5zcGxpY2UoaSArIDEsIDAsIG1bMl0pXG4gICAgICAgIGkgPSBlYXRBcnJheShpLCBtWzFdLCBhcmdzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0QXJnKG1bMV0sIG1bMl0pXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcmcubWF0Y2gobmVnYXRlZEJvb2xlYW4pICYmIGNvbmZpZ3VyYXRpb25bJ2Jvb2xlYW4tbmVnYXRpb24nXSkge1xuICAgICAga2V5ID0gYXJnLm1hdGNoKG5lZ2F0ZWRCb29sZWFuKVsxXVxuICAgICAgc2V0QXJnKGtleSwgZmFsc2UpXG5cbiAgICAvLyAtLSBzZXBlcmF0ZWQgYnkgc3BhY2UuXG4gICAgfSBlbHNlIGlmIChhcmcubWF0Y2goL14tLS4rLykgfHwgKFxuICAgICAgIWNvbmZpZ3VyYXRpb25bJ3Nob3J0LW9wdGlvbi1ncm91cHMnXSAmJiBhcmcubWF0Y2goL14tW14tXSsvKVxuICAgICkpIHtcbiAgICAgIGtleSA9IGFyZy5tYXRjaCgvXi0tPyguKykvKVsxXVxuXG4gICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLS1mb28gYSBiIGMnXG4gICAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MubmFyZ3MpKSB7XG4gICAgICAgIGkgPSBlYXROYXJncyhpLCBrZXksIGFyZ3MpXG4gICAgICAvLyBhcnJheSBmb3JtYXQgPSAnLS1mb28gYSBiIGMnXG4gICAgICB9IGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmFycmF5cykgJiYgYXJncy5sZW5ndGggPiBpICsgMSkge1xuICAgICAgICBpID0gZWF0QXJyYXkoaSwga2V5LCBhcmdzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dCA9IGZsYWdzLm5hcmdzW2tleV0gPT09IDAgPyB1bmRlZmluZWQgOiBhcmdzW2kgKyAxXVxuXG4gICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgKCFuZXh0Lm1hdGNoKC9eLS8pIHx8XG4gICAgICAgICAgbmV4dC5tYXRjaChuZWdhdGl2ZSkpICYmXG4gICAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSAmJlxuICAgICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpKSB7XG4gICAgICAgICAgc2V0QXJnKGtleSwgbmV4dClcbiAgICAgICAgICBpKytcbiAgICAgICAgfSBlbHNlIGlmICgvXih0cnVlfGZhbHNlKSQvLnRlc3QobmV4dCkpIHtcbiAgICAgICAgICBzZXRBcmcoa2V5LCBuZXh0KVxuICAgICAgICAgIGkrK1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEFyZyhrZXksIGRlZmF1bHRWYWx1ZShrZXkpKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAvLyBkb3Qtbm90YXRpb24gZmxhZyBzZXBlcmF0ZWQgYnkgJz0nLlxuICAgIH0gZWxzZSBpZiAoYXJnLm1hdGNoKC9eLS5cXC4uKz0vKSkge1xuICAgICAgbSA9IGFyZy5tYXRjaCgvXi0oW149XSspPShbXFxzXFxTXSopJC8pXG4gICAgICBzZXRBcmcobVsxXSwgbVsyXSlcblxuICAgIC8vIGRvdC1ub3RhdGlvbiBmbGFnIHNlcGVyYXRlZCBieSBzcGFjZS5cbiAgICB9IGVsc2UgaWYgKGFyZy5tYXRjaCgvXi0uXFwuLisvKSkge1xuICAgICAgbmV4dCA9IGFyZ3NbaSArIDFdXG4gICAgICBrZXkgPSBhcmcubWF0Y2goL14tKC5cXC4uKykvKVsxXVxuXG4gICAgICBpZiAobmV4dCAhPT0gdW5kZWZpbmVkICYmICFuZXh0Lm1hdGNoKC9eLS8pICYmXG4gICAgICAgICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykgJiZcbiAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpIHtcbiAgICAgICAgc2V0QXJnKGtleSwgbmV4dClcbiAgICAgICAgaSsrXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRBcmcoa2V5LCBkZWZhdWx0VmFsdWUoa2V5KSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZy5tYXRjaCgvXi1bXi1dKy8pICYmICFhcmcubWF0Y2gobmVnYXRpdmUpKSB7XG4gICAgICBsZXR0ZXJzID0gYXJnLnNsaWNlKDEsIC0xKS5zcGxpdCgnJylcbiAgICAgIGJyb2tlbiA9IGZhbHNlXG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGV0dGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICBuZXh0ID0gYXJnLnNsaWNlKGogKyAyKVxuXG4gICAgICAgIGlmIChsZXR0ZXJzW2ogKyAxXSAmJiBsZXR0ZXJzW2ogKyAxXSA9PT0gJz0nKSB7XG4gICAgICAgICAgdmFsdWUgPSBhcmcuc2xpY2UoaiArIDMpXG4gICAgICAgICAga2V5ID0gbGV0dGVyc1tqXVxuXG4gICAgICAgICAgLy8gbmFyZ3MgZm9ybWF0ID0gJy1mPW1vbmtleSB3YXNoaW5nIGNhdCdcbiAgICAgICAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MubmFyZ3MpKSB7XG4gICAgICAgICAgICBhcmdzLnNwbGljZShpICsgMSwgMCwgdmFsdWUpXG4gICAgICAgICAgICBpID0gZWF0TmFyZ3MoaSwga2V5LCBhcmdzKVxuICAgICAgICAgIC8vIGFycmF5IGZvcm1hdCA9ICctZj1hIGIgYydcbiAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmFycmF5cykgJiYgYXJncy5sZW5ndGggPiBpICsgMSkge1xuICAgICAgICAgICAgYXJncy5zcGxpY2UoaSArIDEsIDAsIHZhbHVlKVxuICAgICAgICAgICAgaSA9IGVhdEFycmF5KGksIGtleSwgYXJncylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0QXJnKGtleSwgdmFsdWUpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJva2VuID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV4dCA9PT0gJy0nKSB7XG4gICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGN1cnJlbnQgbGV0dGVyIGlzIGFuIGFscGhhYmV0aWMgY2hhcmFjdGVyIGFuZCBuZXh0IHZhbHVlIGlzIGEgbnVtYmVyXG4gICAgICAgIGlmICgvW0EtWmEtel0vLnRlc3QobGV0dGVyc1tqXSkgJiZcbiAgICAgICAgICAvXi0/XFxkKyhcXC5cXGQqKT8oZS0/XFxkKyk/JC8udGVzdChuZXh0KSkge1xuICAgICAgICAgIHNldEFyZyhsZXR0ZXJzW2pdLCBuZXh0KVxuICAgICAgICAgIGJyb2tlbiA9IHRydWVcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxldHRlcnNbaiArIDFdICYmIGxldHRlcnNbaiArIDFdLm1hdGNoKC9cXFcvKSkge1xuICAgICAgICAgIHNldEFyZyhsZXR0ZXJzW2pdLCBuZXh0KVxuICAgICAgICAgIGJyb2tlbiA9IHRydWVcbiAgICAgICAgICBicmVha1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEFyZyhsZXR0ZXJzW2pdLCBkZWZhdWx0VmFsdWUobGV0dGVyc1tqXSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAga2V5ID0gYXJnLnNsaWNlKC0xKVswXVxuXG4gICAgICBpZiAoIWJyb2tlbiAmJiBrZXkgIT09ICctJykge1xuICAgICAgICAvLyBuYXJncyBmb3JtYXQgPSAnLWYgYSBiIGMnXG4gICAgICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncykpIHtcbiAgICAgICAgICBpID0gZWF0TmFyZ3MoaSwga2V5LCBhcmdzKVxuICAgICAgICAvLyBhcnJheSBmb3JtYXQgPSAnLWYgYSBiIGMnXG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYXJyYXlzKSAmJiBhcmdzLmxlbmd0aCA+IGkgKyAxKSB7XG4gICAgICAgICAgaSA9IGVhdEFycmF5KGksIGtleSwgYXJncylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0ID0gYXJnc1tpICsgMV1cblxuICAgICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgKCEvXigtfC0tKVteLV0vLnRlc3QobmV4dCkgfHxcbiAgICAgICAgICAgIG5leHQubWF0Y2gobmVnYXRpdmUpKSAmJlxuICAgICAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmJvb2xzKSAmJlxuICAgICAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpIHtcbiAgICAgICAgICAgIHNldEFyZyhrZXksIG5leHQpXG4gICAgICAgICAgICBpKytcbiAgICAgICAgICB9IGVsc2UgaWYgKC9eKHRydWV8ZmFsc2UpJC8udGVzdChuZXh0KSkge1xuICAgICAgICAgICAgc2V0QXJnKGtleSwgbmV4dClcbiAgICAgICAgICAgIGkrK1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRBcmcoa2V5LCBkZWZhdWx0VmFsdWUoa2V5KSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZyA9PT0gJy0tJykge1xuICAgICAgbm90RmxhZ3MgPSBhcmdzLnNsaWNlKGkgKyAxKVxuICAgICAgYnJlYWtcbiAgICB9IGVsc2UgaWYgKGNvbmZpZ3VyYXRpb25bJ2hhbHQtYXQtbm9uLW9wdGlvbiddKSB7XG4gICAgICBub3RGbGFncyA9IGFyZ3Muc2xpY2UoaSlcbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZ3YuXy5wdXNoKG1heWJlQ29lcmNlTnVtYmVyKCdfJywgYXJnKSlcbiAgICB9XG4gIH1cblxuICAvLyBvcmRlciBvZiBwcmVjZWRlbmNlOlxuICAvLyAxLiBjb21tYW5kIGxpbmUgYXJnXG4gIC8vIDIuIHZhbHVlIGZyb20gZW52IHZhclxuICAvLyAzLiB2YWx1ZSBmcm9tIGNvbmZpZyBmaWxlXG4gIC8vIDQuIHZhbHVlIGZyb20gY29uZmlnIG9iamVjdHNcbiAgLy8gNS4gY29uZmlndXJlZCBkZWZhdWx0IHZhbHVlXG4gIGFwcGx5RW52VmFycyhhcmd2LCB0cnVlKSAvLyBzcGVjaWFsIGNhc2U6IGNoZWNrIGVudiB2YXJzIHRoYXQgcG9pbnQgdG8gY29uZmlnIGZpbGVcbiAgYXBwbHlFbnZWYXJzKGFyZ3YsIGZhbHNlKVxuICBzZXRDb25maWcoYXJndilcbiAgc2V0Q29uZmlnT2JqZWN0cygpXG4gIGFwcGx5RGVmYXVsdHNBbmRBbGlhc2VzKGFyZ3YsIGZsYWdzLmFsaWFzZXMsIGRlZmF1bHRzKVxuICBhcHBseUNvZXJjaW9ucyhhcmd2KVxuICBpZiAoY29uZmlndXJhdGlvblsnc2V0LXBsYWNlaG9sZGVyLWtleSddKSBzZXRQbGFjZWhvbGRlcktleXMoYXJndilcblxuICAvLyBmb3IgYW55IGNvdW50cyBlaXRoZXIgbm90IGluIGFyZ3Mgb3Igd2l0aG91dCBhbiBleHBsaWNpdCBkZWZhdWx0LCBzZXQgdG8gMFxuICBPYmplY3Qua2V5cyhmbGFncy5jb3VudHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghaGFzS2V5KGFyZ3YsIGtleS5zcGxpdCgnLicpKSkgc2V0QXJnKGtleSwgMClcbiAgfSlcblxuICAvLyAnLS0nIGRlZmF1bHRzIHRvIHVuZGVmaW5lZC5cbiAgaWYgKG5vdEZsYWdzT3B0aW9uICYmIG5vdEZsYWdzLmxlbmd0aCkgYXJndltub3RGbGFnc0FyZ3ZdID0gW11cbiAgbm90RmxhZ3MuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgYXJndltub3RGbGFnc0FyZ3ZdLnB1c2goa2V5KVxuICB9KVxuXG4gIGlmIChjb25maWd1cmF0aW9uWydjYW1lbC1jYXNlLWV4cGFuc2lvbiddICYmIGNvbmZpZ3VyYXRpb25bJ3N0cmlwLWRhc2hlZCddKSB7XG4gICAgT2JqZWN0LmtleXMoYXJndikuZmlsdGVyKGtleSA9PiBrZXkgIT09ICctLScgJiYga2V5LmluY2x1ZGVzKCctJykpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGRlbGV0ZSBhcmd2W2tleV1cbiAgICB9KVxuICB9XG5cbiAgaWYgKGNvbmZpZ3VyYXRpb25bJ3N0cmlwLWFsaWFzZWQnXSkge1xuICAgIC8vIFhYWCBTd2l0Y2ggdG8gW10uY29uY2F0KC4uLk9iamVjdC52YWx1ZXMoYWxpYXNlcykpIG9uY2Ugbm9kZS5qcyA2IGlzIGRyb3BwZWRcbiAgICA7W10uY29uY2F0KC4uLk9iamVjdC5rZXlzKGFsaWFzZXMpLm1hcChrID0+IGFsaWFzZXNba10pKS5mb3JFYWNoKGFsaWFzID0+IHtcbiAgICAgIGlmIChjb25maWd1cmF0aW9uWydjYW1lbC1jYXNlLWV4cGFuc2lvbiddKSB7XG4gICAgICAgIGRlbGV0ZSBhcmd2W2FsaWFzLnNwbGl0KCcuJykubWFwKHByb3AgPT4gY2FtZWxDYXNlKHByb3ApKS5qb2luKCcuJyldXG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBhcmd2W2FsaWFzXVxuICAgIH0pXG4gIH1cblxuICAvLyBob3cgbWFueSBhcmd1bWVudHMgc2hvdWxkIHdlIGNvbnN1bWUsIGJhc2VkXG4gIC8vIG9uIHRoZSBuYXJncyBvcHRpb24/XG4gIGZ1bmN0aW9uIGVhdE5hcmdzIChpLCBrZXksIGFyZ3MpIHtcbiAgICB2YXIgaWlcbiAgICBjb25zdCB0b0VhdCA9IGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm5hcmdzKVxuXG4gICAgLy8gbmFyZ3Mgd2lsbCBub3QgY29uc3VtZSBmbGFnIGFyZ3VtZW50cywgZS5nLiwgLWFiYywgLS1mb28sXG4gICAgLy8gYW5kIHRlcm1pbmF0ZXMgd2hlbiBvbmUgaXMgb2JzZXJ2ZWQuXG4gICAgdmFyIGF2YWlsYWJsZSA9IDBcbiAgICBmb3IgKGlpID0gaSArIDE7IGlpIDwgYXJncy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIGlmICghYXJnc1tpaV0ubWF0Y2goL14tW14wLTldLykpIGF2YWlsYWJsZSsrXG4gICAgICBlbHNlIGJyZWFrXG4gICAgfVxuXG4gICAgaWYgKGF2YWlsYWJsZSA8IHRvRWF0KSBlcnJvciA9IEVycm9yKF9fKCdOb3QgZW5vdWdoIGFyZ3VtZW50cyBmb2xsb3dpbmc6ICVzJywga2V5KSlcblxuICAgIGNvbnN0IGNvbnN1bWVkID0gTWF0aC5taW4oYXZhaWxhYmxlLCB0b0VhdClcbiAgICBmb3IgKGlpID0gaSArIDE7IGlpIDwgKGNvbnN1bWVkICsgaSArIDEpOyBpaSsrKSB7XG4gICAgICBzZXRBcmcoa2V5LCBhcmdzW2lpXSlcbiAgICB9XG5cbiAgICByZXR1cm4gKGkgKyBjb25zdW1lZClcbiAgfVxuXG4gIC8vIGlmIGFuIG9wdGlvbiBpcyBhbiBhcnJheSwgZWF0IGFsbCBub24taHlwaGVuYXRlZCBhcmd1bWVudHNcbiAgLy8gZm9sbG93aW5nIGl0Li4uIFlVTSFcbiAgLy8gZS5nLiwgLS1mb28gYXBwbGUgYmFuYW5hIGNhdCBiZWNvbWVzIFtcImFwcGxlXCIsIFwiYmFuYW5hXCIsIFwiY2F0XCJdXG4gIGZ1bmN0aW9uIGVhdEFycmF5IChpLCBrZXksIGFyZ3MpIHtcbiAgICB2YXIgc3RhcnQgPSBpICsgMVxuICAgIHZhciBhcmdzVG9TZXQgPSBbXVxuICAgIHZhciBtdWx0aXBsZUFycmF5RmxhZyA9IGkgPiAwXG4gICAgZm9yICh2YXIgaWkgPSBpICsgMTsgaWkgPCBhcmdzLmxlbmd0aDsgaWkrKykge1xuICAgICAgaWYgKC9eLS8udGVzdChhcmdzW2lpXSkgJiYgIW5lZ2F0aXZlLnRlc3QoYXJnc1tpaV0pKSB7XG4gICAgICAgIGlmIChpaSA9PT0gc3RhcnQpIHtcbiAgICAgICAgICBzZXRBcmcoa2V5LCBkZWZhdWx0Rm9yVHlwZSgnYXJyYXknKSlcbiAgICAgICAgfVxuICAgICAgICBtdWx0aXBsZUFycmF5RmxhZyA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGkgPSBpaVxuICAgICAgYXJnc1RvU2V0LnB1c2goYXJnc1tpaV0pXG4gICAgfVxuICAgIGlmIChtdWx0aXBsZUFycmF5RmxhZykge1xuICAgICAgc2V0QXJnKGtleSwgYXJnc1RvU2V0Lm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzVmFsdWUoa2V5LCBhcmcpXG4gICAgICB9KSlcbiAgICB9IGVsc2Uge1xuICAgICAgYXJnc1RvU2V0LmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuICAgICAgICBzZXRBcmcoa2V5LCBhcmcpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBpXG4gIH1cblxuICBmdW5jdGlvbiBzZXRBcmcgKGtleSwgdmFsKSB7XG4gICAgdW5zZXREZWZhdWx0ZWQoa2V5KVxuXG4gICAgaWYgKC8tLy50ZXN0KGtleSkgJiYgY29uZmlndXJhdGlvblsnY2FtZWwtY2FzZS1leHBhbnNpb24nXSkge1xuICAgICAgdmFyIGFsaWFzID0ga2V5LnNwbGl0KCcuJykubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIHJldHVybiBjYW1lbENhc2UocHJvcClcbiAgICAgIH0pLmpvaW4oJy4nKVxuICAgICAgYWRkTmV3QWxpYXMoa2V5LCBhbGlhcylcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBwcm9jZXNzVmFsdWUoa2V5LCB2YWwpXG5cbiAgICB2YXIgc3BsaXRLZXkgPSBrZXkuc3BsaXQoJy4nKVxuICAgIHNldEtleShhcmd2LCBzcGxpdEtleSwgdmFsdWUpXG5cbiAgICAvLyBoYW5kbGUgcG9wdWxhdGluZyBhbGlhc2VzIG9mIHRoZSBmdWxsIGtleVxuICAgIGlmIChmbGFncy5hbGlhc2VzW2tleV0pIHtcbiAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHggPSB4LnNwbGl0KCcuJylcbiAgICAgICAgc2V0S2V5KGFyZ3YsIHgsIHZhbHVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgcG9wdWxhdGluZyBhbGlhc2VzIG9mIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBkb3Qtbm90YXRpb24ga2V5XG4gICAgaWYgKHNwbGl0S2V5Lmxlbmd0aCA+IDEgJiYgY29uZmlndXJhdGlvblsnZG90LW5vdGF0aW9uJ10pIHtcbiAgICAgIDsoZmxhZ3MuYWxpYXNlc1tzcGxpdEtleVswXV0gfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgeCA9IHguc3BsaXQoJy4nKVxuXG4gICAgICAgIC8vIGV4cGFuZCBhbGlhcyB3aXRoIG5lc3RlZCBvYmplY3RzIGluIGtleVxuICAgICAgICB2YXIgYSA9IFtdLmNvbmNhdChzcGxpdEtleSlcbiAgICAgICAgYS5zaGlmdCgpIC8vIG51a2UgdGhlIG9sZCBrZXkuXG4gICAgICAgIHggPSB4LmNvbmNhdChhKVxuXG4gICAgICAgIHNldEtleShhcmd2LCB4LCB2YWx1ZSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gU2V0IG5vcm1hbGl6ZSBnZXR0ZXIgYW5kIHNldHRlciB3aGVuIGtleSBpcyBpbiAnbm9ybWFsaXplJyBidXQgaXNuJ3QgYW4gYXJyYXlcbiAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3Mubm9ybWFsaXplKSAmJiAhY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYXJyYXlzKSkge1xuICAgICAgdmFyIGtleXMgPSBba2V5XS5jb25jYXQoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdKVxuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgYXJndi5fX2RlZmluZVNldHRlcl9fKGtleSwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICB2YWwgPSBwYXRoLm5vcm1hbGl6ZSh2KVxuICAgICAgICB9KVxuXG4gICAgICAgIGFyZ3YuX19kZWZpbmVHZXR0ZXJfXyhrZXksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyBwYXRoLm5vcm1hbGl6ZSh2YWwpIDogdmFsXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE5ld0FsaWFzIChrZXksIGFsaWFzKSB7XG4gICAgaWYgKCEoZmxhZ3MuYWxpYXNlc1trZXldICYmIGZsYWdzLmFsaWFzZXNba2V5XS5sZW5ndGgpKSB7XG4gICAgICBmbGFncy5hbGlhc2VzW2tleV0gPSBbYWxpYXNdXG4gICAgICBuZXdBbGlhc2VzW2FsaWFzXSA9IHRydWVcbiAgICB9XG4gICAgaWYgKCEoZmxhZ3MuYWxpYXNlc1thbGlhc10gJiYgZmxhZ3MuYWxpYXNlc1thbGlhc10ubGVuZ3RoKSkge1xuICAgICAgYWRkTmV3QWxpYXMoYWxpYXMsIGtleSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzVmFsdWUgKGtleSwgdmFsKSB7XG4gICAgLy8gc3RyaW5ncyBtYXkgYmUgcXVvdGVkLCBjbGVhbiB0aGlzIHVwIGFzIHdlIGFzc2lnbiB2YWx1ZXMuXG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmXG4gICAgICAodmFsWzBdID09PSBcIidcIiB8fCB2YWxbMF0gPT09ICdcIicpICYmXG4gICAgICB2YWxbdmFsLmxlbmd0aCAtIDFdID09PSB2YWxbMF1cbiAgICApIHtcbiAgICAgIHZhbCA9IHZhbC5zdWJzdHJpbmcoMSwgdmFsLmxlbmd0aCAtIDEpXG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIHBhcnNpbmcgYm9vbGVhbiBhcmd1bWVudHMgLS1mb289dHJ1ZSAtLWJhciBmYWxzZS5cbiAgICBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYm9vbHMpIHx8IGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykgdmFsID0gdmFsID09PSAndHJ1ZSdcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBtYXliZUNvZXJjZU51bWJlcihrZXksIHZhbClcblxuICAgIC8vIGluY3JlbWVudCBhIGNvdW50IGdpdmVuIGFzIGFyZyAoZWl0aGVyIG5vIHZhbHVlIG9yIHZhbHVlIHBhcnNlZCBhcyBib29sZWFuKVxuICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb3VudHMpICYmIChpc1VuZGVmaW5lZCh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpKSB7XG4gICAgICB2YWx1ZSA9IGluY3JlbWVudFxuICAgIH1cblxuICAgIC8vIFNldCBub3JtYWxpemVkIHZhbHVlIHdoZW4ga2V5IGlzIGluICdub3JtYWxpemUnIGFuZCBpbiAnYXJyYXlzJ1xuICAgIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ub3JtYWxpemUpICYmIGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmFycmF5cykpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHZhbHVlID0gdmFsLm1hcChwYXRoLm5vcm1hbGl6ZSlcbiAgICAgIGVsc2UgdmFsdWUgPSBwYXRoLm5vcm1hbGl6ZSh2YWwpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgZnVuY3Rpb24gbWF5YmVDb2VyY2VOdW1iZXIgKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLnN0cmluZ3MpICYmICFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5jb2VyY2lvbnMpKSB7XG4gICAgICBjb25zdCBzaG91bGRDb2VyY2VOdW1iZXIgPSBpc051bWJlcih2YWx1ZSkgJiYgY29uZmlndXJhdGlvblsncGFyc2UtbnVtYmVycyddICYmIChcbiAgICAgICAgTnVtYmVyLmlzU2FmZUludGVnZXIoTWF0aC5mbG9vcih2YWx1ZSkpXG4gICAgICApXG4gICAgICBpZiAoc2hvdWxkQ29lcmNlTnVtYmVyIHx8ICghaXNVbmRlZmluZWQodmFsdWUpICYmIGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLm51bWJlcnMpKSkgdmFsdWUgPSBOdW1iZXIodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gc2V0IGFyZ3MgZnJvbSBjb25maWcuanNvbiBmaWxlLCB0aGlzIHNob3VsZCBiZVxuICAvLyBhcHBsaWVkIGxhc3Qgc28gdGhhdCBkZWZhdWx0cyBjYW4gYmUgYXBwbGllZC5cbiAgZnVuY3Rpb24gc2V0Q29uZmlnIChhcmd2KSB7XG4gICAgdmFyIGNvbmZpZ0xvb2t1cCA9IHt9XG5cbiAgICAvLyBleHBhbmQgZGVmYXVsdHMvYWxpYXNlcywgaW4tY2FzZSBhbnkgaGFwcGVuIHRvIHJlZmVyZW5jZVxuICAgIC8vIHRoZSBjb25maWcuanNvbiBmaWxlLlxuICAgIGFwcGx5RGVmYXVsdHNBbmRBbGlhc2VzKGNvbmZpZ0xvb2t1cCwgZmxhZ3MuYWxpYXNlcywgZGVmYXVsdHMpXG5cbiAgICBPYmplY3Qua2V5cyhmbGFncy5jb25maWdzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb25maWdLZXkpIHtcbiAgICAgIHZhciBjb25maWdQYXRoID0gYXJndltjb25maWdLZXldIHx8IGNvbmZpZ0xvb2t1cFtjb25maWdLZXldXG4gICAgICBpZiAoY29uZmlnUGF0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBjb25maWcgPSBudWxsXG4gICAgICAgICAgdmFyIHJlc29sdmVkQ29uZmlnUGF0aCA9IHBhdGgucmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCBjb25maWdQYXRoKVxuXG4gICAgICAgICAgaWYgKHR5cGVvZiBmbGFncy5jb25maWdzW2NvbmZpZ0tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbmZpZyA9IGZsYWdzLmNvbmZpZ3NbY29uZmlnS2V5XShyZXNvbHZlZENvbmZpZ1BhdGgpXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbmZpZyA9IGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWcgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICBlcnJvciA9IGNvbmZpZ1xuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnID0gcmVxdWlyZShyZXNvbHZlZENvbmZpZ1BhdGgpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0Q29uZmlnT2JqZWN0KGNvbmZpZylcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBpZiAoYXJndltjb25maWdLZXldKSBlcnJvciA9IEVycm9yKF9fKCdJbnZhbGlkIEpTT04gY29uZmlnIGZpbGU6ICVzJywgY29uZmlnUGF0aCkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gc2V0IGFyZ3MgZnJvbSBjb25maWcgb2JqZWN0LlxuICAvLyBpdCByZWN1cnNpdmVseSBjaGVja3MgbmVzdGVkIG9iamVjdHMuXG4gIGZ1bmN0aW9uIHNldENvbmZpZ09iamVjdCAoY29uZmlnLCBwcmV2KSB7XG4gICAgT2JqZWN0LmtleXMoY29uZmlnKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGNvbmZpZ1trZXldXG4gICAgICB2YXIgZnVsbEtleSA9IHByZXYgPyBwcmV2ICsgJy4nICsga2V5IDoga2V5XG5cbiAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBhbiBpbm5lciBvYmplY3QgYW5kIHdlIGhhdmUgZG90LW5vdGF0aW9uXG4gICAgICAvLyBlbmFibGVkLCB0cmVhdCBpbm5lciBvYmplY3RzIGluIGNvbmZpZyB0aGUgc2FtZSBhc1xuICAgICAgLy8gaGVhdmlseSBuZXN0ZWQgZG90IG5vdGF0aW9ucyAoZm9vLmJhci5hcHBsZSkuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgY29uZmlndXJhdGlvblsnZG90LW5vdGF0aW9uJ10pIHtcbiAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGFuIG9iamVjdCBidXQgbm90IGFuIGFycmF5LCBjaGVjayBuZXN0ZWQgb2JqZWN0XG4gICAgICAgIHNldENvbmZpZ09iamVjdCh2YWx1ZSwgZnVsbEtleSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHNldHRpbmcgYXJndW1lbnRzIHZpYSBDTEkgdGFrZXMgcHJlY2VkZW5jZSBvdmVyXG4gICAgICAgIC8vIHZhbHVlcyB3aXRoaW4gdGhlIGNvbmZpZyBmaWxlLlxuICAgICAgICBpZiAoIWhhc0tleShhcmd2LCBmdWxsS2V5LnNwbGl0KCcuJykpIHx8IChmbGFncy5kZWZhdWx0ZWRbZnVsbEtleV0pIHx8IChmbGFncy5hcnJheXNbZnVsbEtleV0gJiYgY29uZmlndXJhdGlvblsnY29tYmluZS1hcnJheXMnXSkpIHtcbiAgICAgICAgICBzZXRBcmcoZnVsbEtleSwgdmFsdWUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gc2V0IGFsbCBjb25maWcgb2JqZWN0cyBwYXNzZWQgaW4gb3B0c1xuICBmdW5jdGlvbiBzZXRDb25maWdPYmplY3RzICgpIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZ09iamVjdHMgPT09ICd1bmRlZmluZWQnKSByZXR1cm5cbiAgICBjb25maWdPYmplY3RzLmZvckVhY2goZnVuY3Rpb24gKGNvbmZpZ09iamVjdCkge1xuICAgICAgc2V0Q29uZmlnT2JqZWN0KGNvbmZpZ09iamVjdClcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlFbnZWYXJzIChhcmd2LCBjb25maWdPbmx5KSB7XG4gICAgaWYgKHR5cGVvZiBlbnZQcmVmaXggPT09ICd1bmRlZmluZWQnKSByZXR1cm5cblxuICAgIHZhciBwcmVmaXggPSB0eXBlb2YgZW52UHJlZml4ID09PSAnc3RyaW5nJyA/IGVudlByZWZpeCA6ICcnXG4gICAgT2JqZWN0LmtleXMocHJvY2Vzcy5lbnYpLmZvckVhY2goZnVuY3Rpb24gKGVudlZhcikge1xuICAgICAgaWYgKHByZWZpeCA9PT0gJycgfHwgZW52VmFyLmxhc3RJbmRleE9mKHByZWZpeCwgMCkgPT09IDApIHtcbiAgICAgICAgLy8gZ2V0IGFycmF5IG9mIG5lc3RlZCBrZXlzIGFuZCBjb252ZXJ0IHRoZW0gdG8gY2FtZWwgY2FzZVxuICAgICAgICB2YXIga2V5cyA9IGVudlZhci5zcGxpdCgnX18nKS5tYXAoZnVuY3Rpb24gKGtleSwgaSkge1xuICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBrZXkgPSBrZXkuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjYW1lbENhc2Uoa2V5KVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICgoKGNvbmZpZ09ubHkgJiYgZmxhZ3MuY29uZmlnc1trZXlzLmpvaW4oJy4nKV0pIHx8ICFjb25maWdPbmx5KSAmJiAoIWhhc0tleShhcmd2LCBrZXlzKSB8fCBmbGFncy5kZWZhdWx0ZWRba2V5cy5qb2luKCcuJyldKSkge1xuICAgICAgICAgIHNldEFyZyhrZXlzLmpvaW4oJy4nKSwgcHJvY2Vzcy5lbnZbZW52VmFyXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUNvZXJjaW9ucyAoYXJndikge1xuICAgIHZhciBjb2VyY2VcbiAgICB2YXIgYXBwbGllZCA9IHt9XG4gICAgT2JqZWN0LmtleXMoYXJndikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoIWFwcGxpZWQuaGFzT3duUHJvcGVydHkoa2V5KSkgeyAvLyBJZiB3ZSBoYXZlbid0IGFscmVhZHkgY29lcmNlZCB0aGlzIG9wdGlvbiB2aWEgb25lIG9mIGl0cyBhbGlhc2VzXG4gICAgICAgIGNvZXJjZSA9IGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvZXJjaW9ucylcbiAgICAgICAgaWYgKHR5cGVvZiBjb2VyY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29lcmNlKGFyZ3Zba2V5XSlcbiAgICAgICAgICAgIDsoW10uY29uY2F0KGZsYWdzLmFsaWFzZXNba2V5XSB8fCBbXSwga2V5KSkuZm9yRWFjaChhbGkgPT4ge1xuICAgICAgICAgICAgICBhcHBsaWVkW2FsaV0gPSBhcmd2W2FsaV0gPSB2YWx1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGVycm9yID0gZXJyXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFBsYWNlaG9sZGVyS2V5cyAoYXJndikge1xuICAgIGZsYWdzLmtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAvLyBkb24ndCBzZXQgcGxhY2Vob2xkZXIga2V5cyBmb3IgZG90IG5vdGF0aW9uIG9wdGlvbnMgJ2Zvby5iYXInLlxuICAgICAgaWYgKH5rZXkuaW5kZXhPZignLicpKSByZXR1cm5cbiAgICAgIGlmICh0eXBlb2YgYXJndltrZXldID09PSAndW5kZWZpbmVkJykgYXJndltrZXldID0gdW5kZWZpbmVkXG4gICAgfSlcbiAgICByZXR1cm4gYXJndlxuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlEZWZhdWx0c0FuZEFsaWFzZXMgKG9iaiwgYWxpYXNlcywgZGVmYXVsdHMpIHtcbiAgICBPYmplY3Qua2V5cyhkZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoIWhhc0tleShvYmosIGtleS5zcGxpdCgnLicpKSkge1xuICAgICAgICBzZXRLZXkob2JqLCBrZXkuc3BsaXQoJy4nKSwgZGVmYXVsdHNba2V5XSlcblxuICAgICAgICA7KGFsaWFzZXNba2V5XSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgIGlmIChoYXNLZXkob2JqLCB4LnNwbGl0KCcuJykpKSByZXR1cm5cbiAgICAgICAgICBzZXRLZXkob2JqLCB4LnNwbGl0KCcuJyksIGRlZmF1bHRzW2tleV0pXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0tleSAob2JqLCBrZXlzKSB7XG4gICAgdmFyIG8gPSBvYmpcblxuICAgIGlmICghY29uZmlndXJhdGlvblsnZG90LW5vdGF0aW9uJ10pIGtleXMgPSBba2V5cy5qb2luKCcuJyldXG5cbiAgICBrZXlzLnNsaWNlKDAsIC0xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIG8gPSAob1trZXldIHx8IHt9KVxuICAgIH0pXG5cbiAgICB2YXIga2V5ID0ga2V5c1trZXlzLmxlbmd0aCAtIDFdXG5cbiAgICBpZiAodHlwZW9mIG8gIT09ICdvYmplY3QnKSByZXR1cm4gZmFsc2VcbiAgICBlbHNlIHJldHVybiBrZXkgaW4gb1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0S2V5IChvYmosIGtleXMsIHZhbHVlKSB7XG4gICAgdmFyIG8gPSBvYmpcblxuICAgIGlmICghY29uZmlndXJhdGlvblsnZG90LW5vdGF0aW9uJ10pIGtleXMgPSBba2V5cy5qb2luKCcuJyldXG5cbiAgICBrZXlzLnNsaWNlKDAsIC0xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XG4gICAgICBpZiAodHlwZW9mIG8gPT09ICdvYmplY3QnICYmIG9ba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9ba2V5XSA9IHt9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb1trZXldICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KG9ba2V5XSkpIHtcbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgb1trZXldIGlzIGFuIGFycmF5LCBhbmQgdGhhdCB0aGUgbGFzdCBpdGVtIGlzIGFuIGVtcHR5IG9iamVjdC5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob1trZXldKSkge1xuICAgICAgICAgIG9ba2V5XS5wdXNoKHt9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9ba2V5XSA9IFtvW2tleV0sIHt9XVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugd2FudCB0byB1cGRhdGUgdGhlIGVtcHR5IG9iamVjdCBhdCB0aGUgZW5kIG9mIHRoZSBvW2tleV0gYXJyYXksIHNvIHNldCBvIHRvIHRoYXQgb2JqZWN0XG4gICAgICAgIG8gPSBvW2tleV1bb1trZXldLmxlbmd0aCAtIDFdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvID0gb1trZXldXG4gICAgICB9XG4gICAgfSlcblxuICAgIHZhciBrZXkgPSBrZXlzW2tleXMubGVuZ3RoIC0gMV1cblxuICAgIHZhciBpc1R5cGVBcnJheSA9IGNoZWNrQWxsQWxpYXNlcyhrZXlzLmpvaW4oJy4nKSwgZmxhZ3MuYXJyYXlzKVxuICAgIHZhciBpc1ZhbHVlQXJyYXkgPSBBcnJheS5pc0FycmF5KHZhbHVlKVxuICAgIHZhciBkdXBsaWNhdGUgPSBjb25maWd1cmF0aW9uWydkdXBsaWNhdGUtYXJndW1lbnRzLWFycmF5J11cblxuICAgIC8vIG5hcmdzIGhhcyBoaWdoZXIgcHJpb3JpdHkgdGhhbiBkdXBsaWNhdGVcbiAgICBpZiAoIWR1cGxpY2F0ZSAmJiBjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5uYXJncykpIHtcbiAgICAgIGR1cGxpY2F0ZSA9IHRydWVcbiAgICAgIGlmICgoIWlzVW5kZWZpbmVkKG9ba2V5XSkgJiYgZmxhZ3MubmFyZ3Nba2V5XSA9PT0gMSkgfHwgKEFycmF5LmlzQXJyYXkob1trZXldKSAmJiBvW2tleV0ubGVuZ3RoID09PSBmbGFncy5uYXJnc1trZXldKSkge1xuICAgICAgICBvW2tleV0gPSB1bmRlZmluZWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmFsdWUgPT09IGluY3JlbWVudCkge1xuICAgICAgb1trZXldID0gaW5jcmVtZW50KG9ba2V5XSlcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob1trZXldKSkge1xuICAgICAgaWYgKGR1cGxpY2F0ZSAmJiBpc1R5cGVBcnJheSAmJiBpc1ZhbHVlQXJyYXkpIHtcbiAgICAgICAgb1trZXldID0gY29uZmlndXJhdGlvblsnZmxhdHRlbi1kdXBsaWNhdGUtYXJyYXlzJ10gPyBvW2tleV0uY29uY2F0KHZhbHVlKSA6IChBcnJheS5pc0FycmF5KG9ba2V5XVswXSkgPyBvW2tleV0gOiBbb1trZXldXSkuY29uY2F0KFt2YWx1ZV0pXG4gICAgICB9IGVsc2UgaWYgKCFkdXBsaWNhdGUgJiYgQm9vbGVhbihpc1R5cGVBcnJheSkgPT09IEJvb2xlYW4oaXNWYWx1ZUFycmF5KSkge1xuICAgICAgICBvW2tleV0gPSB2YWx1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb1trZXldID0gb1trZXldLmNvbmNhdChbdmFsdWVdKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob1trZXldID09PSB1bmRlZmluZWQgJiYgaXNUeXBlQXJyYXkpIHtcbiAgICAgIG9ba2V5XSA9IGlzVmFsdWVBcnJheSA/IHZhbHVlIDogW3ZhbHVlXVxuICAgIH0gZWxzZSBpZiAoZHVwbGljYXRlICYmICEob1trZXldID09PSB1bmRlZmluZWQgfHwgY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYm9vbHMpIHx8IGNoZWNrQWxsQWxpYXNlcyhrZXlzLmpvaW4oJy4nKSwgZmxhZ3MuYm9vbHMpIHx8IGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykpKSB7XG4gICAgICBvW2tleV0gPSBbIG9ba2V5XSwgdmFsdWUgXVxuICAgIH0gZWxzZSB7XG4gICAgICBvW2tleV0gPSB2YWx1ZVxuICAgIH1cbiAgfVxuXG4gIC8vIGV4dGVuZCB0aGUgYWxpYXNlcyBsaXN0IHdpdGggaW5mZXJyZWQgYWxpYXNlcy5cbiAgZnVuY3Rpb24gZXh0ZW5kQWxpYXNlcyAoLi4uYXJncykge1xuICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICBPYmplY3Qua2V5cyhvYmogfHwge30pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAvLyBzaG9ydC1jaXJjdWl0IGlmIHdlJ3ZlIGFscmVhZHkgYWRkZWQgYSBrZXlcbiAgICAgICAgLy8gdG8gdGhlIGFsaWFzZXMgYXJyYXksIGZvciBleGFtcGxlIGl0IG1pZ2h0XG4gICAgICAgIC8vIGV4aXN0IGluIGJvdGggJ29wdHMuZGVmYXVsdCcgYW5kICdvcHRzLmtleScuXG4gICAgICAgIGlmIChmbGFncy5hbGlhc2VzW2tleV0pIHJldHVyblxuXG4gICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XSA9IFtdLmNvbmNhdChhbGlhc2VzW2tleV0gfHwgW10pXG4gICAgICAgIC8vIEZvciBcIi0tb3B0aW9uLW5hbWVcIiwgYWxzbyBzZXQgYXJndi5vcHRpb25OYW1lXG4gICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5jb25jYXQoa2V5KS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgaWYgKC8tLy50ZXN0KHgpICYmIGNvbmZpZ3VyYXRpb25bJ2NhbWVsLWNhc2UtZXhwYW5zaW9uJ10pIHtcbiAgICAgICAgICAgIHZhciBjID0gY2FtZWxDYXNlKHgpXG4gICAgICAgICAgICBpZiAoYyAhPT0ga2V5ICYmIGZsYWdzLmFsaWFzZXNba2V5XS5pbmRleE9mKGMpID09PSAtMSkge1xuICAgICAgICAgICAgICBmbGFncy5hbGlhc2VzW2tleV0ucHVzaChjKVxuICAgICAgICAgICAgICBuZXdBbGlhc2VzW2NdID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLy8gRm9yIFwiLS1vcHRpb25OYW1lXCIsIGFsc28gc2V0IGFyZ3ZbJ29wdGlvbi1uYW1lJ11cbiAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLmNvbmNhdChrZXkpLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICBpZiAoeC5sZW5ndGggPiAxICYmIC9bQS1aXS8udGVzdCh4KSAmJiBjb25maWd1cmF0aW9uWydjYW1lbC1jYXNlLWV4cGFuc2lvbiddKSB7XG4gICAgICAgICAgICB2YXIgYyA9IGRlY2FtZWxpemUoeCwgJy0nKVxuICAgICAgICAgICAgaWYgKGMgIT09IGtleSAmJiBmbGFncy5hbGlhc2VzW2tleV0uaW5kZXhPZihjKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgZmxhZ3MuYWxpYXNlc1trZXldLnB1c2goYylcbiAgICAgICAgICAgICAgbmV3QWxpYXNlc1tjXSA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGZsYWdzLmFsaWFzZXNba2V5XS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgZmxhZ3MuYWxpYXNlc1t4XSA9IFtrZXldLmNvbmNhdChmbGFncy5hbGlhc2VzW2tleV0uZmlsdGVyKGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICByZXR1cm4geCAhPT0geVxuICAgICAgICAgIH0pKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLy8gY2hlY2sgaWYgYSBmbGFnIGlzIHNldCBmb3IgYW55IG9mIGEga2V5J3MgYWxpYXNlcy5cbiAgZnVuY3Rpb24gY2hlY2tBbGxBbGlhc2VzIChrZXksIGZsYWcpIHtcbiAgICB2YXIgaXNTZXQgPSBmYWxzZVxuICAgIHZhciB0b0NoZWNrID0gW10uY29uY2F0KGZsYWdzLmFsaWFzZXNba2V5XSB8fCBbXSwga2V5KVxuXG4gICAgdG9DaGVjay5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChmbGFnW2tleV0pIGlzU2V0ID0gZmxhZ1trZXldXG4gICAgfSlcblxuICAgIHJldHVybiBpc1NldFxuICB9XG5cbiAgZnVuY3Rpb24gc2V0RGVmYXVsdGVkIChrZXkpIHtcbiAgICBbXS5jb25jYXQoZmxhZ3MuYWxpYXNlc1trZXldIHx8IFtdLCBrZXkpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgIGZsYWdzLmRlZmF1bHRlZFtrXSA9IHRydWVcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gdW5zZXREZWZhdWx0ZWQgKGtleSkge1xuICAgIFtdLmNvbmNhdChmbGFncy5hbGlhc2VzW2tleV0gfHwgW10sIGtleSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgZGVsZXRlIGZsYWdzLmRlZmF1bHRlZFtrXVxuICAgIH0pXG4gIH1cblxuICAvLyBtYWtlIGEgYmVzdCBlZmZvciB0byBwaWNrIGEgZGVmYXVsdCB2YWx1ZVxuICAvLyBmb3IgYW4gb3B0aW9uIGJhc2VkIG9uIG5hbWUgYW5kIHR5cGUuXG4gIGZ1bmN0aW9uIGRlZmF1bHRWYWx1ZSAoa2V5KSB7XG4gICAgaWYgKCFjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5ib29scykgJiZcbiAgICAgICAgIWNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLmNvdW50cykgJiZcbiAgICAgICAgYCR7a2V5fWAgaW4gZGVmYXVsdHMpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0c1trZXldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkZWZhdWx0Rm9yVHlwZShndWVzc1R5cGUoa2V5KSlcbiAgICB9XG4gIH1cblxuICAvLyByZXR1cm4gYSBkZWZhdWx0IHZhbHVlLCBnaXZlbiB0aGUgdHlwZSBvZiBhIGZsYWcuLFxuICAvLyBlLmcuLCBrZXkgb2YgdHlwZSAnc3RyaW5nJyB3aWxsIGRlZmF1bHQgdG8gJycsIHJhdGhlciB0aGFuICd0cnVlJy5cbiAgZnVuY3Rpb24gZGVmYXVsdEZvclR5cGUgKHR5cGUpIHtcbiAgICB2YXIgZGVmID0ge1xuICAgICAgYm9vbGVhbjogdHJ1ZSxcbiAgICAgIHN0cmluZzogJycsXG4gICAgICBudW1iZXI6IHVuZGVmaW5lZCxcbiAgICAgIGFycmF5OiBbXVxuICAgIH1cblxuICAgIHJldHVybiBkZWZbdHlwZV1cbiAgfVxuXG4gIC8vIGdpdmVuIGEgZmxhZywgZW5mb3JjZSBhIGRlZmF1bHQgdHlwZS5cbiAgZnVuY3Rpb24gZ3Vlc3NUeXBlIChrZXkpIHtcbiAgICB2YXIgdHlwZSA9ICdib29sZWFuJ1xuXG4gICAgaWYgKGNoZWNrQWxsQWxpYXNlcyhrZXksIGZsYWdzLnN0cmluZ3MpKSB0eXBlID0gJ3N0cmluZydcbiAgICBlbHNlIGlmIChjaGVja0FsbEFsaWFzZXMoa2V5LCBmbGFncy5udW1iZXJzKSkgdHlwZSA9ICdudW1iZXInXG4gICAgZWxzZSBpZiAoY2hlY2tBbGxBbGlhc2VzKGtleSwgZmxhZ3MuYXJyYXlzKSkgdHlwZSA9ICdhcnJheSdcblxuICAgIHJldHVybiB0eXBlXG4gIH1cblxuICBmdW5jdGlvbiBpc051bWJlciAoeCkge1xuICAgIGlmICh4ID09PSBudWxsIHx8IHggPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlXG4gICAgLy8gaWYgbG9hZGVkIGZyb20gY29uZmlnLCBtYXkgYWxyZWFkeSBiZSBhIG51bWJlci5cbiAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSByZXR1cm4gdHJ1ZVxuICAgIC8vIGhleGFkZWNpbWFsLlxuICAgIGlmICgvXjB4WzAtOWEtZl0rJC9pLnRlc3QoeCkpIHJldHVybiB0cnVlXG4gICAgLy8gZG9uJ3QgdHJlYXQgMDEyMyBhcyBhIG51bWJlcjsgYXMgaXQgZHJvcHMgdGhlIGxlYWRpbmcgJzAnLlxuICAgIGlmICh4Lmxlbmd0aCA+IDEgJiYgeFswXSA9PT0gJzAnKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gL15bLV0/KD86XFxkKyg/OlxcLlxcZCopP3xcXC5cXGQrKShlWy0rXT9cXGQrKT8kLy50ZXN0KHgpXG4gIH1cblxuICBmdW5jdGlvbiBpc1VuZGVmaW5lZCAobnVtKSB7XG4gICAgcmV0dXJuIG51bSA9PT0gdW5kZWZpbmVkXG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFyZ3Y6IGFyZ3YsXG4gICAgZXJyb3I6IGVycm9yLFxuICAgIGFsaWFzZXM6IGZsYWdzLmFsaWFzZXMsXG4gICAgbmV3QWxpYXNlczogbmV3QWxpYXNlcyxcbiAgICBjb25maWd1cmF0aW9uOiBjb25maWd1cmF0aW9uXG4gIH1cbn1cblxuLy8gaWYgYW55IGFsaWFzZXMgcmVmZXJlbmNlIGVhY2ggb3RoZXIsIHdlIHNob3VsZFxuLy8gbWVyZ2UgdGhlbSB0b2dldGhlci5cbmZ1bmN0aW9uIGNvbWJpbmVBbGlhc2VzIChhbGlhc2VzKSB7XG4gIHZhciBhbGlhc0FycmF5cyA9IFtdXG4gIHZhciBjaGFuZ2UgPSB0cnVlXG4gIHZhciBjb21iaW5lZCA9IHt9XG5cbiAgLy8gdHVybiBhbGlhcyBsb29rdXAgaGFzaCB7a2V5OiBbJ2FsaWFzMScsICdhbGlhczInXX0gaW50b1xuICAvLyBhIHNpbXBsZSBhcnJheSBbJ2tleScsICdhbGlhczEnLCAnYWxpYXMyJ11cbiAgT2JqZWN0LmtleXMoYWxpYXNlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgYWxpYXNBcnJheXMucHVzaChcbiAgICAgIFtdLmNvbmNhdChhbGlhc2VzW2tleV0sIGtleSlcbiAgICApXG4gIH0pXG5cbiAgLy8gY29tYmluZSBhcnJheXMgdW50aWwgemVybyBjaGFuZ2VzIGFyZVxuICAvLyBtYWRlIGluIGFuIGl0ZXJhdGlvbi5cbiAgd2hpbGUgKGNoYW5nZSkge1xuICAgIGNoYW5nZSA9IGZhbHNlXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGlhc0FycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yICh2YXIgaWkgPSBpICsgMTsgaWkgPCBhbGlhc0FycmF5cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgdmFyIGludGVyc2VjdCA9IGFsaWFzQXJyYXlzW2ldLmZpbHRlcihmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiBhbGlhc0FycmF5c1tpaV0uaW5kZXhPZih2KSAhPT0gLTFcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoaW50ZXJzZWN0Lmxlbmd0aCkge1xuICAgICAgICAgIGFsaWFzQXJyYXlzW2ldID0gYWxpYXNBcnJheXNbaV0uY29uY2F0KGFsaWFzQXJyYXlzW2lpXSlcbiAgICAgICAgICBhbGlhc0FycmF5cy5zcGxpY2UoaWksIDEpXG4gICAgICAgICAgY2hhbmdlID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBtYXAgYXJyYXlzIGJhY2sgdG8gdGhlIGhhc2gtbG9va3VwIChkZS1kdXBlIHdoaWxlXG4gIC8vIHdlJ3JlIGF0IGl0KS5cbiAgYWxpYXNBcnJheXMuZm9yRWFjaChmdW5jdGlvbiAoYWxpYXNBcnJheSkge1xuICAgIGFsaWFzQXJyYXkgPSBhbGlhc0FycmF5LmZpbHRlcihmdW5jdGlvbiAodiwgaSwgc2VsZikge1xuICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZih2KSA9PT0gaVxuICAgIH0pXG4gICAgY29tYmluZWRbYWxpYXNBcnJheS5wb3AoKV0gPSBhbGlhc0FycmF5XG4gIH0pXG5cbiAgcmV0dXJuIGNvbWJpbmVkXG59XG5cbi8vIHRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gYSBjb3VudCBpcyBnaXZlbiBhcyBhbiBhcmdcbi8vIGl0IGlzIE5PVCBjYWxsZWQgdG8gc2V0IGEgZGVmYXVsdCB2YWx1ZVxuLy8gdGh1cyB3ZSBjYW4gc3RhcnQgdGhlIGNvdW50IGF0IDEgaW5zdGVhZCBvZiAwXG5mdW5jdGlvbiBpbmNyZW1lbnQgKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgIT09IHVuZGVmaW5lZCA/IG9yaWcgKyAxIDogMVxufVxuXG5mdW5jdGlvbiBQYXJzZXIgKGFyZ3MsIG9wdHMpIHtcbiAgdmFyIHJlc3VsdCA9IHBhcnNlKGFyZ3Muc2xpY2UoKSwgb3B0cylcblxuICByZXR1cm4gcmVzdWx0LmFyZ3Zcbn1cblxuLy8gcGFyc2UgYXJndW1lbnRzIGFuZCByZXR1cm4gZGV0YWlsZWRcbi8vIG1ldGEgaW5mb3JtYXRpb24sIGFsaWFzZXMsIGV0Yy5cblBhcnNlci5kZXRhaWxlZCA9IGZ1bmN0aW9uIChhcmdzLCBvcHRzKSB7XG4gIHJldHVybiBwYXJzZShhcmdzLnNsaWNlKCksIG9wdHMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGFyc2VyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34veWFyZ3MtcGFyc2VyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwcmVzZXJ2ZUNhbWVsQ2FzZSA9IHN0cmluZyA9PiB7XG5cdGxldCBpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0bGV0IGlzTGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXHRsZXQgaXNMYXN0TGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY2hhcmFjdGVyID0gc3RyaW5nW2ldO1xuXG5cdFx0aWYgKGlzTGFzdENoYXJMb3dlciAmJiAvW2EtekEtWl0vLnRlc3QoY2hhcmFjdGVyKSAmJiBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKSA9PT0gY2hhcmFjdGVyKSB7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgaSkgKyAnLScgKyBzdHJpbmcuc2xpY2UoaSk7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSB0cnVlO1xuXHRcdFx0aSsrO1xuXHRcdH0gZWxzZSBpZiAoaXNMYXN0Q2hhclVwcGVyICYmIGlzTGFzdExhc3RDaGFyVXBwZXIgJiYgL1thLXpBLVpdLy50ZXN0KGNoYXJhY3RlcikgJiYgY2hhcmFjdGVyLnRvTG93ZXJDYXNlKCkgPT09IGNoYXJhY3Rlcikge1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIGkgLSAxKSArICctJyArIHN0cmluZy5zbGljZShpIC0gMSk7XG5cdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0aXNMYXN0Q2hhclVwcGVyID0gZmFsc2U7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSBjaGFyYWN0ZXIudG9Mb3dlckNhc2UoKSA9PT0gY2hhcmFjdGVyICYmIGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpICE9PSBjaGFyYWN0ZXI7XG5cdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0aXNMYXN0Q2hhclVwcGVyID0gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkgPT09IGNoYXJhY3RlciAmJiBjaGFyYWN0ZXIudG9Mb3dlckNhc2UoKSAhPT0gY2hhcmFjdGVyO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBzdHJpbmc7XG59O1xuXG5jb25zdCBjYW1lbENhc2UgPSAoaW5wdXQsIG9wdGlvbnMpID0+IHtcblx0aWYgKCEodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGlucHV0KSkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgaW5wdXQgdG8gYmUgYHN0cmluZyB8IHN0cmluZ1tdYCcpO1xuXHR9XG5cblx0b3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuXHRcdHBhc2NhbENhc2U6IGZhbHNlXG5cdH0sIG9wdGlvbnMpO1xuXG5cdGNvbnN0IHBvc3RQcm9jZXNzID0geCA9PiBvcHRpb25zLnBhc2NhbENhc2UgPyB4LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgeC5zbGljZSgxKSA6IHg7XG5cblx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdFx0aW5wdXQgPSBpbnB1dC5tYXAoeCA9PiB4LnRyaW0oKSlcblx0XHRcdC5maWx0ZXIoeCA9PiB4Lmxlbmd0aClcblx0XHRcdC5qb2luKCctJyk7XG5cdH0gZWxzZSB7XG5cdFx0aW5wdXQgPSBpbnB1dC50cmltKCk7XG5cdH1cblxuXHRpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0aWYgKGlucHV0Lmxlbmd0aCA9PT0gMSkge1xuXHRcdHJldHVybiBvcHRpb25zLnBhc2NhbENhc2UgPyBpbnB1dC50b1VwcGVyQ2FzZSgpIDogaW5wdXQudG9Mb3dlckNhc2UoKTtcblx0fVxuXG5cdGNvbnN0IGhhc1VwcGVyQ2FzZSA9IGlucHV0ICE9PSBpbnB1dC50b0xvd2VyQ2FzZSgpO1xuXG5cdGlmIChoYXNVcHBlckNhc2UpIHtcblx0XHRpbnB1dCA9IHByZXNlcnZlQ2FtZWxDYXNlKGlucHV0KTtcblx0fVxuXG5cdGlucHV0ID0gaW5wdXRcblx0XHQucmVwbGFjZSgvXltfLlxcLSBdKy8sICcnKVxuXHRcdC50b0xvd2VyQ2FzZSgpXG5cdFx0LnJlcGxhY2UoL1tfLlxcLSBdKyhcXHd8JCkvZywgKF8sIHAxKSA9PiBwMS50b1VwcGVyQ2FzZSgpKVxuXHRcdC5yZXBsYWNlKC9cXGQrKFxcd3wkKS9nLCBtID0+IG0udG9VcHBlckNhc2UoKSk7XG5cblx0cmV0dXJuIHBvc3RQcm9jZXNzKGlucHV0KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY2FtZWxDYXNlO1xuLy8gVE9ETzogUmVtb3ZlIHRoaXMgZm9yIHRoZSBuZXh0IG1ham9yIHJlbGVhc2Vcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBjYW1lbENhc2U7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34veWFyZ3MtcGFyc2VyL34vY2FtZWxjYXNlL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0ciwgc2VwKSB7XG5cdGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgc3RyaW5nJyk7XG5cdH1cblxuXHRzZXAgPSB0eXBlb2Ygc2VwID09PSAndW5kZWZpbmVkJyA/ICdfJyA6IHNlcDtcblxuXHRyZXR1cm4gc3RyXG5cdFx0LnJlcGxhY2UoLyhbYS16XFxkXSkoW0EtWl0pL2csICckMScgKyBzZXAgKyAnJDInKVxuXHRcdC5yZXBsYWNlKC8oW0EtWl0rKShbQS1aXVthLXpcXGRdKykvZywgJyQxJyArIHNlcCArICckMicpXG5cdFx0LnRvTG93ZXJDYXNlKCk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2RlY2FtZWxpemUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBzbG93TG9nLFxuICBzZXJpZXMsXG4gIHJhbmRvbU51bWJlclxufVxuXG5mdW5jdGlvbiByYW5kb21OdW1iZXIgKG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XG59XG5cbmZ1bmN0aW9uIHNsb3dMb2codCwgaXRlcmF0b3IsIG1pbiwgbWF4LCBkb25lKSB7XG4gIGxldCBuZXh0ID0gaXRlcmF0b3IubmV4dCgpXG5cbiAgaWYgKG5leHQgPT09IHVuZGVmaW5lZCB8fCBuZXh0ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGRvbmUoKVxuICB9XG5cbiAgdC5wcmludChuZXh0LnJlcGxhY2UoL1xcdC9nLCAnJykgKyAnPGJyLz4nKVxuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHNsb3dMb2codCwgaXRlcmF0b3IsIG1pbiwgbWF4LCBkb25lKVxuICB9LCByYW5kb21OdW1iZXIobWluLCBtYXgpKVxufVxuXG5mdW5jdGlvbiBzZXJpZXMgKG9wcywgZG9uZSkge1xuICBjb25zdCBvcCA9IG9wcy5zaGlmdCgpXG5cbiAgb3AoKGVyciwgcmVzKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGRvbmUoZXJyKVxuICAgIH1cblxuICAgIGlmICghb3BzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGRvbmUobnVsbCwgcmVzKVxuICAgIH1cblxuICAgIHJldHVybiBzZXJpZXMob3BzLCBkb25lKVxuICB9KVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy91dGlsLmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyB0YWtlIGFuIHVuLXNwbGl0IGFyZ3Ygc3RyaW5nIGFuZCB0b2tlbml6ZSBpdC5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ1N0cmluZykge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcmdTdHJpbmcpKSB7XG4gICAgcmV0dXJuIGFyZ1N0cmluZy5tYXAoZSA9PiB0eXBlb2YgZSAhPT0gJ3N0cmluZycgPyBlICsgJycgOiBlKVxuICB9XG5cbiAgYXJnU3RyaW5nID0gYXJnU3RyaW5nLnRyaW0oKVxuXG4gIHZhciBpID0gMFxuICB2YXIgcHJldkMgPSBudWxsXG4gIHZhciBjID0gbnVsbFxuICB2YXIgb3BlbmluZyA9IG51bGxcbiAgdmFyIGFyZ3MgPSBbXVxuXG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBhcmdTdHJpbmcubGVuZ3RoOyBpaSsrKSB7XG4gICAgcHJldkMgPSBjXG4gICAgYyA9IGFyZ1N0cmluZy5jaGFyQXQoaWkpXG5cbiAgICAvLyBzcGxpdCBvbiBzcGFjZXMgdW5sZXNzIHdlJ3JlIGluIHF1b3Rlcy5cbiAgICBpZiAoYyA9PT0gJyAnICYmICFvcGVuaW5nKSB7XG4gICAgICBpZiAoIShwcmV2QyA9PT0gJyAnKSkge1xuICAgICAgICBpKytcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgLy8gZG9uJ3Qgc3BsaXQgdGhlIHN0cmluZyBpZiB3ZSdyZSBpbiBtYXRjaGluZ1xuICAgIC8vIG9wZW5pbmcgb3IgY2xvc2luZyBzaW5nbGUgYW5kIGRvdWJsZSBxdW90ZXMuXG4gICAgaWYgKGMgPT09IG9wZW5pbmcpIHtcbiAgICAgIG9wZW5pbmcgPSBudWxsXG4gICAgfSBlbHNlIGlmICgoYyA9PT0gXCInXCIgfHwgYyA9PT0gJ1wiJykgJiYgIW9wZW5pbmcpIHtcbiAgICAgIG9wZW5pbmcgPSBjXG4gICAgfVxuXG4gICAgaWYgKCFhcmdzW2ldKSBhcmdzW2ldID0gJydcbiAgICBhcmdzW2ldICs9IGNcbiAgfVxuXG4gIHJldHVybiBhcmdzXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34veWFyZ3MtcGFyc2VyL2xpYi90b2tlbml6ZS1hcmctc3RyaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbWFwID0ge1xuXHRcIi4vaW5kZXhcIjogMTYsXG5cdFwiLi9pbmRleC5qc1wiOiAxNixcblx0XCIuL2xpYi90b2tlbml6ZS1hcmctc3RyaW5nXCI6IDIxLFxuXHRcIi4vbGliL3Rva2VuaXplLWFyZy1zdHJpbmcuanNcIjogMjFcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18od2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkpO1xufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0cmV0dXJuIG1hcFtyZXFdIHx8IChmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIikgfSgpKTtcbn07XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMjM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34veWFyZ3MtcGFyc2VyIF5cXC5cXC8uKiRcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGdyb3VwcyA9IHJlcXVpcmUoJy4vZ3JvdXBzJylcblxubGV0IG5leHRVaWQgPSAwXG5jb25zdCB1c2VycyA9IHt9XG5cbmNvbnN0IHVzZXJBcGkgPSB7XG4gIGFkZDogKG5hbWUsIGhvbWUsIGdyb3VwLCBzdXBwbGVtZW50YXJ5R3JvdXBzKSA9PiB7XG4gICAgdXNlcnNbbmV4dFVpZF0gPSB7XG4gICAgICB1aWQ6IG5leHRVaWQsXG4gICAgICBnaWQ6IGdyb3Vwcy5maW5kKGdyb3VwKS5naWQsXG4gICAgICBuYW1lLFxuICAgICAgaG9tZSxcbiAgICAgIGdyb3Vwczogc3VwcGxlbWVudGFyeUdyb3Vwcy5tYXAoZ3JvdXAgPT4gZ3JvdXBzLmZpbmQoZ3JvdXApLmdpZClcbiAgICB9XG5cbiAgICBuZXh0VWlkKytcbiAgfSxcbiAgZmluZDogKGlkKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycgfHwgaWQgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHVzZXJzKS5maW5kKHVzZXIgPT4gdXNlci5uYW1lID09PSBpZClcbiAgICB9XG5cbiAgICByZXR1cm4gdXNlcnNbaWRdXG4gIH0sXG4gIGlkczogKGlkKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdXNlckFwaS5maW5kKGlkKVxuXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdWlkOiByZXN1bHQudWlkLFxuICAgICAgICBnaWQ6IHJlc3VsdC5naWQsXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdXNlckFwaVxuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL3N5c3RlbS91c2Vycy5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3QgdXNlcnMgPSByZXF1aXJlKCcuL3VzZXJzJylcbmNvbnN0IGdyb3VwcyA9IHJlcXVpcmUoJy4vZ3JvdXBzJylcbmNvbnN0IGZzID0gcmVxdWlyZSgnLi9mcycpXG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBncm91cHMuYWRkKCdyb290JylcbiAgZ3JvdXBzLmFkZCgnd2hlZWwnKVxuICBncm91cHMuYWRkKCdzdGFmZicpXG4gIGdyb3Vwcy5hZGQoJ2FsZXgnKVxuXG4gIHVzZXJBZGQoJ3Jvb3QnLCBbXSlcbiAgdXNlckFkZCgnYWxleCcsIFsnd2hlZWwnLCAnc3RhZmYnXSlcblxuICBmcy5jZCgnL2hvbWUvYWxleCcpXG59XG5cbmZ1bmN0aW9uIHVzZXJBZGQgKG5hbWUsIGdyb3Vwcykge1xuICBsZXQgaG9tZSA9IGAvaG9tZS8ke25hbWV9YFxuXG4gIGlmIChuYW1lID09PSAncm9vdCcpIHtcbiAgICBob21lID0gJy9yb290J1xuICB9XG5cbiAgdXNlcnMuYWRkKG5hbWUsIGhvbWUsIG5hbWUsIGdyb3VwcylcblxuICBpZiAobmFtZSA9PT0gJ3Jvb3QnKSB7XG4gICAgZnMubWtkaXIoaG9tZSwgdXNlcnMuaWRzKCdyb290JykpXG4gIH0gZWxzZSB7XG4gICAgZnMubWtkaXIoJy9ob21lJywgdXNlcnMuaWRzKCdyb290JykpXG4gICAgZnMubWtkaXIoaG9tZSwgdXNlcnMuaWRzKG5hbWUpKVxuICB9XG5cbiAgZnMubWtkaXIoYCR7aG9tZX0vRG9jdW1lbnRzYCwgdXNlcnMuaWRzKG5hbWUpKVxuICBmcy5ta2RpcihgJHtob21lfS9Db2RlYCwgdXNlcnMuaWRzKG5hbWUpKVxuICBmcy53cml0ZShgJHtob21lfS8uYmFzaF9oaXN0b3J5YCwgYGxzXG4gIGxzXG4gIG1rZGlyXG4gIHJtIC1yZiAvYCwgdXNlcnMuaWRzKG5hbWUpKVxuICBmcy53cml0ZShgJHtob21lfS8uYmFzaF9wcm9maWxlYCwgYHNvdXJjZSAvZXRjL3Byb2ZpbGVcblxuICBleHBvcnQgTlZNX0RJUj1cIi8ke2hvbWV9fS8ubnZtXCJcbiAgWyAtcyBcIiROVk1fRElSL252bS5zaFwiIF0gJiYgLiBcIiROVk1fRElSL252bS5zaFwiICAjIFRoaXMgbG9hZHMgbnZtXG5cbiAgbnZtIHVzZSAxMGAsIHVzZXJzLmlkcyhuYW1lKSlcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvc3lzdGVtL2Jvb3QuanNcbi8vIG1vZHVsZSBpZCA9IDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImxldCBuZXh0R2lkID0gMFxuY29uc3QgZ3JvdXBzID0ge31cblxuY29uc3QgZ3JvdXBBcGkgPSB7XG4gIGFkZDogKG5hbWUpID0+IHtcbiAgICBncm91cHNbbmV4dEdpZF0gPSB7XG4gICAgICBnaWQ6IG5leHRHaWQsXG4gICAgICBuYW1lXG4gICAgfVxuXG4gICAgbmV4dEdpZCsrXG4gIH0sXG4gIGZpbmQ6IChpZCkgPT4ge1xuICAgIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnIHx8IGlkIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhncm91cHMpLmZpbmQoZyA9PiBnLm5hbWUgPT09IGlkKVxuICAgIH1cblxuICAgIHJldHVybiBncm91cHNbaWRdXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBncm91cEFwaVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9zeXN0ZW0vZ3JvdXBzLmpzXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjb25zdCB7XG4gIHJlc29sdmVcbn0gPSByZXF1aXJlKCdwYXRoJylcblxuY29uc3QgY3JlYXRlRGlyID0gKHsgdWlkLCBnaWQgfSA9IHt9KSA9PiB7XG4gIHJldHVybiB7XG4gICAgdWlkOiB1aWQgfHwgMCxcbiAgICBnaWQ6IGdpZCB8fCAwLFxuICAgIHNpemUgKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuY2hpbGRyZW4pLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG4gICAgICAgIHJldHVybiBhY2MgKyB0aGlzLmNoaWxkcmVuW2N1cnJdLnNpemUoKVxuICAgICAgfSwgMClcbiAgICB9LFxuICAgIG10aW1lOiBuZXcgRGF0ZSgpLFxuICAgIGNoaWxkcmVuOiB7IH1cbiAgfVxufVxuXG5jb25zdCBjcmVhdGVGaWxlID0gKGNvbnRlbnQgPSAnJywgeyB1aWQsIGdpZCB9ID0ge30pID0+IHtcbiAgcmV0dXJuIHtcbiAgICB1aWQ6IHVpZCB8fCAwLFxuICAgIGdpZDogZ2lkIHx8IDAsXG4gICAgc2l6ZSAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aFxuICAgIH0sXG4gICAgbXRpbWU6IG5ldyBEYXRlKCksXG4gICAgY29udGVudFxuICB9XG59XG5cbmxldCBwd2QgPSAnL2hvbWUvYWxleCdcbmNvbnN0IGZpbGVTeXN0ZW0gPSBjcmVhdGVEaXIoe1xuICB1aWQ6IDAsXG4gIGdpZDogMFxufSlcblxuY29uc3QgZnMgPSB7XG4gIHB3ZDogKCkgPT4ge1xuICAgIHJldHVybiBwd2RcbiAgfSxcbiAgZ2V0Tm9kZTogKGlucHV0KSA9PiB7XG4gICAgbGV0IHBhdGggPSBub3JtYWxpc2VQYXRoKGlucHV0KVxuXG4gICAgaWYgKHBhdGggPT09ICcvJykge1xuICAgICAgcmV0dXJuIGZpbGVTeXN0ZW1cbiAgICB9XG5cbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwvKy9nLCAnJykucmVwbGFjZSgvXFwvKyQvZywgJycpXG4gICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJylcbiAgICBsZXQgbm9kZSA9IGZpbGVTeXN0ZW0uY2hpbGRyZW5bcGFydHNbMF1dXG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIW5vZGUuY2hpbGRyZW5bcGFydHNbaV1dKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLmNoaWxkcmVuW3BhcnRzW2ldXVxuICAgIH1cblxuICAgIHJldHVybiBub2RlXG4gIH0sXG4gIG1rZGlyOiAoaW5wdXQsIG9wdHMpID0+IHtcbiAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQpXG5cbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwvKy9nLCAnJykucmVwbGFjZSgvXFwvKyQvZywgJycpXG4gICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJylcbiAgICBsZXQgbm9kZSA9IGZpbGVTeXN0ZW1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dXG5cbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICBub2RlID0gY2hpbGRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdHMucCB8fCBpID09PSBwYXJ0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkcmVuW3BhcnRzW2ldXSA9IGNyZWF0ZURpcihvcHRzKVxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihgbWtkaXI6ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcbiAgICB9XG4gIH0sXG4gIHdyaXRlOiAoaW5wdXQsIGNvbnRlbnQsIG9wdHMpID0+IHtcbiAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQpXG5cbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwvKy9nLCAnJykucmVwbGFjZSgvXFwvKyQvZywgJycpXG4gICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJylcbiAgICBsZXQgbm9kZSA9IGZpbGVTeXN0ZW1cblxuICAgIGNvbnN0IGZpbGUgPSBwYXJ0cy5wb3AoKVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltwYXJ0c1tpXV1cblxuICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIG5vZGUgPSBjaGlsZFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5wKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkcmVuW3BhcnRzW2ldXSA9IGNyZWF0ZURpcihvcHRzKVxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihgdG91Y2g6ICR7aW5wdXR9OiBObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5YClcbiAgICB9XG5cbiAgICBub2RlLmNoaWxkcmVuW2ZpbGVdID0gY3JlYXRlRmlsZShjb250ZW50LCBvcHRzKVxuICB9LFxuICByZWFkOiAoaW5wdXQpID0+IHtcbiAgICBsZXQgcGF0aCA9IG5vcm1hbGlzZVBhdGgoaW5wdXQpXG4gICAgY29uc3Qgbm9kZSA9IGZzLmdldE5vZGUocGF0aClcblxuICAgIGlmICghbm9kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWFkOiAke2lucHV0fTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApXG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGUuY29udGVudFxuICB9LFxuICBybTogKGlucHV0LCBvcHRzKSA9PiB7XG4gICAgbGV0IHBhdGggPSBub3JtYWxpc2VQYXRoKGlucHV0KVxuXG4gICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcLysvZywgJycpLnJlcGxhY2UoL1xcLyskL2csICcnKVxuICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpXG4gICAgbGV0IG5vZGUgPSBmaWxlU3lzdGVtXG5cbiAgICBjb25zdCBmaWxlID0gcGFydHMucG9wKClcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5bcGFydHNbaV1dXG5cbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICBub2RlID0gY2hpbGRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBybTogJHtpbnB1dH06IE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnlgKVxuICAgIH1cblxuICAgIGlmICghbm9kZS5jaGlsZHJlbltmaWxlXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBybTogJHtpbnB1dH06IE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnlgKVxuICAgIH1cblxuICAgIGlmIChub2RlLmNoaWxkcmVuW2ZpbGVdLmNoaWxkcmVuICYmICFvcHRzLnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgcm06ICR7aW5wdXR9OiBpcyBhIGRpcmVjdG9yeWApXG4gICAgfVxuXG4gICAgZGVsZXRlIG5vZGUuY2hpbGRyZW5bZmlsZV1cbiAgfSxcbiAgY2Q6IChpbnB1dCkgPT4ge1xuICAgIGxldCBwYXRoID0gbm9ybWFsaXNlUGF0aChpbnB1dClcbiAgICBjb25zdCBub2RlID0gZnMuZ2V0Tm9kZShwYXRoKVxuXG4gICAgaWYgKCFub2RlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYC1iYXNoOiBjZDogJHtpbnB1dH06IE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnlgKVxuICAgIH1cblxuICAgIHB3ZCA9IHBhdGhcbiAgfSxcbiAgbHM6IChpbnB1dCkgPT4ge1xuICAgIGxldCBwYXRoID0gbm9ybWFsaXNlUGF0aChpbnB1dCB8fCBwd2QpXG4gICAgY29uc3Qgbm9kZSA9IGZzLmdldE5vZGUocGF0aClcblxuICAgIGlmICghbm9kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWFkOiAke2lucHV0fTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApXG4gICAgfVxuXG4gICAgaWYgKG5vZGUuY29udGVudCkge1xuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIG5hbWU6IHBhdGguc3BsaXQoJy8nKS5wb3AoKSxcbiAgICAgICAgbm9kZTogbm9kZVxuICAgICAgfV1cbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMobm9kZS5jaGlsZHJlbilcbiAgICAgIC5tYXAobmFtZSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBub2RlOiBub2RlLmNoaWxkcmVuW25hbWVdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH0sXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGlzZVBhdGggKGlucHV0KSB7XG4gIGxldCBwYXRoID0gaW5wdXRcblxuICBpZiAocGF0aC5zdWJzdHJpbmcoMCwgMSkgIT09ICcvJykge1xuICAgIHBhdGggPSBgJHtwd2R9LyR7cGF0aH1gXG4gIH1cblxuICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXC8rL2csICcvJylcbiAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcLysvZywgJycpLnJlcGxhY2UoL1xcLyskL2csICcnKVxuICBwYXRoID0gYC8ke3BhdGh9YFxuXG4gIHBhdGggPSByZXNvbHZlKHBhdGgpXG5cbiAgcmV0dXJuIHBhdGhcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmc1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9zeXN0ZW0vZnMuanNcbi8vIG1vZHVsZSBpZCA9IDMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGZzID0gcmVxdWlyZSgnLi4vc3lzdGVtL2ZzJylcbmNvbnN0IHVzZXJzID0gcmVxdWlyZSgnLi4vc3lzdGVtL3VzZXJzJylcbmNvbnN0IGdyb3VwcyA9IHJlcXVpcmUoJy4uL3N5c3RlbS9ncm91cHMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcbiAgICBsZXQgZmlsZXMgPSBmcy5scyhhcmdzLl9bMF0pXG4gICAgZmlsZXMgPSBmaWxlcy5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKVxuXG4gICAgaWYgKCFhcmdzLmEpIHtcbiAgICAgIGZpbGVzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS5uYW1lLnN1YnN0cmluZygwLCAxKSAhPT0gJy4nKVxuICAgIH1cblxuICAgIGlmIChhcmdzLmwpIHtcbiAgICAgIHJldHVybiBgXG4gICAgICA8dGFibGU+PHRib2R5PlxuICAgICAgICAke1xuICAgICAgICAgIGZpbGVzXG4gICAgICAgICAgLm1hcChjaGlsZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gY2hpbGQubm9kZVxuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5vZGUubXRpbWUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1HQicsIHtcbiAgICAgICAgICAgICAgZGF5OiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgIG1vbnRoOiAnc2hvcnQnLFxuICAgICAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICByZXR1cm4gYDx0cj5cbiAgICAgICAgICAgICAgPHRkPiR7bm9kZS5jaGlsZHJlbiA/ICdkJyA6ICctJ31ydy1yLS1yLS0mbmJzcDs8L3RkPlxuICAgICAgICAgICAgICA8dGQ+JHt1c2Vycy5maW5kKG5vZGUudWlkKS5uYW1lfSZuYnNwOzwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD4ke2dyb3Vwcy5maW5kKG5vZGUuZ2lkKS5uYW1lfSZuYnNwOzwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD4ke25vZGUuc2l6ZSgpfSZuYnNwOzwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD4ke2RhdGV9Jm5ic3A7PC90ZD5cbiAgICAgICAgICAgICAgPHRkPiR7Y2hpbGQubmFtZX08L3RkPlxuICAgICAgICAgICAgPC90cj5gXG4gICAgICAgICAgfSkuam9pbignJylcbiAgICAgICAgfVxuICAgICAgPHRib2R5PjwvdGFibGU+YFxuICAgIH1cblxuICAgIHJldHVybiBmaWxlc1xuICAgICAgLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXG4gICAgICAubWFwKGZpbGUgPT4gZmlsZS5uYW1lKVxuICAgICAgLmpvaW4oJyAnKVxuICB9LFxuICBhcmdzOiB7XG4gICAgYm9vbGVhbjogW1xuICAgICAgJ2wnLFxuICAgICAgJ2EnXG4gICAgXVxuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL2xzLmpzXG4vLyBtb2R1bGUgaWQgPSAzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjb25zdCBmcyA9IHJlcXVpcmUoJy4uL3N5c3RlbS9mcycpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVyOiAoKSA9PiB7XG4gICAgcmV0dXJuIGZzLnB3ZCgpXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbWFuZHMvcHdkLmpzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjb25zdCBmcyA9IHJlcXVpcmUoJy4uL3N5c3RlbS9mcycpXG5jb25zdCB1c2VycyA9IHJlcXVpcmUoJy4uL3N5c3RlbS91c2VycycpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuICAgIGNvbnN0IHsgXyB9ID0gYXJnc1xuXG4gICAgaWYgKCFfLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2FnZTogbWtkaXIgWy1wdl0gWy1tIG1vZGVdIGRpcmVjdG9yeSAuLi4nKVxuICAgIH1cblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmcy5ta2RpcihfW2ldLCB7XG4gICAgICAgIHVpZDogdXNlcnMuZmluZCgnYWxleCcpLnVpZCxcbiAgICAgICAgZ2lkOiB1c2Vycy5maW5kKCdhbGV4JykuZ2lkLFxuICAgICAgICBwOiBhcmdzLnBcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuICcnXG4gIH0sXG4gIGFyZ3M6IHtcbiAgICBib29sZWFuOiBbXG4gICAgICAncCdcbiAgICBdXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbWFuZHMvbWtkaXIuanNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGZzID0gcmVxdWlyZSgnLi4vc3lzdGVtL2ZzJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG4gICAgY29uc3QgeyBfIH0gPSBhcmdzXG5cbiAgICBpZiAoIV8ubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzYWdlOiB0b3VjaCBbLUEgWy1dW1toaF1tbV1TU10gWy1hY2ZobV0gWy1yIGZpbGVdIFstdCBbW0NDXVlZXU1NRERoaG1tWy5TU11dIGZpbGUgLi4uJylcbiAgICB9XG5cbiAgICBmcy53cml0ZShfWzBdLCAnJywge1xuICAgICAgdWlkOiBmcy51c2VyKDUwMCkudWlkLFxuICAgICAgZ2lkOiBmcy51c2VyKDUwMCkuZ2lkXG4gICAgfSlcblxuICAgIHJldHVybiAnJ1xuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL3RvdWNoLmpzXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjb25zdCBmcyA9IHJlcXVpcmUoJy4uL3N5c3RlbS9mcycpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuICAgIGxldCBub2RlID0gZnMuZ2V0Tm9kZShhcmdzLl9bMF0pXG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgY2F0OiAke2FyZ3MuX1swXX06IE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnlgKVxuICAgIH1cblxuICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhdDogJHthcmdzLl9bMF19OiBJcyBhIGRpcmVjdG9yeWApXG4gICAgfVxuXG4gICAgcmV0dXJuIGA8cHJlPiR7bm9kZS5jb250ZW50fTwvcHJlPmBcbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9jYXQuanNcbi8vIG1vZHVsZSBpZCA9IDM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG4gICAgaWYgKCFhcmdzLl8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdC5nZXRUaGVtZSgpXG4gICAgfVxuXG4gICAgaWYgKGFyZ3MuXy5sZW5ndGggPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RvbyBtYW55IGFyZ3VtZW50cycpXG4gICAgfVxuXG4gICAgaWYgKGFyZ3MuX1swXS5tYXRjaCgvXmludGVybGFjZWR8bW9kZXJufHdoaXRlJC8pKSB7XG4gICAgICB0LnNldFRoZW1lKGFyZ3NbMF0pXG4gICAgICByZXR1cm4gJydcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGhlbWUnKVxuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL3RoZW1lLmpzXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjb25zdCBmcyA9IHJlcXVpcmUoJy4uL3N5c3RlbS9mcycpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuICAgIGNvbnN0IHsgXyB9ID0gYXJnc1xuXG4gICAgaWYgKCFfLmxlbmd0aCkge1xuICAgICAgXy5wdXNoKCcvaG9tZS9hbGV4JylcbiAgICB9XG5cbiAgICBmcy5jZChfWzBdKVxuXG4gICAgdC5zZXRQcm9tcHQoX1swXS5zcGxpdCgnLycpLnBvcCgpICsgJyAnKVxuXG4gICAgcmV0dXJuICcnXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbWFuZHMvY2QuanNcbi8vIG1vZHVsZSBpZCA9IDM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICgpID0+IHtcbiAgICByZXR1cm4gJzEuMC4yJ1xuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL3ZlcnNpb24uanNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGZzID0gcmVxdWlyZSgnLi4vc3lzdGVtL2ZzJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG4gICAgY29uc3QgeyBfIH0gPSBhcmdzXG5cbiAgICBpZiAoIV8ubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzYWdlOiBybSBbLWYgfCAtaV0gWy1kUFJydlddIGZpbGUgLi4uIHVubGluayBmaWxlJylcbiAgICB9XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgXy5sZW5ndGg7IGkrKykge1xuICAgICAgZnMucm0oX1tpXSwgYXJncylcbiAgICB9XG5cbiAgICByZXR1cm4gJydcbiAgfSxcbiAgYXJnczoge1xuICAgIGJvb2xlYW46IFtcbiAgICAgICdyJyxcbiAgICAgICdmJ1xuICAgIF1cbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9ybS5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3Qge1xuICBzbG93TG9nXG59ID0gcmVxdWlyZSgnLi4vLi4vdXRpbCcpXG5cbmNvbnN0IHN1YkNvbW1hbmRzID0ge1xuICBpbnN0YWxsOiByZXF1aXJlKCcuL2luc3RhbGwnKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcbiAgICBjb25zdCBzdWJDb21tYW5kID0gYXJncy5fLnNoaWZ0KClcblxuICAgIGlmIChzdWJDb21tYW5kc1tzdWJDb21tYW5kXSkge1xuICAgICAgcmV0dXJuIHN1YkNvbW1hbmRzW3N1YkNvbW1hbmRdLmhhbmRsZXIodCwgYXJncylcbiAgICB9XG5cbiAgICByZXR1cm4gYDxwcmU+VXNhZ2U6IG5wbSA8Y29tbWFuZD5cblxud2hlcmUgPGNvbW1hbmQ+IGlzIG9uZSBvZjpcbiAgICAke09iamVjdC5rZXlzKHN1YkNvbW1hbmRzKS5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpfVxuXG5ucG0gPGNvbW1hbmQ+IC1oICBxdWljayBoZWxwIG9uIDxjb21tYW5kPlxubnBtIC1sICAgICAgICAgICAgZGlzcGxheSBmdWxsIHVzYWdlIGluZm9cbm5wbSBoZWxwIDx0ZXJtPiAgIHNlYXJjaCBmb3IgaGVscCBvbiA8dGVybT5cbm5wbSBoZWxwIG5wbSAgICAgIGludm9sdmVkIG92ZXJ2aWV3XG5cblNwZWNpZnkgY29uZmlncyBpbiB0aGUgaW5pLWZvcm1hdHRlZCBmaWxlOlxuICAgIC9ob21lL2FsZXgvLm5wbXJjXG5vciBvbiB0aGUgY29tbWFuZCBsaW5lIHZpYTogbnBtIDxjb21tYW5kPiAtLWtleSB2YWx1ZVxuQ29uZmlnIGluZm8gY2FuIGJlIHZpZXdlZCB2aWE6IG5wbSBoZWxwIGNvbmZpZ1xuXG5ucG1ANi40LjEgL2hvbWUvYWxleC8ubnZtL3ZlcnNpb25zL25vZGUvdjEwLjE1LjMvbGliL25vZGVfbW9kdWxlcy9ucG08L3ByZT5gXG4gIH0sXG4gIGFyZ3M6IHtcbiAgICBib29sZWFuOiBbXG4gICAgICAnc2F2ZScsICdzYXZlLWRldicsICdwcm9kdWN0aW9uJywgJ2cnLCAnZ2xvYmFsJ1xuICAgIF1cbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9ucG0vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICh0KSA9PiB7XG4gICAgdC5jbGVhcigpXG5cbiAgICByZXR1cm4gJydcbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9jbGVhci5qc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3Qge1xuICBucG1JbnN0YWxsTG9nXG59ID0gcmVxdWlyZSgnLi91dGlsJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZXI6ICh0LCBhcmdzKSA9PiB7XG4gICAgbnBtSW5zdGFsbExvZyh0LCB7XG4gICAgICBuYW1lOiBhcmdzLl9bMF0sXG4gICAgICBkZXBlbmRlbmNpZXM6IFtcbiAgICAgICAgJ2Ruc2NhY2hlJyxcbiAgICAgICAgJ2V4cHJlc3MtaHR0cC1wcm94eScsXG4gICAgICAgICdpcGZzZC1jdGwnLFxuICAgICAgICAnaXBmcy1odHRwLWNsaWVudCcsXG4gICAgICAgICdpcGZzJyxcbiAgICAgICAgJ2V4cHJlc3MnLFxuICAgICAgICAnZGVidWcnLFxuICAgICAgICAnb25jZScsXG4gICAgICAgICdyZXF1ZXN0JyxcbiAgICAgICAgJ3JjJyxcbiAgICAgICAgJ3JlcXVlc3QtcHJvbWlzZScsXG4gICAgICAgICd5YXJncycsXG4gICAgICAgICdAeWFybnBrZyUyZmxvY2tmaWxlJyxcbiAgICAgICAgJ2lwZnMtcmVnaXN0cnktbWlycm9yLWNvbW1vbicsXG4gICAgICAgICd3aGljaC1wcm9taXNlJ1xuICAgICAgXVxuICAgIH0pXG4gIH1cbn1cblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9ucG0vaW5zdGFsbC5qc1xuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY29uc3Qge1xuICBzbG93TG9nLFxuICByYW5kb21OdW1iZXJcbn0gPSByZXF1aXJlKCcuLi8uLi91dGlsJylcblxuY29uc3QgbnBtSW5zdGFsbExvZyA9ICh0LCBwa2cpID0+IHtcbiAgbGV0IGRlcHMgPSBbXG4gICAgJ25wbSBpbmZvIGl0IHdvcmtlZCBpZiBpdCBlbmRzIHdpdGggb2snLFxuICAgICducG0gaW5mbyB1c2luZyBucG1ANi40LjEnLFxuICAgICducG0gaW5mbyB1c2luZyBub2RlQHYxMC4xNS4zJyxcbiAgICBgbnBtIGh0dHAgZmV0Y2ggR0VUIDMwNCBodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy8ke3BrZy5uYW1lfSA5OTdtcyAoZnJvbSBjYWNoZSlgLFxuICAgICducG0gdGltaW5nIHN0YWdlOmxvYWRDdXJyZW50VHJlZSBDb21wbGV0ZWQgaW4gNjI0OG1zJyxcbiAgICAnbnBtIHRpbWluZyBzdGFnZTpsb2FkSWRlYWxUcmVlOmNsb25lQ3VycmVudFRyZWUgQ29tcGxldGVkIGluIDM2bXMnLFxuICAgICducG0gdGltaW5nIHN0YWdlOmxvYWRJZGVhbFRyZWU6bG9hZFNocmlua3dyYXAgQ29tcGxldGVkIGluIDI0NTJtcydcbiAgXVxuXG4gIHBrZy5kZXBlbmRlbmNpZXMuZm9yRWFjaChkZXAgPT4ge1xuICAgIGRlcHMucHVzaChgbnBtIGh0dHAgZmV0Y2ggR0VUIDMwNCBodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy8ke2RlcH0gJHtyYW5kb21OdW1iZXIoMTAwLCA1MDApfW1zIChmcm9tIGNhY2hlKWApXG4gIH0pXG5cbiAgcGtnLmRlcGVuZGVuY2llcy5mb3JFYWNoKGRlcCA9PiB7XG4gICAgZGVwcy5wdXNoKGBucG0gaW5mbyBsaWZlY3ljbGUgJHtkZXB9QDAuOC4wfnBvc3RpbnN0YWxsOiAke2RlcH1AMC44LjBgKVxuICB9KVxuXG4gIGRlcHMgPSBkZXBzLmNvbmNhdChbXG4gICAgJ25wbSB0aW1pbmcgYWN0aW9uOnBvc3RpbnN0YWxsIENvbXBsZXRlZCBpbiAzOTFtcycsXG4gICAgJ25wbSB0aW1pbmcgc3RhZ2U6ZXhlY3V0ZUFjdGlvbnMgQ29tcGxldGVkIGluICV0aW1lJW1zJyxcbiAgICAnbnBtIHRpbWluZyBzdGFnZTpyb2xsYmFja0ZhaWxlZE9wdGlvbmFsIENvbXBsZXRlZCBpbiAybXMnLFxuICAgICducG0gdGltaW5nIHN0YWdlOnJ1blRvcExldmVsTGlmZWN5Y2xlcyBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuICAgIGArICR7cGtnLm5hbWV9QDAuMTYuM2AsXG4gICAgJ2FkZGVkIDE2MyBwYWNrYWdlcyBmcm9tIDI4NSBjb250cmlidXRvcnMgYW5kIHVwZGF0ZWQgMTEzMiBwYWNrYWdlcyBpbiA5Ny43NjFzJyxcbiAgICAnbnBtIHRpbWluZyBucG0gQ29tcGxldGVkIGluICV0aW1lJW1zJyxcbiAgICAnbnBtIGluZm8gb2snXG4gIF0pXG5cbiAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpXG5cbiAgc2xvd0xvZyh0LCB7XG4gICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGxpbmUgPSBkZXBzLnNoaWZ0KClcblxuICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaW5lLnJlcGxhY2UoJyV0aW1lJScsIERhdGUubm93KCkgLSBzdGFydClcbiAgICB9XG4gIH0sIDUwLCAyMDAsICgpID0+IHt9KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbnBtSW5zdGFsbExvZ1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbWFuZHMvbnBtL3V0aWwuanNcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGZzID0gcmVxdWlyZSgnLi4vLi4vc3lzdGVtL2ZzJylcbmNvbnN0IHVzZXJzID0gcmVxdWlyZSgnLi4vLi4vc3lzdGVtL3VzZXJzJylcbmNvbnN0IHtcbiAgc2xvd0xvZyxcbiAgcmFuZG9tTnVtYmVyXG59ID0gcmVxdWlyZSgnLi4vLi4vdXRpbCcpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuICAgIGNvbnN0IHB3ZCA9IGZzLnB3ZCgpXG4gICAgY29uc3QgcGtnID0gYCR7cHdkfS9wYWNrYWdlLmpzb25gXG4gICAgY29uc3QgY29udGVudCA9IGZzLnJlYWQocGtnKVxuICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShjb250ZW50KVxuXG4gICAgaWYgKGFyZ3MuXy5sZW5ndGgpIHtcbiAgICAgIC8vIGluc3RhbGwgYSBwYWNrYWdlXG4gICAgICBucG1JbnN0YWxsU2luZ2xlUGFja2FnZUxvZyh0LCBhcmdzLl9bMF0pXG5cbiAgICAgIGlmIChhcmdzLnNhdmUpIHtcbiAgICAgICAgbWFuaWZlc3QuZGVwZW5kZW5jaWVzID0gbWFuaWZlc3QuZGVwZW5kZW5jaWVzIHx8IHt9XG4gICAgICAgIG1hbmlmZXN0LmRlcGVuZGVuY2llc1thcmdzLl9bMF1dID0gJ145LjAuMCdcblxuICAgICAgICBmcy53cml0ZShwa2csIEpTT04uc3RyaW5naWZ5KG1hbmlmZXN0LCBudWxsLCAyKSwgdXNlcnMuaWRzKCdhbGV4JykpXG4gICAgICAgIGZzLndyaXRlKGAke3B3ZH0vcGFja2FnZS1sb2NrLmpzb25gLCBge1xuICBcIm5hbWVcIjogXCIke21hbmlmZXN0Lm5hbWV9XCIsXG4gIFwidmVyc2lvblwiOiBcIjEuMC4wXCIsXG4gIFwibG9ja2ZpbGVWZXJzaW9uXCI6IDEsXG4gIFwicmVxdWlyZXNcIjogdHJ1ZSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiJHthcmdzLl9bMF19XCI6IHtcbiAgICAgIFwidmVyc2lvblwiOiBcIjkuMC4wXCIsXG4gICAgICBcInJlc29sdmVkXCI6IFwiaHR0cHM6Ly9yZWdpc3RyeS5qcy5pcGZzLmlvLyR7YXJncy5fWzBdfS8tLyR7YXJncy5fWzBdfS05LjAuMC50Z3pcIixcbiAgICAgIFwiaW50ZWdyaXR5XCI6IFwic2hhNTEyLXQvT1loaEoyU0QrWUdCUWNqWThHenpESEVrOWYzbmVyeGp0ZmE2dGxNWGZlN2Zycy9Xb3podkNOb0d2cE0wUDNiTmYzR3E1WlJNbEdyNWYzcjQvTjhBPT1cIlxuICAgIH1cbiAgfVxufWApXG4gICAgICAgIGZzLm1rZGlyKGAke3B3ZH0vbm9kZV9tb2R1bGVzYCwgdXNlcnMuaWRzKCdhbGV4JykpXG4gICAgICAgIGZzLm1rZGlyKGAke3B3ZH0vbm9kZV9tb2R1bGVzLyR7YXJncy5fWzBdfWAsIHVzZXJzLmlkcygnYWxleCcpKVxuICAgICAgICBmcy53cml0ZShgJHtwd2R9L25vZGVfbW9kdWxlcy8ke2FyZ3MuX1swXX0vcGFja2FnZS5qc29uYCwgJ0kgYW0gYSB2ZXJ5IG5pY2UgcGFja2FnZScsIHVzZXJzLmlkcygnYWxleCcpKVxuICAgICAgICBmcy53cml0ZShgJHtwd2R9L25vZGVfbW9kdWxlcy8ke2FyZ3MuX1swXX0vaW5kZXguanNgLCAnTG9vayBhdCBtZSBiZWluZyBhbiBpbXBsZW1lbnRhdGlvbicsIHVzZXJzLmlkcygnYWxleCcpKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbnN0YWxsIGFsbCBvZiB0aGUgcGFja2FnZXNcbiAgICB9XG4gIH0sXG4gIGFyZ3M6IHtcbiAgICBib29sZWFuOiBbXG4gICAgICAnc2F2ZSdcbiAgICBdXG4gIH1cbn1cblxuY29uc3QgbnBtSW5zdGFsbFNpbmdsZVBhY2thZ2VMb2cgPSAodCwgcGtnKSA9PiB7XG4gIGxldCBsb2dzID0gW1xuICAgICfwn5Gp4oCN8J+agCBTdGFydGluZyBsb2NhbCBwcm94eScsXG4gICAgJ/CfmoAgU2VydmVyIHJ1bm5pbmcgb24gcG9ydCA2MDAwMCcsXG4gICAgJ/CfjoEgSW5zdGFsbGluZyBkZXBlbmRlbmNpZXMgd2l0aCAvaG9tZS9hbGV4Ly5udm0vdmVyc2lvbnMvbm9kZS92MTAuMTUuMy9iaW4vbnBtJyxcbiAgICAnbnBtIGluZm8gaXQgd29ya2VkIGlmIGl0IGVuZHMgd2l0aCBvaycsXG4gICAgJ25wbSBpbmZvIHVzaW5nIG5wbUA2LjQuMScsXG4gICAgJ25wbSBpbmZvIHVzaW5nIG5vZGVAdjEwLjE1LjMnLFxuICAgICfwn5iIIFNwYXduaW5nIGFuIGluLXByb2Nlc3MgSVBGUyBub2RlIHVzaW5nIHJlcG8gYXQgL2hvbWUvYWxleC8uanNpcGZzMicsXG4gICAgJ1N3YXJtIGxpc3RlbmluZyBvbiAvaXA0LzEyNy4wLjAuMS90Y3AvNjAwMTUvaXBmcy9RbVZZRGVMZzJVc2Z2WTF0WVF1SERONWlvaUNpZW5nZk5HaW1NRmJuanl2YmpiJyxcbiAgICAnU3dhcm0gbGlzdGVuaW5nIG9uIC9wMnAtY2lyY3VpdC9pcGZzL1FtVllEZUxnMlVzZnZZMXRZUXVIRE41aW9pQ2llbmdmTkdpbU1GYm5qeXZiamInLFxuICAgICdTd2FybSBsaXN0ZW5pbmcgb24gL3AycC1jaXJjdWl0L2lwNC8xMjcuMC4wLjEvdGNwLzYwMDE1L2lwZnMvUW1WWURlTGcyVXNmdlkxdFlRdUhETjVpb2lDaWVuZ2ZOR2ltTUZibmp5dmJqYicsXG4gICAgJ/Cfl4LvuI8gIExvYWRpbmcgcmVnaXN0cnkgaW5kZXggZnJvbSBodHRwczovL3JlZ2lzdHJ5LmpzLmlwZnMuaW8nLFxuICAgICfimI7vuI8gIERpYWxsaW5nIHJlZ2lzdHJ5IG1pcnJvciAvaXA0LzM1LjE3OC4xOTIuMTE5L3RjcC8xMDAzNi9pcGZzL1FtY3RRNFQxU3YxYUJUdFJodHptUnd2QWY4c3Z0SExQaEpXV2J2NndmVmNyUk4sL2RuczQvcmVnaXN0cnkuanMuaXBmcy5pby90Y3AvMTAwMzYvaXBmcy9RbWN0UTRUMVN2MWFCVHRSaHR6bVJ3dkFmOHN2dEhMUGhKV1didjZ3ZlZjclJOJyxcbiAgICAn8J+Tse+4jyBDb25uZWN0ZWQgdG8gcmVnaXN0cnknLFxuICAgIGDwn4aVIE5ldyB2ZXJzaW9ucyBvZiAke3BrZ30gZGV0ZWN0ZWQgLSAxLjAuMCwgMS4wLjEsIDEuMS4wLCAxLjEuMSwgMS4yLjAsIDEuMi4xLCAxLjMuMCwgMS40LjAsIDEuNC4xLCAxLjUuMCwgMi4wLjAsIDIuMC4xLCAyLjAuMiwgMi4wLjMsIDIuMC41LCAyLjAuNiwgMi4wLjcsIDIuMC44LCAyLjEuMCwgMi4xLjEsIDIuMS4yLCAyLjEuMywgMi4xLjQsIDIuMi4wLCAyLjMuMCwgMi40LjAsIDMuMC4wLCAzLjAuMSwgMy4xLjAsIDMuMS4xLCAzLjEuMiwgNC4wLjAsIDQuMC4xLCA0LjAuMiwgNC4wLjMsIDQuMC40LCA0LjEuMCwgNS4wLjAsIDYuMC4wLCA3LjAuMCwgNy4wLjEsIDcuMC4yLCA3LjEuMCwgNy4yLjAsIDcuMi4xLCA4LjAuMSwgOC4wLjIsIDguMS4xLCA5LjAuMCwgOC4xLjBgLFxuICAgIGDwn5OEIEdFVCAvJHtwa2d9IDIwMCAyODU3bXNgLFxuICAgIGBucG0gaHR0cCBmZXRjaCBHRVQgMjAwIGh0dHA6Ly9sb2NhbGhvc3Q6NjAwMDAvJHtwa2d9IDI5MDdtc2AsXG4gICAgJ25wbSBXQVJOIGZvb0AxLjAuMCBObyBkZXNjcmlwdGlvbicsXG4gICAgJ25wbSBXQVJOIGZvb0AxLjAuMCBObyByZXBvc2l0b3J5IGZpZWxkLicsXG4gICAgJyAnLFxuICAgICfwn5OEIFBPU1QgLy0vbnBtL3YxL3NlY3VyaXR5L2F1ZGl0cy9xdWljayAyMDAgNDM5bXMnLFxuICAgICducG0gdGltaW5nIGF1ZGl0IHN1Ym1pdCBDb21wbGV0ZWQgaW4gNDkzbXMnLFxuICAgICducG0gaHR0cCBmZXRjaCBQT1NUIDIwMCBodHRwOi8vbG9jYWxob3N0OjYwMDAwLy0vbnBtL3YxL3NlY3VyaXR5L2F1ZGl0cy9xdWljayA0OTJtcycsXG4gICAgJ25wbSB0aW1pbmcgYXVkaXQgYm9keSBDb21wbGV0ZWQgaW4gMG1zJyxcbiAgICBgKyAke3BrZ31AOS4wLjBgLFxuICAgICdhZGRlZCAxIHBhY2thZ2UgZnJvbSAxIGNvbnRyaWJ1dG9yIGFuZCBhdWRpdGVkIDEgcGFja2FnZSBpbiAldGltZSVtcycsXG4gICAgJ2ZvdW5kIDAgdnVsbmVyYWJpbGl0aWVzJyxcbiAgICAnICcsXG4gICAgJ25wbSB0aW1pbmcgbnBtIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG4gICAgJ25wbSBpbmZvIG9rICcsXG4gICAgJ/CfjoEgL1VzZXJzL2FsZXgvLm52bS92ZXJzaW9ucy9ub2RlL3YxMC4xNS4zL2Jpbi9ucG0gZXhpdGVkIHdpdGggY29kZSAwJyxcbiAgICAn8J+UjyBVcGRhdGluZyBwYWNrYWdlLWxvY2suanNvbidcbiAgXVxuXG4gIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKVxuXG4gIHNsb3dMb2codCwge1xuICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBsaW5lID0gbG9ncy5zaGlmdCgpXG5cbiAgICAgIGlmICghbGluZSkge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGluZS5yZXBsYWNlKCcldGltZSUnLCBEYXRlLm5vdygpIC0gc3RhcnQpXG4gICAgfVxuICB9LCAyMDAsIDUwMCwgKCkgPT4ge30pXG59XG5cblxuXG5jb25zdCBucG1JbnN0YWxsTG9nID0gKHQsIHBrZykgPT4ge1xuICBsZXQgZGVwcyA9IFtcbiAgICAnbnBtIGluZm8gaXQgd29ya2VkIGlmIGl0IGVuZHMgd2l0aCBvaycsXG4gICAgJ25wbSBpbmZvIHVzaW5nIG5wbUA2LjQuMScsXG4gICAgJ25wbSBpbmZvIHVzaW5nIG5vZGVAdjEwLjE1LjMnLFxuICAgIGBucG0gaHR0cCBmZXRjaCBHRVQgMzA0IGh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnLyR7cGtnLm5hbWV9IDk5N21zIChmcm9tIGNhY2hlKWAsXG4gICAgJ25wbSB0aW1pbmcgc3RhZ2U6bG9hZEN1cnJlbnRUcmVlIENvbXBsZXRlZCBpbiA2MjQ4bXMnLFxuICAgICducG0gdGltaW5nIHN0YWdlOmxvYWRJZGVhbFRyZWU6Y2xvbmVDdXJyZW50VHJlZSBDb21wbGV0ZWQgaW4gMzZtcycsXG4gICAgJ25wbSB0aW1pbmcgc3RhZ2U6bG9hZElkZWFsVHJlZTpsb2FkU2hyaW5rd3JhcCBDb21wbGV0ZWQgaW4gMjQ1Mm1zJ1xuICBdXG5cbiAgcGtnLmRlcGVuZGVuY2llcy5mb3JFYWNoKGRlcCA9PiB7XG4gICAgZGVwcy5wdXNoKGBucG0gaHR0cCBmZXRjaCBHRVQgMzA0IGh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnLyR7ZGVwfSAke3JhbmRvbU51bWJlcigxMDAsIDUwMCl9bXMgKGZyb20gY2FjaGUpYClcbiAgfSlcblxuICBwa2cuZGVwZW5kZW5jaWVzLmZvckVhY2goZGVwID0+IHtcbiAgICBkZXBzLnB1c2goYG5wbSBpbmZvIGxpZmVjeWNsZSAke2RlcH1AMC44LjB+cG9zdGluc3RhbGw6ICR7ZGVwfUAwLjguMGApXG4gIH0pXG5cbiAgZGVwcyA9IGRlcHMuY29uY2F0KFtcbiAgICAnbnBtIHRpbWluZyBhY3Rpb246cG9zdGluc3RhbGwgQ29tcGxldGVkIGluIDM5MW1zJyxcbiAgICAnbnBtIHRpbWluZyBzdGFnZTpleGVjdXRlQWN0aW9ucyBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuICAgICducG0gdGltaW5nIHN0YWdlOnJvbGxiYWNrRmFpbGVkT3B0aW9uYWwgQ29tcGxldGVkIGluIDJtcycsXG4gICAgJ25wbSB0aW1pbmcgc3RhZ2U6cnVuVG9wTGV2ZWxMaWZlY3ljbGVzIENvbXBsZXRlZCBpbiAldGltZSVtcycsXG4gICAgYCsgJHtwa2cubmFtZX1AMC4xNi4zYCxcbiAgICAnYWRkZWQgMTYzIHBhY2thZ2VzIGZyb20gMjg1IGNvbnRyaWJ1dG9ycyBhbmQgdXBkYXRlZCAxMTMyIHBhY2thZ2VzIGluIDk3Ljc2MXMnLFxuICAgICducG0gdGltaW5nIG5wbSBDb21wbGV0ZWQgaW4gJXRpbWUlbXMnLFxuICAgICducG0gaW5mbyBvaydcbiAgXSlcblxuICBjb25zdCBzdGFydCA9IERhdGUubm93KClcblxuICBzbG93TG9nKHQsIHtcbiAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgbGluZSA9IGRlcHMuc2hpZnQoKVxuXG4gICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpbmUucmVwbGFjZSgnJXRpbWUlJywgRGF0ZS5ub3coKSAtIHN0YXJ0KVxuICAgIH1cbiAgfSwgNTAsIDIwMCwgKCkgPT4ge30pXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbW1hbmRzL2lwZnMtbnBtL2luc3RhbGwuanNcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IHtcbiAgc2xvd0xvZ1xufSA9IHJlcXVpcmUoJy4uLy4uL3V0aWwnKVxuXG5jb25zdCBzdWJDb21tYW5kcyA9IHtcbiAgaW5pdDogcmVxdWlyZSgnLi9pbml0JyksXG4gIGluc3RhbGw6IHJlcXVpcmUoJy4vaW5zdGFsbCcpXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVyOiAodCwgYXJncykgPT4ge1xuICAgIGNvbnN0IHN1YkNvbW1hbmQgPSBhcmdzLl8uc2hpZnQoKVxuXG4gICAgaWYgKHN1YkNvbW1hbmRzW3N1YkNvbW1hbmRdKSB7XG4gICAgICByZXR1cm4gc3ViQ29tbWFuZHNbc3ViQ29tbWFuZF0uaGFuZGxlcih0LCBhcmdzKVxuICAgIH1cblxuICAgIGNvbnN0IGxvZyA9IFtcbiAgICAgICfwn5Gp4oCN8J+agCBTdGFydGluZyBsb2NhbCBwcm94eScsXG4gICAgICAn8J+agCBTZXJ2ZXIgcnVubmluZyBvbiBwb3J0IDQ5ODIwJyxcbiAgICAgICfwn46BIEluc3RhbGxpbmcgZGVwZW5kZW5jaWVzIHdpdGggL1VzZXJzL2FsZXgvLm52bS92ZXJzaW9ucy9ub2RlL3YxMC4xNS4zL2Jpbi9ucG0nLFxuICAgICAgJ25wbSBpbmZvIGl0IHdvcmtlZCBpZiBpdCBlbmRzIHdpdGggb2snLFxuICAgICAgJ25wbSBpbmZvIHVzaW5nIG5wbUA2LjQuMScsXG4gICAgICAnbnBtIGluZm8gdXNpbmcgbm9kZUB2MTAuMTUuMycsXG5cbiAgICAgIGA8cHJlPlVzYWdlOiBucG0gPGNvbW1hbmQ+XG5cbndoZXJlIDxjb21tYW5kPiBpcyBvbmUgb2Y6XG4gICAgYWNjZXNzLCBhZGR1c2VyLCBhdWRpdCwgYmluLCBidWdzLCBjLCBjYWNoZSwgY2ksIGNpdCxcbiAgICBjb21wbGV0aW9uLCBjb25maWcsIGNyZWF0ZSwgZGRwLCBkZWR1cGUsIGRlcHJlY2F0ZSxcbiAgICBkaXN0LXRhZywgZG9jcywgZG9jdG9yLCBlZGl0LCBleHBsb3JlLCBnZXQsIGhlbHAsXG4gICAgaGVscC1zZWFyY2gsIGhvb2ssIGksIGluaXQsIGluc3RhbGwsIGluc3RhbGwtdGVzdCwgaXQsIGxpbmssXG4gICAgbGlzdCwgbG4sIGxvZ2luLCBsb2dvdXQsIGxzLCBvdXRkYXRlZCwgb3duZXIsIHBhY2ssIHBpbmcsXG4gICAgcHJlZml4LCBwcm9maWxlLCBwcnVuZSwgcHVibGlzaCwgcmIsIHJlYnVpbGQsIHJlcG8sIHJlc3RhcnQsXG4gICAgcm9vdCwgcnVuLCBydW4tc2NyaXB0LCBzLCBzZSwgc2VhcmNoLCBzZXQsIHNocmlua3dyYXAsIHN0YXIsXG4gICAgc3RhcnMsIHN0YXJ0LCBzdG9wLCB0LCB0ZWFtLCB0ZXN0LCB0b2tlbiwgdHN0LCB1bixcbiAgICB1bmluc3RhbGwsIHVucHVibGlzaCwgdW5zdGFyLCB1cCwgdXBkYXRlLCB2LCB2ZXJzaW9uLCB2aWV3LFxuICAgIHdob2FtaVxuXG5ucG0gPGNvbW1hbmQ+IC1oICBxdWljayBoZWxwIG9uIDxjb21tYW5kPlxubnBtIC1sICAgICAgICAgICAgZGlzcGxheSBmdWxsIHVzYWdlIGluZm9cbm5wbSBoZWxwIDx0ZXJtPiAgIHNlYXJjaCBmb3IgaGVscCBvbiA8dGVybT5cbm5wbSBoZWxwIG5wbSAgICAgIGludm9sdmVkIG92ZXJ2aWV3XG5cblNwZWNpZnkgY29uZmlncyBpbiB0aGUgaW5pLWZvcm1hdHRlZCBmaWxlOlxuICAgIC9Vc2Vycy9hbGV4Ly5ucG1yY1xub3Igb24gdGhlIGNvbW1hbmQgbGluZSB2aWE6IG5wbSA8Y29tbWFuZD4gLS1rZXkgdmFsdWVcbkNvbmZpZyBpbmZvIGNhbiBiZSB2aWV3ZWQgdmlhOiBucG0gaGVscCBjb25maWdcblxubnBtQDYuNC4xIC9Vc2Vycy9hbGV4Ly5udm0vdmVyc2lvbnMvbm9kZS92MTAuMTUuMy9saWIvbm9kZV9tb2R1bGVzL25wbVxu8J+OgSAvVXNlcnMvYWxleC8ubnZtL3ZlcnNpb25zL25vZGUvdjEwLjE1LjMvYmluL25wbSBleGl0ZWQgd2l0aCBjb2RlIDFcbvCfpLcgTm8gcGFja2FnZS1sb2NrLmpzb24gZm91bmQ8L3ByZT5gXG4gICAgXVxuXG4gICAgc2xvd0xvZyh0LCB7XG4gICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsb2cuc2hpZnQoKVxuICAgICAgfVxuICAgIH0sIDUwLCAyMDAsICgpID0+IHt9KVxuXG4gICAgcmV0dXJuICcnXG4gIH0sXG4gIGFyZ3M6IHtcbiAgICBib29sZWFuOiBbXG4gICAgICAnc2F2ZScsXG4gICAgICAneSdcbiAgICBdXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbWFuZHMvaXBmcy1ucG0vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGZzID0gcmVxdWlyZSgnLi4vLi4vc3lzdGVtL2ZzJylcbmNvbnN0IHVzZXJzID0gcmVxdWlyZSgnLi4vLi4vc3lzdGVtL3VzZXJzJylcbmNvbnN0IHtcbiAgc2xvd0xvZ1xufSA9IHJlcXVpcmUoJy4uLy4uL3V0aWwnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFuZGxlcjogKHQsIGFyZ3MpID0+IHtcbiAgICBjb25zdCBwd2QgPSBmcy5wd2QoKVxuICAgIGNvbnN0IHByb2ogPSBwd2Quc3BsaXQoJy8nKS5wb3AoKVxuXG4gICAgY29uc3QgY29udGVudCA9IGB7XG4gIFwibmFtZVwiOiBcIiR7cHJvan1cIixcbiAgXCJ2ZXJzaW9uXCI6IFwiMS4wLjBcIixcbiAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICBcIm1haW5cIjogXCJpbmRleC5qc1wiLFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwidGVzdFwiOiBcImVjaG8gXFxcXFwiRXJyb3I6IG5vIHRlc3Qgc3BlY2lmaWVkXFxcXFwiICYmIGV4aXQgMVwiXG4gIH0sXG4gIFwia2V5d29yZHNcIjogW10sXG4gIFwiYXV0aG9yXCI6IFwiXCIsXG4gIFwibGljZW5zZVwiOiBcIklTQ1wiXG59YFxuXG4gICAgZnMud3JpdGUoYCR7cHdkfS9wYWNrYWdlLmpzb25gLCBjb250ZW50LCB1c2Vycy5pZHMoJ2FsZXgnKSlcblxuICAgIHJldHVybiBgPHByZT5Xcm90ZSB0byAke3B3ZH0vcGFja2FnZS5qc29uOlxuXG4gICAgJHtjb250ZW50fTwvcHJlPmBcbiAgfSxcbiAgYXJnczoge1xuICAgIGJvb2xlYW46IFtcbiAgICAgICd5J1xuICAgIF1cbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21tYW5kcy9pcGZzLW5wbS9pbml0LmpzXG4vLyBtb2R1bGUgaWQgPSA0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXX0=
