"use strict";!function(n){var i={};function a(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}a.m=n,a.c=i,a.p="",a(0)}([function(e,t,n){n(1);var i=n(2),a=n(3),r=n(4),o=n(5),s=n(6),l=n(7),c=n(8),u=n(9),d=n(10),p=n(11),g=n(13),f=[a(),r(),o(),s(".delayed, .bullet"),l(),c(),u(),d(),p(),g()];try{n(!function(){var e=new Error('Cannot find module "plugins"');throw e.code="MODULE_NOT_FOUND",e}())(f)}catch(e){}var h=i.from("article",f);try{n(!function(){var e=new Error('Cannot find module "deck"');throw e.code="MODULE_NOT_FOUND",e}())(h)}catch(e){}},function(t,e){(function(e){var c=function(c){var u=/\blang(?:uage)?-([\w-]+)\b/i,t=0,L={manual:c.Prism&&c.Prism.manual,disableWorkerMessageHandler:c.Prism&&c.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof C?new C(e.type,L.util.encode(e.content),e.alias):Array.isArray(e)?e.map(L.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function n(e,i){var a,t,r=L.util.type(e);switch(i=i||{},r){case"Object":if(t=L.util.objId(e),i[t])return i[t];for(var o in a={},i[t]=a,e)e.hasOwnProperty(o)&&(a[o]=n(e[o],i));return a;case"Array":return t=L.util.objId(e),i[t]?i[t]:(a=[],i[t]=a,e.forEach(function(e,t){a[t]=n(e,i)}),a);default:return e}}},languages:{extend:function(e,t){var n=L.util.clone(L.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(n,e,t,i){var a=(i=i||L.languages)[n],r={};for(var o in a)if(a.hasOwnProperty(o)){if(o==e)for(var s in t)t.hasOwnProperty(s)&&(r[s]=t[s]);t.hasOwnProperty(o)||(r[o]=a[o])}var l=i[n];return i[n]=r,L.languages.DFS(L.languages,function(e,t){t===l&&e!=n&&(this[e]=r)}),r},DFS:function e(t,n,i,a){a=a||{};var r=L.util.objId;for(var o in t)if(t.hasOwnProperty(o)){n.call(t,o,t[o],i||o);var s=t[o],l=L.util.type(s);"Object"!==l||a[r(s)]?"Array"!==l||a[r(s)]||(a[r(s)]=!0,e(s,n,o,a)):(a[r(s)]=!0,e(s,n,null,a))}}},plugins:{},highlightAll:function(e,t){L.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};L.hooks.run("before-highlightall",i);for(var a,r=i.elements||e.querySelectorAll(i.selector),o=0;a=r[o++];)L.highlightElement(a,!0===t,i.callback)},highlightElement:function(e,t,n){for(var i,a,r=e;r&&!u.test(r.className);)r=r.parentNode;r&&(i=(r.className.match(u)||[,""])[1].toLowerCase(),a=L.languages[i]),e.className=e.className.replace(u,"").replace(/\s+/g," ")+" language-"+i,e.parentNode&&(r=e.parentNode,/pre/i.test(r.nodeName)&&(r.className=r.className.replace(u,"").replace(/\s+/g," ")+" language-"+i));function o(e){s.highlightedCode=e,L.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,L.hooks.run("after-highlight",s),L.hooks.run("complete",s),n&&n.call(s.element)}var s={element:e,language:i,grammar:a,code:e.textContent};if(L.hooks.run("before-sanity-check",s),s.code)if(L.hooks.run("before-highlight",s),s.grammar)if(t&&c.Worker){var l=new Worker(L.filename);l.onmessage=function(e){o(e.data)},l.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else o(L.highlight(s.code,s.grammar,s.language));else o(L.util.encode(s.code));else L.hooks.run("complete",s)},highlight:function(e,t,n){var i={code:e,grammar:t,language:n};return L.hooks.run("before-tokenize",i),i.tokens=L.tokenize(i.code,i.grammar),L.hooks.run("after-tokenize",i),C.stringify(L.util.encode(i.tokens),i.language)},matchGrammar:function(e,t,n,i,a,r,o){for(var s in n)if(n.hasOwnProperty(s)&&n[s]){if(s==o)return;var l=n[s];l="Array"===L.util.type(l)?l:[l];for(var c=0;c<l.length;++c){var u=l[c],d=u.inside,p=!!u.lookbehind,g=!!u.greedy,f=0,h=u.alias;if(g&&!u.pattern.global){var b=u.pattern.toString().match(/[imuy]*$/)[0];u.pattern=RegExp(u.pattern.source,b+"g")}u=u.pattern||u;for(var m=i,v=a;m<t.length;v+=t[m].length,++m){var y=t[m];if(t.length>e.length)return;if(!(y instanceof C)){if(g&&m!=t.length-1){if(u.lastIndex=v,!(E=u.exec(e)))break;for(var k=E.index+(p?E[1].length:0),w=E.index+E[0].length,x=m,F=v,A=t.length;x<A&&(F<w||!t[x].type&&!t[x-1].greedy);++x)(F+=t[x].length)<=k&&(++m,v=F);if(t[m]instanceof C)continue;O=x-m,y=e.slice(v,F),E.index-=v}else{u.lastIndex=0;var E=u.exec(y),O=1}if(E){p&&(f=E[1]?E[1].length:0);w=(k=E.index+f)+(E=E[0].slice(f)).length;var S=y.slice(0,k),N=y.slice(w),j=[m,O];S&&(++m,v+=S.length,j.push(S));var z=new C(s,d?L.tokenize(E,d):E,h,E,g);if(j.push(z),N&&j.push(N),Array.prototype.splice.apply(t,j),1!=O&&L.matchGrammar(e,t,n,m,v,!0,s),r)break}else if(r)break}}}}},tokenize:function(e,t){var n=[e],i=t.rest;if(i){for(var a in i)t[a]=i[a];delete t.rest}return L.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=L.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=L.hooks.all[e];if(n&&n.length)for(var i,a=0;i=n[a++];)i(t)}},Token:C};function C(e,t,n,i,a){this.type=e,this.content=t,this.alias=n,this.length=0|(i||"").length,this.greedy=!!a}if(c.Prism=L,C.stringify=function(t,n,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map(function(e){return C.stringify(e,n,t)}).join("");var i={type:t.type,content:C.stringify(t.content,n,e),tag:"span",classes:["token",t.type],attributes:{},language:n,parent:e};if(t.alias){var a=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(i.classes,a)}L.hooks.run("wrap",i);var r=Object.keys(i.attributes).map(function(e){return e+'="'+(i.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(r?" "+r:"")+">"+i.content+"</"+i.tag+">"},!c.document)return c.addEventListener&&(L.disableWorkerMessageHandler||c.addEventListener("message",function(e){var t=JSON.parse(e.data),n=t.language,i=t.code,a=t.immediateClose;c.postMessage(L.highlight(i,L.languages[n],n)),a&&c.close()},!1)),L;var e=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return e&&(L.filename=e.src,L.manual||e.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(L.highlightAll):window.setTimeout(L.highlightAll,16):document.addEventListener("DOMContentLoaded",L.highlightAll))),L}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});void 0!==t&&t.exports&&(t.exports=c),void 0!==e&&(e.Prism=c),c.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},c.languages.markup.tag.inside["attr-value"].inside.entity=c.languages.markup.entity,c.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(c.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:c.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};i["language-"+t]={pattern:/[\s\S]+/,inside:c.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:i},c.languages.insertBefore("markup","cdata",a)}}),c.languages.xml=c.languages.extend("markup",{}),c.languages.html=c.languages.markup,c.languages.mathml=c.languages.markup,c.languages.svg=c.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+t.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(c),c.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},c.languages.javascript=c.languages.extend("clike",{"class-name":[c.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),c.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,c.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:c.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:c.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:c.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:c.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),c.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:c.languages.javascript}},string:/[\s\S]+/}}}),c.languages.markup&&c.languages.markup.tag.addInlined("script","javascript"),c.languages.js=c.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(e){e=e||document;var l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(e.querySelectorAll("pre[data-src]")).forEach(function(e){if(!e.hasAttribute("data-src-loaded")){for(var t,n=e.getAttribute("data-src"),i=e,a=/\blang(?:uage)?-([\w-]+)\b/i;i&&!a.test(i.className);)i=i.parentNode;if(i&&(t=(e.className.match(a)||[,""])[1]),!t){var r=(n.match(/\.(\w+)$/)||[,""])[1];t=l[r]||r}var o=document.createElement("code");o.className="language-"+t,e.textContent="",o.textContent="Loading…",e.appendChild(o);var s=new XMLHttpRequest;s.open("GET",n,!0),s.onreadystatechange=function(){4==s.readyState&&(s.status<400&&s.responseText?(o.textContent=s.responseText,c.highlightElement(o),e.setAttribute("data-src-loaded","")):400<=s.status?o.textContent="✖ Error "+s.status+" while fetching file: "+s.statusText:o.textContent="✖ Error: File does not exist or is empty")},s.send(null)}}),c.plugins.toolbar&&c.plugins.toolbar.registerButton("download-file",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var n=t.getAttribute("data-src"),i=document.createElement("a");return i.textContent=t.getAttribute("data-download-link-label")||"Download",i.setAttribute("download",""),i.href=n,i}})},document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()}))}).call(e,function(){return this}())},function(e,t){e.exports={from:function(e,t){function i(e,t){r[e]&&(c("deactivate",u(o,t)),o=r[e],c("activate",u(o,t)))}function n(e,t){var n=r.indexOf(o)+e;c(0<e?"next":"prev",u(o,t))&&i(n,t)}var a=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),r=[].filter.call("string"==typeof e.slides?a.querySelectorAll(e.slides):e.slides||a.children,function(e){return"SCRIPT"!==e.nodeName}),o=r[0],s={},l=function(e,t){s[e]=(s[e]||[]).filter(function(e){return e!==t})},c=function(e,n){return(s[e]||[]).reduce(function(e,t){return e&&!1!==t(n)},!0)},u=function(e,t){return(t=t||{}).index=r.indexOf(e),t.slide=e,t},d={on:function(e,t){return(s[e]||(s[e]=[])).push(t),l.bind(null,e,t)},off:l,fire:c,slide:function(e,t){if(!arguments.length)return r.indexOf(o);c("slide",u(r[e],t))&&i(e,t)},next:n.bind(null,1),prev:n.bind(null,-1),parent:a,slides:r};return(t||[]).forEach(function(e){e(d)}),i(0),d}}},function(e,t,n){var i;i=function(){return function i(a,r,o){function s(n,e){if(!r[n]){if(!a[n]){if(l)return l(n,!0);throw new Error("Cannot find module '"+n+"'")}var t=r[n]={exports:{}};a[n][0].call(t.exports,function(e){var t=a[n][1][e];return s(t||e)},t,t.exports,i,a,r,o)}return r[n].exports}for(var l=!1,e=0;e<o.length;e++)s(o[e]);return s}({1:[function(e,t,n){var i=e("bespoke-classes"),a=e("insert-css");t.exports=function(){return a('/*! normalize.css v3.0.0 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:0 0}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b{font-weight:700}dfn{font-style:italic}h1{font-size:2em}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-size:1em}kbd,pre,samp{font-family:monospace,monospace}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th,*{padding:0}*{margin:0}html{-webkit-text-size-adjust:auto;-ms-text-size-adjust:auto;text-size-adjust:auto}.bespoke-parent{font-size:1.5em;background:#111;color:#ddd;font-family:futura,helvetica,arial,arial,sans-serif;overflow:hidden;text-align:center;-webkit-transition:background 1s ease;transition:background 1s ease;background-position:50% 50%}.bespoke-parent,.bespoke-scale-parent{position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-scale-parent{pointer-events:none;z-index:1}.bespoke-scale-parent .bespoke-active{pointer-events:auto}.bespoke-slide{-webkit-transition:opacity .5s ease;transition:opacity .5s ease;width:940px;height:480px;position:absolute;top:50%;left:50%;margin-left:-470px;margin-top:-240px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:1}.bespoke-active{-webkit-transition-delay:.5s;transition-delay:.5s}.bespoke-active[data-bespoke-backdrop]{-webkit-transition-delay:.75s;transition-delay:.75s}.bespoke-inactive{opacity:0;pointer-events:none}.bespoke-backdrop{-webkit-transition:opacity 1s ease;position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-progress-parent{position:absolute;top:0;left:0;right:0;height:.3vw;z-index:1}.bespoke-progress-bar{background:#ddd;position:absolute;top:0;left:0;height:100%;-webkit-transition:width 1s ease;transition:width 1s ease}.bespoke-bullet{-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.bespoke-bullet-inactive{opacity:0}strong{font-weight:400}hr{width:50%;margin:1rem auto;height:1px;border:0;background:#ddd}h3,p,li{padding-left:20px;padding-right:20px}h3,h4,p,li,pre{font-weight:200}h1{line-height:1.4em;padding:1em;border:1px solid #ddd;border-left-width:0;border-right-width:0;min-width:8em}h1,h2{letter-spacing:.3em;text-transform:uppercase;font-weight:400;margin:.17em 0;position:relative}h2{line-height:1.1em;padding:0 0 0 .3em}h3{font-family:didot,times new roman,serif;font-style:italic;font-size:1.2em;line-height:1.6em;margin:.5em 0}h4{text-transform:uppercase;font-size:.8em;line-height:1.8em;letter-spacing:.3em;margin:1em 0}ul,ol{padding:0;margin:0;text-align:left}li{list-style:none;margin:.2em;font-style:normal;-webkit-transform:translateX(-6px);-ms-transform:translateX(-6px);transform:translateX(-6px)}li:before{content:\'\\2014\';margin-right:4px}pre{background:none!important}code{font-family:prestige elite std,consolas,courier new,monospace!important;font-style:normal;font-weight:200!important;text-align:left}a{padding-left:.3em;color:currentColor;text-decoration:none;border-bottom:1px solid currentColor}.emphatic{background:#f30}.single-words{word-spacing:9999px;line-height:2.9em;overflow:hidden}.bespoke-backdrop{opacity:0;-webkit-transition:opacity 1s ease,-webkit-transform 6s ease;transition:opacity 1s ease,transform 6s ease;background-size:cover;background-position:50% 50%;-webkit-transform:translateZ(0)scale(1.3);transform:translateZ(0)scale(1.3)}.bespoke-backdrop-active,.bespoke-backdrop-before{-webkit-transform:translateZ(0);transform:translateZ(0)}.bespoke-backdrop-before{-webkit-transition-delay:.2s;transition-delay:.2s}.bespoke-backdrop-active{opacity:.5}',{prepend:!0}),function(e){i()(e)}}},{"bespoke-classes":2,"insert-css":3}],2:[function(e,t,n){t.exports=function(){return function(r){function o(e,t){e.classList.add("bespoke-"+t)}function s(e,t){e.className=e.className.replace(new RegExp("bespoke-"+t+"(\\s|$)","g")," ").trim()}function t(e,t){var n=r.slides[r.slide()],i=t-r.slide(),a=0<i?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(s.bind(null,e)),e!==n&&["inactive",a,a+"-"+Math.abs(i)].map(o.bind(null,e))}o(r.parent,"parent"),r.slides.map(function(e){o(e,"slide")}),r.on("activate",function(e){r.slides.map(t),o(e.slide,"active"),s(e.slide,"inactive")})}}},{}],3:[function(e,t,n){var a={};t.exports=function(e,t){if(!a[e]){a[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var i=document.getElementsByTagName("head")[0];t&&t.prepend?i.insertBefore(n,i.childNodes[0]):i.appendChild(n)}}},{}]},{},[1])(1)},e.exports=i()},function(e,t){e.exports=function(e){return function(t){var n="vertical"!==e;document.addEventListener("keydown",function(e){(34==e.which||32==e.which&&!e.shiftKey||n&&39==e.which||!n&&40==e.which)&&t.next(),(33==e.which||32==e.which&&e.shiftKey||n&&37==e.which||!n&&38==e.which)&&t.prev()})}}},function(e,t){e.exports=function(a){return function(e){var t,n,i="vertical"==a?"Y":"X";e.parent.addEventListener("touchstart",function(e){1==e.touches.length&&(t=e.touches[0]["page"+i],n=0)}),e.parent.addEventListener("touchmove",function(e){1==e.touches.length&&(e.preventDefault(),n=e.touches[0]["page"+i]-t)}),e.parent.addEventListener("touchend",function(){50<Math.abs(n)&&e[0<n?"prev":"next"]()})}}},function(e,t){e.exports=function(o){return function(e){var t,n,r=e.slides.map(function(e){return[].slice.call(e.querySelectorAll("string"==typeof o?o:"[data-bespoke-bullet]"),0)}),i=function(i,a){t=i,n=a,r.forEach(function(e,n){e.forEach(function(e,t){e.classList.add("bespoke-bullet"),n<i||n===i&&t<=a?(e.classList.add("bespoke-bullet-active"),e.classList.remove("bespoke-bullet-inactive")):(e.classList.add("bespoke-bullet-inactive"),e.classList.remove("bespoke-bullet-active")),n===i&&t===a?e.classList.add("bespoke-bullet-current"):e.classList.remove("bespoke-bullet-current")})})},a=function(e){return void 0!==r[t][n+e]};e.on("next",function(){var e=t+1;if(a(1))return i(t,n+1),!1;r[e]&&i(e,0)}),e.on("prev",function(){var e=t-1;if(a(-1))return i(t,n-1),!1;r[e]&&i(e,r[e].length-1)}),e.on("slide",function(e){i(e.index,0)}),i(0,0)}}},function(e,t){e.exports=function(){return function(i){var a;function e(e){if(e){var t=a.indexOf(e),n=i.slide();r(e,"active"),r(e,"inactive"),r(e,"before"),r(e,"after"),t!==n?(o(e,"inactive"),o(e,t<n?"before":"after")):o(e,"active")}}function r(e,t){e.classList.remove("bespoke-backdrop-"+t)}function o(e,t){e.classList.add("bespoke-backdrop-"+t)}a=i.slides.map(function(e){var t=e.getAttribute("data-bespoke-backdrop");if(t){var n=document.createElement("div");return n.className=t,n.classList.add("bespoke-backdrop"),i.parent.appendChild(n),n}}),i.on("activate",function(){a.forEach(e)})}}},function(e,t){e.exports=function(d){return function(e){function t(){var e=i.offsetWidth/o,t=i.offsetHeight/r;l.forEach(u.bind(null,Math.min(e,t)))}var n,i=e.parent,a=e.slides[0],r=a.offsetHeight,o=a.offsetWidth,s="zoom"===d||"zoom"in i.style&&"transform"!==d,l=s?e.slides:e.slides.map(function(e){var t=document.createElement("div");return t.className="bespoke-scale-parent",e.parentNode.insertBefore(t,e),t.appendChild(e),t}),c=(n="Transform","Moz Webkit O ms".split(" ").reduce(function(e,t){return t+n in i.style?t+n:e},n.toLowerCase())),u=s?function(e,t){t.style.zoom=e}:function(e,t){t.style[c]="scale("+e+")"};window.addEventListener("resize",t),t()}}},function(e,t){e.exports=function(){return function(i){function a(e){var t=-1<e&&e<i.slides.length?e:0;t!==i.slide()&&i.slide(t)}function e(){var n=window.location.hash.slice(1),e=parseInt(n,10);n&&(e?a(e-1):i.slides.forEach(function(e,t){e.getAttribute("data-bespoke-hash")!==n&&e.id!==n||a(t)}))}setTimeout(function(){e(),i.on("activate",function(e){var t=e.slide.getAttribute("data-bespoke-hash")||e.slide.id;window.location.hash=t||e.index+1}),window.addEventListener("hashchange",e)},0)}}},function(e,t){e.exports=function(a){return function(t){var e=document.createElement("div"),n=document.createElement("div"),i="vertical"===a?"height":"width";e.className="bespoke-progress-parent",n.className="bespoke-progress-bar",e.appendChild(n),t.parent.appendChild(e),t.on("activate",function(e){n.style[i]=100*e.index/(t.slides.length-1)+"%"})}}},function(e,t,n){var i=Function("return this")(),r=(i.bespoke&&i.bespoke.plugins&&i.bespoke.plugins.convenient||n(12)).builder("indexfinger");e.exports=function(e){return function(e){r.activateDeck(e);var t={},n=null,i=-1,a={enableActiveSlideListener:function(){t.saveActiveSlide=this.on("activate",a.saveActiveSlide.bind(this))},saveActiveSlide:function(e){n=e.slide,i=e.index},getActiveSlide:function(){return n},getActiveSlideIndex:function(){return i}};e.getActiveSlide=a.getActiveSlide.bind(e),e.getActiveSlideIndex=a.getActiveSlideIndex.bind(e),a.enableActiveSlideListener.call(e)}}},function(e,t){function l(e){!function(t){if(!t)throw c.generateErrorObject("deck must be defined.");return a.some(function(e){return e.deck===t})}(e)&&a.push({deck:e,storage:{}})}var c,n,u=Function("return this")(),i={logger:{log:function(){console.log.apply(console,arguments)}}},d={},a=[];d.builder=function(t){if(!t)throw c.generateErrorObject("The plugin options were not properly defined.");if("string"==typeof t&&(t={pluginName:t}),"string"!=typeof t.pluginName)throw c.generateErrorObject("The plugin name was not properly defined.");function r(e,t,n,i,a,r){return d.createEventData.call(e,t,n,i,a,r)}function e(e,t,n,i,a){return e.fire(function(e){return s+"."+e}(t),r(e,s,t,n,i,a))}function n(e){if(function(e,t){if(!e)throw c.generateErrorObject("pluginName must be defined.");if(!t)throw c.generateErrorObject("deck must be defined.");var n=d.getDeckStorage(t);return!(!n||!n[e])}(t.pluginName,e))throw c.generateErrorObject("The '"+t.pluginName+"' plugin has already been activated for this deck, can't activate it twice.")}function i(e){return n(e),function(e,t){if(!e)throw c.generateErrorObject("pluginName must be defined.");if(!t)throw c.generateErrorObject("deck must be defined.");var n=d.getDeckStorage(t);n||(l(t),n=d.getDeckStorage(t)),n[e]={}}(t.pluginName,e),function(e){var t={};return t.createEventData=a.createEventData.bind(this,e),t.fire=a.fire.bind(this,e),t.getStorage=a.getStorage.bind(this,e),t.log=a.log.bind(this,e),t}(e)}var a={},o="bespoke."+t.pluginName,s=t.pluginName;return function(){a.createEventData=r.bind(this),a.generateErrorObject=function(e){return new Error(o+": "+e)}.bind(this),a.fire=e.bind(this),a.log=function(){var e=[o];u.convenientOptions.logger.log.apply(u.convenientOptions.logger.log,e.concat(d.copyArray(arguments)))}.bind(this),a.activateDeck=i.bind(this),a.getStorage=d.getDeckPluginStorage.bind(this,t.pluginName)}(),a},d.getDeckStorage=function(t){if(!t)throw c.generateErrorObject("deck must be defined.");var n=null;return a.some(function(e){return e.deck===t&&(n=e.storage,!0)}),n},d.getDeckPluginStorage=function(e,t){if(!e)throw c.generateErrorObject("pluginName must be defined.");if(!t)throw c.generateErrorObject("deck must be defined.");var n=d.getDeckStorage(t);if(!n)throw c.generateErrorObject("storage was not initiated for this deck.");return n[e]},d.createEventData=function(e,t,n,i,a){return(a=a||{}).eventNamespace=e||null,a.eventName=t||null,a.innerEvent=n||null,!function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(i)?(a.index=this.slides.indexOf(i),a.slide=i):(a.index=i,a.slide=this.slides[i]),a},d.copyArray=function(e){return[].slice.call(e,0)},c=d.builder("convenient"),(n={logger:{}}).logger.log=u.convenientOptions&&u.convenientOptions.logger&&u.convenientOptions.logger.log||i.logger.log,u.convenientOptions=n,e.exports=d},function(e,t,n){function c(){return"secondary-window-"+function(e,t){var n;return void 0===t&&(t=e,e=0),n=t-e,e+Math.floor(Math.random()*n)}(1e3,1e4)}var i="secondary",a=Function("return this")(),u=a.bespoke&&a.bespoke.plugins&&a.bespoke.plugins.convenient||n(12),d=u.builder(i),p=(a.bespoke&&a.bespoke.plugins&&a.bespoke.plugins.indexfinger||n(11),{notes:"aside",keys:{toggle:83}});e.exports=function(l){return function(n){function e(e){var t=!1;return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||(t=t||e.which===l.keys.toggle&&r.fire("toggle",e)&&n.secondary.toggle()&&n.secondary.synchronize()),t&&e.preventDefault(),!t}function t(){return n.secondary.close(),null}function i(){n.secondary.synchronize()}var a,r=d.activateDeck(n),o={},s={getNotesElement:function(){return this.secondary.window&&this.secondary.window.document&&this.secondary.window.document.getElementById("notes")},isOpen:function(){var e=this.secondary,t=e.window;return!(void 0===e||null===t||!0===t.closed||t.opener!==window||null===this.secondary.getNotesElement())},open:function(){return this.secondary.isOpen()||(this.secondary.window=window.open(),function(e){e.body.innerHTML="<h1>Notes</h1><div id='notes'></div>"}(this.secondary.window.document)),this.secondary.isOpen()},close:function(){return this.secondary.isOpen()&&this.secondary.window.close(),!this.secondary.isOpen()},focus:function(){return this.secondary.isOpen()&&this.secondary.window.focus(),this.secondary.isOpen()},toggle:function(){return this.secondary.isOpen()?this.secondary.close():this.secondary.open(),this.secondary.isOpen()},synchronize:function(){var e,t,n;return!!this.secondary.isOpen()&&(e=this.secondary.getNotesElement(),t=this.getActiveSlide(),n=u.copyArray(t.querySelectorAll(l.notes)).reduce(function(e,t){return e+t.outerHTML},""),e.innerHTML=n,this.secondary.isOpen())}};l=l||{},(a={}).keys={},a.keys.toggle=l.keys&&l.keys.toggle||p.keys.toggle,a.notes=l.notes||p.notes,l=a,n.secondary={window:null,secondaryWindowName:c(),getNotesElement:s.getNotesElement.bind(n),isOpen:s.isOpen.bind(n),open:s.open.bind(n),close:s.close.bind(n),focus:s.focus.bind(n),toggle:s.toggle.bind(n),synchronize:s.synchronize.bind(n)},window.onbeforeunload=t,document.addEventListener("keydown",e,!1),o.activate=n.on("activate",i)}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlcy5qcyIsIndlYnBhY2svYm9vdHN0cmFwIDRlYWYxNDhmODRhZDEzMTMwYTBiIiwibm9kZV9tb2R1bGVzL0BhY2hpbmdicmFpbi9zbGlkZXMvdGVtcC9zbGlkZXMuanMiLCJub2RlX21vZHVsZXMvcHJpc21qcy9wcmlzbS5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlL2xpYi9iZXNwb2tlLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtdGhlbWUtbmVidWxhL2Rpc3QvYmVzcG9rZS10aGVtZS1uZWJ1bGEuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1rZXlzL2xpYi9iZXNwb2tlLWtleXMuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS10b3VjaC9saWIvYmVzcG9rZS10b3VjaC5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWJ1bGxldHMvbGliL2Jlc3Bva2UtYnVsbGV0cy5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWJhY2tkcm9wL2xpYi9iZXNwb2tlLWJhY2tkcm9wLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2Utc2NhbGUvbGliL2Jlc3Bva2Utc2NhbGUuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1oYXNoL2xpYi9iZXNwb2tlLWhhc2guanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1wcm9ncmVzcy9saWIvYmVzcG9rZS1wcm9ncmVzcy5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWluZGV4ZmluZ2VyL2xpYi9iZXNwb2tlLWluZGV4ZmluZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtY29udmVuaWVudC9saWIvYmVzcG9rZS1jb252ZW5pZW50LmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2Utc2Vjb25kYXJ5L2xpYi9iZXNwb2tlLXNlY29uZGFyeS5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJiZXNwb2tlIiwidGhlbWUiLCJrZXlzIiwidG91Y2giLCJidWxsZXRzIiwiYmFja2Ryb3AiLCJzY2FsZSIsImhhc2giLCJwcm9ncmVzcyIsImluZGV4RmluZ2VyIiwic2Vjb25kYXJ5IiwicGx1Z2lucyIsImUiLCJFcnJvciIsImNvZGUiLCJlcnJvciIsImRlY2siLCJmcm9tIiwiUHJpc20iLCJfc2VsZiIsImxhbmciLCJ1bmlxdWVJZCIsIl8iLCJtYW51YWwiLCJkaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXIiLCJ1dGlsIiwiZW5jb2RlIiwidG9rZW5zIiwiVG9rZW4iLCJ0eXBlIiwiY29udGVudCIsImFsaWFzIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwicmVwbGFjZSIsIm8iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsInNsaWNlIiwib2JqSWQiLCJvYmoiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiY2xvbmUiLCJkZWVwQ2xvbmUiLCJ2aXNpdGVkIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJmb3JFYWNoIiwidiIsImkiLCJsYW5ndWFnZXMiLCJleHRlbmQiLCJyZWRlZiIsImluc2VydEJlZm9yZSIsImluc2lkZSIsImJlZm9yZSIsImluc2VydCIsInJvb3QiLCJncmFtbWFyIiwicmV0IiwidG9rZW4iLCJuZXdUb2tlbiIsIm9sZCIsIkRGUyIsInRoaXMiLCJjYWxsYmFjayIsInByb3BlcnR5IiwicHJvcGVydHlUeXBlIiwiaGlnaGxpZ2h0QWxsIiwiYXN5bmMiLCJoaWdobGlnaHRBbGxVbmRlciIsImRvY3VtZW50IiwiY29udGFpbmVyIiwiZW52Iiwic2VsZWN0b3IiLCJob29rcyIsInJ1biIsImVsZW1lbnQiLCJlbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoaWdobGlnaHRFbGVtZW50IiwibGFuZ3VhZ2UiLCJwYXJlbnQiLCJ0ZXN0IiwiY2xhc3NOYW1lIiwicGFyZW50Tm9kZSIsIm1hdGNoIiwidG9Mb3dlckNhc2UiLCJub2RlTmFtZSIsImluc2VydEhpZ2hsaWdodGVkQ29kZSIsImhpZ2hsaWdodGVkQ29kZSIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiV29ya2VyIiwid29ya2VyIiwiZmlsZW5hbWUiLCJvbm1lc3NhZ2UiLCJldnQiLCJkYXRhIiwicG9zdE1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwiaW1tZWRpYXRlQ2xvc2UiLCJoaWdobGlnaHQiLCJ0ZXh0IiwidG9rZW5pemUiLCJtYXRjaEdyYW1tYXIiLCJzdHJhcnIiLCJpbmRleCIsInN0YXJ0UG9zIiwib25lc2hvdCIsInRhcmdldCIsInBhdHRlcm5zIiwiaiIsImxlbmd0aCIsInBhdHRlcm4iLCJsb29rYmVoaW5kIiwiZ3JlZWR5IiwibG9va2JlaGluZExlbmd0aCIsImdsb2JhbCIsImZsYWdzIiwiUmVnRXhwIiwic291cmNlIiwicG9zIiwic3RyIiwibGFzdEluZGV4IiwiZXhlYyIsInRvIiwiayIsImxlbiIsImRlbE51bSIsImFmdGVyIiwiYXJncyIsInB1c2giLCJ3cmFwcGVkIiwic3BsaWNlIiwiYXBwbHkiLCJyZXN0IiwiYWxsIiwiYWRkIiwibmFtZSIsImNhbGxiYWNrcyIsIm1hdGNoZWRTdHIiLCJqb2luIiwidGFnIiwiY2xhc3NlcyIsImF0dHJpYnV0ZXMiLCJhbGlhc2VzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1lc3NhZ2UiLCJwYXJzZSIsImNsb3NlIiwic2NyaXB0IiwiY3VycmVudFNjcmlwdCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicG9wIiwic3JjIiwiaGFzQXR0cmlidXRlIiwicmVhZHlTdGF0ZSIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiLCJXb3JrZXJHbG9iYWxTY29wZSIsInNlbGYiLCJtYXJrdXAiLCJjb21tZW50IiwicHJvbG9nIiwiZG9jdHlwZSIsImNkYXRhIiwicHVuY3R1YXRpb24iLCJuYW1lc3BhY2UiLCJhdHRyLXZhbHVlIiwiYXR0ci1uYW1lIiwiZW50aXR5IiwidGFnTmFtZSIsImluY2x1ZGVkQ2RhdGFJbnNpZGUiLCJpbmNsdWRlZC1jZGF0YSIsImRlZiIsInhtbCIsImh0bWwiLCJtYXRobWwiLCJzdmciLCJzdHJpbmciLCJjc3MiLCJhdHJ1bGUiLCJydWxlIiwidXJsIiwiaW1wb3J0YW50IiwiZnVuY3Rpb24iLCJhZGRJbmxpbmVkIiwic3R5bGUtYXR0ciIsImNsaWtlIiwiY2xhc3MtbmFtZSIsImtleXdvcmQiLCJib29sZWFuIiwibnVtYmVyIiwib3BlcmF0b3IiLCJqYXZhc2NyaXB0IiwicmVnZXgiLCJmdW5jdGlvbi12YXJpYWJsZSIsInBhcmFtZXRlciIsImNvbnN0YW50IiwidGVtcGxhdGUtc3RyaW5nIiwiaW50ZXJwb2xhdGlvbiIsImludGVycG9sYXRpb24tcHVuY3R1YXRpb24iLCJqcyIsInF1ZXJ5U2VsZWN0b3IiLCJmaWxlSGlnaGxpZ2h0IiwiRXh0ZW5zaW9ucyIsInB5IiwicmIiLCJwczEiLCJwc20xIiwic2giLCJiYXQiLCJoIiwidGV4IiwicHJlIiwiZ2V0QXR0cmlidXRlIiwiZXh0ZW5zaW9uIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25yZWFkeXN0YXRlY2hhbmdlIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0Iiwic2V0QXR0cmlidXRlIiwic3RhdHVzVGV4dCIsInNlbmQiLCJ0b29sYmFyIiwicmVnaXN0ZXJCdXR0b24iLCJhIiwiaHJlZiIsIm9wdHMiLCJhY3RpdmF0ZSIsImN1c3RvbURhdGEiLCJzbGlkZXMiLCJmaXJlIiwiY3JlYXRlRXZlbnREYXRhIiwiYWN0aXZlU2xpZGUiLCJzdGVwIiwib2Zmc2V0Iiwic2xpZGVJbmRleCIsImluZGV4T2YiLCJub2RlVHlwZSIsImZpbHRlciIsImNoaWxkcmVuIiwiZWwiLCJsaXN0ZW5lcnMiLCJvZmYiLCJldmVudE5hbWUiLCJsaXN0ZW5lciIsImV2ZW50RGF0YSIsInJlZHVjZSIsIm5vdENhbmNlbGxlZCIsInNsaWRlIiwib24iLCJiaW5kIiwiYXJndW1lbnRzIiwibmV4dCIsInByZXYiLCJwbHVnaW4iLCJ0IiwibiIsInIiLCJzIiwidSIsImYiLCIxIiwiX2RlcmVxXyIsImluc2VydENzcyIsInByZXBlbmQiLCJiZXNwb2tlLWNsYXNzZXMiLCJpbnNlcnQtY3NzIiwiMiIsImFkZENsYXNzIiwiY2xzIiwiY2xhc3NMaXN0IiwicmVtb3ZlQ2xhc3MiLCJ0cmltIiwiZGVhY3RpdmF0ZSIsIm9mZnNldENsYXNzIiwiTWF0aCIsImFicyIsIjMiLCJpbnNlcnRlZCIsIm9wdGlvbnMiLCJlbGVtIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJoZWFkIiwiY2hpbGROb2RlcyIsImlzSG9yaXpvbnRhbCIsIndoaWNoIiwic2hpZnRLZXkiLCJzdGFydFBvc2l0aW9uIiwiZGVsdGEiLCJheGlzIiwidG91Y2hlcyIsInByZXZlbnREZWZhdWx0IiwiYWN0aXZlU2xpZGVJbmRleCIsImFjdGl2ZUJ1bGxldEluZGV4IiwiYWN0aXZhdGVCdWxsZXQiLCJidWxsZXRJbmRleCIsImJ1bGxldCIsImIiLCJyZW1vdmUiLCJhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0IiwidW5kZWZpbmVkIiwibmV4dFNsaWRlSW5kZXgiLCJwcmV2U2xpZGVJbmRleCIsImJhY2tkcm9wcyIsInVwZGF0ZUNsYXNzZXMiLCJjdXJyZW50SW5kZXgiLCJiYWNrZHJvcEF0dHJpYnV0ZSIsInNjYWxlQWxsIiwieFNjYWxlIiwib2Zmc2V0V2lkdGgiLCJzbGlkZVdpZHRoIiwieVNjYWxlIiwib2Zmc2V0SGVpZ2h0Iiwic2xpZGVIZWlnaHQiLCJtaW4iLCJmaXJzdFNsaWRlIiwidXNlWm9vbSIsInN0eWxlIiwid3JhcHBlciIsInRyYW5zZm9ybVByb3BlcnR5Iiwic3BsaXQiLCJjdXJyZW50UHJvcGVydHkiLCJwcmVmaXgiLCJyYXRpbyIsInpvb20iLCJwcmVmaXhlcyIsImFjdGl2YXRlU2xpZGUiLCJpbmRleFRvQWN0aXZhdGUiLCJwYXJzZUhhc2giLCJsb2NhdGlvbiIsInNsaWRlTnVtYmVyT3JOYW1lIiwicGFyc2VJbnQiLCJzbGlkZU5hbWUiLCJwcm9ncmVzc1BhcmVudCIsInByb2dyZXNzQmFyIiwicHJvcCIsImJyb3dzZXJHbG9iYWwiLCJGdW5jdGlvbiIsImN2IiwiY29udmVuaWVudCIsImJ1aWxkZXIiLCJhY3RpdmF0ZURlY2siLCJ1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcyIsImVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXIiLCJzYXZlQWN0aXZlU2xpZGUiLCJnZXRBY3RpdmVTbGlkZSIsImdldEFjdGl2ZVNsaWRlSW5kZXgiLCJzdG9yZURlY2siLCJnZW5lcmF0ZUVycm9yT2JqZWN0IiwiZGVja3NTdG9yYWdlcyIsInNvbWUiLCJkZWNrU3RvcmFnZSIsImlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrIiwic3RvcmFnZSIsIm1lcmdlZCIsImRlZmF1bHRzIiwibG9nZ2VyIiwibG9nIiwiY29uc29sZSIsInBsdWdpbk5hbWUiLCJldmVudE5hbWVzcGFjZSIsImlubmVyRXZlbnQiLCJldmVudEluTmFtZXNwYWNlIiwidGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrIiwiZ2V0RGVja1N0b3JhZ2UiLCJpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbiIsImluaXRpYXRlRGVja1BsdWdpblN0b3JhZ2UiLCJkZWNrQm91bmQiLCJleHRlcm5hbCIsImdldFN0b3JhZ2UiLCJiaW5kVG9EZWNrIiwiY29udmVuaWVudE9wdGlvbnMiLCJjb25jYXQiLCJjb3B5QXJyYXkiLCJnZXREZWNrUGx1Z2luU3RvcmFnZSIsImJpbmRFeHRlcm5hbCIsImlzTmFOIiwicGFyc2VGbG9hdCIsImlzRmluaXRlIiwiaXNOdW1iZXIiLCJhcnIiLCJnZW5lcmF0ZVdpbmRvd05hbWUiLCJkaWZmIiwiZmxvb3IiLCJyYW5kb20iLCJyYW5kb21JbnRlZ2VyIiwiaW5kZXhmaW5nZXIiLCJub3RlcyIsInRvZ2dsZSIsImtleURvd25MaXN0ZW5lciIsImV2ZW50SGFuZGxlZCIsImFsdEtleSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiY3ZCb3VuZFRvRGVjayIsInN5bmNocm9uaXplIiwib25CZWZvcmVVbmxvYWQiLCJvbkFjdGl2YXRlIiwidW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzIiwiZ2V0Tm90ZXNFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpc09wZW4iLCJ3IiwiY2xvc2VkIiwib3BlbmVyIiwiZG9jIiwiYm9keSIsImluaXRpYWxpemVTZWNvbmRhcnlXaW5kb3dDb250ZW50cyIsImZvY3VzIiwiYWxsTm90ZXMiLCJub3Rlc0h0bWwiLCJzbGlkZU5vdGUiLCJvdXRlckhUTUwiLCJzZWNvbmRhcnlXaW5kb3dOYW1lIiwib25iZWZvcmV1bmxvYWQiXSwibWFwcGluZ3MiOiJjQUFTLFNBQVVBLEdDQ25CLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FDLFFBQUEsR0FDQUUsR0FBQUgsRUFDQUksUUFBQSxHQVVBLE9BTkFQLEVBQUFHLEdBQUFLLEtBQUFILEVBQUFELFFBQUFDLEVBQUFBLEVBQUFELFFBQUFGLEdBR0FHLEVBQUFFLFFBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQU8sRUFBQVQsRUFHQUUsRUFBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFBQSxHQUdBVCxFQUFBLEdEdENTLENDY1QsQ0FDQSxTQUFBRyxFQUFBRCxFQUFBRixHQ2ZBQSxFQUFBLEdBQ0EsSUFBQVUsRUFBQVYsRUFBQSxHQUNBVyxFQUFBWCxFQUFBLEdBQ0FZLEVBQUFaLEVBQUEsR0FDQWEsRUFBQWIsRUFBQSxHQUNBYyxFQUFBZCxFQUFBLEdBQ0FlLEVBQUFmLEVBQUEsR0FDQWdCLEVBQUFoQixFQUFBLEdBQ0FpQixFQUFBakIsRUFBQSxHQUNBa0IsRUFBQWxCLEVBQUEsSUFDQW1CLEVBQUFuQixFQUFBLElB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N0csRUFBQTZHLE9BQUFoQyxFQUFBZ0MsTUFFQTdHLEVBQUE0RSxFQXpCQS9WLEVBQUFOLFVBQUEsQ0FDQXdKLE9BQUEsS0FDQXdRLG9CQUFBaEMsSUFDQWtCLGdCQUFBRCxFQUFBQyxnQkFBQXRKLEtBQUF0UCxHQUNBOFksT0FBQUgsRUFBQUcsT0FBQXhKLEtBQUF0UCxHQUNBbU4sS0FBQXdMLEVBQUF4TCxLQUFBbUMsS0FBQXRQLEdBQ0EwSSxNQUFBaVEsRUFBQWpRLE1BQUE0RyxLQUFBdFAsR0FDQXFaLE1BQUFWLEVBQUFVLE1BQUEvSixLQUFBdFAsR0FDQWlZLE9BQUFVLEVBQUFWLE9BQUEzSSxLQUFBdFAsR0FDQXdZLFlBQUFHLEVBQUFILFlBQUFsSixLQUFBdFAsSUE4Q0FrSixPQUFBeVEsZUFBQWxCLEVBRUEvVSxTQUFBNkUsaUJBQUEsVUFBQTJQLEdBQUEsR0FDQXBKLEVBQUFmLFNBQUEvTixFQUFBcVAsR0FBQSxXQUFBcUoiLCJmaWxlIjoic2xpZGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKVxuXHRjb25zdCBiZXNwb2tlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKVxuXHRjb25zdCB0aGVtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMylcblx0Y29uc3Qga2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNClcblx0Y29uc3QgdG91Y2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpXG5cdGNvbnN0IGJ1bGxldHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpXG5cdGNvbnN0IGJhY2tkcm9wID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KVxuXHRjb25zdCBzY2FsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOClcblx0Y29uc3QgaGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0Y29uc3QgcHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHRjb25zdCBpbmRleEZpbmdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpXG5cdGNvbnN0IHNlY29uZGFyeSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpXG5cdFxuXHR2YXIgcGx1Z2lucyA9IFtcblx0ICB0aGVtZSgpLFxuXHQgIGtleXMoKSxcblx0ICB0b3VjaCgpLFxuXHQgIGJ1bGxldHMoJy5kZWxheWVkLCAuYnVsbGV0JyksXG5cdCAgYmFja2Ryb3AoKSxcblx0ICBzY2FsZSgpLFxuXHQgIGhhc2goKSxcblx0ICBwcm9ncmVzcygpLFxuXHQgIGluZGV4RmluZ2VyKCksXG5cdCAgc2Vjb25kYXJ5KClcblx0XVxuXHRcblx0dHJ5IHtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCJwbHVnaW5zXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKShwbHVnaW5zKVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcblx0fVxuXHRcblx0dmFyIGRlY2sgPSBiZXNwb2tlLmZyb20oJ2FydGljbGUnLCBwbHVnaW5zKVxuXHRcblx0dHJ5IHtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCJkZWNrXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKShkZWNrKVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcblx0fVxuXG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHtcblx0LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgICAgIEJlZ2luIHByaXNtLWNvcmUuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0dmFyIF9zZWxmID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuXHRcdD8gd2luZG93ICAgLy8gaWYgaW4gYnJvd3NlclxuXHRcdDogKFxuXHRcdFx0KHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlKVxuXHRcdFx0PyBzZWxmIC8vIGlmIGluIHdvcmtlclxuXHRcdFx0OiB7fSAgIC8vIGlmIGluIG5vZGUganNcblx0XHQpO1xuXHRcblx0LyoqXG5cdCAqIFByaXNtOiBMaWdodHdlaWdodCwgcm9idXN0LCBlbGVnYW50IHN5bnRheCBoaWdobGlnaHRpbmdcblx0ICogTUlUIGxpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAvXG5cdCAqIEBhdXRob3IgTGVhIFZlcm91IGh0dHA6Ly9sZWEudmVyb3UubWVcblx0ICovXG5cdFxuXHR2YXIgUHJpc20gPSAoZnVuY3Rpb24gKF9zZWxmKXtcblx0XG5cdC8vIFByaXZhdGUgaGVscGVyIHZhcnNcblx0dmFyIGxhbmcgPSAvXFxibGFuZyg/OnVhZ2UpPy0oW1xcdy1dKylcXGIvaTtcblx0dmFyIHVuaXF1ZUlkID0gMDtcblx0XG5cdHZhciBfID0ge1xuXHRcdG1hbnVhbDogX3NlbGYuUHJpc20gJiYgX3NlbGYuUHJpc20ubWFudWFsLFxuXHRcdGRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcjogX3NlbGYuUHJpc20gJiYgX3NlbGYuUHJpc20uZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyLFxuXHRcdHV0aWw6IHtcblx0XHRcdGVuY29kZTogZnVuY3Rpb24gKHRva2Vucykge1xuXHRcdFx0XHRpZiAodG9rZW5zIGluc3RhbmNlb2YgVG9rZW4pIHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFRva2VuKHRva2Vucy50eXBlLCBfLnV0aWwuZW5jb2RlKHRva2Vucy5jb250ZW50KSwgdG9rZW5zLmFsaWFzKTtcblx0XHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRva2VucykpIHtcblx0XHRcdFx0XHRyZXR1cm4gdG9rZW5zLm1hcChfLnV0aWwuZW5jb2RlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gdG9rZW5zLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoL1xcdTAwYTAvZywgJyAnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XG5cdFx0XHR0eXBlOiBmdW5jdGlvbiAobykge1xuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0b2JqSWQ6IGZ1bmN0aW9uIChvYmopIHtcblx0XHRcdFx0aWYgKCFvYmpbJ19faWQnXSkge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICdfX2lkJywgeyB2YWx1ZTogKyt1bmlxdWVJZCB9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gb2JqWydfX2lkJ107XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIERlZXAgY2xvbmUgYSBsYW5ndWFnZSBkZWZpbml0aW9uIChlLmcuIHRvIGV4dGVuZCBpdClcblx0XHRcdGNsb25lOiBmdW5jdGlvbiBkZWVwQ2xvbmUobywgdmlzaXRlZCkge1xuXHRcdFx0XHR2YXIgY2xvbmUsIGlkLCB0eXBlID0gXy51dGlsLnR5cGUobyk7XG5cdFx0XHRcdHZpc2l0ZWQgPSB2aXNpdGVkIHx8IHt9O1xuXHRcblx0XHRcdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdFx0XHRcdGlkID0gXy51dGlsLm9iaklkKG8pO1xuXHRcdFx0XHRcdFx0aWYgKHZpc2l0ZWRbaWRdKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2aXNpdGVkW2lkXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNsb25lID0ge307XG5cdFx0XHRcdFx0XHR2aXNpdGVkW2lkXSA9IGNsb25lO1xuXHRcblx0XHRcdFx0XHRcdGZvciAodmFyIGtleSBpbiBvKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChvLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdFx0XHRjbG9uZVtrZXldID0gZGVlcENsb25lKG9ba2V5XSwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cdFxuXHRcdFx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0XHRcdGlkID0gXy51dGlsLm9iaklkKG8pO1xuXHRcdFx0XHRcdFx0aWYgKHZpc2l0ZWRbaWRdKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2aXNpdGVkW2lkXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNsb25lID0gW107XG5cdFx0XHRcdFx0XHR2aXNpdGVkW2lkXSA9IGNsb25lO1xuXHRcblx0XHRcdFx0XHRcdG8uZm9yRWFjaChmdW5jdGlvbiAodiwgaSkge1xuXHRcdFx0XHRcdFx0XHRjbG9uZVtpXSA9IGRlZXBDbG9uZSh2LCB2aXNpdGVkKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcblx0XHRcdFx0XHRcdHJldHVybiBjbG9uZTtcblx0XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdHJldHVybiBvO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0bGFuZ3VhZ2VzOiB7XG5cdFx0XHRleHRlbmQ6IGZ1bmN0aW9uIChpZCwgcmVkZWYpIHtcblx0XHRcdFx0dmFyIGxhbmcgPSBfLnV0aWwuY2xvbmUoXy5sYW5ndWFnZXNbaWRdKTtcblx0XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiByZWRlZikge1xuXHRcdFx0XHRcdGxhbmdba2V5XSA9IHJlZGVmW2tleV07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBsYW5nO1xuXHRcdFx0fSxcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEluc2VydCBhIHRva2VuIGJlZm9yZSBhbm90aGVyIHRva2VuIGluIGEgbGFuZ3VhZ2UgbGl0ZXJhbFxuXHRcdFx0ICogQXMgdGhpcyBuZWVkcyB0byByZWNyZWF0ZSB0aGUgb2JqZWN0ICh3ZSBjYW5ub3QgYWN0dWFsbHkgaW5zZXJ0IGJlZm9yZSBrZXlzIGluIG9iamVjdCBsaXRlcmFscyksXG5cdFx0XHQgKiB3ZSBjYW5ub3QganVzdCBwcm92aWRlIGFuIG9iamVjdCwgd2UgbmVlZCBhbiBvYmplY3QgYW5kIGEga2V5LlxuXHRcdFx0ICogQHBhcmFtIGluc2lkZSBUaGUga2V5IChvciBsYW5ndWFnZSBpZCkgb2YgdGhlIHBhcmVudFxuXHRcdFx0ICogQHBhcmFtIGJlZm9yZSBUaGUga2V5IHRvIGluc2VydCBiZWZvcmUuXG5cdFx0XHQgKiBAcGFyYW0gaW5zZXJ0IE9iamVjdCB3aXRoIHRoZSBrZXkvdmFsdWUgcGFpcnMgdG8gaW5zZXJ0XG5cdFx0XHQgKiBAcGFyYW0gcm9vdCBUaGUgb2JqZWN0IHRoYXQgY29udGFpbnMgYGluc2lkZWAuIElmIGVxdWFsIHRvIFByaXNtLmxhbmd1YWdlcywgaXQgY2FuIGJlIG9taXR0ZWQuXG5cdFx0XHQgKi9cblx0XHRcdGluc2VydEJlZm9yZTogZnVuY3Rpb24gKGluc2lkZSwgYmVmb3JlLCBpbnNlcnQsIHJvb3QpIHtcblx0XHRcdFx0cm9vdCA9IHJvb3QgfHwgXy5sYW5ndWFnZXM7XG5cdFx0XHRcdHZhciBncmFtbWFyID0gcm9vdFtpbnNpZGVdO1xuXHRcdFx0XHR2YXIgcmV0ID0ge307XG5cdFxuXHRcdFx0XHRmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cdFx0XHRcdFx0aWYgKGdyYW1tYXIuaGFzT3duUHJvcGVydHkodG9rZW4pKSB7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKHRva2VuID09IGJlZm9yZSkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBuZXdUb2tlbiBpbiBpbnNlcnQpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5zZXJ0Lmhhc093blByb3BlcnR5KG5ld1Rva2VuKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0W25ld1Rva2VuXSA9IGluc2VydFtuZXdUb2tlbl07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRG8gbm90IGluc2VydCB0b2tlbiB3aGljaCBhbHNvIG9jY3VyIGluIGluc2VydC4gU2VlICMxNTI1XG5cdFx0XHRcdFx0XHRpZiAoIWluc2VydC5oYXNPd25Qcm9wZXJ0eSh0b2tlbikpIHtcblx0XHRcdFx0XHRcdFx0cmV0W3Rva2VuXSA9IGdyYW1tYXJbdG9rZW5dO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0dmFyIG9sZCA9IHJvb3RbaW5zaWRlXTtcblx0XHRcdFx0cm9vdFtpbnNpZGVdID0gcmV0O1xuXHRcblx0XHRcdFx0Ly8gVXBkYXRlIHJlZmVyZW5jZXMgaW4gb3RoZXIgbGFuZ3VhZ2UgZGVmaW5pdGlvbnNcblx0XHRcdFx0Xy5sYW5ndWFnZXMuREZTKF8ubGFuZ3VhZ2VzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKHZhbHVlID09PSBvbGQgJiYga2V5ICE9IGluc2lkZSkge1xuXHRcdFx0XHRcdFx0dGhpc1trZXldID0gcmV0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fSxcblx0XG5cdFx0XHQvLyBUcmF2ZXJzZSBhIGxhbmd1YWdlIGRlZmluaXRpb24gd2l0aCBEZXB0aCBGaXJzdCBTZWFyY2hcblx0XHRcdERGUzogZnVuY3Rpb24gREZTKG8sIGNhbGxiYWNrLCB0eXBlLCB2aXNpdGVkKSB7XG5cdFx0XHRcdHZpc2l0ZWQgPSB2aXNpdGVkIHx8IHt9O1xuXHRcblx0XHRcdFx0dmFyIG9iaklkID0gXy51dGlsLm9iaklkO1xuXHRcblx0XHRcdFx0Zm9yICh2YXIgaSBpbiBvKSB7XG5cdFx0XHRcdFx0aWYgKG8uaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobywgaSwgb1tpXSwgdHlwZSB8fCBpKTtcblx0XG5cdFx0XHRcdFx0XHR2YXIgcHJvcGVydHkgPSBvW2ldLFxuXHRcdFx0XHRcdFx0ICAgIHByb3BlcnR5VHlwZSA9IF8udXRpbC50eXBlKHByb3BlcnR5KTtcblx0XG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHlUeXBlID09PSAnT2JqZWN0JyAmJiAhdmlzaXRlZFtvYmpJZChwcm9wZXJ0eSldKSB7XG5cdFx0XHRcdFx0XHRcdHZpc2l0ZWRbb2JqSWQocHJvcGVydHkpXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdERGUyhwcm9wZXJ0eSwgY2FsbGJhY2ssIG51bGwsIHZpc2l0ZWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAocHJvcGVydHlUeXBlID09PSAnQXJyYXknICYmICF2aXNpdGVkW29iaklkKHByb3BlcnR5KV0pIHtcblx0XHRcdFx0XHRcdFx0dmlzaXRlZFtvYmpJZChwcm9wZXJ0eSldID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0REZTKHByb3BlcnR5LCBjYWxsYmFjaywgaSwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwbHVnaW5zOiB7fSxcblx0XG5cdFx0aGlnaGxpZ2h0QWxsOiBmdW5jdGlvbihhc3luYywgY2FsbGJhY2spIHtcblx0XHRcdF8uaGlnaGxpZ2h0QWxsVW5kZXIoZG9jdW1lbnQsIGFzeW5jLCBjYWxsYmFjayk7XG5cdFx0fSxcblx0XG5cdFx0aGlnaGxpZ2h0QWxsVW5kZXI6IGZ1bmN0aW9uKGNvbnRhaW5lciwgYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0XHR2YXIgZW52ID0ge1xuXHRcdFx0XHRjYWxsYmFjazogY2FsbGJhY2ssXG5cdFx0XHRcdHNlbGVjdG9yOiAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnXG5cdFx0XHR9O1xuXHRcblx0XHRcdF8uaG9va3MucnVuKFwiYmVmb3JlLWhpZ2hsaWdodGFsbFwiLCBlbnYpO1xuXHRcblx0XHRcdHZhciBlbGVtZW50cyA9IGVudi5lbGVtZW50cyB8fCBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChlbnYuc2VsZWN0b3IpO1xuXHRcblx0XHRcdGZvciAodmFyIGk9MCwgZWxlbWVudDsgZWxlbWVudCA9IGVsZW1lbnRzW2krK107KSB7XG5cdFx0XHRcdF8uaGlnaGxpZ2h0RWxlbWVudChlbGVtZW50LCBhc3luYyA9PT0gdHJ1ZSwgZW52LmNhbGxiYWNrKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRoaWdobGlnaHRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBhc3luYywgY2FsbGJhY2spIHtcblx0XHRcdC8vIEZpbmQgbGFuZ3VhZ2Vcblx0XHRcdHZhciBsYW5ndWFnZSwgZ3JhbW1hciwgcGFyZW50ID0gZWxlbWVudDtcblx0XG5cdFx0XHR3aGlsZSAocGFyZW50ICYmICFsYW5nLnRlc3QocGFyZW50LmNsYXNzTmFtZSkpIHtcblx0XHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0XHRsYW5ndWFnZSA9IChwYXJlbnQuY2xhc3NOYW1lLm1hdGNoKGxhbmcpIHx8IFssJyddKVsxXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRncmFtbWFyID0gXy5sYW5ndWFnZXNbbGFuZ3VhZ2VdO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNldCBsYW5ndWFnZSBvbiB0aGUgZWxlbWVudCwgaWYgbm90IHByZXNlbnRcblx0XHRcdGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShsYW5nLCAnJykucmVwbGFjZSgvXFxzKy9nLCAnICcpICsgJyBsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cdFxuXHRcdFx0aWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuXHRcdFx0XHQvLyBTZXQgbGFuZ3VhZ2Ugb24gdGhlIHBhcmVudCwgZm9yIHN0eWxpbmdcblx0XHRcdFx0cGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXHRcblx0XHRcdFx0aWYgKC9wcmUvaS50ZXN0KHBhcmVudC5ub2RlTmFtZSkpIHtcblx0XHRcdFx0XHRwYXJlbnQuY2xhc3NOYW1lID0gcGFyZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBjb2RlID0gZWxlbWVudC50ZXh0Q29udGVudDtcblx0XG5cdFx0XHR2YXIgZW52ID0ge1xuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50LFxuXHRcdFx0XHRsYW5ndWFnZTogbGFuZ3VhZ2UsXG5cdFx0XHRcdGdyYW1tYXI6IGdyYW1tYXIsXG5cdFx0XHRcdGNvZGU6IGNvZGVcblx0XHRcdH07XG5cdFxuXHRcdFx0dmFyIGluc2VydEhpZ2hsaWdodGVkQ29kZSA9IGZ1bmN0aW9uIChoaWdobGlnaHRlZENvZGUpIHtcblx0XHRcdFx0ZW52LmhpZ2hsaWdodGVkQ29kZSA9IGhpZ2hsaWdodGVkQ29kZTtcblx0XG5cdFx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtaW5zZXJ0JywgZW52KTtcblx0XG5cdFx0XHRcdGVudi5lbGVtZW50LmlubmVySFRNTCA9IGVudi5oaWdobGlnaHRlZENvZGU7XG5cdFxuXHRcdFx0XHRfLmhvb2tzLnJ1bignYWZ0ZXItaGlnaGxpZ2h0JywgZW52KTtcblx0XHRcdFx0Xy5ob29rcy5ydW4oJ2NvbXBsZXRlJywgZW52KTtcblx0XHRcdFx0Y2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChlbnYuZWxlbWVudCk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS1zYW5pdHktY2hlY2snLCBlbnYpO1xuXHRcblx0XHRcdGlmICghZW52LmNvZGUpIHtcblx0XHRcdFx0Xy5ob29rcy5ydW4oJ2NvbXBsZXRlJywgZW52KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtaGlnaGxpZ2h0JywgZW52KTtcblx0XG5cdFx0XHRpZiAoIWVudi5ncmFtbWFyKSB7XG5cdFx0XHRcdGluc2VydEhpZ2hsaWdodGVkQ29kZShfLnV0aWwuZW5jb2RlKGVudi5jb2RlKSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoYXN5bmMgJiYgX3NlbGYuV29ya2VyKSB7XG5cdFx0XHRcdHZhciB3b3JrZXIgPSBuZXcgV29ya2VyKF8uZmlsZW5hbWUpO1xuXHRcblx0XHRcdFx0d29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2dCkge1xuXHRcdFx0XHRcdGluc2VydEhpZ2hsaWdodGVkQ29kZShldnQuZGF0YSk7XG5cdFx0XHRcdH07XG5cdFxuXHRcdFx0XHR3b3JrZXIucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdGxhbmd1YWdlOiBlbnYubGFuZ3VhZ2UsXG5cdFx0XHRcdFx0Y29kZTogZW52LmNvZGUsXG5cdFx0XHRcdFx0aW1tZWRpYXRlQ2xvc2U6IHRydWVcblx0XHRcdFx0fSkpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGluc2VydEhpZ2hsaWdodGVkQ29kZShfLmhpZ2hsaWdodChlbnYuY29kZSwgZW52LmdyYW1tYXIsIGVudi5sYW5ndWFnZSkpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGhpZ2hsaWdodDogZnVuY3Rpb24gKHRleHQsIGdyYW1tYXIsIGxhbmd1YWdlKSB7XG5cdFx0XHR2YXIgZW52ID0ge1xuXHRcdFx0XHRjb2RlOiB0ZXh0LFxuXHRcdFx0XHRncmFtbWFyOiBncmFtbWFyLFxuXHRcdFx0XHRsYW5ndWFnZTogbGFuZ3VhZ2Vcblx0XHRcdH07XG5cdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLXRva2VuaXplJywgZW52KTtcblx0XHRcdGVudi50b2tlbnMgPSBfLnRva2VuaXplKGVudi5jb2RlLCBlbnYuZ3JhbW1hcik7XG5cdFx0XHRfLmhvb2tzLnJ1bignYWZ0ZXItdG9rZW5pemUnLCBlbnYpO1xuXHRcdFx0cmV0dXJuIFRva2VuLnN0cmluZ2lmeShfLnV0aWwuZW5jb2RlKGVudi50b2tlbnMpLCBlbnYubGFuZ3VhZ2UpO1xuXHRcdH0sXG5cdFxuXHRcdG1hdGNoR3JhbW1hcjogZnVuY3Rpb24gKHRleHQsIHN0cmFyciwgZ3JhbW1hciwgaW5kZXgsIHN0YXJ0UG9zLCBvbmVzaG90LCB0YXJnZXQpIHtcblx0XHRcdGZvciAodmFyIHRva2VuIGluIGdyYW1tYXIpIHtcblx0XHRcdFx0aWYoIWdyYW1tYXIuaGFzT3duUHJvcGVydHkodG9rZW4pIHx8ICFncmFtbWFyW3Rva2VuXSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAodG9rZW4gPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR2YXIgcGF0dGVybnMgPSBncmFtbWFyW3Rva2VuXTtcblx0XHRcdFx0cGF0dGVybnMgPSAoXy51dGlsLnR5cGUocGF0dGVybnMpID09PSBcIkFycmF5XCIpID8gcGF0dGVybnMgOiBbcGF0dGVybnNdO1xuXHRcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBwYXR0ZXJucy5sZW5ndGg7ICsraikge1xuXHRcdFx0XHRcdHZhciBwYXR0ZXJuID0gcGF0dGVybnNbal0sXG5cdFx0XHRcdFx0XHRpbnNpZGUgPSBwYXR0ZXJuLmluc2lkZSxcblx0XHRcdFx0XHRcdGxvb2tiZWhpbmQgPSAhIXBhdHRlcm4ubG9va2JlaGluZCxcblx0XHRcdFx0XHRcdGdyZWVkeSA9ICEhcGF0dGVybi5ncmVlZHksXG5cdFx0XHRcdFx0XHRsb29rYmVoaW5kTGVuZ3RoID0gMCxcblx0XHRcdFx0XHRcdGFsaWFzID0gcGF0dGVybi5hbGlhcztcblx0XG5cdFx0XHRcdFx0aWYgKGdyZWVkeSAmJiAhcGF0dGVybi5wYXR0ZXJuLmdsb2JhbCkge1xuXHRcdFx0XHRcdFx0Ly8gV2l0aG91dCB0aGUgZ2xvYmFsIGZsYWcsIGxhc3RJbmRleCB3b24ndCB3b3JrXG5cdFx0XHRcdFx0XHR2YXIgZmxhZ3MgPSBwYXR0ZXJuLnBhdHRlcm4udG9TdHJpbmcoKS5tYXRjaCgvW2ltdXldKiQvKVswXTtcblx0XHRcdFx0XHRcdHBhdHRlcm4ucGF0dGVybiA9IFJlZ0V4cChwYXR0ZXJuLnBhdHRlcm4uc291cmNlLCBmbGFncyArIFwiZ1wiKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHBhdHRlcm4gPSBwYXR0ZXJuLnBhdHRlcm4gfHwgcGF0dGVybjtcblx0XG5cdFx0XHRcdFx0Ly8gRG9u4oCZdCBjYWNoZSBsZW5ndGggYXMgaXQgY2hhbmdlcyBkdXJpbmcgdGhlIGxvb3Bcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gaW5kZXgsIHBvcyA9IHN0YXJ0UG9zOyBpIDwgc3RyYXJyLmxlbmd0aDsgcG9zICs9IHN0cmFycltpXS5sZW5ndGgsICsraSkge1xuXHRcblx0XHRcdFx0XHRcdHZhciBzdHIgPSBzdHJhcnJbaV07XG5cdFxuXHRcdFx0XHRcdFx0aWYgKHN0cmFyci5sZW5ndGggPiB0ZXh0Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHQvLyBTb21ldGhpbmcgd2VudCB0ZXJyaWJseSB3cm9uZywgQUJPUlQsIEFCT1JUIVxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0aWYgKHN0ciBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGlmIChncmVlZHkgJiYgaSAhPSBzdHJhcnIubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdFx0XHRwYXR0ZXJuLmxhc3RJbmRleCA9IHBvcztcblx0XHRcdFx0XHRcdFx0dmFyIG1hdGNoID0gcGF0dGVybi5leGVjKHRleHQpO1xuXHRcdFx0XHRcdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdHZhciBmcm9tID0gbWF0Y2guaW5kZXggKyAobG9va2JlaGluZCA/IG1hdGNoWzFdLmxlbmd0aCA6IDApLFxuXHRcdFx0XHRcdFx0XHQgICAgdG8gPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCxcblx0XHRcdFx0XHRcdFx0ICAgIGsgPSBpLFxuXHRcdFx0XHRcdFx0XHQgICAgcCA9IHBvcztcblx0XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGxlbiA9IHN0cmFyci5sZW5ndGg7IGsgPCBsZW4gJiYgKHAgPCB0byB8fCAoIXN0cmFycltrXS50eXBlICYmICFzdHJhcnJbayAtIDFdLmdyZWVkeSkpOyArK2spIHtcblx0XHRcdFx0XHRcdFx0XHRwICs9IHN0cmFycltrXS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gTW92ZSB0aGUgaW5kZXggaSB0byB0aGUgZWxlbWVudCBpbiBzdHJhcnIgdGhhdCBpcyBjbG9zZXN0IHRvIGZyb21cblx0XHRcdFx0XHRcdFx0XHRpZiAoZnJvbSA+PSBwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQrK2k7XG5cdFx0XHRcdFx0XHRcdFx0XHRwb3MgPSBwO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSWYgc3RyYXJyW2ldIGlzIGEgVG9rZW4sIHRoZW4gdGhlIG1hdGNoIHN0YXJ0cyBpbnNpZGUgYW5vdGhlciBUb2tlbiwgd2hpY2ggaXMgaW52YWxpZFxuXHRcdFx0XHRcdFx0XHRpZiAoc3RyYXJyW2ldIGluc3RhbmNlb2YgVG9rZW4pIHtcblx0XHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Ly8gTnVtYmVyIG9mIHRva2VucyB0byBkZWxldGUgYW5kIHJlcGxhY2Ugd2l0aCB0aGUgbmV3IG1hdGNoXG5cdFx0XHRcdFx0XHRcdGRlbE51bSA9IGsgLSBpO1xuXHRcdFx0XHRcdFx0XHRzdHIgPSB0ZXh0LnNsaWNlKHBvcywgcCk7XG5cdFx0XHRcdFx0XHRcdG1hdGNoLmluZGV4IC09IHBvcztcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHBhdHRlcm4ubGFzdEluZGV4ID0gMDtcblx0XG5cdFx0XHRcdFx0XHRcdHZhciBtYXRjaCA9IHBhdHRlcm4uZXhlYyhzdHIpLFxuXHRcdFx0XHRcdFx0XHRcdGRlbE51bSA9IDE7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRpZiAob25lc2hvdCkge1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRpZihsb29rYmVoaW5kKSB7XG5cdFx0XHRcdFx0XHRcdGxvb2tiZWhpbmRMZW5ndGggPSBtYXRjaFsxXSA/IG1hdGNoWzFdLmxlbmd0aCA6IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0dmFyIGZyb20gPSBtYXRjaC5pbmRleCArIGxvb2tiZWhpbmRMZW5ndGgsXG5cdFx0XHRcdFx0XHQgICAgbWF0Y2ggPSBtYXRjaFswXS5zbGljZShsb29rYmVoaW5kTGVuZ3RoKSxcblx0XHRcdFx0XHRcdCAgICB0byA9IGZyb20gKyBtYXRjaC5sZW5ndGgsXG5cdFx0XHRcdFx0XHQgICAgYmVmb3JlID0gc3RyLnNsaWNlKDAsIGZyb20pLFxuXHRcdFx0XHRcdFx0ICAgIGFmdGVyID0gc3RyLnNsaWNlKHRvKTtcblx0XG5cdFx0XHRcdFx0XHR2YXIgYXJncyA9IFtpLCBkZWxOdW1dO1xuXHRcblx0XHRcdFx0XHRcdGlmIChiZWZvcmUpIHtcblx0XHRcdFx0XHRcdFx0KytpO1xuXHRcdFx0XHRcdFx0XHRwb3MgKz0gYmVmb3JlLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0YXJncy5wdXNoKGJlZm9yZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0dmFyIHdyYXBwZWQgPSBuZXcgVG9rZW4odG9rZW4sIGluc2lkZT8gXy50b2tlbml6ZShtYXRjaCwgaW5zaWRlKSA6IG1hdGNoLCBhbGlhcywgbWF0Y2gsIGdyZWVkeSk7XG5cdFxuXHRcdFx0XHRcdFx0YXJncy5wdXNoKHdyYXBwZWQpO1xuXHRcblx0XHRcdFx0XHRcdGlmIChhZnRlcikge1xuXHRcdFx0XHRcdFx0XHRhcmdzLnB1c2goYWZ0ZXIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoc3RyYXJyLCBhcmdzKTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoZGVsTnVtICE9IDEpXG5cdFx0XHRcdFx0XHRcdF8ubWF0Y2hHcmFtbWFyKHRleHQsIHN0cmFyciwgZ3JhbW1hciwgaSwgcG9zLCB0cnVlLCB0b2tlbik7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKG9uZXNob3QpXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHRva2VuaXplOiBmdW5jdGlvbih0ZXh0LCBncmFtbWFyKSB7XG5cdFx0XHR2YXIgc3RyYXJyID0gW3RleHRdO1xuXHRcblx0XHRcdHZhciByZXN0ID0gZ3JhbW1hci5yZXN0O1xuXHRcblx0XHRcdGlmIChyZXN0KSB7XG5cdFx0XHRcdGZvciAodmFyIHRva2VuIGluIHJlc3QpIHtcblx0XHRcdFx0XHRncmFtbWFyW3Rva2VuXSA9IHJlc3RbdG9rZW5dO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRkZWxldGUgZ3JhbW1hci5yZXN0O1xuXHRcdFx0fVxuXHRcblx0XHRcdF8ubWF0Y2hHcmFtbWFyKHRleHQsIHN0cmFyciwgZ3JhbW1hciwgMCwgMCwgZmFsc2UpO1xuXHRcblx0XHRcdHJldHVybiBzdHJhcnI7XG5cdFx0fSxcblx0XG5cdFx0aG9va3M6IHtcblx0XHRcdGFsbDoge30sXG5cdFxuXHRcdFx0YWRkOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcblx0XHRcdFx0dmFyIGhvb2tzID0gXy5ob29rcy5hbGw7XG5cdFxuXHRcdFx0XHRob29rc1tuYW1lXSA9IGhvb2tzW25hbWVdIHx8IFtdO1xuXHRcblx0XHRcdFx0aG9va3NbbmFtZV0ucHVzaChjYWxsYmFjayk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdHJ1bjogZnVuY3Rpb24gKG5hbWUsIGVudikge1xuXHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gXy5ob29rcy5hbGxbbmFtZV07XG5cdFxuXHRcdFx0XHRpZiAoIWNhbGxiYWNrcyB8fCAhY2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Zm9yICh2YXIgaT0wLCBjYWxsYmFjazsgY2FsbGJhY2sgPSBjYWxsYmFja3NbaSsrXTspIHtcblx0XHRcdFx0XHRjYWxsYmFjayhlbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0VG9rZW46IFRva2VuXG5cdH07XG5cdFxuXHRfc2VsZi5QcmlzbSA9IF87XG5cdFxuXHRmdW5jdGlvbiBUb2tlbih0eXBlLCBjb250ZW50LCBhbGlhcywgbWF0Y2hlZFN0ciwgZ3JlZWR5KSB7XG5cdFx0dGhpcy50eXBlID0gdHlwZTtcblx0XHR0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuXHRcdHRoaXMuYWxpYXMgPSBhbGlhcztcblx0XHQvLyBDb3B5IG9mIHRoZSBmdWxsIHN0cmluZyB0aGlzIHRva2VuIHdhcyBjcmVhdGVkIGZyb21cblx0XHR0aGlzLmxlbmd0aCA9IChtYXRjaGVkU3RyIHx8IFwiXCIpLmxlbmd0aHwwO1xuXHRcdHRoaXMuZ3JlZWR5ID0gISFncmVlZHk7XG5cdH1cblx0XG5cdFRva2VuLnN0cmluZ2lmeSA9IGZ1bmN0aW9uKG8sIGxhbmd1YWdlLCBwYXJlbnQpIHtcblx0XHRpZiAodHlwZW9mIG8gPT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiBvO1xuXHRcdH1cblx0XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkobykpIHtcblx0XHRcdHJldHVybiBvLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0XHRcdHJldHVybiBUb2tlbi5zdHJpbmdpZnkoZWxlbWVudCwgbGFuZ3VhZ2UsIG8pO1xuXHRcdFx0fSkuam9pbignJyk7XG5cdFx0fVxuXHRcblx0XHR2YXIgZW52ID0ge1xuXHRcdFx0dHlwZTogby50eXBlLFxuXHRcdFx0Y29udGVudDogVG9rZW4uc3RyaW5naWZ5KG8uY29udGVudCwgbGFuZ3VhZ2UsIHBhcmVudCksXG5cdFx0XHR0YWc6ICdzcGFuJyxcblx0XHRcdGNsYXNzZXM6IFsndG9rZW4nLCBvLnR5cGVdLFxuXHRcdFx0YXR0cmlidXRlczoge30sXG5cdFx0XHRsYW5ndWFnZTogbGFuZ3VhZ2UsXG5cdFx0XHRwYXJlbnQ6IHBhcmVudFxuXHRcdH07XG5cdFxuXHRcdGlmIChvLmFsaWFzKSB7XG5cdFx0XHR2YXIgYWxpYXNlcyA9IEFycmF5LmlzQXJyYXkoby5hbGlhcykgPyBvLmFsaWFzIDogW28uYWxpYXNdO1xuXHRcdFx0QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZW52LmNsYXNzZXMsIGFsaWFzZXMpO1xuXHRcdH1cblx0XG5cdFx0Xy5ob29rcy5ydW4oJ3dyYXAnLCBlbnYpO1xuXHRcblx0XHR2YXIgYXR0cmlidXRlcyA9IE9iamVjdC5rZXlzKGVudi5hdHRyaWJ1dGVzKS5tYXAoZnVuY3Rpb24obmFtZSkge1xuXHRcdFx0cmV0dXJuIG5hbWUgKyAnPVwiJyArIChlbnYuYXR0cmlidXRlc1tuYW1lXSB8fCAnJykucmVwbGFjZSgvXCIvZywgJyZxdW90OycpICsgJ1wiJztcblx0XHR9KS5qb2luKCcgJyk7XG5cdFxuXHRcdHJldHVybiAnPCcgKyBlbnYudGFnICsgJyBjbGFzcz1cIicgKyBlbnYuY2xhc3Nlcy5qb2luKCcgJykgKyAnXCInICsgKGF0dHJpYnV0ZXMgPyAnICcgKyBhdHRyaWJ1dGVzIDogJycpICsgJz4nICsgZW52LmNvbnRlbnQgKyAnPC8nICsgZW52LnRhZyArICc+Jztcblx0XG5cdH07XG5cdFxuXHRpZiAoIV9zZWxmLmRvY3VtZW50KSB7XG5cdFx0aWYgKCFfc2VsZi5hZGRFdmVudExpc3RlbmVyKSB7XG5cdFx0XHQvLyBpbiBOb2RlLmpzXG5cdFx0XHRyZXR1cm4gXztcblx0XHR9XG5cdFxuXHRcdGlmICghXy5kaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXIpIHtcblx0XHRcdC8vIEluIHdvcmtlclxuXHRcdFx0X3NlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldnQpIHtcblx0XHRcdFx0dmFyIG1lc3NhZ2UgPSBKU09OLnBhcnNlKGV2dC5kYXRhKSxcblx0XHRcdFx0XHRsYW5nID0gbWVzc2FnZS5sYW5ndWFnZSxcblx0XHRcdFx0XHRjb2RlID0gbWVzc2FnZS5jb2RlLFxuXHRcdFx0XHRcdGltbWVkaWF0ZUNsb3NlID0gbWVzc2FnZS5pbW1lZGlhdGVDbG9zZTtcblx0XG5cdFx0XHRcdF9zZWxmLnBvc3RNZXNzYWdlKF8uaGlnaGxpZ2h0KGNvZGUsIF8ubGFuZ3VhZ2VzW2xhbmddLCBsYW5nKSk7XG5cdFx0XHRcdGlmIChpbW1lZGlhdGVDbG9zZSkge1xuXHRcdFx0XHRcdF9zZWxmLmNsb3NlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGZhbHNlKTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBfO1xuXHR9XG5cdFxuXHQvL0dldCBjdXJyZW50IHNjcmlwdCBhbmQgaGlnaGxpZ2h0XG5cdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0IHx8IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIikpLnBvcCgpO1xuXHRcblx0aWYgKHNjcmlwdCkge1xuXHRcdF8uZmlsZW5hbWUgPSBzY3JpcHQuc3JjO1xuXHRcblx0XHRpZiAoIV8ubWFudWFsICYmICFzY3JpcHQuaGFzQXR0cmlidXRlKCdkYXRhLW1hbnVhbCcpKSB7XG5cdFx0XHRpZihkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIikge1xuXHRcdFx0XHRpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuXHRcdFx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoXy5oaWdobGlnaHRBbGwpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KF8uaGlnaGxpZ2h0QWxsLCAxNik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgXy5oaWdobGlnaHRBbGwpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIF87XG5cdFxuXHR9KShfc2VsZik7XG5cdFxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IFByaXNtO1xuXHR9XG5cdFxuXHQvLyBoYWNrIGZvciBjb21wb25lbnRzIHRvIHdvcmsgY29ycmVjdGx5IGluIG5vZGUuanNcblx0aWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Z2xvYmFsLlByaXNtID0gUHJpc207XG5cdH1cblx0XG5cdFxuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tbWFya3VwLmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdFByaXNtLmxhbmd1YWdlcy5tYXJrdXAgPSB7XG5cdFx0J2NvbW1lbnQnOiAvPCEtLVtcXHNcXFNdKj8tLT4vLFxuXHRcdCdwcm9sb2cnOiAvPFxcP1tcXHNcXFNdKz9cXD8+Lyxcblx0XHQnZG9jdHlwZSc6IC88IURPQ1RZUEVbXFxzXFxTXSs/Pi9pLFxuXHRcdCdjZGF0YSc6IC88IVxcW0NEQVRBXFxbW1xcc1xcU10qP11dPi9pLFxuXHRcdCd0YWcnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvPFxcLz8oPyFcXGQpW15cXHM+XFwvPSQ8JV0rKD86XFxzKD86XFxzKlteXFxzPlxcLz1dKyg/Olxccyo9XFxzKig/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXlxccydcIj49XSsoPz1bXFxzPl0pKXwoPz1bXFxzLz5dKSkpKyk/XFxzKlxcLz8+L2ksXG5cdFx0XHRncmVlZHk6IHRydWUsXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0J3RhZyc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvXjxcXC8/W15cXHM+XFwvXSsvaSxcblx0XHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9ePFxcLz8vLFxuXHRcdFx0XHRcdFx0J25hbWVzcGFjZSc6IC9eW15cXHM+XFwvOl0rOi9cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdhdHRyLXZhbHVlJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC89XFxzKig/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXlxccydcIj49XSspL2ksXG5cdFx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0XHQncHVuY3R1YXRpb24nOiBbXG5cdFx0XHRcdFx0XHRcdC9ePS8sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRwYXR0ZXJuOiAvXihcXHMqKVtcIiddfFtcIiddJC8sXG5cdFx0XHRcdFx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQncHVuY3R1YXRpb24nOiAvXFwvPz4vLFxuXHRcdFx0XHQnYXR0ci1uYW1lJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC9bXlxccz5cXC9dKy8sXG5cdFx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdH1cblx0XHR9LFxuXHRcdCdlbnRpdHknOiAvJiM/W1xcZGEtel17MSw4fTsvaVxuXHR9O1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cFsndGFnJ10uaW5zaWRlWydhdHRyLXZhbHVlJ10uaW5zaWRlWydlbnRpdHknXSA9XG5cdFx0UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cFsnZW50aXR5J107XG5cdFxuXHQvLyBQbHVnaW4gdG8gbWFrZSBlbnRpdHkgdGl0bGUgc2hvdyB0aGUgcmVhbCBlbnRpdHksIGlkZWEgYnkgUm9tYW4gS29tYXJvdlxuXHRQcmlzbS5ob29rcy5hZGQoJ3dyYXAnLCBmdW5jdGlvbihlbnYpIHtcblx0XG5cdFx0aWYgKGVudi50eXBlID09PSAnZW50aXR5Jykge1xuXHRcdFx0ZW52LmF0dHJpYnV0ZXNbJ3RpdGxlJ10gPSBlbnYuY29udGVudC5yZXBsYWNlKC8mYW1wOy8sICcmJyk7XG5cdFx0fVxuXHR9KTtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZywgJ2FkZElubGluZWQnLCB7XG5cdFx0LyoqXG5cdFx0ICogQWRkcyBhbiBpbmxpbmVkIGxhbmd1YWdlIHRvIG1hcmt1cC5cblx0XHQgKlxuXHRcdCAqIEFuIGV4YW1wbGUgb2YgYW4gaW5saW5lZCBsYW5ndWFnZSBpcyBDU1Mgd2l0aCBgPHN0eWxlPmAgdGFncy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIFRoZSBuYW1lIG9mIHRoZSB0YWcgdGhhdCBjb250YWlucyB0aGUgaW5saW5lZCBsYW5ndWFnZS4gVGhpcyBuYW1lIHdpbGwgYmUgdHJlYXRlZCBhc1xuXHRcdCAqIGNhc2UgaW5zZW5zaXRpdmUuXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGxhbmcgVGhlIGxhbmd1YWdlIGtleS5cblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqIGFkZElubGluZWQoJ3N0eWxlJywgJ2NzcycpO1xuXHRcdCAqL1xuXHRcdHZhbHVlOiBmdW5jdGlvbiBhZGRJbmxpbmVkKHRhZ05hbWUsIGxhbmcpIHtcblx0XHRcdHZhciBpbmNsdWRlZENkYXRhSW5zaWRlID0ge307XG5cdFx0XHRpbmNsdWRlZENkYXRhSW5zaWRlWydsYW5ndWFnZS0nICsgbGFuZ10gPSB7XG5cdFx0XHRcdHBhdHRlcm46IC8oXjwhXFxbQ0RBVEFcXFspW1xcc1xcU10rPyg/PVxcXVxcXT4kKS9pLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlc1tsYW5nXVxuXHRcdFx0fTtcblx0XHRcdGluY2x1ZGVkQ2RhdGFJbnNpZGVbJ2NkYXRhJ10gPSAvXjwhXFxbQ0RBVEFcXFt8XFxdXFxdPiQvaTtcblx0XG5cdFx0XHR2YXIgaW5zaWRlID0ge1xuXHRcdFx0XHQnaW5jbHVkZWQtY2RhdGEnOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogLzwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdPi9pLFxuXHRcdFx0XHRcdGluc2lkZTogaW5jbHVkZWRDZGF0YUluc2lkZVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0aW5zaWRlWydsYW5ndWFnZS0nICsgbGFuZ10gPSB7XG5cdFx0XHRcdHBhdHRlcm46IC9bXFxzXFxTXSsvLFxuXHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlc1tsYW5nXVxuXHRcdFx0fTtcblx0XG5cdFx0XHR2YXIgZGVmID0ge307XG5cdFx0XHRkZWZbdGFnTmFtZV0gPSB7XG5cdFx0XHRcdHBhdHRlcm46IFJlZ0V4cCgvKDxfX1tcXHNcXFNdKj8+KSg/OjwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdPlxccyp8W1xcc1xcU10pKj8oPz08XFwvX18+KS8uc291cmNlLnJlcGxhY2UoL19fL2csIHRhZ05hbWUpLCAnaScpLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0XHRncmVlZHk6IHRydWUsXG5cdFx0XHRcdGluc2lkZTogaW5zaWRlXG5cdFx0XHR9O1xuXHRcblx0XHRcdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ21hcmt1cCcsICdjZGF0YScsIGRlZik7XG5cdFx0fVxuXHR9KTtcblx0XG5cdFByaXNtLmxhbmd1YWdlcy54bWwgPSBQcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCdtYXJrdXAnLCB7fSk7XG5cdFByaXNtLmxhbmd1YWdlcy5odG1sID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblx0UHJpc20ubGFuZ3VhZ2VzLm1hdGhtbCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdFByaXNtLmxhbmd1YWdlcy5zdmcgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuXHRcblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1jc3MuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0KGZ1bmN0aW9uIChQcmlzbSkge1xuXHRcblx0XHR2YXIgc3RyaW5nID0gLyhcInwnKSg/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDEvO1xuXHRcblx0XHRQcmlzbS5sYW5ndWFnZXMuY3NzID0ge1xuXHRcdFx0J2NvbW1lbnQnOiAvXFwvXFwqW1xcc1xcU10qP1xcKlxcLy8sXG5cdFx0XHQnYXRydWxlJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvQFtcXHctXSs/W1xcc1xcU10qPyg/Ojt8KD89XFxzKlxceykpL2ksXG5cdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdCdydWxlJzogL0BbXFx3LV0rL1xuXHRcdFx0XHRcdC8vIFNlZSByZXN0IGJlbG93XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQndXJsJzogUmVnRXhwKCd1cmxcXFxcKCg/OicgKyBzdHJpbmcuc291cmNlICsgJ3wuKj8pXFxcXCknLCAnaScpLFxuXHRcdFx0J3NlbGVjdG9yJzogUmVnRXhwKCdbXnt9XFxcXHNdKD86W157fTtcIlxcJ118JyArIHN0cmluZy5zb3VyY2UgKyAnKSo/KD89XFxcXHMqXFxcXHspJyksXG5cdFx0XHQnc3RyaW5nJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiBzdHJpbmcsXG5cdFx0XHRcdGdyZWVkeTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdCdwcm9wZXJ0eSc6IC9bLV9hLXpcXHhBMC1cXHVGRkZGXVstXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKjopL2ksXG5cdFx0XHQnaW1wb3J0YW50JzogLyFpbXBvcnRhbnRcXGIvaSxcblx0XHRcdCdmdW5jdGlvbic6IC9bLWEtejAtOV0rKD89XFwoKS9pLFxuXHRcdFx0J3B1bmN0dWF0aW9uJzogL1soKXt9OzosXS9cblx0XHR9O1xuXHRcblx0XHRQcmlzbS5sYW5ndWFnZXMuY3NzWydhdHJ1bGUnXS5pbnNpZGUucmVzdCA9IFByaXNtLmxhbmd1YWdlcy5jc3M7XG5cdFxuXHRcdHZhciBtYXJrdXAgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuXHRcdGlmIChtYXJrdXApIHtcblx0XHRcdG1hcmt1cC50YWcuYWRkSW5saW5lZCgnc3R5bGUnLCAnY3NzJyk7XG5cdFxuXHRcdFx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnaW5zaWRlJywgJ2F0dHItdmFsdWUnLCB7XG5cdFx0XHRcdCdzdHlsZS1hdHRyJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC9cXHMqc3R5bGU9KFwifCcpKD86XFxcXFtcXHNcXFNdfCg/IVxcMSlbXlxcXFxdKSpcXDEvaSxcblx0XHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHRcdCdhdHRyLW5hbWUnOiB7XG5cdFx0XHRcdFx0XHRcdHBhdHRlcm46IC9eXFxzKnN0eWxlL2ksXG5cdFx0XHRcdFx0XHRcdGluc2lkZTogbWFya3VwLnRhZy5pbnNpZGVcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHQncHVuY3R1YXRpb24nOiAvXlxccyo9XFxzKlsnXCJdfFsnXCJdXFxzKiQvLFxuXHRcdFx0XHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdFx0XHRcdHBhdHRlcm46IC8uKy9pLFxuXHRcdFx0XHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5jc3Ncblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGFsaWFzOiAnbGFuZ3VhZ2UtY3NzJ1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBtYXJrdXAudGFnKTtcblx0XHR9XG5cdFxuXHR9KFByaXNtKSk7XG5cdFxuXHRcblx0LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgICAgIEJlZ2luIHByaXNtLWNsaWtlLmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdFByaXNtLmxhbmd1YWdlcy5jbGlrZSA9IHtcblx0XHQnY29tbWVudCc6IFtcblx0XHRcdHtcblx0XHRcdFx0cGF0dGVybjogLyhefFteXFxcXF0pXFwvXFwqW1xcc1xcU10qPyg/OlxcKlxcL3wkKS8sXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC8oXnxbXlxcXFw6XSlcXC9cXC8uKi8sXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRcdGdyZWVkeTogdHJ1ZVxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0J3N0cmluZyc6IHtcblx0XHRcdHBhdHRlcm46IC8oW1wiJ10pKD86XFxcXCg/OlxcclxcbnxbXFxzXFxTXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS8sXG5cdFx0XHRncmVlZHk6IHRydWVcblx0XHR9LFxuXHRcdCdjbGFzcy1uYW1lJzoge1xuXHRcdFx0cGF0dGVybjogLygoPzpcXGIoPzpjbGFzc3xpbnRlcmZhY2V8ZXh0ZW5kc3xpbXBsZW1lbnRzfHRyYWl0fGluc3RhbmNlb2Z8bmV3KVxccyspfCg/OmNhdGNoXFxzK1xcKCkpW1xcdy5cXFxcXSsvaSxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0cHVuY3R1YXRpb246IC9bLlxcXFxdL1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0J2tleXdvcmQnOiAvXFxiKD86aWZ8ZWxzZXx3aGlsZXxkb3xmb3J8cmV0dXJufGlufGluc3RhbmNlb2Z8ZnVuY3Rpb258bmV3fHRyeXx0aHJvd3xjYXRjaHxmaW5hbGx5fG51bGx8YnJlYWt8Y29udGludWUpXFxiLyxcblx0XHQnYm9vbGVhbic6IC9cXGIoPzp0cnVlfGZhbHNlKVxcYi8sXG5cdFx0J2Z1bmN0aW9uJzogL1xcdysoPz1cXCgpLyxcblx0XHQnbnVtYmVyJzogL1xcYjB4W1xcZGEtZl0rXFxifCg/OlxcYlxcZCtcXC4/XFxkKnxcXEJcXC5cXGQrKSg/OmVbKy1dP1xcZCspPy9pLFxuXHRcdCdvcGVyYXRvcic6IC8tLT98XFwrXFwrP3whPT89P3w8PT98Pj0/fD09Pz0/fCYmP3xcXHxcXHw/fFxcP3xcXCp8XFwvfH58XFxefCUvLFxuXHRcdCdwdW5jdHVhdGlvbic6IC9be31bXFxdOygpLC46XS9cblx0fTtcblx0XG5cdFxuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tamF2YXNjcmlwdC5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdCA9IFByaXNtLmxhbmd1YWdlcy5leHRlbmQoJ2NsaWtlJywge1xuXHRcdCdjbGFzcy1uYW1lJzogW1xuXHRcdFx0UHJpc20ubGFuZ3VhZ2VzLmNsaWtlWydjbGFzcy1uYW1lJ10sXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC8oXnxbXiRcXHdcXHhBMC1cXHVGRkZGXSlbXyRBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFwuKD86cHJvdG90eXBlfGNvbnN0cnVjdG9yKSkvLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0XHR9XG5cdFx0XSxcblx0XHQna2V5d29yZCc6IFtcblx0XHRcdHtcblx0XHRcdFx0cGF0dGVybjogLygoPzpefH0pXFxzKikoPzpjYXRjaHxmaW5hbGx5KVxcYi8sXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC8oXnxbXi5dKVxcYig/OmFzfGFzeW5jKD89XFxzKig/OmZ1bmN0aW9uXFxifFxcKHxbJFxcd1xceEEwLVxcdUZGRkZdfCQpKXxhd2FpdHxicmVha3xjYXNlfGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmb3J8ZnJvbXxmdW5jdGlvbnxnZXR8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW58aW5zdGFuY2VvZnxpbnRlcmZhY2V8bGV0fG5ld3xudWxsfG9mfHBhY2thZ2V8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJldHVybnxzZXR8c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlb2Z8dW5kZWZpbmVkfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpXFxiLyxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdFx0fSxcblx0XHRdLFxuXHRcdCdudW1iZXInOiAvXFxiKD86KD86MFt4WF1bXFxkQS1GYS1mXSt8MFtiQl1bMDFdK3wwW29PXVswLTddKyluP3xcXGQrbnxOYU58SW5maW5pdHkpXFxifCg/OlxcYlxcZCtcXC4/XFxkKnxcXEJcXC5cXGQrKSg/OltFZV1bKy1dP1xcZCspPy8sXG5cdFx0Ly8gQWxsb3cgZm9yIGFsbCBub24tQVNDSUkgY2hhcmFjdGVycyAoU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIwMDg0NDQpXG5cdFx0J2Z1bmN0aW9uJzogL1tfJGEtekEtWlxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSooPz1cXHMqKD86XFwuXFxzKig/OmFwcGx5fGJpbmR8Y2FsbClcXHMqKT9cXCgpLyxcblx0XHQnb3BlcmF0b3InOiAvLVstPV0/fFxcK1srPV0/fCE9Pz0/fDw8Pz0/fD4+Pz4/PT98PSg/Oj09P3w+KT98JlsmPV0/fFxcfFt8PV0/fFxcKlxcKj89P3xcXC89P3x+fFxcXj0/fCU9P3xcXD98XFwuezN9L1xuXHR9KTtcblx0XG5cdFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0WydjbGFzcy1uYW1lJ11bMF0ucGF0dGVybiA9IC8oXFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3xpbnN0YW5jZW9mfG5ldylcXHMrKVtcXHcuXFxcXF0rL1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdrZXl3b3JkJywge1xuXHRcdCdyZWdleCc6IHtcblx0XHRcdHBhdHRlcm46IC8oKD86XnxbXiRcXHdcXHhBMC1cXHVGRkZGLlwiJ1xcXSlcXHNdKVxccyopXFwvKFxcWyg/OlteXFxdXFxcXFxcclxcbl18XFxcXC4pKl18XFxcXC58W14vXFxcXFxcW1xcclxcbl0pK1xcL1tnaW15dV17MCw1fSg/PVxccyooJHxbXFxyXFxuLC47fSlcXF1dKSkvLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGdyZWVkeTogdHJ1ZVxuXHRcdH0sXG5cdFx0Ly8gVGhpcyBtdXN0IGJlIGRlY2xhcmVkIGJlZm9yZSBrZXl3b3JkIGJlY2F1c2Ugd2UgdXNlIFwiZnVuY3Rpb25cIiBpbnNpZGUgdGhlIGxvb2stZm9yd2FyZFxuXHRcdCdmdW5jdGlvbi12YXJpYWJsZSc6IHtcblx0XHRcdHBhdHRlcm46IC9bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKls9Ol1cXHMqKD86YXN5bmNcXHMqKT8oPzpcXGJmdW5jdGlvblxcYnwoPzpcXCgoPzpbXigpXXxcXChbXigpXSpcXCkpKlxcKXxbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKVxccyo9PikpLyxcblx0XHRcdGFsaWFzOiAnZnVuY3Rpb24nXG5cdFx0fSxcblx0XHQncGFyYW1ldGVyJzogW1xuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKGZ1bmN0aW9uKD86XFxzK1tfJEEtWmEtelxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSopP1xccypcXChcXHMqKSg/IVxccykoPzpbXigpXXxcXChbXigpXSpcXCkpKz8oPz1cXHMqXFwpKS8sXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC9bXyRhLXpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKj0+KS9pLFxuXHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKFxcKFxccyopKD8hXFxzKSg/OlteKCldfFxcKFteKCldKlxcKSkrPyg/PVxccypcXClcXHMqPT4pLyxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0cGF0dGVybjogLygoPzpcXGJ8XFxzfF4pKD8hKD86YXN8YXN5bmN8YXdhaXR8YnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8ZmluYWxseXxmb3J8ZnJvbXxmdW5jdGlvbnxnZXR8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW58aW5zdGFuY2VvZnxpbnRlcmZhY2V8bGV0fG5ld3xudWxsfG9mfHBhY2thZ2V8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJldHVybnxzZXR8c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlb2Z8dW5kZWZpbmVkfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpKD8hWyRcXHdcXHhBMC1cXHVGRkZGXSkpKD86W18kQS1aYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKlxccyopXFwoXFxzKikoPyFcXHMpKD86W14oKV18XFwoW14oKV0qXFwpKSs/KD89XFxzKlxcKVxccypcXHspLyxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0J2NvbnN0YW50JzogL1xcYltBLVpdKD86W0EtWl9dfFxcZHg/KSpcXGIvXG5cdH0pO1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdzdHJpbmcnLCB7XG5cdFx0J3RlbXBsYXRlLXN0cmluZyc6IHtcblx0XHRcdHBhdHRlcm46IC9gKD86XFxcXFtcXHNcXFNdfFxcJHtbXn1dK318W15cXFxcYF0pKmAvLFxuXHRcdFx0Z3JlZWR5OiB0cnVlLFxuXHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdCdpbnRlcnBvbGF0aW9uJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC9cXCR7W159XSt9Lyxcblx0XHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHRcdCdpbnRlcnBvbGF0aW9uLXB1bmN0dWF0aW9uJzoge1xuXHRcdFx0XHRcdFx0XHRwYXR0ZXJuOiAvXlxcJHt8fSQvLFxuXHRcdFx0XHRcdFx0XHRhbGlhczogJ3B1bmN0dWF0aW9uJ1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHJlc3Q6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQnc3RyaW5nJzogL1tcXHNcXFNdKy9cblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXHRcblx0aWYgKFByaXNtLmxhbmd1YWdlcy5tYXJrdXApIHtcblx0XHRQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5hZGRJbmxpbmVkKCdzY3JpcHQnLCAnamF2YXNjcmlwdCcpO1xuXHR9XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuanMgPSBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdDtcblx0XG5cdFxuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tZmlsZS1oaWdobGlnaHQuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0KGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnIHx8ICFzZWxmLlByaXNtIHx8ICFzZWxmLmRvY3VtZW50IHx8ICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcblx0XHQvKipcblx0XHQgKiBAcGFyYW0ge0VsZW1lbnR9IFtjb250YWluZXI9ZG9jdW1lbnRdXG5cdFx0ICovXG5cdFx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0ID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0XHRjb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFxuXHRcdFx0dmFyIEV4dGVuc2lvbnMgPSB7XG5cdFx0XHRcdCdqcyc6ICdqYXZhc2NyaXB0Jyxcblx0XHRcdFx0J3B5JzogJ3B5dGhvbicsXG5cdFx0XHRcdCdyYic6ICdydWJ5Jyxcblx0XHRcdFx0J3BzMSc6ICdwb3dlcnNoZWxsJyxcblx0XHRcdFx0J3BzbTEnOiAncG93ZXJzaGVsbCcsXG5cdFx0XHRcdCdzaCc6ICdiYXNoJyxcblx0XHRcdFx0J2JhdCc6ICdiYXRjaCcsXG5cdFx0XHRcdCdoJzogJ2MnLFxuXHRcdFx0XHQndGV4JzogJ2xhdGV4J1xuXHRcdFx0fTtcblx0XG5cdFx0XHRBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgncHJlW2RhdGEtc3JjXScpKS5mb3JFYWNoKGZ1bmN0aW9uIChwcmUpIHtcblx0XHRcdFx0Ly8gaWdub3JlIGlmIGFscmVhZHkgbG9hZGVkXG5cdFx0XHRcdGlmIChwcmUuaGFzQXR0cmlidXRlKCdkYXRhLXNyYy1sb2FkZWQnKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gbG9hZCBjdXJyZW50XG5cdFx0XHRcdHZhciBzcmMgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuXHRcblx0XHRcdFx0dmFyIGxhbmd1YWdlLCBwYXJlbnQgPSBwcmU7XG5cdFx0XHRcdHZhciBsYW5nID0gL1xcYmxhbmcoPzp1YWdlKT8tKFtcXHctXSspXFxiL2k7XG5cdFx0XHRcdHdoaWxlIChwYXJlbnQgJiYgIWxhbmcudGVzdChwYXJlbnQuY2xhc3NOYW1lKSkge1xuXHRcdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdFx0bGFuZ3VhZ2UgPSAocHJlLmNsYXNzTmFtZS5tYXRjaChsYW5nKSB8fCBbLCAnJ10pWzFdO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoIWxhbmd1YWdlKSB7XG5cdFx0XHRcdFx0dmFyIGV4dGVuc2lvbiA9IChzcmMubWF0Y2goL1xcLihcXHcrKSQvKSB8fCBbLCAnJ10pWzFdO1xuXHRcdFx0XHRcdGxhbmd1YWdlID0gRXh0ZW5zaW9uc1tleHRlbnNpb25dIHx8IGV4dGVuc2lvbjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0dmFyIGNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2RlJyk7XG5cdFx0XHRcdGNvZGUuY2xhc3NOYW1lID0gJ2xhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XG5cdFx0XHRcdHByZS50ZXh0Q29udGVudCA9ICcnO1xuXHRcblx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9ICdMb2FkaW5n4oCmJztcblx0XG5cdFx0XHRcdHByZS5hcHBlbmRDaGlsZChjb2RlKTtcblx0XG5cdFx0XHRcdHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XG5cdFx0XHRcdHhoci5vcGVuKCdHRVQnLCBzcmMsIHRydWUpO1xuXHRcblx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xuXHRcblx0XHRcdFx0XHRcdGlmICh4aHIuc3RhdHVzIDwgNDAwICYmIHhoci5yZXNwb25zZVRleHQpIHtcblx0XHRcdFx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9IHhoci5yZXNwb25zZVRleHQ7XG5cdFxuXHRcdFx0XHRcdFx0XHRQcmlzbS5oaWdobGlnaHRFbGVtZW50KGNvZGUpO1xuXHRcdFx0XHRcdFx0XHQvLyBtYXJrIGFzIGxvYWRlZFxuXHRcdFx0XHRcdFx0XHRwcmUuc2V0QXR0cmlidXRlKCdkYXRhLXNyYy1sb2FkZWQnLCAnJyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIGlmICh4aHIuc3RhdHVzID49IDQwMCkge1xuXHRcdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ+KcliBFcnJvciAnICsgeGhyLnN0YXR1cyArICcgd2hpbGUgZmV0Y2hpbmcgZmlsZTogJyArIHhoci5zdGF0dXNUZXh0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAn4pyWIEVycm9yOiBGaWxlIGRvZXMgbm90IGV4aXN0IG9yIGlzIGVtcHR5Jztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFxuXHRcdFx0XHR4aHIuc2VuZChudWxsKTtcblx0XHRcdH0pO1xuXHRcblx0XHRcdGlmIChQcmlzbS5wbHVnaW5zLnRvb2xiYXIpIHtcblx0XHRcdFx0UHJpc20ucGx1Z2lucy50b29sYmFyLnJlZ2lzdGVyQnV0dG9uKCdkb3dubG9hZC1maWxlJywgZnVuY3Rpb24gKGVudikge1xuXHRcdFx0XHRcdHZhciBwcmUgPSBlbnYuZWxlbWVudC5wYXJlbnROb2RlO1xuXHRcdFx0XHRcdGlmICghcHJlIHx8ICEvcHJlL2kudGVzdChwcmUubm9kZU5hbWUpIHx8ICFwcmUuaGFzQXR0cmlidXRlKCdkYXRhLXNyYycpIHx8ICFwcmUuaGFzQXR0cmlidXRlKCdkYXRhLWRvd25sb2FkLWxpbmsnKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YXIgc3JjID0gcHJlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcblx0XHRcdFx0XHR2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0XHRcdFx0XHRhLnRleHRDb250ZW50ID0gcHJlLmdldEF0dHJpYnV0ZSgnZGF0YS1kb3dubG9hZC1saW5rLWxhYmVsJykgfHwgJ0Rvd25sb2FkJztcblx0XHRcdFx0XHRhLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAnJyk7XG5cdFx0XHRcdFx0YS5ocmVmID0gc3JjO1xuXHRcdFx0XHRcdHJldHVybiBhO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XG5cdFx0fTtcblx0XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIGV4ZWN1dGUgaW5zaWRlIGhhbmRsZXIsIGZvciBkcm9wcGluZyBFdmVudCBhcyBhcmd1bWVudFxuXHRcdFx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0KCk7XG5cdFx0fSk7XG5cdFxuXHR9KSgpO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgZnJvbSA9IGZ1bmN0aW9uKG9wdHMsIHBsdWdpbnMpIHtcblx0ICB2YXIgcGFyZW50ID0gKG9wdHMucGFyZW50IHx8IG9wdHMpLm5vZGVUeXBlID09PSAxID8gKG9wdHMucGFyZW50IHx8IG9wdHMpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRzLnBhcmVudCB8fCBvcHRzKSxcblx0ICAgIHNsaWRlcyA9IFtdLmZpbHRlci5jYWxsKHR5cGVvZiBvcHRzLnNsaWRlcyA9PT0gJ3N0cmluZycgPyBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChvcHRzLnNsaWRlcykgOiAob3B0cy5zbGlkZXMgfHwgcGFyZW50LmNoaWxkcmVuKSwgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLm5vZGVOYW1lICE9PSAnU0NSSVBUJzsgfSksXG5cdCAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1swXSxcblx0ICAgIGxpc3RlbmVycyA9IHt9LFxuXHRcblx0ICAgIGFjdGl2YXRlID0gZnVuY3Rpb24oaW5kZXgsIGN1c3RvbURhdGEpIHtcblx0ICAgICAgaWYgKCFzbGlkZXNbaW5kZXhdKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBmaXJlKCdkZWFjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG5cdCAgICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzW2luZGV4XTtcblx0ICAgICAgZmlyZSgnYWN0aXZhdGUnLCBjcmVhdGVFdmVudERhdGEoYWN0aXZlU2xpZGUsIGN1c3RvbURhdGEpKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgc2xpZGUgPSBmdW5jdGlvbihpbmRleCwgY3VzdG9tRGF0YSkge1xuXHQgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuXHQgICAgICAgIGZpcmUoJ3NsaWRlJywgY3JlYXRlRXZlbnREYXRhKHNsaWRlc1tpbmRleF0sIGN1c3RvbURhdGEpKSAmJiBhY3RpdmF0ZShpbmRleCwgY3VzdG9tRGF0YSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICBzdGVwID0gZnVuY3Rpb24ob2Zmc2V0LCBjdXN0b21EYXRhKSB7XG5cdCAgICAgIHZhciBzbGlkZUluZGV4ID0gc2xpZGVzLmluZGV4T2YoYWN0aXZlU2xpZGUpICsgb2Zmc2V0O1xuXHRcblx0ICAgICAgZmlyZShvZmZzZXQgPiAwID8gJ25leHQnIDogJ3ByZXYnLCBjcmVhdGVFdmVudERhdGEoYWN0aXZlU2xpZGUsIGN1c3RvbURhdGEpKSAmJiBhY3RpdmF0ZShzbGlkZUluZGV4LCBjdXN0b21EYXRhKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgb24gPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG5cdCAgICAgIChsaXN0ZW5lcnNbZXZlbnROYW1lXSB8fCAobGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXSkpLnB1c2goY2FsbGJhY2spO1xuXHQgICAgICByZXR1cm4gb2ZmLmJpbmQobnVsbCwgZXZlbnROYW1lLCBjYWxsYmFjayk7XG5cdCAgICB9LFxuXHRcblx0ICAgIG9mZiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcblx0ICAgICAgbGlzdGVuZXJzW2V2ZW50TmFtZV0gPSAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgW10pLmZpbHRlcihmdW5jdGlvbihsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIgIT09IGNhbGxiYWNrOyB9KTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZmlyZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZXZlbnREYXRhKSB7XG5cdCAgICAgIHJldHVybiAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgW10pXG5cdCAgICAgICAgLnJlZHVjZShmdW5jdGlvbihub3RDYW5jZWxsZWQsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgICByZXR1cm4gbm90Q2FuY2VsbGVkICYmIGNhbGxiYWNrKGV2ZW50RGF0YSkgIT09IGZhbHNlO1xuXHQgICAgICAgIH0sIHRydWUpO1xuXHQgICAgfSxcblx0XG5cdCAgICBjcmVhdGVFdmVudERhdGEgPSBmdW5jdGlvbihlbCwgZXZlbnREYXRhKSB7XG5cdCAgICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCB7fTtcblx0ICAgICAgZXZlbnREYXRhLmluZGV4ID0gc2xpZGVzLmluZGV4T2YoZWwpO1xuXHQgICAgICBldmVudERhdGEuc2xpZGUgPSBlbDtcblx0ICAgICAgcmV0dXJuIGV2ZW50RGF0YTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZGVjayA9IHtcblx0ICAgICAgb246IG9uLFxuXHQgICAgICBvZmY6IG9mZixcblx0ICAgICAgZmlyZTogZmlyZSxcblx0ICAgICAgc2xpZGU6IHNsaWRlLFxuXHQgICAgICBuZXh0OiBzdGVwLmJpbmQobnVsbCwgMSksXG5cdCAgICAgIHByZXY6IHN0ZXAuYmluZChudWxsLCAtMSksXG5cdCAgICAgIHBhcmVudDogcGFyZW50LFxuXHQgICAgICBzbGlkZXM6IHNsaWRlc1xuXHQgICAgfTtcblx0XG5cdCAgKHBsdWdpbnMgfHwgW10pLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG5cdCAgICBwbHVnaW4oZGVjayk7XG5cdCAgfSk7XG5cdFxuXHQgIGFjdGl2YXRlKDApO1xuXHRcblx0ICByZXR1cm4gZGVjaztcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGZyb206IGZyb21cblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgcmVxdWlyZTt2YXIgcmVxdWlyZTsvKiFcblx0ICogYmVzcG9rZS10aGVtZS1uZWJ1bGEgdjEuMC4xXG5cdCAqXG5cdCAqIENvcHlyaWdodCAyMDE0LCBNYXJrIERhbGdsZWlzaFxuXHQgKiBUaGlzIGNvbnRlbnQgaXMgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG5cdCAqIFxuXHQgKi9cblx0XG5cdCFmdW5jdGlvbihlKXtpZih0cnVlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoZSk7ZWxzZXt2YXIgbztcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P289d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/bz1nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJihvPXNlbGYpO3ZhciBmPW87Zj1mLmJlc3Bva2V8fChmLmJlc3Bva2U9e30pLGY9Zi50aGVtZXN8fChmLnRoZW1lcz17fSksZi5uZWJ1bGE9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gcmVxdWlyZShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFxuXHR2YXIgY2xhc3NlcyA9IF9kZXJlcV8oJ2Jlc3Bva2UtY2xhc3NlcycpO1xuXHR2YXIgaW5zZXJ0Q3NzID0gX2RlcmVxXygnaW5zZXJ0LWNzcycpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICB2YXIgY3NzID0gXCIvKiEgbm9ybWFsaXplLmNzcyB2My4wLjAgfCBNSVQgTGljZW5zZSB8IGdpdC5pby9ub3JtYWxpemUgKi9odG1se2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJX1ib2R5e21hcmdpbjowfWFydGljbGUsYXNpZGUsZGV0YWlscyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLGhncm91cCxtYWluLG5hdixzZWN0aW9uLHN1bW1hcnl7ZGlzcGxheTpibG9ja31hdWRpbyxjYW52YXMscHJvZ3Jlc3MsdmlkZW97ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9YXVkaW86bm90KFtjb250cm9sc10pe2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MH1baGlkZGVuXSx0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9YXtiYWNrZ3JvdW5kOjAgMH1hOmFjdGl2ZSxhOmhvdmVye291dGxpbmU6MH1hYmJyW3RpdGxlXXtib3JkZXItYm90dG9tOjFweCBkb3R0ZWR9Yntmb250LXdlaWdodDo3MDB9ZGZue2ZvbnQtc3R5bGU6aXRhbGljfWgxe2ZvbnQtc2l6ZToyZW19bWFya3tiYWNrZ3JvdW5kOiNmZjA7Y29sb3I6IzAwMH1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN1cHt0b3A6LS41ZW19c3Vie2JvdHRvbTotLjI1ZW19aW1ne2JvcmRlcjowfXN2Zzpub3QoOnJvb3Qpe292ZXJmbG93OmhpZGRlbn1maWd1cmV7bWFyZ2luOjFlbSA0MHB4fWhye2JveC1zaXppbmc6Y29udGVudC1ib3h9cHJle292ZXJmbG93OmF1dG99Y29kZSxrYmQscHJlLHNhbXB7Zm9udC1zaXplOjFlbX1rYmQscHJlLHNhbXB7Zm9udC1mYW1pbHk6bW9ub3NwYWNlLG1vbm9zcGFjZX1idXR0b24saW5wdXQsb3B0Z3JvdXAsc2VsZWN0LHRleHRhcmVhe2NvbG9yOmluaGVyaXQ7Zm9udDppbmhlcml0O21hcmdpbjowfWJ1dHRvbntvdmVyZmxvdzp2aXNpYmxlfWJ1dHRvbixzZWxlY3R7dGV4dC10cmFuc2Zvcm06bm9uZX1idXR0b24saHRtbCBpbnB1dFt0eXBlPVxcXCJidXR0b25cXFwiXSxpbnB1dFt0eXBlPVxcXCJyZXNldFxcXCJdLGlucHV0W3R5cGU9XFxcInN1Ym1pdFxcXCJdey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247Y3Vyc29yOnBvaW50ZXJ9YnV0dG9uW2Rpc2FibGVkXSxodG1sIGlucHV0W2Rpc2FibGVkXXtjdXJzb3I6ZGVmYXVsdH1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIsaW5wdXQ6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOjA7cGFkZGluZzowfWlucHV0e2xpbmUtaGVpZ2h0Om5vcm1hbH1pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLGlucHV0W3R5cGU9XFxcInJhZGlvXFxcIl17Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH1pbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixpbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbntoZWlnaHQ6YXV0b31pbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXXstd2Via2l0LWFwcGVhcmFuY2U6dGV4dGZpZWxkO2JveC1zaXppbmc6Y29udGVudC1ib3h9aW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWNhbmNlbC1idXR0b24saW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb257LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9ZmllbGRzZXR7Ym9yZGVyOjFweCBzb2xpZCBzaWx2ZXI7bWFyZ2luOjAgMnB4O3BhZGRpbmc6LjM1ZW0gLjYyNWVtIC43NWVtfWxlZ2VuZHtib3JkZXI6MDtwYWRkaW5nOjB9dGV4dGFyZWF7b3ZlcmZsb3c6YXV0b31vcHRncm91cHtmb250LXdlaWdodDo3MDB9dGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JvcmRlci1zcGFjaW5nOjB9dGQsdGgsKntwYWRkaW5nOjB9KnttYXJnaW46MH1odG1sey13ZWJraXQtdGV4dC1zaXplLWFkanVzdDphdXRvOy1tcy10ZXh0LXNpemUtYWRqdXN0OmF1dG87dGV4dC1zaXplLWFkanVzdDphdXRvfS5iZXNwb2tlLXBhcmVudHtmb250LXNpemU6MS41ZW07YmFja2dyb3VuZDojMTExO2NvbG9yOiNkZGQ7Zm9udC1mYW1pbHk6ZnV0dXJhLGhlbHZldGljYSxhcmlhbCxhcmlhbCxzYW5zLXNlcmlmO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZCAxcyBlYXNlO3RyYW5zaXRpb246YmFja2dyb3VuZCAxcyBlYXNlO2JhY2tncm91bmQtcG9zaXRpb246NTAlIDUwJX0uYmVzcG9rZS1wYXJlbnQsLmJlc3Bva2Utc2NhbGUtcGFyZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowfS5iZXNwb2tlLXNjYWxlLXBhcmVudHtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6MX0uYmVzcG9rZS1zY2FsZS1wYXJlbnQgLmJlc3Bva2UtYWN0aXZle3BvaW50ZXItZXZlbnRzOmF1dG99LmJlc3Bva2Utc2xpZGV7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjVzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC41cyBlYXNlO3dpZHRoOjk0MHB4O2hlaWdodDo0ODBweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi00NzBweDttYXJnaW4tdG9wOi0yNDBweDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LXdlYmtpdC1mbGV4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy13ZWJraXQtZmxleC1kaXJlY3Rpb246Y29sdW1uOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy13ZWJraXQtanVzdGlmeS1jb250ZW50OmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3otaW5kZXg6MX0uYmVzcG9rZS1hY3RpdmV7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi41czt0cmFuc2l0aW9uLWRlbGF5Oi41c30uYmVzcG9rZS1hY3RpdmVbZGF0YS1iZXNwb2tlLWJhY2tkcm9wXXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6Ljc1czt0cmFuc2l0aW9uLWRlbGF5Oi43NXN9LmJlc3Bva2UtaW5hY3RpdmV7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmV9LmJlc3Bva2UtYmFja2Ryb3B7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7aGVpZ2h0Oi4zdnc7ei1pbmRleDoxfS5iZXNwb2tlLXByb2dyZXNzLWJhcntiYWNrZ3JvdW5kOiNkZGQ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO2hlaWdodDoxMDAlOy13ZWJraXQtdHJhbnNpdGlvbjp3aWR0aCAxcyBlYXNlO3RyYW5zaXRpb246d2lkdGggMXMgZWFzZX0uYmVzcG9rZS1idWxsZXR7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlfS5iZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZXtvcGFjaXR5OjB9c3Ryb25ne2ZvbnQtd2VpZ2h0OjQwMH1ocnt3aWR0aDo1MCU7bWFyZ2luOjFyZW0gYXV0bztoZWlnaHQ6MXB4O2JvcmRlcjowO2JhY2tncm91bmQ6I2RkZH1oMyxwLGxpe3BhZGRpbmctbGVmdDoyMHB4O3BhZGRpbmctcmlnaHQ6MjBweH1oMyxoNCxwLGxpLHByZXtmb250LXdlaWdodDoyMDB9aDF7bGluZS1oZWlnaHQ6MS40ZW07cGFkZGluZzoxZW07Ym9yZGVyOjFweCBzb2xpZCAjZGRkO2JvcmRlci1sZWZ0LXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOjA7bWluLXdpZHRoOjhlbX1oMSxoMntsZXR0ZXItc3BhY2luZzouM2VtO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtmb250LXdlaWdodDo0MDA7bWFyZ2luOi4xN2VtIDA7cG9zaXRpb246cmVsYXRpdmV9aDJ7bGluZS1oZWlnaHQ6MS4xZW07cGFkZGluZzowIDAgMCAuM2VtfWgze2ZvbnQtZmFtaWx5OmRpZG90LHRpbWVzIG5ldyByb21hbixzZXJpZjtmb250LXN0eWxlOml0YWxpYztmb250LXNpemU6MS4yZW07bGluZS1oZWlnaHQ6MS42ZW07bWFyZ2luOi41ZW0gMH1oNHt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC1zaXplOi44ZW07bGluZS1oZWlnaHQ6MS44ZW07bGV0dGVyLXNwYWNpbmc6LjNlbTttYXJnaW46MWVtIDB9dWwsb2x7cGFkZGluZzowO21hcmdpbjowO3RleHQtYWxpZ246bGVmdH1saXtsaXN0LXN0eWxlOm5vbmU7bWFyZ2luOi4yZW07Zm9udC1zdHlsZTpub3JtYWw7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCl9bGk6YmVmb3Jle2NvbnRlbnQ6J1xcXFwyMDE0JzttYXJnaW4tcmlnaHQ6NHB4fXByZXtiYWNrZ3JvdW5kOm5vbmUhaW1wb3J0YW50fWNvZGV7Zm9udC1mYW1pbHk6cHJlc3RpZ2UgZWxpdGUgc3RkLGNvbnNvbGFzLGNvdXJpZXIgbmV3LG1vbm9zcGFjZSFpbXBvcnRhbnQ7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6MjAwIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnR9YXtwYWRkaW5nLWxlZnQ6LjNlbTtjb2xvcjpjdXJyZW50Q29sb3I7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgY3VycmVudENvbG9yfS5lbXBoYXRpY3tiYWNrZ3JvdW5kOiNmMzB9LnNpbmdsZS13b3Jkc3t3b3JkLXNwYWNpbmc6OTk5OXB4O2xpbmUtaGVpZ2h0OjIuOWVtO292ZXJmbG93OmhpZGRlbn0uYmVzcG9rZS1iYWNrZHJvcHtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSA2cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlLHRyYW5zZm9ybSA2cyBlYXNlO2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKXNjYWxlKDEuMyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMClzY2FsZSgxLjMpfS5iZXNwb2tlLWJhY2tkcm9wLWFjdGl2ZSwuYmVzcG9rZS1iYWNrZHJvcC1iZWZvcmV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKX0uYmVzcG9rZS1iYWNrZHJvcC1iZWZvcmV7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi4yczt0cmFuc2l0aW9uLWRlbGF5Oi4yc30uYmVzcG9rZS1iYWNrZHJvcC1hY3RpdmV7b3BhY2l0eTouNX1cIjtcblx0ICBpbnNlcnRDc3MoY3NzLCB7IHByZXBlbmQ6IHRydWUgfSk7XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICBjbGFzc2VzKCkoZGVjayk7XG5cdCAgfTtcblx0fTtcblx0XG5cdH0se1wiYmVzcG9rZS1jbGFzc2VzXCI6MixcImluc2VydC1jc3NcIjozfV0sMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBhZGRDbGFzcyA9IGZ1bmN0aW9uKGVsLCBjbHMpIHtcblx0ICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLScgKyBjbHMpO1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbCwgY2xzKSB7XG5cdCAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lXG5cdCAgICAgICAgICAucmVwbGFjZShuZXcgUmVnRXhwKCdiZXNwb2tlLScgKyBjbHMgKycoXFxcXHN8JCknLCAnZycpLCAnICcpXG5cdCAgICAgICAgICAudHJpbSgpO1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uKGVsLCBpbmRleCkge1xuXHQgICAgICAgIHZhciBhY3RpdmVTbGlkZSA9IGRlY2suc2xpZGVzW2RlY2suc2xpZGUoKV0sXG5cdCAgICAgICAgICBvZmZzZXQgPSBpbmRleCAtIGRlY2suc2xpZGUoKSxcblx0ICAgICAgICAgIG9mZnNldENsYXNzID0gb2Zmc2V0ID4gMCA/ICdhZnRlcicgOiAnYmVmb3JlJztcblx0XG5cdCAgICAgICAgWydiZWZvcmUoLVxcXFxkKyk/JywgJ2FmdGVyKC1cXFxcZCspPycsICdhY3RpdmUnLCAnaW5hY3RpdmUnXS5tYXAocmVtb3ZlQ2xhc3MuYmluZChudWxsLCBlbCkpO1xuXHRcblx0ICAgICAgICBpZiAoZWwgIT09IGFjdGl2ZVNsaWRlKSB7XG5cdCAgICAgICAgICBbJ2luYWN0aXZlJywgb2Zmc2V0Q2xhc3MsIG9mZnNldENsYXNzICsgJy0nICsgTWF0aC5hYnMob2Zmc2V0KV0ubWFwKGFkZENsYXNzLmJpbmQobnVsbCwgZWwpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdFxuXHQgICAgYWRkQ2xhc3MoZGVjay5wYXJlbnQsICdwYXJlbnQnKTtcblx0ICAgIGRlY2suc2xpZGVzLm1hcChmdW5jdGlvbihlbCkgeyBhZGRDbGFzcyhlbCwgJ3NsaWRlJyk7IH0pO1xuXHRcblx0ICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuXHQgICAgICBkZWNrLnNsaWRlcy5tYXAoZGVhY3RpdmF0ZSk7XG5cdCAgICAgIGFkZENsYXNzKGUuc2xpZGUsICdhY3RpdmUnKTtcblx0ICAgICAgcmVtb3ZlQ2xhc3MoZS5zbGlkZSwgJ2luYWN0aXZlJyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXHRcblx0fSx7fV0sMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdHZhciBpbnNlcnRlZCA9IHt9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzLCBvcHRpb25zKSB7XG5cdCAgICBpZiAoaW5zZXJ0ZWRbY3NzXSkgcmV0dXJuO1xuXHQgICAgaW5zZXJ0ZWRbY3NzXSA9IHRydWU7XG5cdCAgICBcblx0ICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0ICAgIGVsZW0uc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7XG5cdFxuXHQgICAgaWYgKCd0ZXh0Q29udGVudCcgaW4gZWxlbSkge1xuXHQgICAgICBlbGVtLnRleHRDb250ZW50ID0gY3NzO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZWxlbS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdCAgICB9XG5cdCAgICBcblx0ICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcblx0ICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucHJlcGVuZCkge1xuXHQgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKGVsZW0sIGhlYWQuY2hpbGROb2Rlc1swXSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoZWxlbSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHR9LHt9XX0se30sWzFdKVxuXHQoMSlcblx0fSk7XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgaXNIb3Jpem9udGFsID0gb3B0aW9ucyAhPT0gJ3ZlcnRpY2FsJztcblx0XG5cdCAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuXHQgICAgICBpZiAoZS53aGljaCA9PSAzNCB8fCAvLyBQQUdFIERPV05cblx0ICAgICAgICAoZS53aGljaCA9PSAzMiAmJiAhZS5zaGlmdEtleSkgfHwgLy8gU1BBQ0UgV0lUSE9VVCBTSElGVFxuXHQgICAgICAgIChpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzOSkgfHwgLy8gUklHSFRcblx0ICAgICAgICAoIWlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDQwKSAvLyBET1dOXG5cdCAgICAgICkgeyBkZWNrLm5leHQoKTsgfVxuXHRcblx0ICAgICAgaWYgKGUud2hpY2ggPT0gMzMgfHwgLy8gUEFHRSBVUFxuXHQgICAgICAgIChlLndoaWNoID09IDMyICYmIGUuc2hpZnRLZXkpIHx8IC8vIFNQQUNFICsgU0hJRlRcblx0ICAgICAgICAoaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzcpIHx8IC8vIExFRlRcblx0ICAgICAgICAoIWlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM4KSAvLyBVUFxuXHQgICAgICApIHsgZGVjay5wcmV2KCk7IH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBheGlzID0gb3B0aW9ucyA9PSAndmVydGljYWwnID8gJ1knIDogJ1gnLFxuXHQgICAgICBzdGFydFBvc2l0aW9uLFxuXHQgICAgICBkZWx0YTtcblx0XG5cdCAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xuXHQgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG5cdCAgICAgICAgc3RhcnRQb3NpdGlvbiA9IGUudG91Y2hlc1swXVsncGFnZScgKyBheGlzXTtcblx0ICAgICAgICBkZWx0YSA9IDA7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIGRlY2sucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuXHQgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICBkZWx0YSA9IGUudG91Y2hlc1swXVsncGFnZScgKyBheGlzXSAtIHN0YXJ0UG9zaXRpb247XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIGRlY2sucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24oKSB7XG5cdCAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiA1MCkge1xuXHQgICAgICAgIGRlY2tbZGVsdGEgPiAwID8gJ3ByZXYnIDogJ25leHQnXSgpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYWN0aXZlU2xpZGVJbmRleCxcblx0ICAgICAgYWN0aXZlQnVsbGV0SW5kZXgsXG5cdFxuXHQgICAgICBidWxsZXRzID0gZGVjay5zbGlkZXMubWFwKGZ1bmN0aW9uKHNsaWRlKSB7XG5cdCAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoc2xpZGUucXVlcnlTZWxlY3RvckFsbCgodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnID8gb3B0aW9ucyA6ICdbZGF0YS1iZXNwb2tlLWJ1bGxldF0nKSksIDApO1xuXHQgICAgICB9KSxcblx0XG5cdCAgICAgIG5leHQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgbmV4dFNsaWRlSW5kZXggPSBhY3RpdmVTbGlkZUluZGV4ICsgMTtcblx0XG5cdCAgICAgICAgaWYgKGFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQoMSkpIHtcblx0ICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KGFjdGl2ZVNsaWRlSW5kZXgsIGFjdGl2ZUJ1bGxldEluZGV4ICsgMSk7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIGlmIChidWxsZXRzW25leHRTbGlkZUluZGV4XSkge1xuXHQgICAgICAgICAgYWN0aXZhdGVCdWxsZXQobmV4dFNsaWRlSW5kZXgsIDApO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSxcblx0XG5cdCAgICAgIHByZXYgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcHJldlNsaWRlSW5kZXggPSBhY3RpdmVTbGlkZUluZGV4IC0gMTtcblx0XG5cdCAgICAgICAgaWYgKGFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQoLTEpKSB7XG5cdCAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChhY3RpdmVTbGlkZUluZGV4LCBhY3RpdmVCdWxsZXRJbmRleCAtIDEpO1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1twcmV2U2xpZGVJbmRleF0pIHtcblx0ICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KHByZXZTbGlkZUluZGV4LCBidWxsZXRzW3ByZXZTbGlkZUluZGV4XS5sZW5ndGggLSAxKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICBhY3RpdmF0ZUJ1bGxldCA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgsIGJ1bGxldEluZGV4KSB7XG5cdCAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IHNsaWRlSW5kZXg7XG5cdCAgICAgICAgYWN0aXZlQnVsbGV0SW5kZXggPSBidWxsZXRJbmRleDtcblx0XG5cdCAgICAgICAgYnVsbGV0cy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlLCBzKSB7XG5cdCAgICAgICAgICBzbGlkZS5mb3JFYWNoKGZ1bmN0aW9uKGJ1bGxldCwgYikge1xuXHQgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQnKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChzIDwgc2xpZGVJbmRleCB8fCBzID09PSBzbGlkZUluZGV4ICYmIGIgPD0gYnVsbGV0SW5kZXgpIHtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtYWN0aXZlJyk7XG5cdCAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWluYWN0aXZlJyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0LWluYWN0aXZlJyk7XG5cdCAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWFjdGl2ZScpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAocyA9PT0gc2xpZGVJbmRleCAmJiBiID09PSBidWxsZXRJbmRleCkge1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1jdXJyZW50Jyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWN1cnJlbnQnKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICBhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0ID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG5cdCAgICAgICAgcmV0dXJuIGJ1bGxldHNbYWN0aXZlU2xpZGVJbmRleF1bYWN0aXZlQnVsbGV0SW5kZXggKyBvZmZzZXRdICE9PSB1bmRlZmluZWQ7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgZGVjay5vbignbmV4dCcsIG5leHQpO1xuXHQgICAgZGVjay5vbigncHJldicsIHByZXYpO1xuXHRcblx0ICAgIGRlY2sub24oJ3NsaWRlJywgZnVuY3Rpb24oZSkge1xuXHQgICAgICBhY3RpdmF0ZUJ1bGxldChlLmluZGV4LCAwKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIGFjdGl2YXRlQnVsbGV0KDAsIDApO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGJhY2tkcm9wcztcblx0XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVCYWNrZHJvcEZvclNsaWRlKHNsaWRlKSB7XG5cdCAgICAgIHZhciBiYWNrZHJvcEF0dHJpYnV0ZSA9IHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWJhY2tkcm9wJyk7XG5cdFxuXHQgICAgICBpZiAoYmFja2Ryb3BBdHRyaWJ1dGUpIHtcblx0ICAgICAgICB2YXIgYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgICAgICBiYWNrZHJvcC5jbGFzc05hbWUgPSBiYWNrZHJvcEF0dHJpYnV0ZTtcblx0ICAgICAgICBiYWNrZHJvcC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJhY2tkcm9wJyk7XG5cdCAgICAgICAgZGVjay5wYXJlbnQuYXBwZW5kQ2hpbGQoYmFja2Ryb3ApO1xuXHQgICAgICAgIHJldHVybiBiYWNrZHJvcDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMoZWwpIHtcblx0ICAgICAgaWYgKGVsKSB7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gYmFja2Ryb3BzLmluZGV4T2YoZWwpLFxuXHQgICAgICAgICAgY3VycmVudEluZGV4ID0gZGVjay5zbGlkZSgpO1xuXHRcblx0ICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2FjdGl2ZScpO1xuXHQgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnaW5hY3RpdmUnKTtcblx0ICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2JlZm9yZScpO1xuXHQgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYWZ0ZXInKTtcblx0XG5cdCAgICAgICAgaWYgKGluZGV4ICE9PSBjdXJyZW50SW5kZXgpIHtcblx0ICAgICAgICAgIGFkZENsYXNzKGVsLCAnaW5hY3RpdmUnKTtcblx0ICAgICAgICAgIGFkZENsYXNzKGVsLCBpbmRleCA8IGN1cnJlbnRJbmRleCA/ICdiZWZvcmUnIDogJ2FmdGVyJyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGFkZENsYXNzKGVsLCAnYWN0aXZlJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuXHQgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJhY2tkcm9wLScgKyBjbGFzc05hbWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcblx0ICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1iYWNrZHJvcC0nICsgY2xhc3NOYW1lKTtcblx0ICAgIH1cblx0XG5cdCAgICBiYWNrZHJvcHMgPSBkZWNrLnNsaWRlc1xuXHQgICAgICAubWFwKGNyZWF0ZUJhY2tkcm9wRm9yU2xpZGUpO1xuXHRcblx0ICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oKSB7XG5cdCAgICAgIGJhY2tkcm9wcy5mb3JFYWNoKHVwZGF0ZUNsYXNzZXMpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIHBhcmVudCA9IGRlY2sucGFyZW50LFxuXHQgICAgICBmaXJzdFNsaWRlID0gZGVjay5zbGlkZXNbMF0sXG5cdCAgICAgIHNsaWRlSGVpZ2h0ID0gZmlyc3RTbGlkZS5vZmZzZXRIZWlnaHQsXG5cdCAgICAgIHNsaWRlV2lkdGggPSBmaXJzdFNsaWRlLm9mZnNldFdpZHRoLFxuXHQgICAgICB1c2Vab29tID0gb3B0aW9ucyA9PT0gJ3pvb20nIHx8ICgnem9vbScgaW4gcGFyZW50LnN0eWxlICYmIG9wdGlvbnMgIT09ICd0cmFuc2Zvcm0nKSxcblx0XG5cdCAgICAgIHdyYXAgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cdCAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXNjYWxlLXBhcmVudCc7XG5cdCAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCBlbGVtZW50KTtcblx0ICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuXHQgICAgICAgIHJldHVybiB3cmFwcGVyO1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgZWxlbWVudHMgPSB1c2Vab29tID8gZGVjay5zbGlkZXMgOiBkZWNrLnNsaWRlcy5tYXAod3JhcCksXG5cdFxuXHQgICAgICB0cmFuc2Zvcm1Qcm9wZXJ0eSA9IChmdW5jdGlvbihwcm9wZXJ0eSkge1xuXHQgICAgICAgIHZhciBwcmVmaXhlcyA9ICdNb3ogV2Via2l0IE8gbXMnLnNwbGl0KCcgJyk7XG5cdCAgICAgICAgcmV0dXJuIHByZWZpeGVzLnJlZHVjZShmdW5jdGlvbihjdXJyZW50UHJvcGVydHksIHByZWZpeCkge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgcHJvcGVydHkgaW4gcGFyZW50LnN0eWxlID8gcHJlZml4ICsgcHJvcGVydHkgOiBjdXJyZW50UHJvcGVydHk7XG5cdCAgICAgICAgICB9LCBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpKTtcblx0ICAgICAgfSgnVHJhbnNmb3JtJykpLFxuXHRcblx0ICAgICAgc2NhbGUgPSB1c2Vab29tID9cblx0ICAgICAgICBmdW5jdGlvbihyYXRpbywgZWxlbWVudCkge1xuXHQgICAgICAgICAgZWxlbWVudC5zdHlsZS56b29tID0gcmF0aW87XG5cdCAgICAgICAgfSA6XG5cdCAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcblx0ICAgICAgICAgIGVsZW1lbnQuc3R5bGVbdHJhbnNmb3JtUHJvcGVydHldID0gJ3NjYWxlKCcgKyByYXRpbyArICcpJztcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgc2NhbGVBbGwgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgeFNjYWxlID0gcGFyZW50Lm9mZnNldFdpZHRoIC8gc2xpZGVXaWR0aCxcblx0ICAgICAgICAgIHlTY2FsZSA9IHBhcmVudC5vZmZzZXRIZWlnaHQgLyBzbGlkZUhlaWdodDtcblx0XG5cdCAgICAgICAgZWxlbWVudHMuZm9yRWFjaChzY2FsZS5iaW5kKG51bGwsIE1hdGgubWluKHhTY2FsZSwgeVNjYWxlKSkpO1xuXHQgICAgICB9O1xuXHRcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzY2FsZUFsbCk7XG5cdCAgICBzY2FsZUFsbCgpO1xuXHQgIH07XG5cdFxuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBhY3RpdmF0ZVNsaWRlID0gZnVuY3Rpb24oaW5kZXgpIHtcblx0ICAgICAgdmFyIGluZGV4VG9BY3RpdmF0ZSA9IC0xIDwgaW5kZXggJiYgaW5kZXggPCBkZWNrLnNsaWRlcy5sZW5ndGggPyBpbmRleCA6IDA7XG5cdCAgICAgIGlmIChpbmRleFRvQWN0aXZhdGUgIT09IGRlY2suc2xpZGUoKSkge1xuXHQgICAgICAgIGRlY2suc2xpZGUoaW5kZXhUb0FjdGl2YXRlKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgcGFyc2VIYXNoID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSksXG5cdCAgICAgICAgc2xpZGVOdW1iZXJPck5hbWUgPSBwYXJzZUludChoYXNoLCAxMCk7XG5cdFxuXHQgICAgICBpZiAoaGFzaCkge1xuXHQgICAgICAgIGlmIChzbGlkZU51bWJlck9yTmFtZSkge1xuXHQgICAgICAgICAgYWN0aXZhdGVTbGlkZShzbGlkZU51bWJlck9yTmFtZSAtIDEpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBkZWNrLnNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlLCBpKSB7XG5cdCAgICAgICAgICAgIGlmIChzbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1oYXNoJykgPT09IGhhc2ggfHwgc2xpZGUuaWQgPT09IGhhc2gpIHtcblx0ICAgICAgICAgICAgICBhY3RpdmF0ZVNsaWRlKGkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0ICAgICAgcGFyc2VIYXNoKCk7XG5cdFxuXHQgICAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICB2YXIgc2xpZGVOYW1lID0gZS5zbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1oYXNoJykgfHwgZS5zbGlkZS5pZDtcblx0ICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNsaWRlTmFtZSB8fCBlLmluZGV4ICsgMTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHBhcnNlSGFzaCk7XG5cdCAgICB9LCAwKTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKGRlY2spIHtcblx0ICAgIHZhciBwcm9ncmVzc1BhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuXHQgICAgICBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuXHQgICAgICBwcm9wID0gb3B0aW9ucyA9PT0gJ3ZlcnRpY2FsJyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblx0XG5cdCAgICBwcm9ncmVzc1BhcmVudC5jbGFzc05hbWUgPSAnYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnQnO1xuXHQgICAgcHJvZ3Jlc3NCYXIuY2xhc3NOYW1lID0gJ2Jlc3Bva2UtcHJvZ3Jlc3MtYmFyJztcblx0ICAgIHByb2dyZXNzUGFyZW50LmFwcGVuZENoaWxkKHByb2dyZXNzQmFyKTtcblx0ICAgIGRlY2sucGFyZW50LmFwcGVuZENoaWxkKHByb2dyZXNzUGFyZW50KTtcblx0XG5cdCAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGVbcHJvcF0gPSAoZS5pbmRleCAqIDEwMCAvIChkZWNrLnNsaWRlcy5sZW5ndGggLSAxKSkgKyAnJSc7XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgcmVxdWlyZTp0cnVlICovXG5cdFxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBwbHVnaW5OYW1lID0gXCJpbmRleGZpbmdlclwiLFxuXHQgICAgLy8gSGFjayB0byBnZXQgYXJvdW5kIGhhdmluZyB0byB3cml0ZSBhbGwgYnJvd3NlciBjb2RlIHdpdGggcmVxdWlyZSgpLlxuXHQgICAgYnJvd3Nlckdsb2JhbCA9IChmdW5jdGlvbihmKSB7XG5cdCAgICAgICAgcmV0dXJuIGYoXCJyZXR1cm4gdGhpc1wiKSgpO1xuXHQgICAgfShGdW5jdGlvbikpLFxuXHQgICAgY29udmVuaWVudCA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmNvbnZlbmllbnQpIHx8IF9fd2VicGFja19yZXF1aXJlX18oMTIpKSxcblx0ICAgIGN2ID0gY29udmVuaWVudC5idWlsZGVyKHBsdWdpbk5hbWUpLFxuXHRcblx0ICAgIHBsdWdpbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgZGVja2VyID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgICAgICB2YXIgY3ZCb3VuZFRvRGVjayA9IGN2LmFjdGl2YXRlRGVjayhkZWNrKSxcblx0XG5cdCAgICAgICAgICAgICAgICBvZmYgPSB7fSxcblx0XG5cdCAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZSA9IG51bGwsXG5cdFxuXHQgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IC0xLFxuXHRcblx0ICAgICAgICAgICAgICAgIHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzID0ge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG5cdCAgICAgICAgICAgICAgICAgICAgZW5hYmxlQWN0aXZlU2xpZGVMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9mZi5zYXZlQWN0aXZlU2xpZGUgPSB0aGlzLm9uKFwiYWN0aXZhdGVcIiwgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuc2F2ZUFjdGl2ZVNsaWRlLmJpbmQodGhpcykpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIHNhdmVBY3RpdmVTbGlkZTogZnVuY3Rpb24oZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZSA9IGUuc2xpZGU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBlLmluZGV4O1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGdldEFjdGl2ZVNsaWRlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVNsaWRlO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGdldEFjdGl2ZVNsaWRlSW5kZXg6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGVJbmRleDtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWNrLmdldEFjdGl2ZVNsaWRlID0gdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuZ2V0QWN0aXZlU2xpZGUuYmluZChkZWNrKTtcblx0ICAgICAgICAgICAgICAgICAgICBkZWNrLmdldEFjdGl2ZVNsaWRlSW5kZXggPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZUluZGV4LmJpbmQoZGVjayk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLmVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXIuY2FsbChkZWNrKTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMoKTtcblx0ICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICBpbml0KCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRlY2tlcjtcblx0ICAgIH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LypnbG9iYWwgbW9kdWxlOnRydWUsIGNvbnNvbGU6dHJ1ZSAqL1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgcGx1Z2luTmFtZSA9IFwiY29udmVuaWVudFwiLFxuXHQgICAgYnJvd3Nlckdsb2JhbCA9IChmdW5jdGlvbihmKSB7XG5cdCAgICAgICAgcmV0dXJuIGYoXCJyZXR1cm4gdGhpc1wiKSgpO1xuXHQgICAgfShGdW5jdGlvbikpLFxuXHRcblx0ICAgIGN2LFxuXHRcblx0ICAgIC8vIFRoZSBkZWZhdWx0cyBvYmplY3QgaXMgcGFzc2VkIGFzIGEgcmVmZXJlbmNlLCBhbmQgY2FuIGJlIG1vZGlmaWVkIGJ5IGJyb3dzZXJHbG9iYWwuY29udmVuaWVudEluaXRcblx0ICAgIGRlZmF1bHRzID0ge1xuXHQgICAgICAgIGxvZ2dlcjoge1xuXHQgICAgICAgICAgICBsb2c6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgcGhhbnRvbS1wb2x5ZmlsbC5qcyBwcm9ibGVtcyBiaW5kaW5nIGNvbnNvbGUubG9nICh3aW5kb3cuY29uc29sZS5sb2cpXG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICBpbml0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBtZXJnZWQgPSB7fTtcblx0XG5cdCAgICAgICAgLy8gT25seSBtZXJnZSBrbm93biBvcHRpb25zXG5cdCAgICAgICAgbWVyZ2VkLmxvZ2dlciA9IHt9O1xuXHQgICAgICAgIG1lcmdlZC5sb2dnZXIubG9nID0gKGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMgJiYgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIgJiYgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nKSB8fCBkZWZhdWx0cy5sb2dnZXIubG9nO1xuXHRcblx0ICAgICAgICBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zID0gbWVyZ2VkO1xuXHQgICAgfSxcblx0XG5cdCAgICBwbHVnaW4gPSB7fSxcblx0XG5cdCAgICBkZWNrc1N0b3JhZ2VzID0gW10sXG5cdFxuXHQgICAgaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgaWYgKCFkZWNrKSB7XG5cdCAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgZGVja0FscmVhZHlTdG9yZWQgPSBkZWNrc1N0b3JhZ2VzLnNvbWUoZnVuY3Rpb24oZGVja1N0b3JhZ2UpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGRlY2tTdG9yYWdlLmRlY2sgPT09IGRlY2s7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBkZWNrQWxyZWFkeVN0b3JlZDtcblx0ICAgIH0sXG5cdFxuXHQgICAgc3RvcmVEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgIHZhciBkZWNrQWxyZWFkeVN0b3JlZCA9IGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrKGRlY2spO1xuXHRcblx0ICAgICAgICBpZiAoIWRlY2tBbHJlYWR5U3RvcmVkKSB7XG5cdCAgICAgICAgICAgIGRlY2tzU3RvcmFnZXMucHVzaCh7XG5cdCAgICAgICAgICAgICAgICBkZWNrOiBkZWNrLFxuXHQgICAgICAgICAgICAgICAgc3RvcmFnZToge31cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbiA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcblx0ICAgICAgICBpZiAoIXBsdWdpbk5hbWUpIHtcblx0ICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICghZGVjaykge1xuXHQgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayksXG5cdCAgICAgICAgICAgIGlzU3RvcmFnZUluaXRpYXRlZCA9ICEhKHN0b3JhZ2UgJiYgc3RvcmFnZVtwbHVnaW5OYW1lXSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBpc1N0b3JhZ2VJbml0aWF0ZWQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIGluaXRpYXRlRGVja1BsdWdpblN0b3JhZ2UgPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG5cdCAgICAgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG5cdCAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJwbHVnaW5OYW1lIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoIWRlY2spIHtcblx0ICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXHRcblx0ICAgICAgICBpZiAoIXN0b3JhZ2UpIHtcblx0ICAgICAgICAgICAgc3RvcmVEZWNrKGRlY2spO1xuXHQgICAgICAgICAgICBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgc3RvcmFnZVtwbHVnaW5OYW1lXSA9IHt9O1xuXHQgICAgfSxcblx0XG5cdCAgICBpc051bWJlciA9IGZ1bmN0aW9uKG4pIHtcblx0ICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MDgyL3ZhbGlkYXRlLW51bWJlcnMtaW4tamF2YXNjcmlwdC1pc251bWVyaWNcblx0ICAgICAgICAvLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE4MzA4NDRcblx0ICAgICAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xuXHQgICAgfSxcblx0XG5cdCAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgaW5pdE9wdGlvbnMoKTtcblx0ICAgIH07XG5cdFxuXHQvLyBGb3IgcGx1Z2lucyB0aGVtc2VsdmVzXG5cdHBsdWdpbi5idWlsZGVyID0gZnVuY3Rpb24gc2VsZihvcHRpb25zKSB7XG5cdCAgICBpZiAoIW9wdGlvbnMpIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlIHBsdWdpbiBvcHRpb25zIHdlcmUgbm90IHByb3Blcmx5IGRlZmluZWQuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuXHQgICAgICAgIG9wdGlvbnMgPSB7XG5cdCAgICAgICAgICAgIHBsdWdpbk5hbWU6IG9wdGlvbnNcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wbHVnaW5OYW1lICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSBwbHVnaW4gbmFtZSB3YXMgbm90IHByb3Blcmx5IGRlZmluZWQuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBleHRlcm5hbCA9IHt9LFxuXHRcblx0ICAgICAgICB0YWcgPSBcImJlc3Bva2UuXCIgKyBvcHRpb25zLnBsdWdpbk5hbWUsXG5cdFxuXHQgICAgICAgIGdlbmVyYXRlRXJyb3JPYmplY3QgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IodGFnICsgXCI6IFwiICsgbWVzc2FnZSk7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgZXZlbnROYW1lc3BhY2UgPSBvcHRpb25zLnBsdWdpbk5hbWUsXG5cdFxuXHQgICAgICAgIGV2ZW50SW5OYW1lc3BhY2UgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGV2ZW50TmFtZXNwYWNlICsgXCIuXCIgKyBldmVudE5hbWU7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcblx0ICAgICAgICAvLyBNaW1pY2luZywgYW5kIGV4dGVuZGluZyx0aGUgaW50ZXJuYWwgY3JlYXRlRXZlbnREYXRhIGJlc3Bva2UgdXNlc1xuXHQgICAgICAgIGNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpIHtcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHBsdWdpbi5jcmVhdGVFdmVudERhdGEuY2FsbChkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgLy8gVE9ETzogY3JlYXRlIGEgc2Vjb25kIG9iamVjdCBib3VuZCB0byBib3RoIHRoaXMgZXh0ZXJuYWwgb2JqZWN0IGFuZCB0aGUgZGVjayxcblx0ICAgICAgICAvLyB0byBhdm9pZCBwYXNzaW5nIHRoZSBkZWNrIHBhcmFtZXRlciBldmVyeSB0aW1lLiAoV2hpY2ggY2FuIGJlIGFsbGV2aWF0ZWQgd2l0aCBzaW1wbGVyIGZ1bmN0aW9uIGJpbmRpbmcgdGhvdWdoLilcblx0ICAgICAgICBmaXJlID0gZnVuY3Rpb24oZGVjaywgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgY3VzdG9tRGF0YSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZGVjay5maXJlKGV2ZW50SW5OYW1lc3BhY2UoZXZlbnROYW1lKSwgY3JlYXRlRXZlbnREYXRhKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBjdXN0b21EYXRhKSk7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgbG9nID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciBwcmVmaXhlcyA9IFt0YWddO1xuXHRcblx0ICAgICAgICAgICAgLy8gYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nIGlzIGR5bmFtaWMsIHNvIGNhbid0IGJpbmQgZGlyZWN0bHkgdG8gaXRcblx0ICAgICAgICAgICAgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nLmFwcGx5KGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZywgcHJlZml4ZXMuY29uY2F0KHBsdWdpbi5jb3B5QXJyYXkoYXJndW1lbnRzKSkpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIHRocm93SWZQbHVnaW5XYXNBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGlzU3RvcmFnZUluaXRpYXRlZCA9IGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luKG9wdGlvbnMucGx1Z2luTmFtZSwgZGVjayk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoaXNTdG9yYWdlSW5pdGlhdGVkKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlICdcIiArIG9wdGlvbnMucGx1Z2luTmFtZSArIFwiJyBwbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhY3RpdmF0ZWQgZm9yIHRoaXMgZGVjaywgY2FuJ3QgYWN0aXZhdGUgaXQgdHdpY2UuXCIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgYmluZFRvRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGRlY2tCb3VuZCA9IHt9O1xuXHRcblx0ICAgICAgICAgICAgZGVja0JvdW5kLmNyZWF0ZUV2ZW50RGF0YSA9IGV4dGVybmFsLmNyZWF0ZUV2ZW50RGF0YS5iaW5kKHRoaXMsIGRlY2spO1xuXHQgICAgICAgICAgICBkZWNrQm91bmQuZmlyZSA9IGV4dGVybmFsLmZpcmUuYmluZCh0aGlzLCBkZWNrKTtcblx0ICAgICAgICAgICAgZGVja0JvdW5kLmdldFN0b3JhZ2UgPSBleHRlcm5hbC5nZXRTdG9yYWdlLmJpbmQodGhpcywgZGVjayk7XG5cdCAgICAgICAgICAgIGRlY2tCb3VuZC5sb2cgPSBleHRlcm5hbC5sb2cuYmluZCh0aGlzLCBkZWNrKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBkZWNrQm91bmQ7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgYWN0aXZhdGVEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgICAgICB2YXIgZGVja0JvdW5kO1xuXHRcblx0ICAgICAgICAgICAgdGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrKGRlY2spO1xuXHQgICAgICAgICAgICBpbml0aWF0ZURlY2tQbHVnaW5TdG9yYWdlKG9wdGlvbnMucGx1Z2luTmFtZSwgZGVjayk7XG5cdFxuXHQgICAgICAgICAgICBkZWNrQm91bmQgPSBiaW5kVG9EZWNrKGRlY2spO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIGRlY2tCb3VuZDtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBiaW5kRXh0ZXJuYWwgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwuY3JlYXRlRXZlbnREYXRhID0gY3JlYXRlRXZlbnREYXRhLmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmdlbmVyYXRlRXJyb3JPYmplY3QgPSBnZW5lcmF0ZUVycm9yT2JqZWN0LmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmZpcmUgPSBmaXJlLmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmxvZyA9IGxvZy5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICBleHRlcm5hbC5hY3RpdmF0ZURlY2sgPSBhY3RpdmF0ZURlY2suYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwuZ2V0U3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrUGx1Z2luU3RvcmFnZS5iaW5kKHRoaXMsIG9wdGlvbnMucGx1Z2luTmFtZSk7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBiaW5kRXh0ZXJuYWwoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgIGluaXQoKTtcblx0XG5cdCAgICByZXR1cm4gZXh0ZXJuYWw7XG5cdH07XG5cdFxuXHRwbHVnaW4uZ2V0RGVja1N0b3JhZ2UgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICBpZiAoIWRlY2spIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBzdG9yYWdlID0gbnVsbDtcblx0XG5cdCAgICBkZWNrc1N0b3JhZ2VzLnNvbWUoZnVuY3Rpb24oZGVja1N0b3JhZ2UpIHtcblx0ICAgICAgICBpZiAoZGVja1N0b3JhZ2UuZGVjayA9PT0gZGVjaykge1xuXHQgICAgICAgICAgICBzdG9yYWdlID0gZGVja1N0b3JhZ2Uuc3RvcmFnZTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gc3RvcmFnZTtcblx0fTtcblx0XG5cdHBsdWdpbi5nZXREZWNrUGx1Z2luU3RvcmFnZSA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcblx0ICAgIGlmICghcGx1Z2luTmFtZSkge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJwbHVnaW5OYW1lIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFkZWNrKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcblx0XG5cdCAgICBpZiAoIXN0b3JhZ2UpIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwic3RvcmFnZSB3YXMgbm90IGluaXRpYXRlZCBmb3IgdGhpcyBkZWNrLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gc3RvcmFnZVtwbHVnaW5OYW1lXTtcblx0fTtcblx0XG5cdC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG5cdC8vIE1pbWljaW5nLCBhbmQgZXh0ZW5kaW5nLHRoZSBpbnRlcm5hbCBjcmVhdGVFdmVudERhdGEgYmVzcG9rZSB1c2VzXG5cdHBsdWdpbi5jcmVhdGVFdmVudERhdGEgPSBmdW5jdGlvbihldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKSB7XG5cdCAgICBldmVudERhdGEgPSBldmVudERhdGEgfHwge307XG5cdFxuXHQgICAgZXZlbnREYXRhLmV2ZW50TmFtZXNwYWNlID0gZXZlbnROYW1lc3BhY2UgfHwgbnVsbDtcblx0XG5cdCAgICBldmVudERhdGEuZXZlbnROYW1lID0gZXZlbnROYW1lIHx8IG51bGw7XG5cdFxuXHQgICAgLy8gQ2FuIGJlIGVpdGhlciBhIERPTS9icm93c2VyIGV2ZW50IG9yIGEgYmVzcG9rZSBldmVudFxuXHQgICAgZXZlbnREYXRhLmlubmVyRXZlbnQgPSBpbm5lckV2ZW50IHx8IG51bGw7XG5cdFxuXHQgICAgaWYgKGlzTnVtYmVyKHNsaWRlKSkge1xuXHQgICAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlO1xuXHQgICAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IHRoaXMuc2xpZGVzW3NsaWRlXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZXZlbnREYXRhLmluZGV4ID0gdGhpcy5zbGlkZXMuaW5kZXhPZihzbGlkZSk7XG5cdCAgICAgICAgZXZlbnREYXRhLnNsaWRlID0gc2xpZGU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGV2ZW50RGF0YTtcblx0fTtcblx0XG5cdHBsdWdpbi5jb3B5QXJyYXkgPSBmdW5jdGlvbihhcnIpIHtcblx0ICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGFyciwgMCk7XG5cdH07XG5cdFxuXHRjdiA9IHBsdWdpbi5idWlsZGVyKHBsdWdpbk5hbWUpO1xuXHRcblx0aW5pdCgpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBwbHVnaW47XG5cblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qZ2xvYmFsIG1vZHVsZTp0cnVlLCByZXF1aXJlOnRydWUsIHdpbmRvdzp0cnVlLCBkb2N1bWVudDp0cnVlLCBNYXRoOnRydWUgKi9cblx0XG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIHBsdWdpbk5hbWUgPSBcInNlY29uZGFyeVwiLFxuXHQgICAgLy8gSGFjayB0byBnZXQgYXJvdW5kIGhhdmluZyB0byB3cml0ZSBhbGwgYnJvd3NlciBjb2RlIHdpdGggcmVxdWlyZSgpLlxuXHQgICAgYnJvd3Nlckdsb2JhbCA9IChmdW5jdGlvbihmKSB7XG5cdCAgICAgICAgcmV0dXJuIGYoXCJyZXR1cm4gdGhpc1wiKSgpO1xuXHQgICAgfShGdW5jdGlvbikpLFxuXHQgICAgY29udmVuaWVudCA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmNvbnZlbmllbnQpIHx8IF9fd2VicGFja19yZXF1aXJlX18oMTIpKSxcblx0ICAgIGN2ID0gY29udmVuaWVudC5idWlsZGVyKHBsdWdpbk5hbWUpLFxuXHRcblx0ICAgIC8vIE1ha2luZyBzdXJlIGluZGV4ZmluZ2VyIGlzIGF2YWlsYWJsZS5cblx0ICAgIC8vIFRPRE86IGNoZWNrIHRoYXQgaW5kZXhmaW5nZXIgaGFzIGJlZW4gbG9hZGVkOyBtYXliZSBjaGVja2luZyBmb3IgZGVjay5nZXRBY3RpdmVTbGlkZSgpLlxuXHQgICAgaW5kZXhmaW5nZXIgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5pbmRleGZpbmdlcikgfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxMSkpLFxuXHRcblx0ICAgIEtleUNvbnN0YW50cyA9IHtcblx0ICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudCNWaXJ0dWFsX2tleV9jb2Rlc1xuXHQgICAgICAgIFM6IDB4NTMsIC8vICg4MykgXCJTXCIga2V5LlxuXHQgICAgfSxcblx0XG5cdCAgICBkZWZhdWx0cyA9IHtcblx0ICAgICAgICBub3RlczogXCJhc2lkZVwiLFxuXHQgICAgICAgIGtleXM6IHtcblx0ICAgICAgICAgICAgdG9nZ2xlOiBLZXlDb25zdGFudHMuU1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgcmFuZG9tSW50ZWdlciA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG5cdCAgICAgICAgLy8gVE9ETzogbG9vayBmb3Igc29tZW9uZSBlbHNlJ3MgaW1wbGVtZW50YXRpb24gLSB0aGV5J3ZlIHByb2JhYmx5IGNvdmVyZWQgYWxsIHRoZSBjb3JuZXIgY2FzZXMuXG5cdCAgICAgICAgLy8gVGhpcyBzaG91bGQgZG8gZm9yIDAgPD0gZnJvbSA8IHRvIDwgKHJhbmRvbSdzIHJlc29sdXRpb24pIHRob3VnaC5cblx0ICAgICAgICB2YXIgZGlmZixcblx0ICAgICAgICAgICAgcm5kO1xuXHRcblx0ICAgICAgICBpZiAodG8gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICB0byA9IGZyb207XG5cdCAgICAgICAgICAgIGZyb20gPSAwO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZGlmZiA9IHRvIC0gZnJvbTtcblx0XG5cdCAgICAgICAgcm5kID0gZnJvbSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRpZmYpO1xuXHRcblx0ICAgICAgICByZXR1cm4gcm5kO1xuXHQgICAgfSxcblx0XG5cdCAgICBiYXNlV2luZG93TmFtZSA9IHBsdWdpbk5hbWUgKyBcIi13aW5kb3ctXCIsXG5cdFxuXHQgICAgZ2VuZXJhdGVXaW5kb3dOYW1lID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJuZCA9IHJhbmRvbUludGVnZXIoMTAwMCwgMTAwMDApLFxuXHQgICAgICAgICAgICB3aW5kb3dOYW1lID0gYmFzZVdpbmRvd05hbWUgKyBybmQ7XG5cdFxuXHQgICAgICAgIHJldHVybiB3aW5kb3dOYW1lO1xuXHQgICAgfSxcblx0XG5cdCAgICBpbml0aWFsaXplU2Vjb25kYXJ5V2luZG93Q29udGVudHMgPSBmdW5jdGlvbihkb2MpIHtcblx0ICAgICAgICBkb2MuYm9keS5pbm5lckhUTUwgPSBcIjxoMT5Ob3RlczwvaDE+PGRpdiBpZD0nbm90ZXMnPjwvZGl2PlwiO1xuXHQgICAgfSxcblx0XG5cdCAgICBwbHVnaW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIGRlY2tlciA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGN2Qm91bmRUb0RlY2sgPSBjdi5hY3RpdmF0ZURlY2soZGVjayksXG5cdFxuXHQgICAgICAgICAgICAgICAgb2ZmID0ge30sXG5cdFxuXHQgICAgICAgICAgICAgICAgdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzID0ge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG5cdCAgICAgICAgICAgICAgICAgICAgZ2V0Tm90ZXNFbGVtZW50OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LndpbmRvdyAmJiB0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQgJiYgdGhpcy5zZWNvbmRhcnkud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm90ZXNcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaXNPcGVuOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnNlY29uZGFyeSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBzLndpbmRvdyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzSW5pdGlhbGl6ZWQsIGlzTm90TnVsbCwgaXNOb3RDbG9zZWQsIGlzT3duZWRCeVRoaXNXaW5kb3csIGNvbnRhaW5zTm90ZXNFbGVtZW50XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAhIShzICE9PSB1bmRlZmluZWQgJiYgdyAhPT0gbnVsbCAmJiB3LmNsb3NlZCAhPT0gdHJ1ZSAmJiB3Lm9wZW5lciA9PT0gd2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpICE9PSBudWxsKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5LndpbmRvdyA9IHdpbmRvdy5vcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplU2Vjb25kYXJ5V2luZG93Q29udGVudHModGhpcy5zZWNvbmRhcnkud2luZG93LmRvY3VtZW50KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cuY2xvc2UoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBmb2N1czogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmZvY3VzKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5LmNsb3NlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS5vcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBzeW5jaHJvbml6ZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZU5vdGVzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm90ZXM7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLnNlY29uZGFyeS5nZXROb3Rlc0VsZW1lbnQoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUgPSB0aGlzLmdldEFjdGl2ZVNsaWRlKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZU5vdGVzID0gY29udmVuaWVudC5jb3B5QXJyYXkoc2xpZGUucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLm5vdGVzKSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBhbGxOb3RlcyA9IHNsaWRlTm90ZXMucmVkdWNlKGZ1bmN0aW9uKG5vdGVzSHRtbCwgc2xpZGVOb3RlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90ZXNIdG1sICsgc2xpZGVOb3RlLm91dGVySFRNTDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJcIik7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGFsbE5vdGVzO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5ID0ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3c6IG51bGwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeVdpbmRvd05hbWU6IGdlbmVyYXRlV2luZG93TmFtZSgpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBnZXROb3Rlc0VsZW1lbnQ6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5nZXROb3Rlc0VsZW1lbnQuYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuaXNPcGVuLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5vcGVuLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuY2xvc2UuYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5mb2N1cy5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGU6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy50b2dnbGUuYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5zeW5jaHJvbml6ZS5iaW5kKGRlY2spXG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgaW5pdE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtZXJnZSBmdW5jdGlvbj9cblx0ICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgbWVyZ2VkID0ge307XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBtZXJnZWQua2V5cyA9IHt9O1xuXHQgICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzLnRvZ2dsZSA9IChvcHRpb25zLmtleXMgJiYgb3B0aW9ucy5rZXlzLnRvZ2dsZSkgfHwgZGVmYXVsdHMua2V5cy50b2dnbGU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG1lcmdlZC5ub3RlcyA9IG9wdGlvbnMubm90ZXMgfHwgZGVmYXVsdHMubm90ZXM7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBtZXJnZWQ7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGtleURvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRIYW5kbGVkID0gZmFsc2U7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIE5vIG1vZGlmaWVyIGtleXMsIHBsZWFzZVxuXHQgICAgICAgICAgICAgICAgICAgIGlmICghZS5hbHRLZXkgJiYgIWUuY3RybEtleSAmJiAhZS5tZXRhS2V5ICYmICFlLnNoaWZ0S2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlZCA9IGV2ZW50SGFuZGxlZCB8fCAoZS53aGljaCA9PT0gb3B0aW9ucy5rZXlzLnRvZ2dsZSAmJiBjdkJvdW5kVG9EZWNrLmZpcmUoXCJ0b2dnbGVcIiwgZSkgJiYgZGVjay5zZWNvbmRhcnkudG9nZ2xlKCkgJiYgZGVjay5zZWNvbmRhcnkuc3luY2hyb25pemUoKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAhZXZlbnRIYW5kbGVkO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBvbkJlZm9yZVVubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5LmNsb3NlKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBvbkFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVjay5zZWNvbmRhcnkuc3luY2hyb25pemUoKTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgZW5hYmxlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgZG9lc24ndCBzZWVtIHRvIHdvcmsgZm9yIG9uYmVmb3JldW5sb2FkXG5cdCAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gb25CZWZvcmVVbmxvYWQ7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleURvd25MaXN0ZW5lciwgZmFsc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgIG9mZi5hY3RpdmF0ZSA9IGRlY2sub24oXCJhY3RpdmF0ZVwiLCBvbkFjdGl2YXRlKTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGluaXRPcHRpb25zKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuXHQgICAgICAgICAgICAgICAgICAgIGVuYWJsZSgpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIGluaXQoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICByZXR1cm4gZGVja2VyO1xuXHQgICAgfTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDRlYWYxNDhmODRhZDEzMTMwYTBiIiwicmVxdWlyZSgncHJpc21qcycpXG5jb25zdCBiZXNwb2tlID0gcmVxdWlyZSgnYmVzcG9rZScpXG5jb25zdCB0aGVtZSA9IHJlcXVpcmUoJ2Jlc3Bva2UtdGhlbWUtbmVidWxhJylcbmNvbnN0IGtleXMgPSByZXF1aXJlKCdiZXNwb2tlLWtleXMnKVxuY29uc3QgdG91Y2ggPSByZXF1aXJlKCdiZXNwb2tlLXRvdWNoJylcbmNvbnN0IGJ1bGxldHMgPSByZXF1aXJlKCdiZXNwb2tlLWJ1bGxldHMnKVxuY29uc3QgYmFja2Ryb3AgPSByZXF1aXJlKCdiZXNwb2tlLWJhY2tkcm9wJylcbmNvbnN0IHNjYWxlID0gcmVxdWlyZSgnYmVzcG9rZS1zY2FsZScpXG5jb25zdCBoYXNoID0gcmVxdWlyZSgnYmVzcG9rZS1oYXNoJylcbmNvbnN0IHByb2dyZXNzID0gcmVxdWlyZSgnYmVzcG9rZS1wcm9ncmVzcycpXG5jb25zdCBpbmRleEZpbmdlciA9IHJlcXVpcmUoJ2Jlc3Bva2UtaW5kZXhmaW5nZXInKVxuY29uc3Qgc2Vjb25kYXJ5ID0gcmVxdWlyZSgnYmVzcG9rZS1zZWNvbmRhcnknKVxuXG52YXIgcGx1Z2lucyA9IFtcbiAgdGhlbWUoKSxcbiAga2V5cygpLFxuICB0b3VjaCgpLFxuICBidWxsZXRzKCcuZGVsYXllZCwgLmJ1bGxldCcpLFxuICBiYWNrZHJvcCgpLFxuICBzY2FsZSgpLFxuICBoYXNoKCksXG4gIHByb2dyZXNzKCksXG4gIGluZGV4RmluZ2VyKCksXG4gIHNlY29uZGFyeSgpXG5dXG5cbnRyeSB7XG4gIHJlcXVpcmUoJ3BsdWdpbnMnKShwbHVnaW5zKVxufSBjYXRjaCAoZXJyb3IpIHtcblxufVxuXG52YXIgZGVjayA9IGJlc3Bva2UuZnJvbSgnYXJ0aWNsZScsIHBsdWdpbnMpXG5cbnRyeSB7XG4gIHJlcXVpcmUoJ2RlY2snKShkZWNrKVxufSBjYXRjaCAoZXJyb3IpIHtcblxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BhY2hpbmdicmFpbi9zbGlkZXMvdGVtcC9zbGlkZXMuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWNvcmUuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxudmFyIF9zZWxmID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuXHQ/IHdpbmRvdyAgIC8vIGlmIGluIGJyb3dzZXJcblx0OiAoXG5cdFx0KHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlKVxuXHRcdD8gc2VsZiAvLyBpZiBpbiB3b3JrZXJcblx0XHQ6IHt9ICAgLy8gaWYgaW4gbm9kZSBqc1xuXHQpO1xuXG4vKipcbiAqIFByaXNtOiBMaWdodHdlaWdodCwgcm9idXN0LCBlbGVnYW50IHN5bnRheCBoaWdobGlnaHRpbmdcbiAqIE1JVCBsaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwL1xuICogQGF1dGhvciBMZWEgVmVyb3UgaHR0cDovL2xlYS52ZXJvdS5tZVxuICovXG5cbnZhciBQcmlzbSA9IChmdW5jdGlvbiAoX3NlbGYpe1xuXG4vLyBQcml2YXRlIGhlbHBlciB2YXJzXG52YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pO1xudmFyIHVuaXF1ZUlkID0gMDtcblxudmFyIF8gPSB7XG5cdG1hbnVhbDogX3NlbGYuUHJpc20gJiYgX3NlbGYuUHJpc20ubWFudWFsLFxuXHRkaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXI6IF9zZWxmLlByaXNtICYmIF9zZWxmLlByaXNtLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcixcblx0dXRpbDoge1xuXHRcdGVuY29kZTogZnVuY3Rpb24gKHRva2Vucykge1xuXHRcdFx0aWYgKHRva2VucyBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdHJldHVybiBuZXcgVG9rZW4odG9rZW5zLnR5cGUsIF8udXRpbC5lbmNvZGUodG9rZW5zLmNvbnRlbnQpLCB0b2tlbnMuYWxpYXMpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRva2VucykpIHtcblx0XHRcdFx0cmV0dXJuIHRva2Vucy5tYXAoXy51dGlsLmVuY29kZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdG9rZW5zLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoL1xcdTAwYTAvZywgJyAnKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0dHlwZTogZnVuY3Rpb24gKG8pIHtcblx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuXHRcdH0sXG5cblx0XHRvYmpJZDogZnVuY3Rpb24gKG9iaikge1xuXHRcdFx0aWYgKCFvYmpbJ19faWQnXSkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnX19pZCcsIHsgdmFsdWU6ICsrdW5pcXVlSWQgfSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2JqWydfX2lkJ107XG5cdFx0fSxcblxuXHRcdC8vIERlZXAgY2xvbmUgYSBsYW5ndWFnZSBkZWZpbml0aW9uIChlLmcuIHRvIGV4dGVuZCBpdClcblx0XHRjbG9uZTogZnVuY3Rpb24gZGVlcENsb25lKG8sIHZpc2l0ZWQpIHtcblx0XHRcdHZhciBjbG9uZSwgaWQsIHR5cGUgPSBfLnV0aWwudHlwZShvKTtcblx0XHRcdHZpc2l0ZWQgPSB2aXNpdGVkIHx8IHt9O1xuXG5cdFx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdFx0XHRpZCA9IF8udXRpbC5vYmpJZChvKTtcblx0XHRcdFx0XHRpZiAodmlzaXRlZFtpZF0pIHtcblx0XHRcdFx0XHRcdHJldHVybiB2aXNpdGVkW2lkXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2xvbmUgPSB7fTtcblx0XHRcdFx0XHR2aXNpdGVkW2lkXSA9IGNsb25lO1xuXG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIG8pIHtcblx0XHRcdFx0XHRcdGlmIChvLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdFx0Y2xvbmVba2V5XSA9IGRlZXBDbG9uZShvW2tleV0sIHZpc2l0ZWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjbG9uZTtcblxuXHRcdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdFx0aWQgPSBfLnV0aWwub2JqSWQobyk7XG5cdFx0XHRcdFx0aWYgKHZpc2l0ZWRbaWRdKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmlzaXRlZFtpZF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNsb25lID0gW107XG5cdFx0XHRcdFx0dmlzaXRlZFtpZF0gPSBjbG9uZTtcblxuXHRcdFx0XHRcdG8uZm9yRWFjaChmdW5jdGlvbiAodiwgaSkge1xuXHRcdFx0XHRcdFx0Y2xvbmVbaV0gPSBkZWVwQ2xvbmUodiwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRyZXR1cm4gY2xvbmU7XG5cblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRyZXR1cm4gbztcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0bGFuZ3VhZ2VzOiB7XG5cdFx0ZXh0ZW5kOiBmdW5jdGlvbiAoaWQsIHJlZGVmKSB7XG5cdFx0XHR2YXIgbGFuZyA9IF8udXRpbC5jbG9uZShfLmxhbmd1YWdlc1tpZF0pO1xuXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcmVkZWYpIHtcblx0XHRcdFx0bGFuZ1trZXldID0gcmVkZWZba2V5XTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxhbmc7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEluc2VydCBhIHRva2VuIGJlZm9yZSBhbm90aGVyIHRva2VuIGluIGEgbGFuZ3VhZ2UgbGl0ZXJhbFxuXHRcdCAqIEFzIHRoaXMgbmVlZHMgdG8gcmVjcmVhdGUgdGhlIG9iamVjdCAod2UgY2Fubm90IGFjdHVhbGx5IGluc2VydCBiZWZvcmUga2V5cyBpbiBvYmplY3QgbGl0ZXJhbHMpLFxuXHRcdCAqIHdlIGNhbm5vdCBqdXN0IHByb3ZpZGUgYW4gb2JqZWN0LCB3ZSBuZWVkIGFuIG9iamVjdCBhbmQgYSBrZXkuXG5cdFx0ICogQHBhcmFtIGluc2lkZSBUaGUga2V5IChvciBsYW5ndWFnZSBpZCkgb2YgdGhlIHBhcmVudFxuXHRcdCAqIEBwYXJhbSBiZWZvcmUgVGhlIGtleSB0byBpbnNlcnQgYmVmb3JlLlxuXHRcdCAqIEBwYXJhbSBpbnNlcnQgT2JqZWN0IHdpdGggdGhlIGtleS92YWx1ZSBwYWlycyB0byBpbnNlcnRcblx0XHQgKiBAcGFyYW0gcm9vdCBUaGUgb2JqZWN0IHRoYXQgY29udGFpbnMgYGluc2lkZWAuIElmIGVxdWFsIHRvIFByaXNtLmxhbmd1YWdlcywgaXQgY2FuIGJlIG9taXR0ZWQuXG5cdFx0ICovXG5cdFx0aW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAoaW5zaWRlLCBiZWZvcmUsIGluc2VydCwgcm9vdCkge1xuXHRcdFx0cm9vdCA9IHJvb3QgfHwgXy5sYW5ndWFnZXM7XG5cdFx0XHR2YXIgZ3JhbW1hciA9IHJvb3RbaW5zaWRlXTtcblx0XHRcdHZhciByZXQgPSB7fTtcblxuXHRcdFx0Zm9yICh2YXIgdG9rZW4gaW4gZ3JhbW1hcikge1xuXHRcdFx0XHRpZiAoZ3JhbW1hci5oYXNPd25Qcm9wZXJ0eSh0b2tlbikpIHtcblxuXHRcdFx0XHRcdGlmICh0b2tlbiA9PSBiZWZvcmUpIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIG5ld1Rva2VuIGluIGluc2VydCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoaW5zZXJ0Lmhhc093blByb3BlcnR5KG5ld1Rva2VuKSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldFtuZXdUb2tlbl0gPSBpbnNlcnRbbmV3VG9rZW5dO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRG8gbm90IGluc2VydCB0b2tlbiB3aGljaCBhbHNvIG9jY3VyIGluIGluc2VydC4gU2VlICMxNTI1XG5cdFx0XHRcdFx0aWYgKCFpbnNlcnQuaGFzT3duUHJvcGVydHkodG9rZW4pKSB7XG5cdFx0XHRcdFx0XHRyZXRbdG9rZW5dID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHZhciBvbGQgPSByb290W2luc2lkZV07XG5cdFx0XHRyb290W2luc2lkZV0gPSByZXQ7XG5cblx0XHRcdC8vIFVwZGF0ZSByZWZlcmVuY2VzIGluIG90aGVyIGxhbmd1YWdlIGRlZmluaXRpb25zXG5cdFx0XHRfLmxhbmd1YWdlcy5ERlMoXy5sYW5ndWFnZXMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0aWYgKHZhbHVlID09PSBvbGQgJiYga2V5ICE9IGluc2lkZSkge1xuXHRcdFx0XHRcdHRoaXNba2V5XSA9IHJldDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblxuXHRcdC8vIFRyYXZlcnNlIGEgbGFuZ3VhZ2UgZGVmaW5pdGlvbiB3aXRoIERlcHRoIEZpcnN0IFNlYXJjaFxuXHRcdERGUzogZnVuY3Rpb24gREZTKG8sIGNhbGxiYWNrLCB0eXBlLCB2aXNpdGVkKSB7XG5cdFx0XHR2aXNpdGVkID0gdmlzaXRlZCB8fCB7fTtcblxuXHRcdFx0dmFyIG9iaklkID0gXy51dGlsLm9iaklkO1xuXG5cdFx0XHRmb3IgKHZhciBpIGluIG8pIHtcblx0XHRcdFx0aWYgKG8uaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKG8sIGksIG9baV0sIHR5cGUgfHwgaSk7XG5cblx0XHRcdFx0XHR2YXIgcHJvcGVydHkgPSBvW2ldLFxuXHRcdFx0XHRcdCAgICBwcm9wZXJ0eVR5cGUgPSBfLnV0aWwudHlwZShwcm9wZXJ0eSk7XG5cblx0XHRcdFx0XHRpZiAocHJvcGVydHlUeXBlID09PSAnT2JqZWN0JyAmJiAhdmlzaXRlZFtvYmpJZChwcm9wZXJ0eSldKSB7XG5cdFx0XHRcdFx0XHR2aXNpdGVkW29iaklkKHByb3BlcnR5KV0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0REZTKHByb3BlcnR5LCBjYWxsYmFjaywgbnVsbCwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHByb3BlcnR5VHlwZSA9PT0gJ0FycmF5JyAmJiAhdmlzaXRlZFtvYmpJZChwcm9wZXJ0eSldKSB7XG5cdFx0XHRcdFx0XHR2aXNpdGVkW29iaklkKHByb3BlcnR5KV0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0REZTKHByb3BlcnR5LCBjYWxsYmFjaywgaSwgdmlzaXRlZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRwbHVnaW5zOiB7fSxcblxuXHRoaWdobGlnaHRBbGw6IGZ1bmN0aW9uKGFzeW5jLCBjYWxsYmFjaykge1xuXHRcdF8uaGlnaGxpZ2h0QWxsVW5kZXIoZG9jdW1lbnQsIGFzeW5jLCBjYWxsYmFjayk7XG5cdH0sXG5cblx0aGlnaGxpZ2h0QWxsVW5kZXI6IGZ1bmN0aW9uKGNvbnRhaW5lciwgYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0dmFyIGVudiA9IHtcblx0XHRcdGNhbGxiYWNrOiBjYWxsYmFjayxcblx0XHRcdHNlbGVjdG9yOiAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnXG5cdFx0fTtcblxuXHRcdF8uaG9va3MucnVuKFwiYmVmb3JlLWhpZ2hsaWdodGFsbFwiLCBlbnYpO1xuXG5cdFx0dmFyIGVsZW1lbnRzID0gZW52LmVsZW1lbnRzIHx8IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGVudi5zZWxlY3Rvcik7XG5cblx0XHRmb3IgKHZhciBpPTAsIGVsZW1lbnQ7IGVsZW1lbnQgPSBlbGVtZW50c1tpKytdOykge1xuXHRcdFx0Xy5oaWdobGlnaHRFbGVtZW50KGVsZW1lbnQsIGFzeW5jID09PSB0cnVlLCBlbnYuY2FsbGJhY2spO1xuXHRcdH1cblx0fSxcblxuXHRoaWdobGlnaHRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBhc3luYywgY2FsbGJhY2spIHtcblx0XHQvLyBGaW5kIGxhbmd1YWdlXG5cdFx0dmFyIGxhbmd1YWdlLCBncmFtbWFyLCBwYXJlbnQgPSBlbGVtZW50O1xuXG5cdFx0d2hpbGUgKHBhcmVudCAmJiAhbGFuZy50ZXN0KHBhcmVudC5jbGFzc05hbWUpKSB7XG5cdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcblx0XHR9XG5cblx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRsYW5ndWFnZSA9IChwYXJlbnQuY2xhc3NOYW1lLm1hdGNoKGxhbmcpIHx8IFssJyddKVsxXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0Z3JhbW1hciA9IF8ubGFuZ3VhZ2VzW2xhbmd1YWdlXTtcblx0XHR9XG5cblx0XHQvLyBTZXQgbGFuZ3VhZ2Ugb24gdGhlIGVsZW1lbnQsIGlmIG5vdCBwcmVzZW50XG5cdFx0ZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblxuXHRcdGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHtcblx0XHRcdC8vIFNldCBsYW5ndWFnZSBvbiB0aGUgcGFyZW50LCBmb3Igc3R5bGluZ1xuXHRcdFx0cGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoL3ByZS9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkge1xuXHRcdFx0XHRwYXJlbnQuY2xhc3NOYW1lID0gcGFyZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgY29kZSA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG5cblx0XHR2YXIgZW52ID0ge1xuXHRcdFx0ZWxlbWVudDogZWxlbWVudCxcblx0XHRcdGxhbmd1YWdlOiBsYW5ndWFnZSxcblx0XHRcdGdyYW1tYXI6IGdyYW1tYXIsXG5cdFx0XHRjb2RlOiBjb2RlXG5cdFx0fTtcblxuXHRcdHZhciBpbnNlcnRIaWdobGlnaHRlZENvZGUgPSBmdW5jdGlvbiAoaGlnaGxpZ2h0ZWRDb2RlKSB7XG5cdFx0XHRlbnYuaGlnaGxpZ2h0ZWRDb2RlID0gaGlnaGxpZ2h0ZWRDb2RlO1xuXG5cdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWluc2VydCcsIGVudik7XG5cblx0XHRcdGVudi5lbGVtZW50LmlubmVySFRNTCA9IGVudi5oaWdobGlnaHRlZENvZGU7XG5cblx0XHRcdF8uaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLCBlbnYpO1xuXHRcdFx0Xy5ob29rcy5ydW4oJ2NvbXBsZXRlJywgZW52KTtcblx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZW52LmVsZW1lbnQpO1xuXHRcdH1cblxuXHRcdF8uaG9va3MucnVuKCdiZWZvcmUtc2FuaXR5LWNoZWNrJywgZW52KTtcblxuXHRcdGlmICghZW52LmNvZGUpIHtcblx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS1oaWdobGlnaHQnLCBlbnYpO1xuXG5cdFx0aWYgKCFlbnYuZ3JhbW1hcikge1xuXHRcdFx0aW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlKF8udXRpbC5lbmNvZGUoZW52LmNvZGUpKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoYXN5bmMgJiYgX3NlbGYuV29ya2VyKSB7XG5cdFx0XHR2YXIgd29ya2VyID0gbmV3IFdvcmtlcihfLmZpbGVuYW1lKTtcblxuXHRcdFx0d29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2dCkge1xuXHRcdFx0XHRpbnNlcnRIaWdobGlnaHRlZENvZGUoZXZ0LmRhdGEpO1xuXHRcdFx0fTtcblxuXHRcdFx0d29ya2VyLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0bGFuZ3VhZ2U6IGVudi5sYW5ndWFnZSxcblx0XHRcdFx0Y29kZTogZW52LmNvZGUsXG5cdFx0XHRcdGltbWVkaWF0ZUNsb3NlOiB0cnVlXG5cdFx0XHR9KSk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0aW5zZXJ0SGlnaGxpZ2h0ZWRDb2RlKF8uaGlnaGxpZ2h0KGVudi5jb2RlLCBlbnYuZ3JhbW1hciwgZW52Lmxhbmd1YWdlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdGhpZ2hsaWdodDogZnVuY3Rpb24gKHRleHQsIGdyYW1tYXIsIGxhbmd1YWdlKSB7XG5cdFx0dmFyIGVudiA9IHtcblx0XHRcdGNvZGU6IHRleHQsXG5cdFx0XHRncmFtbWFyOiBncmFtbWFyLFxuXHRcdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlXG5cdFx0fTtcblx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLXRva2VuaXplJywgZW52KTtcblx0XHRlbnYudG9rZW5zID0gXy50b2tlbml6ZShlbnYuY29kZSwgZW52LmdyYW1tYXIpO1xuXHRcdF8uaG9va3MucnVuKCdhZnRlci10b2tlbml6ZScsIGVudik7XG5cdFx0cmV0dXJuIFRva2VuLnN0cmluZ2lmeShfLnV0aWwuZW5jb2RlKGVudi50b2tlbnMpLCBlbnYubGFuZ3VhZ2UpO1xuXHR9LFxuXG5cdG1hdGNoR3JhbW1hcjogZnVuY3Rpb24gKHRleHQsIHN0cmFyciwgZ3JhbW1hciwgaW5kZXgsIHN0YXJ0UG9zLCBvbmVzaG90LCB0YXJnZXQpIHtcblx0XHRmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cdFx0XHRpZighZ3JhbW1hci5oYXNPd25Qcm9wZXJ0eSh0b2tlbikgfHwgIWdyYW1tYXJbdG9rZW5dKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodG9rZW4gPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBhdHRlcm5zID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRwYXR0ZXJucyA9IChfLnV0aWwudHlwZShwYXR0ZXJucykgPT09IFwiQXJyYXlcIikgPyBwYXR0ZXJucyA6IFtwYXR0ZXJuc107XG5cblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGF0dGVybnMubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0dmFyIHBhdHRlcm4gPSBwYXR0ZXJuc1tqXSxcblx0XHRcdFx0XHRpbnNpZGUgPSBwYXR0ZXJuLmluc2lkZSxcblx0XHRcdFx0XHRsb29rYmVoaW5kID0gISFwYXR0ZXJuLmxvb2tiZWhpbmQsXG5cdFx0XHRcdFx0Z3JlZWR5ID0gISFwYXR0ZXJuLmdyZWVkeSxcblx0XHRcdFx0XHRsb29rYmVoaW5kTGVuZ3RoID0gMCxcblx0XHRcdFx0XHRhbGlhcyA9IHBhdHRlcm4uYWxpYXM7XG5cblx0XHRcdFx0aWYgKGdyZWVkeSAmJiAhcGF0dGVybi5wYXR0ZXJuLmdsb2JhbCkge1xuXHRcdFx0XHRcdC8vIFdpdGhvdXQgdGhlIGdsb2JhbCBmbGFnLCBsYXN0SW5kZXggd29uJ3Qgd29ya1xuXHRcdFx0XHRcdHZhciBmbGFncyA9IHBhdHRlcm4ucGF0dGVybi50b1N0cmluZygpLm1hdGNoKC9baW11eV0qJC8pWzBdO1xuXHRcdFx0XHRcdHBhdHRlcm4ucGF0dGVybiA9IFJlZ0V4cChwYXR0ZXJuLnBhdHRlcm4uc291cmNlLCBmbGFncyArIFwiZ1wiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHBhdHRlcm4gPSBwYXR0ZXJuLnBhdHRlcm4gfHwgcGF0dGVybjtcblxuXHRcdFx0XHQvLyBEb27igJl0IGNhY2hlIGxlbmd0aCBhcyBpdCBjaGFuZ2VzIGR1cmluZyB0aGUgbG9vcFxuXHRcdFx0XHRmb3IgKHZhciBpID0gaW5kZXgsIHBvcyA9IHN0YXJ0UG9zOyBpIDwgc3RyYXJyLmxlbmd0aDsgcG9zICs9IHN0cmFycltpXS5sZW5ndGgsICsraSkge1xuXG5cdFx0XHRcdFx0dmFyIHN0ciA9IHN0cmFycltpXTtcblxuXHRcdFx0XHRcdGlmIChzdHJhcnIubGVuZ3RoID4gdGV4dC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdC8vIFNvbWV0aGluZyB3ZW50IHRlcnJpYmx5IHdyb25nLCBBQk9SVCwgQUJPUlQhXG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHN0ciBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoZ3JlZWR5ICYmIGkgIT0gc3RyYXJyLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdHBhdHRlcm4ubGFzdEluZGV4ID0gcG9zO1xuXHRcdFx0XHRcdFx0dmFyIG1hdGNoID0gcGF0dGVybi5leGVjKHRleHQpO1xuXHRcdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFyIGZyb20gPSBtYXRjaC5pbmRleCArIChsb29rYmVoaW5kID8gbWF0Y2hbMV0ubGVuZ3RoIDogMCksXG5cdFx0XHRcdFx0XHQgICAgdG8gPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCxcblx0XHRcdFx0XHRcdCAgICBrID0gaSxcblx0XHRcdFx0XHRcdCAgICBwID0gcG9zO1xuXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBsZW4gPSBzdHJhcnIubGVuZ3RoOyBrIDwgbGVuICYmIChwIDwgdG8gfHwgKCFzdHJhcnJba10udHlwZSAmJiAhc3RyYXJyW2sgLSAxXS5ncmVlZHkpKTsgKytrKSB7XG5cdFx0XHRcdFx0XHRcdHAgKz0gc3RyYXJyW2tdLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0Ly8gTW92ZSB0aGUgaW5kZXggaSB0byB0aGUgZWxlbWVudCBpbiBzdHJhcnIgdGhhdCBpcyBjbG9zZXN0IHRvIGZyb21cblx0XHRcdFx0XHRcdFx0aWYgKGZyb20gPj0gcCkge1xuXHRcdFx0XHRcdFx0XHRcdCsraTtcblx0XHRcdFx0XHRcdFx0XHRwb3MgPSBwO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIElmIHN0cmFycltpXSBpcyBhIFRva2VuLCB0aGVuIHRoZSBtYXRjaCBzdGFydHMgaW5zaWRlIGFub3RoZXIgVG9rZW4sIHdoaWNoIGlzIGludmFsaWRcblx0XHRcdFx0XHRcdGlmIChzdHJhcnJbaV0gaW5zdGFuY2VvZiBUb2tlbikge1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTnVtYmVyIG9mIHRva2VucyB0byBkZWxldGUgYW5kIHJlcGxhY2Ugd2l0aCB0aGUgbmV3IG1hdGNoXG5cdFx0XHRcdFx0XHRkZWxOdW0gPSBrIC0gaTtcblx0XHRcdFx0XHRcdHN0ciA9IHRleHQuc2xpY2UocG9zLCBwKTtcblx0XHRcdFx0XHRcdG1hdGNoLmluZGV4IC09IHBvcztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cGF0dGVybi5sYXN0SW5kZXggPSAwO1xuXG5cdFx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoc3RyKSxcblx0XHRcdFx0XHRcdFx0ZGVsTnVtID0gMTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdFx0XHRpZiAob25lc2hvdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYobG9va2JlaGluZCkge1xuXHRcdFx0XHRcdFx0bG9va2JlaGluZExlbmd0aCA9IG1hdGNoWzFdID8gbWF0Y2hbMV0ubGVuZ3RoIDogMDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgZnJvbSA9IG1hdGNoLmluZGV4ICsgbG9va2JlaGluZExlbmd0aCxcblx0XHRcdFx0XHQgICAgbWF0Y2ggPSBtYXRjaFswXS5zbGljZShsb29rYmVoaW5kTGVuZ3RoKSxcblx0XHRcdFx0XHQgICAgdG8gPSBmcm9tICsgbWF0Y2gubGVuZ3RoLFxuXHRcdFx0XHRcdCAgICBiZWZvcmUgPSBzdHIuc2xpY2UoMCwgZnJvbSksXG5cdFx0XHRcdFx0ICAgIGFmdGVyID0gc3RyLnNsaWNlKHRvKTtcblxuXHRcdFx0XHRcdHZhciBhcmdzID0gW2ksIGRlbE51bV07XG5cblx0XHRcdFx0XHRpZiAoYmVmb3JlKSB7XG5cdFx0XHRcdFx0XHQrK2k7XG5cdFx0XHRcdFx0XHRwb3MgKz0gYmVmb3JlLmxlbmd0aDtcblx0XHRcdFx0XHRcdGFyZ3MucHVzaChiZWZvcmUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciB3cmFwcGVkID0gbmV3IFRva2VuKHRva2VuLCBpbnNpZGU/IF8udG9rZW5pemUobWF0Y2gsIGluc2lkZSkgOiBtYXRjaCwgYWxpYXMsIG1hdGNoLCBncmVlZHkpO1xuXG5cdFx0XHRcdFx0YXJncy5wdXNoKHdyYXBwZWQpO1xuXG5cdFx0XHRcdFx0aWYgKGFmdGVyKSB7XG5cdFx0XHRcdFx0XHRhcmdzLnB1c2goYWZ0ZXIpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoc3RyYXJyLCBhcmdzKTtcblxuXHRcdFx0XHRcdGlmIChkZWxOdW0gIT0gMSlcblx0XHRcdFx0XHRcdF8ubWF0Y2hHcmFtbWFyKHRleHQsIHN0cmFyciwgZ3JhbW1hciwgaSwgcG9zLCB0cnVlLCB0b2tlbik7XG5cblx0XHRcdFx0XHRpZiAob25lc2hvdClcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHRva2VuaXplOiBmdW5jdGlvbih0ZXh0LCBncmFtbWFyKSB7XG5cdFx0dmFyIHN0cmFyciA9IFt0ZXh0XTtcblxuXHRcdHZhciByZXN0ID0gZ3JhbW1hci5yZXN0O1xuXG5cdFx0aWYgKHJlc3QpIHtcblx0XHRcdGZvciAodmFyIHRva2VuIGluIHJlc3QpIHtcblx0XHRcdFx0Z3JhbW1hclt0b2tlbl0gPSByZXN0W3Rva2VuXTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsZXRlIGdyYW1tYXIucmVzdDtcblx0XHR9XG5cblx0XHRfLm1hdGNoR3JhbW1hcih0ZXh0LCBzdHJhcnIsIGdyYW1tYXIsIDAsIDAsIGZhbHNlKTtcblxuXHRcdHJldHVybiBzdHJhcnI7XG5cdH0sXG5cblx0aG9va3M6IHtcblx0XHRhbGw6IHt9LFxuXG5cdFx0YWRkOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcblx0XHRcdHZhciBob29rcyA9IF8uaG9va3MuYWxsO1xuXG5cdFx0XHRob29rc1tuYW1lXSA9IGhvb2tzW25hbWVdIHx8IFtdO1xuXG5cdFx0XHRob29rc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcblx0XHR9LFxuXG5cdFx0cnVuOiBmdW5jdGlvbiAobmFtZSwgZW52KSB7XG5cdFx0XHR2YXIgY2FsbGJhY2tzID0gXy5ob29rcy5hbGxbbmFtZV07XG5cblx0XHRcdGlmICghY2FsbGJhY2tzIHx8ICFjYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Zm9yICh2YXIgaT0wLCBjYWxsYmFjazsgY2FsbGJhY2sgPSBjYWxsYmFja3NbaSsrXTspIHtcblx0XHRcdFx0Y2FsbGJhY2soZW52KTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0VG9rZW46IFRva2VuXG59O1xuXG5fc2VsZi5QcmlzbSA9IF87XG5cbmZ1bmN0aW9uIFRva2VuKHR5cGUsIGNvbnRlbnQsIGFsaWFzLCBtYXRjaGVkU3RyLCBncmVlZHkpIHtcblx0dGhpcy50eXBlID0gdHlwZTtcblx0dGhpcy5jb250ZW50ID0gY29udGVudDtcblx0dGhpcy5hbGlhcyA9IGFsaWFzO1xuXHQvLyBDb3B5IG9mIHRoZSBmdWxsIHN0cmluZyB0aGlzIHRva2VuIHdhcyBjcmVhdGVkIGZyb21cblx0dGhpcy5sZW5ndGggPSAobWF0Y2hlZFN0ciB8fCBcIlwiKS5sZW5ndGh8MDtcblx0dGhpcy5ncmVlZHkgPSAhIWdyZWVkeTtcbn1cblxuVG9rZW4uc3RyaW5naWZ5ID0gZnVuY3Rpb24obywgbGFuZ3VhZ2UsIHBhcmVudCkge1xuXHRpZiAodHlwZW9mIG8gPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGlmIChBcnJheS5pc0FycmF5KG8pKSB7XG5cdFx0cmV0dXJuIG8ubWFwKGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRcdHJldHVybiBUb2tlbi5zdHJpbmdpZnkoZWxlbWVudCwgbGFuZ3VhZ2UsIG8pO1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0dmFyIGVudiA9IHtcblx0XHR0eXBlOiBvLnR5cGUsXG5cdFx0Y29udGVudDogVG9rZW4uc3RyaW5naWZ5KG8uY29udGVudCwgbGFuZ3VhZ2UsIHBhcmVudCksXG5cdFx0dGFnOiAnc3BhbicsXG5cdFx0Y2xhc3NlczogWyd0b2tlbicsIG8udHlwZV0sXG5cdFx0YXR0cmlidXRlczoge30sXG5cdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlLFxuXHRcdHBhcmVudDogcGFyZW50XG5cdH07XG5cblx0aWYgKG8uYWxpYXMpIHtcblx0XHR2YXIgYWxpYXNlcyA9IEFycmF5LmlzQXJyYXkoby5hbGlhcykgPyBvLmFsaWFzIDogW28uYWxpYXNdO1xuXHRcdEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGVudi5jbGFzc2VzLCBhbGlhc2VzKTtcblx0fVxuXG5cdF8uaG9va3MucnVuKCd3cmFwJywgZW52KTtcblxuXHR2YXIgYXR0cmlidXRlcyA9IE9iamVjdC5rZXlzKGVudi5hdHRyaWJ1dGVzKS5tYXAoZnVuY3Rpb24obmFtZSkge1xuXHRcdHJldHVybiBuYW1lICsgJz1cIicgKyAoZW52LmF0dHJpYnV0ZXNbbmFtZV0gfHwgJycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKSArICdcIic7XG5cdH0pLmpvaW4oJyAnKTtcblxuXHRyZXR1cm4gJzwnICsgZW52LnRhZyArICcgY2xhc3M9XCInICsgZW52LmNsYXNzZXMuam9pbignICcpICsgJ1wiJyArIChhdHRyaWJ1dGVzID8gJyAnICsgYXR0cmlidXRlcyA6ICcnKSArICc+JyArIGVudi5jb250ZW50ICsgJzwvJyArIGVudi50YWcgKyAnPic7XG5cbn07XG5cbmlmICghX3NlbGYuZG9jdW1lbnQpIHtcblx0aWYgKCFfc2VsZi5hZGRFdmVudExpc3RlbmVyKSB7XG5cdFx0Ly8gaW4gTm9kZS5qc1xuXHRcdHJldHVybiBfO1xuXHR9XG5cblx0aWYgKCFfLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcikge1xuXHRcdC8vIEluIHdvcmtlclxuXHRcdF9zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZ0KSB7XG5cdFx0XHR2YXIgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpLFxuXHRcdFx0XHRsYW5nID0gbWVzc2FnZS5sYW5ndWFnZSxcblx0XHRcdFx0Y29kZSA9IG1lc3NhZ2UuY29kZSxcblx0XHRcdFx0aW1tZWRpYXRlQ2xvc2UgPSBtZXNzYWdlLmltbWVkaWF0ZUNsb3NlO1xuXG5cdFx0XHRfc2VsZi5wb3N0TWVzc2FnZShfLmhpZ2hsaWdodChjb2RlLCBfLmxhbmd1YWdlc1tsYW5nXSwgbGFuZykpO1xuXHRcdFx0aWYgKGltbWVkaWF0ZUNsb3NlKSB7XG5cdFx0XHRcdF9zZWxmLmNsb3NlKCk7XG5cdFx0XHR9XG5cdFx0fSwgZmFsc2UpO1xuXHR9XG5cblx0cmV0dXJuIF87XG59XG5cbi8vR2V0IGN1cnJlbnQgc2NyaXB0IGFuZCBoaWdobGlnaHRcbnZhciBzY3JpcHQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0IHx8IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIikpLnBvcCgpO1xuXG5pZiAoc2NyaXB0KSB7XG5cdF8uZmlsZW5hbWUgPSBzY3JpcHQuc3JjO1xuXG5cdGlmICghXy5tYW51YWwgJiYgIXNjcmlwdC5oYXNBdHRyaWJ1dGUoJ2RhdGEtbWFudWFsJykpIHtcblx0XHRpZihkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIikge1xuXHRcdFx0aWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcblx0XHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfLmhpZ2hsaWdodEFsbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChfLmhpZ2hsaWdodEFsbCwgMTYpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBfLmhpZ2hsaWdodEFsbCk7XG5cdFx0fVxuXHR9XG59XG5cbnJldHVybiBfO1xuXG59KShfc2VsZik7XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRtb2R1bGUuZXhwb3J0cyA9IFByaXNtO1xufVxuXG4vLyBoYWNrIGZvciBjb21wb25lbnRzIHRvIHdvcmsgY29ycmVjdGx5IGluIG5vZGUuanNcbmlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuXHRnbG9iYWwuUHJpc20gPSBQcmlzbTtcbn1cblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLW1hcmt1cC5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG5QcmlzbS5sYW5ndWFnZXMubWFya3VwID0ge1xuXHQnY29tbWVudCc6IC88IS0tW1xcc1xcU10qPy0tPi8sXG5cdCdwcm9sb2cnOiAvPFxcP1tcXHNcXFNdKz9cXD8+Lyxcblx0J2RvY3R5cGUnOiAvPCFET0NUWVBFW1xcc1xcU10rPz4vaSxcblx0J2NkYXRhJzogLzwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XV0+L2ksXG5cdCd0YWcnOiB7XG5cdFx0cGF0dGVybjogLzxcXC8/KD8hXFxkKVteXFxzPlxcLz0kPCVdKyg/Olxccyg/OlxccypbXlxccz5cXC89XSsoPzpcXHMqPVxccyooPzpcIlteXCJdKlwifCdbXiddKid8W15cXHMnXCI+PV0rKD89W1xccz5dKSl8KD89W1xccy8+XSkpKSspP1xccypcXC8/Pi9pLFxuXHRcdGdyZWVkeTogdHJ1ZSxcblx0XHRpbnNpZGU6IHtcblx0XHRcdCd0YWcnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9ePFxcLz9bXlxccz5cXC9dKy9pLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQncHVuY3R1YXRpb24nOiAvXjxcXC8/Lyxcblx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC89XFxzKig/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXlxccydcIj49XSspL2ksXG5cdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IFtcblx0XHRcdFx0XHRcdC9ePS8sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHBhdHRlcm46IC9eKFxccyopW1wiJ118W1wiJ10kLyxcblx0XHRcdFx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCdwdW5jdHVhdGlvbic6IC9cXC8/Pi8sXG5cdFx0XHQnYXR0ci1uYW1lJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvW15cXHM+XFwvXSsvLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cdH0sXG5cdCdlbnRpdHknOiAvJiM/W1xcZGEtel17MSw4fTsvaVxufTtcblxuUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cFsndGFnJ10uaW5zaWRlWydhdHRyLXZhbHVlJ10uaW5zaWRlWydlbnRpdHknXSA9XG5cdFByaXNtLmxhbmd1YWdlcy5tYXJrdXBbJ2VudGl0eSddO1xuXG4vLyBQbHVnaW4gdG8gbWFrZSBlbnRpdHkgdGl0bGUgc2hvdyB0aGUgcmVhbCBlbnRpdHksIGlkZWEgYnkgUm9tYW4gS29tYXJvdlxuUHJpc20uaG9va3MuYWRkKCd3cmFwJywgZnVuY3Rpb24oZW52KSB7XG5cblx0aWYgKGVudi50eXBlID09PSAnZW50aXR5Jykge1xuXHRcdGVudi5hdHRyaWJ1dGVzWyd0aXRsZSddID0gZW52LmNvbnRlbnQucmVwbGFjZSgvJmFtcDsvLCAnJicpO1xuXHR9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLCAnYWRkSW5saW5lZCcsIHtcblx0LyoqXG5cdCAqIEFkZHMgYW4gaW5saW5lZCBsYW5ndWFnZSB0byBtYXJrdXAuXG5cdCAqXG5cdCAqIEFuIGV4YW1wbGUgb2YgYW4gaW5saW5lZCBsYW5ndWFnZSBpcyBDU1Mgd2l0aCBgPHN0eWxlPmAgdGFncy5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgVGhlIG5hbWUgb2YgdGhlIHRhZyB0aGF0IGNvbnRhaW5zIHRoZSBpbmxpbmVkIGxhbmd1YWdlLiBUaGlzIG5hbWUgd2lsbCBiZSB0cmVhdGVkIGFzXG5cdCAqIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nIFRoZSBsYW5ndWFnZSBrZXkuXG5cdCAqIEBleGFtcGxlXG5cdCAqIGFkZElubGluZWQoJ3N0eWxlJywgJ2NzcycpO1xuXHQgKi9cblx0dmFsdWU6IGZ1bmN0aW9uIGFkZElubGluZWQodGFnTmFtZSwgbGFuZykge1xuXHRcdHZhciBpbmNsdWRlZENkYXRhSW5zaWRlID0ge307XG5cdFx0aW5jbHVkZWRDZGF0YUluc2lkZVsnbGFuZ3VhZ2UtJyArIGxhbmddID0ge1xuXHRcdFx0cGF0dGVybjogLyhePCFcXFtDREFUQVxcWylbXFxzXFxTXSs/KD89XFxdXFxdPiQpL2ksXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXNbbGFuZ11cblx0XHR9O1xuXHRcdGluY2x1ZGVkQ2RhdGFJbnNpZGVbJ2NkYXRhJ10gPSAvXjwhXFxbQ0RBVEFcXFt8XFxdXFxdPiQvaTtcblxuXHRcdHZhciBpbnNpZGUgPSB7XG5cdFx0XHQnaW5jbHVkZWQtY2RhdGEnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC88IVxcW0NEQVRBXFxbW1xcc1xcU10qP1xcXVxcXT4vaSxcblx0XHRcdFx0aW5zaWRlOiBpbmNsdWRlZENkYXRhSW5zaWRlXG5cdFx0XHR9XG5cdFx0fTtcblx0XHRpbnNpZGVbJ2xhbmd1YWdlLScgKyBsYW5nXSA9IHtcblx0XHRcdHBhdHRlcm46IC9bXFxzXFxTXSsvLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXNbbGFuZ11cblx0XHR9O1xuXG5cdFx0dmFyIGRlZiA9IHt9O1xuXHRcdGRlZlt0YWdOYW1lXSA9IHtcblx0XHRcdHBhdHRlcm46IFJlZ0V4cCgvKDxfX1tcXHNcXFNdKj8+KSg/OjwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdPlxccyp8W1xcc1xcU10pKj8oPz08XFwvX18+KS8uc291cmNlLnJlcGxhY2UoL19fL2csIHRhZ05hbWUpLCAnaScpLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGdyZWVkeTogdHJ1ZSxcblx0XHRcdGluc2lkZTogaW5zaWRlXG5cdFx0fTtcblxuXHRcdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ21hcmt1cCcsICdjZGF0YScsIGRlZik7XG5cdH1cbn0pO1xuXG5QcmlzbS5sYW5ndWFnZXMueG1sID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnbWFya3VwJywge30pO1xuUHJpc20ubGFuZ3VhZ2VzLmh0bWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuUHJpc20ubGFuZ3VhZ2VzLm1hdGhtbCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5QcmlzbS5sYW5ndWFnZXMuc3ZnID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWNzcy5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG4oZnVuY3Rpb24gKFByaXNtKSB7XG5cblx0dmFyIHN0cmluZyA9IC8oXCJ8JykoPzpcXFxcKD86XFxyXFxufFtcXHNcXFNdKXwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxLztcblxuXHRQcmlzbS5sYW5ndWFnZXMuY3NzID0ge1xuXHRcdCdjb21tZW50JzogL1xcL1xcKltcXHNcXFNdKj9cXCpcXC8vLFxuXHRcdCdhdHJ1bGUnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvQFtcXHctXSs/W1xcc1xcU10qPyg/Ojt8KD89XFxzKlxceykpL2ksXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0J3J1bGUnOiAvQFtcXHctXSsvXG5cdFx0XHRcdC8vIFNlZSByZXN0IGJlbG93XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQndXJsJzogUmVnRXhwKCd1cmxcXFxcKCg/OicgKyBzdHJpbmcuc291cmNlICsgJ3wuKj8pXFxcXCknLCAnaScpLFxuXHRcdCdzZWxlY3Rvcic6IFJlZ0V4cCgnW157fVxcXFxzXSg/Oltee307XCJcXCddfCcgKyBzdHJpbmcuc291cmNlICsgJykqPyg/PVxcXFxzKlxcXFx7KScpLFxuXHRcdCdzdHJpbmcnOiB7XG5cdFx0XHRwYXR0ZXJuOiBzdHJpbmcsXG5cdFx0XHRncmVlZHk6IHRydWVcblx0XHR9LFxuXHRcdCdwcm9wZXJ0eSc6IC9bLV9hLXpcXHhBMC1cXHVGRkZGXVstXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKjopL2ksXG5cdFx0J2ltcG9ydGFudCc6IC8haW1wb3J0YW50XFxiL2ksXG5cdFx0J2Z1bmN0aW9uJzogL1stYS16MC05XSsoPz1cXCgpL2ksXG5cdFx0J3B1bmN0dWF0aW9uJzogL1soKXt9OzosXS9cblx0fTtcblxuXHRQcmlzbS5sYW5ndWFnZXMuY3NzWydhdHJ1bGUnXS5pbnNpZGUucmVzdCA9IFByaXNtLmxhbmd1YWdlcy5jc3M7XG5cblx0dmFyIG1hcmt1cCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdGlmIChtYXJrdXApIHtcblx0XHRtYXJrdXAudGFnLmFkZElubGluZWQoJ3N0eWxlJywgJ2NzcycpO1xuXG5cdFx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnaW5zaWRlJywgJ2F0dHItdmFsdWUnLCB7XG5cdFx0XHQnc3R5bGUtYXR0cic6IHtcblx0XHRcdFx0cGF0dGVybjogL1xccypzdHlsZT0oXCJ8JykoPzpcXFxcW1xcc1xcU118KD8hXFwxKVteXFxcXF0pKlxcMS9pLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQnYXR0ci1uYW1lJzoge1xuXHRcdFx0XHRcdFx0cGF0dGVybjogL15cXHMqc3R5bGUvaSxcblx0XHRcdFx0XHRcdGluc2lkZTogbWFya3VwLnRhZy5pbnNpZGVcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9eXFxzKj1cXHMqWydcIl18WydcIl1cXHMqJC8sXG5cdFx0XHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdFx0XHRwYXR0ZXJuOiAvLisvaSxcblx0XHRcdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0YWxpYXM6ICdsYW5ndWFnZS1jc3MnXG5cdFx0XHR9XG5cdFx0fSwgbWFya3VwLnRhZyk7XG5cdH1cblxufShQcmlzbSkpO1xuXG5cbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgQmVnaW4gcHJpc20tY2xpa2UuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuUHJpc20ubGFuZ3VhZ2VzLmNsaWtlID0ge1xuXHQnY29tbWVudCc6IFtcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcXSlcXC9cXCpbXFxzXFxTXSo/KD86XFwqXFwvfCQpLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXnxbXlxcXFw6XSlcXC9cXC8uKi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0Z3JlZWR5OiB0cnVlXG5cdFx0fVxuXHRdLFxuXHQnc3RyaW5nJzoge1xuXHRcdHBhdHRlcm46IC8oW1wiJ10pKD86XFxcXCg/OlxcclxcbnxbXFxzXFxTXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS8sXG5cdFx0Z3JlZWR5OiB0cnVlXG5cdH0sXG5cdCdjbGFzcy1uYW1lJzoge1xuXHRcdHBhdHRlcm46IC8oKD86XFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylcXHMrKXwoPzpjYXRjaFxccytcXCgpKVtcXHcuXFxcXF0rL2ksXG5cdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRpbnNpZGU6IHtcblx0XHRcdHB1bmN0dWF0aW9uOiAvWy5cXFxcXS9cblx0XHR9XG5cdH0sXG5cdCdrZXl3b3JkJzogL1xcYig/OmlmfGVsc2V8d2hpbGV8ZG98Zm9yfHJldHVybnxpbnxpbnN0YW5jZW9mfGZ1bmN0aW9ufG5ld3x0cnl8dGhyb3d8Y2F0Y2h8ZmluYWxseXxudWxsfGJyZWFrfGNvbnRpbnVlKVxcYi8sXG5cdCdib29sZWFuJzogL1xcYig/OnRydWV8ZmFsc2UpXFxiLyxcblx0J2Z1bmN0aW9uJzogL1xcdysoPz1cXCgpLyxcblx0J251bWJlcic6IC9cXGIweFtcXGRhLWZdK1xcYnwoPzpcXGJcXGQrXFwuP1xcZCp8XFxCXFwuXFxkKykoPzplWystXT9cXGQrKT8vaSxcblx0J29wZXJhdG9yJzogLy0tP3xcXCtcXCs/fCE9Pz0/fDw9P3w+PT98PT0/PT98JiY/fFxcfFxcfD98XFw/fFxcKnxcXC98fnxcXF58JS8sXG5cdCdwdW5jdHVhdGlvbic6IC9be31bXFxdOygpLC46XS9cbn07XG5cblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBCZWdpbiBwcmlzbS1qYXZhc2NyaXB0LmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cblByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0ID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnY2xpa2UnLCB7XG5cdCdjbGFzcy1uYW1lJzogW1xuXHRcdFByaXNtLmxhbmd1YWdlcy5jbGlrZVsnY2xhc3MtbmFtZSddLFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXnxbXiRcXHdcXHhBMC1cXHVGRkZGXSlbXyRBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFwuKD86cHJvdG90eXBlfGNvbnN0cnVjdG9yKSkvLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdH1cblx0XSxcblx0J2tleXdvcmQnOiBbXG5cdFx0e1xuXHRcdFx0cGF0dGVybjogLygoPzpefH0pXFxzKikoPzpjYXRjaHxmaW5hbGx5KVxcYi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvKF58W14uXSlcXGIoPzphc3xhc3luYyg/PVxccyooPzpmdW5jdGlvblxcYnxcXCh8WyRcXHdcXHhBMC1cXHVGRkZGXXwkKSl8YXdhaXR8YnJlYWt8Y2FzZXxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxcYi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0fSxcblx0XSxcblx0J251bWJlcic6IC9cXGIoPzooPzowW3hYXVtcXGRBLUZhLWZdK3wwW2JCXVswMV0rfDBbb09dWzAtN10rKW4/fFxcZCtufE5hTnxJbmZpbml0eSlcXGJ8KD86XFxiXFxkK1xcLj9cXGQqfFxcQlxcLlxcZCspKD86W0VlXVsrLV0/XFxkKyk/Lyxcblx0Ly8gQWxsb3cgZm9yIGFsbCBub24tQVNDSUkgY2hhcmFjdGVycyAoU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIwMDg0NDQpXG5cdCdmdW5jdGlvbic6IC9bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKig/OlxcLlxccyooPzphcHBseXxiaW5kfGNhbGwpXFxzKik/XFwoKS8sXG5cdCdvcGVyYXRvcic6IC8tWy09XT98XFwrWys9XT98IT0/PT98PDw/PT98Pj4/Pj89P3w9KD86PT0/fD4pP3wmWyY9XT98XFx8W3w9XT98XFwqXFwqPz0/fFxcLz0/fH58XFxePT98JT0/fFxcP3xcXC57M30vXG59KTtcblxuUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRbJ2NsYXNzLW5hbWUnXVswXS5wYXR0ZXJuID0gLyhcXGIoPzpjbGFzc3xpbnRlcmZhY2V8ZXh0ZW5kc3xpbXBsZW1lbnRzfGluc3RhbmNlb2Z8bmV3KVxccyspW1xcdy5cXFxcXSsvXG5cblByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2phdmFzY3JpcHQnLCAna2V5d29yZCcsIHtcblx0J3JlZ2V4Jzoge1xuXHRcdHBhdHRlcm46IC8oKD86XnxbXiRcXHdcXHhBMC1cXHVGRkZGLlwiJ1xcXSlcXHNdKVxccyopXFwvKFxcWyg/OlteXFxdXFxcXFxcclxcbl18XFxcXC4pKl18XFxcXC58W14vXFxcXFxcW1xcclxcbl0pK1xcL1tnaW15dV17MCw1fSg/PVxccyooJHxbXFxyXFxuLC47fSlcXF1dKSkvLFxuXHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0Z3JlZWR5OiB0cnVlXG5cdH0sXG5cdC8vIFRoaXMgbXVzdCBiZSBkZWNsYXJlZCBiZWZvcmUga2V5d29yZCBiZWNhdXNlIHdlIHVzZSBcImZ1bmN0aW9uXCIgaW5zaWRlIHRoZSBsb29rLWZvcndhcmRcblx0J2Z1bmN0aW9uLXZhcmlhYmxlJzoge1xuXHRcdHBhdHRlcm46IC9bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKD89XFxzKls9Ol1cXHMqKD86YXN5bmNcXHMqKT8oPzpcXGJmdW5jdGlvblxcYnwoPzpcXCgoPzpbXigpXXxcXChbXigpXSpcXCkpKlxcKXxbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVskXFx3XFx4QTAtXFx1RkZGRl0qKVxccyo9PikpLyxcblx0XHRhbGlhczogJ2Z1bmN0aW9uJ1xuXHR9LFxuXHQncGFyYW1ldGVyJzogW1xuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oZnVuY3Rpb24oPzpcXHMrW18kQS1aYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKik/XFxzKlxcKFxccyopKD8hXFxzKSg/OlteKCldfFxcKFteKCldKlxcKSkrPyg/PVxccypcXCkpLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0fSxcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvW18kYS16XFx4QTAtXFx1RkZGRl1bJFxcd1xceEEwLVxcdUZGRkZdKig/PVxccyo9PikvaSxcblx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXFwoXFxzKikoPyFcXHMpKD86W14oKV18XFwoW14oKV0qXFwpKSs/KD89XFxzKlxcKVxccyo9PikvLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oKD86XFxifFxcc3xeKSg/ISg/OmFzfGFzeW5jfGF3YWl0fGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZpbmFsbHl8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKSg/IVskXFx3XFx4QTAtXFx1RkZGRl0pKSg/OltfJEEtWmEtelxceEEwLVxcdUZGRkZdWyRcXHdcXHhBMC1cXHVGRkZGXSpcXHMqKVxcKFxccyopKD8hXFxzKSg/OlteKCldfFxcKFteKCldKlxcKSkrPyg/PVxccypcXClcXHMqXFx7KS8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFxuXHRcdH1cblx0XSxcblx0J2NvbnN0YW50JzogL1xcYltBLVpdKD86W0EtWl9dfFxcZHg/KSpcXGIvXG59KTtcblxuUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdzdHJpbmcnLCB7XG5cdCd0ZW1wbGF0ZS1zdHJpbmcnOiB7XG5cdFx0cGF0dGVybjogL2AoPzpcXFxcW1xcc1xcU118XFwke1tefV0rfXxbXlxcXFxgXSkqYC8sXG5cdFx0Z3JlZWR5OiB0cnVlLFxuXHRcdGluc2lkZToge1xuXHRcdFx0J2ludGVycG9sYXRpb24nOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9cXCR7W159XSt9Lyxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J2ludGVycG9sYXRpb24tcHVuY3R1YXRpb24nOiB7XG5cdFx0XHRcdFx0XHRwYXR0ZXJuOiAvXlxcJHt8fSQvLFxuXHRcdFx0XHRcdFx0YWxpYXM6ICdwdW5jdHVhdGlvbidcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlc3Q6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQnc3RyaW5nJzogL1tcXHNcXFNdKy9cblx0XHR9XG5cdH1cbn0pO1xuXG5pZiAoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCkge1xuXHRQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5hZGRJbmxpbmVkKCdzY3JpcHQnLCAnamF2YXNjcmlwdCcpO1xufVxuXG5QcmlzbS5sYW5ndWFnZXMuanMgPSBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdDtcblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWZpbGUtaGlnaGxpZ2h0LmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdGlmICh0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgfHwgIXNlbGYuUHJpc20gfHwgIXNlbGYuZG9jdW1lbnQgfHwgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtFbGVtZW50fSBbY29udGFpbmVyPWRvY3VtZW50XVxuXHQgKi9cblx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0ID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0Y29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIEV4dGVuc2lvbnMgPSB7XG5cdFx0XHQnanMnOiAnamF2YXNjcmlwdCcsXG5cdFx0XHQncHknOiAncHl0aG9uJyxcblx0XHRcdCdyYic6ICdydWJ5Jyxcblx0XHRcdCdwczEnOiAncG93ZXJzaGVsbCcsXG5cdFx0XHQncHNtMSc6ICdwb3dlcnNoZWxsJyxcblx0XHRcdCdzaCc6ICdiYXNoJyxcblx0XHRcdCdiYXQnOiAnYmF0Y2gnLFxuXHRcdFx0J2gnOiAnYycsXG5cdFx0XHQndGV4JzogJ2xhdGV4J1xuXHRcdH07XG5cblx0XHRBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgncHJlW2RhdGEtc3JjXScpKS5mb3JFYWNoKGZ1bmN0aW9uIChwcmUpIHtcblx0XHRcdC8vIGlnbm9yZSBpZiBhbHJlYWR5IGxvYWRlZFxuXHRcdFx0aWYgKHByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3JjLWxvYWRlZCcpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbG9hZCBjdXJyZW50XG5cdFx0XHR2YXIgc3JjID0gcHJlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcblxuXHRcdFx0dmFyIGxhbmd1YWdlLCBwYXJlbnQgPSBwcmU7XG5cdFx0XHR2YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pO1xuXHRcdFx0d2hpbGUgKHBhcmVudCAmJiAhbGFuZy50ZXN0KHBhcmVudC5jbGFzc05hbWUpKSB7XG5cdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdGxhbmd1YWdlID0gKHByZS5jbGFzc05hbWUubWF0Y2gobGFuZykgfHwgWywgJyddKVsxXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFsYW5ndWFnZSkge1xuXHRcdFx0XHR2YXIgZXh0ZW5zaW9uID0gKHNyYy5tYXRjaCgvXFwuKFxcdyspJC8pIHx8IFssICcnXSlbMV07XG5cdFx0XHRcdGxhbmd1YWdlID0gRXh0ZW5zaW9uc1tleHRlbnNpb25dIHx8IGV4dGVuc2lvbjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2RlJyk7XG5cdFx0XHRjb2RlLmNsYXNzTmFtZSA9ICdsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cblx0XHRcdHByZS50ZXh0Q29udGVudCA9ICcnO1xuXG5cdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ0xvYWRpbmfigKYnO1xuXG5cdFx0XHRwcmUuYXBwZW5kQ2hpbGQoY29kZSk7XG5cblx0XHRcdHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXHRcdFx0eGhyLm9wZW4oJ0dFVCcsIHNyYywgdHJ1ZSk7XG5cblx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0KSB7XG5cblx0XHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA8IDQwMCAmJiB4aHIucmVzcG9uc2VUZXh0KSB7XG5cdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0geGhyLnJlc3BvbnNlVGV4dDtcblxuXHRcdFx0XHRcdFx0UHJpc20uaGlnaGxpZ2h0RWxlbWVudChjb2RlKTtcblx0XHRcdFx0XHRcdC8vIG1hcmsgYXMgbG9hZGVkXG5cdFx0XHRcdFx0XHRwcmUuc2V0QXR0cmlidXRlKCdkYXRhLXNyYy1sb2FkZWQnLCAnJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHhoci5zdGF0dXMgPj0gNDAwKSB7XG5cdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ+KcliBFcnJvciAnICsgeGhyLnN0YXR1cyArICcgd2hpbGUgZmV0Y2hpbmcgZmlsZTogJyArIHhoci5zdGF0dXNUZXh0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAn4pyWIEVycm9yOiBGaWxlIGRvZXMgbm90IGV4aXN0IG9yIGlzIGVtcHR5Jztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdHhoci5zZW5kKG51bGwpO1xuXHRcdH0pO1xuXG5cdFx0aWYgKFByaXNtLnBsdWdpbnMudG9vbGJhcikge1xuXHRcdFx0UHJpc20ucGx1Z2lucy50b29sYmFyLnJlZ2lzdGVyQnV0dG9uKCdkb3dubG9hZC1maWxlJywgZnVuY3Rpb24gKGVudikge1xuXHRcdFx0XHR2YXIgcHJlID0gZW52LmVsZW1lbnQucGFyZW50Tm9kZTtcblx0XHRcdFx0aWYgKCFwcmUgfHwgIS9wcmUvaS50ZXN0KHByZS5ub2RlTmFtZSkgfHwgIXByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3JjJykgfHwgIXByZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtbGluaycpKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBzcmMgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuXHRcdFx0XHR2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0XHRcdFx0YS50ZXh0Q29udGVudCA9IHByZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtbGluay1sYWJlbCcpIHx8ICdEb3dubG9hZCc7XG5cdFx0XHRcdGEuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICcnKTtcblx0XHRcdFx0YS5ocmVmID0gc3JjO1xuXHRcdFx0XHRyZXR1cm4gYTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHR9O1xuXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gZXhlY3V0ZSBpbnNpZGUgaGFuZGxlciwgZm9yIGRyb3BwaW5nIEV2ZW50IGFzIGFyZ3VtZW50XG5cdFx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0KCk7XG5cdH0pO1xuXG59KSgpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3ByaXNtanMvcHJpc20uanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGZyb20gPSBmdW5jdGlvbihvcHRzLCBwbHVnaW5zKSB7XG4gIHZhciBwYXJlbnQgPSAob3B0cy5wYXJlbnQgfHwgb3B0cykubm9kZVR5cGUgPT09IDEgPyAob3B0cy5wYXJlbnQgfHwgb3B0cykgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdHMucGFyZW50IHx8IG9wdHMpLFxuICAgIHNsaWRlcyA9IFtdLmZpbHRlci5jYWxsKHR5cGVvZiBvcHRzLnNsaWRlcyA9PT0gJ3N0cmluZycgPyBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChvcHRzLnNsaWRlcykgOiAob3B0cy5zbGlkZXMgfHwgcGFyZW50LmNoaWxkcmVuKSwgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLm5vZGVOYW1lICE9PSAnU0NSSVBUJzsgfSksXG4gICAgYWN0aXZlU2xpZGUgPSBzbGlkZXNbMF0sXG4gICAgbGlzdGVuZXJzID0ge30sXG5cbiAgICBhY3RpdmF0ZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG4gICAgICBpZiAoIXNsaWRlc1tpbmRleF0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmaXJlKCdkZWFjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG4gICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1tpbmRleF07XG4gICAgICBmaXJlKCdhY3RpdmF0ZScsIGNyZWF0ZUV2ZW50RGF0YShhY3RpdmVTbGlkZSwgY3VzdG9tRGF0YSkpO1xuICAgIH0sXG5cbiAgICBzbGlkZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICBmaXJlKCdzbGlkZScsIGNyZWF0ZUV2ZW50RGF0YShzbGlkZXNbaW5kZXhdLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoaW5kZXgsIGN1c3RvbURhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RlcCA9IGZ1bmN0aW9uKG9mZnNldCwgY3VzdG9tRGF0YSkge1xuICAgICAgdmFyIHNsaWRlSW5kZXggPSBzbGlkZXMuaW5kZXhPZihhY3RpdmVTbGlkZSkgKyBvZmZzZXQ7XG5cbiAgICAgIGZpcmUob2Zmc2V0ID4gMCA/ICduZXh0JyA6ICdwcmV2JywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoc2xpZGVJbmRleCwgY3VzdG9tRGF0YSk7XG4gICAgfSxcblxuICAgIG9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IChsaXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdKSkucHVzaChjYWxsYmFjayk7XG4gICAgICByZXR1cm4gb2ZmLmJpbmQobnVsbCwgZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgfSxcblxuICAgIG9mZiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIGxpc3RlbmVyc1tldmVudE5hbWVdID0gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24obGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyICE9PSBjYWxsYmFjazsgfSk7XG4gICAgfSxcblxuICAgIGZpcmUgPSBmdW5jdGlvbihldmVudE5hbWUsIGV2ZW50RGF0YSkge1xuICAgICAgcmV0dXJuIChsaXN0ZW5lcnNbZXZlbnROYW1lXSB8fCBbXSlcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbihub3RDYW5jZWxsZWQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIG5vdENhbmNlbGxlZCAmJiBjYWxsYmFjayhldmVudERhdGEpICE9PSBmYWxzZTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIGNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGVsLCBldmVudERhdGEpIHtcbiAgICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCB7fTtcbiAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlcy5pbmRleE9mKGVsKTtcbiAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IGVsO1xuICAgICAgcmV0dXJuIGV2ZW50RGF0YTtcbiAgICB9LFxuXG4gICAgZGVjayA9IHtcbiAgICAgIG9uOiBvbixcbiAgICAgIG9mZjogb2ZmLFxuICAgICAgZmlyZTogZmlyZSxcbiAgICAgIHNsaWRlOiBzbGlkZSxcbiAgICAgIG5leHQ6IHN0ZXAuYmluZChudWxsLCAxKSxcbiAgICAgIHByZXY6IHN0ZXAuYmluZChudWxsLCAtMSksXG4gICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgIHNsaWRlczogc2xpZGVzXG4gICAgfTtcblxuICAocGx1Z2lucyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICBwbHVnaW4oZGVjayk7XG4gIH0pO1xuXG4gIGFjdGl2YXRlKDApO1xuXG4gIHJldHVybiBkZWNrO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGZyb206IGZyb21cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS9saWIvYmVzcG9rZS5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiFcbiAqIGJlc3Bva2UtdGhlbWUtbmVidWxhIHYxLjAuMVxuICpcbiAqIENvcHlyaWdodCAyMDE0LCBNYXJrIERhbGdsZWlzaFxuICogVGhpcyBjb250ZW50IGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogXG4gKi9cblxuIWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoZSk7ZWxzZXt2YXIgbztcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P289d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/bz1nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJihvPXNlbGYpO3ZhciBmPW87Zj1mLmJlc3Bva2V8fChmLmJlc3Bva2U9e30pLGY9Zi50aGVtZXN8fChmLnRoZW1lcz17fSksZi5uZWJ1bGE9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cbnZhciBjbGFzc2VzID0gX2RlcmVxXygnYmVzcG9rZS1jbGFzc2VzJyk7XG52YXIgaW5zZXJ0Q3NzID0gX2RlcmVxXygnaW5zZXJ0LWNzcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3NzID0gXCIvKiEgbm9ybWFsaXplLmNzcyB2My4wLjAgfCBNSVQgTGljZW5zZSB8IGdpdC5pby9ub3JtYWxpemUgKi9odG1se2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJX1ib2R5e21hcmdpbjowfWFydGljbGUsYXNpZGUsZGV0YWlscyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLGhncm91cCxtYWluLG5hdixzZWN0aW9uLHN1bW1hcnl7ZGlzcGxheTpibG9ja31hdWRpbyxjYW52YXMscHJvZ3Jlc3MsdmlkZW97ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9YXVkaW86bm90KFtjb250cm9sc10pe2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MH1baGlkZGVuXSx0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9YXtiYWNrZ3JvdW5kOjAgMH1hOmFjdGl2ZSxhOmhvdmVye291dGxpbmU6MH1hYmJyW3RpdGxlXXtib3JkZXItYm90dG9tOjFweCBkb3R0ZWR9Yntmb250LXdlaWdodDo3MDB9ZGZue2ZvbnQtc3R5bGU6aXRhbGljfWgxe2ZvbnQtc2l6ZToyZW19bWFya3tiYWNrZ3JvdW5kOiNmZjA7Y29sb3I6IzAwMH1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN1cHt0b3A6LS41ZW19c3Vie2JvdHRvbTotLjI1ZW19aW1ne2JvcmRlcjowfXN2Zzpub3QoOnJvb3Qpe292ZXJmbG93OmhpZGRlbn1maWd1cmV7bWFyZ2luOjFlbSA0MHB4fWhye2JveC1zaXppbmc6Y29udGVudC1ib3h9cHJle292ZXJmbG93OmF1dG99Y29kZSxrYmQscHJlLHNhbXB7Zm9udC1zaXplOjFlbX1rYmQscHJlLHNhbXB7Zm9udC1mYW1pbHk6bW9ub3NwYWNlLG1vbm9zcGFjZX1idXR0b24saW5wdXQsb3B0Z3JvdXAsc2VsZWN0LHRleHRhcmVhe2NvbG9yOmluaGVyaXQ7Zm9udDppbmhlcml0O21hcmdpbjowfWJ1dHRvbntvdmVyZmxvdzp2aXNpYmxlfWJ1dHRvbixzZWxlY3R7dGV4dC10cmFuc2Zvcm06bm9uZX1idXR0b24saHRtbCBpbnB1dFt0eXBlPVxcXCJidXR0b25cXFwiXSxpbnB1dFt0eXBlPVxcXCJyZXNldFxcXCJdLGlucHV0W3R5cGU9XFxcInN1Ym1pdFxcXCJdey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247Y3Vyc29yOnBvaW50ZXJ9YnV0dG9uW2Rpc2FibGVkXSxodG1sIGlucHV0W2Rpc2FibGVkXXtjdXJzb3I6ZGVmYXVsdH1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIsaW5wdXQ6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOjA7cGFkZGluZzowfWlucHV0e2xpbmUtaGVpZ2h0Om5vcm1hbH1pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLGlucHV0W3R5cGU9XFxcInJhZGlvXFxcIl17Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH1pbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixpbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbntoZWlnaHQ6YXV0b31pbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXXstd2Via2l0LWFwcGVhcmFuY2U6dGV4dGZpZWxkO2JveC1zaXppbmc6Y29udGVudC1ib3h9aW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWNhbmNlbC1idXR0b24saW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb257LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9ZmllbGRzZXR7Ym9yZGVyOjFweCBzb2xpZCBzaWx2ZXI7bWFyZ2luOjAgMnB4O3BhZGRpbmc6LjM1ZW0gLjYyNWVtIC43NWVtfWxlZ2VuZHtib3JkZXI6MDtwYWRkaW5nOjB9dGV4dGFyZWF7b3ZlcmZsb3c6YXV0b31vcHRncm91cHtmb250LXdlaWdodDo3MDB9dGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JvcmRlci1zcGFjaW5nOjB9dGQsdGgsKntwYWRkaW5nOjB9KnttYXJnaW46MH1odG1sey13ZWJraXQtdGV4dC1zaXplLWFkanVzdDphdXRvOy1tcy10ZXh0LXNpemUtYWRqdXN0OmF1dG87dGV4dC1zaXplLWFkanVzdDphdXRvfS5iZXNwb2tlLXBhcmVudHtmb250LXNpemU6MS41ZW07YmFja2dyb3VuZDojMTExO2NvbG9yOiNkZGQ7Zm9udC1mYW1pbHk6ZnV0dXJhLGhlbHZldGljYSxhcmlhbCxhcmlhbCxzYW5zLXNlcmlmO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZCAxcyBlYXNlO3RyYW5zaXRpb246YmFja2dyb3VuZCAxcyBlYXNlO2JhY2tncm91bmQtcG9zaXRpb246NTAlIDUwJX0uYmVzcG9rZS1wYXJlbnQsLmJlc3Bva2Utc2NhbGUtcGFyZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowfS5iZXNwb2tlLXNjYWxlLXBhcmVudHtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6MX0uYmVzcG9rZS1zY2FsZS1wYXJlbnQgLmJlc3Bva2UtYWN0aXZle3BvaW50ZXItZXZlbnRzOmF1dG99LmJlc3Bva2Utc2xpZGV7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjVzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC41cyBlYXNlO3dpZHRoOjk0MHB4O2hlaWdodDo0ODBweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi00NzBweDttYXJnaW4tdG9wOi0yNDBweDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LXdlYmtpdC1mbGV4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy13ZWJraXQtZmxleC1kaXJlY3Rpb246Y29sdW1uOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy13ZWJraXQtanVzdGlmeS1jb250ZW50OmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3otaW5kZXg6MX0uYmVzcG9rZS1hY3RpdmV7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi41czt0cmFuc2l0aW9uLWRlbGF5Oi41c30uYmVzcG9rZS1hY3RpdmVbZGF0YS1iZXNwb2tlLWJhY2tkcm9wXXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6Ljc1czt0cmFuc2l0aW9uLWRlbGF5Oi43NXN9LmJlc3Bva2UtaW5hY3RpdmV7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmV9LmJlc3Bva2UtYmFja2Ryb3B7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7aGVpZ2h0Oi4zdnc7ei1pbmRleDoxfS5iZXNwb2tlLXByb2dyZXNzLWJhcntiYWNrZ3JvdW5kOiNkZGQ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO2hlaWdodDoxMDAlOy13ZWJraXQtdHJhbnNpdGlvbjp3aWR0aCAxcyBlYXNlO3RyYW5zaXRpb246d2lkdGggMXMgZWFzZX0uYmVzcG9rZS1idWxsZXR7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlfS5iZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZXtvcGFjaXR5OjB9c3Ryb25ne2ZvbnQtd2VpZ2h0OjQwMH1ocnt3aWR0aDo1MCU7bWFyZ2luOjFyZW0gYXV0bztoZWlnaHQ6MXB4O2JvcmRlcjowO2JhY2tncm91bmQ6I2RkZH1oMyxwLGxpe3BhZGRpbmctbGVmdDoyMHB4O3BhZGRpbmctcmlnaHQ6MjBweH1oMyxoNCxwLGxpLHByZXtmb250LXdlaWdodDoyMDB9aDF7bGluZS1oZWlnaHQ6MS40ZW07cGFkZGluZzoxZW07Ym9yZGVyOjFweCBzb2xpZCAjZGRkO2JvcmRlci1sZWZ0LXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOjA7bWluLXdpZHRoOjhlbX1oMSxoMntsZXR0ZXItc3BhY2luZzouM2VtO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtmb250LXdlaWdodDo0MDA7bWFyZ2luOi4xN2VtIDA7cG9zaXRpb246cmVsYXRpdmV9aDJ7bGluZS1oZWlnaHQ6MS4xZW07cGFkZGluZzowIDAgMCAuM2VtfWgze2ZvbnQtZmFtaWx5OmRpZG90LHRpbWVzIG5ldyByb21hbixzZXJpZjtmb250LXN0eWxlOml0YWxpYztmb250LXNpemU6MS4yZW07bGluZS1oZWlnaHQ6MS42ZW07bWFyZ2luOi41ZW0gMH1oNHt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC1zaXplOi44ZW07bGluZS1oZWlnaHQ6MS44ZW07bGV0dGVyLXNwYWNpbmc6LjNlbTttYXJnaW46MWVtIDB9dWwsb2x7cGFkZGluZzowO21hcmdpbjowO3RleHQtYWxpZ246bGVmdH1saXtsaXN0LXN0eWxlOm5vbmU7bWFyZ2luOi4yZW07Zm9udC1zdHlsZTpub3JtYWw7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCl9bGk6YmVmb3Jle2NvbnRlbnQ6J1xcXFwyMDE0JzttYXJnaW4tcmlnaHQ6NHB4fXByZXtiYWNrZ3JvdW5kOm5vbmUhaW1wb3J0YW50fWNvZGV7Zm9udC1mYW1pbHk6cHJlc3RpZ2UgZWxpdGUgc3RkLGNvbnNvbGFzLGNvdXJpZXIgbmV3LG1vbm9zcGFjZSFpbXBvcnRhbnQ7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6MjAwIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnR9YXtwYWRkaW5nLWxlZnQ6LjNlbTtjb2xvcjpjdXJyZW50Q29sb3I7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgY3VycmVudENvbG9yfS5lbXBoYXRpY3tiYWNrZ3JvdW5kOiNmMzB9LnNpbmdsZS13b3Jkc3t3b3JkLXNwYWNpbmc6OTk5OXB4O2xpbmUtaGVpZ2h0OjIuOWVtO292ZXJmbG93OmhpZGRlbn0uYmVzcG9rZS1iYWNrZHJvcHtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSA2cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlLHRyYW5zZm9ybSA2cyBlYXNlO2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKXNjYWxlKDEuMyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMClzY2FsZSgxLjMpfS5iZXNwb2tlLWJhY2tkcm9wLWFjdGl2ZSwuYmVzcG9rZS1iYWNrZHJvcC1iZWZvcmV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKX0uYmVzcG9rZS1iYWNrZHJvcC1iZWZvcmV7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi4yczt0cmFuc2l0aW9uLWRlbGF5Oi4yc30uYmVzcG9rZS1iYWNrZHJvcC1hY3RpdmV7b3BhY2l0eTouNX1cIjtcbiAgaW5zZXJ0Q3NzKGNzcywgeyBwcmVwZW5kOiB0cnVlIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgY2xhc3NlcygpKGRlY2spO1xuICB9O1xufTtcblxufSx7XCJiZXNwb2tlLWNsYXNzZXNcIjoyLFwiaW5zZXJ0LWNzc1wiOjN9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGFkZENsYXNzID0gZnVuY3Rpb24oZWwsIGNscykge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLScgKyBjbHMpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbCwgY2xzKSB7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZVxuICAgICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoJ2Jlc3Bva2UtJyArIGNscyArJyhcXFxcc3wkKScsICdnJyksICcgJylcbiAgICAgICAgICAudHJpbSgpO1xuICAgICAgfSxcblxuICAgICAgZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uKGVsLCBpbmRleCkge1xuICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSBkZWNrLnNsaWRlc1tkZWNrLnNsaWRlKCldLFxuICAgICAgICAgIG9mZnNldCA9IGluZGV4IC0gZGVjay5zbGlkZSgpLFxuICAgICAgICAgIG9mZnNldENsYXNzID0gb2Zmc2V0ID4gMCA/ICdhZnRlcicgOiAnYmVmb3JlJztcblxuICAgICAgICBbJ2JlZm9yZSgtXFxcXGQrKT8nLCAnYWZ0ZXIoLVxcXFxkKyk/JywgJ2FjdGl2ZScsICdpbmFjdGl2ZSddLm1hcChyZW1vdmVDbGFzcy5iaW5kKG51bGwsIGVsKSk7XG5cbiAgICAgICAgaWYgKGVsICE9PSBhY3RpdmVTbGlkZSkge1xuICAgICAgICAgIFsnaW5hY3RpdmUnLCBvZmZzZXRDbGFzcywgb2Zmc2V0Q2xhc3MgKyAnLScgKyBNYXRoLmFicyhvZmZzZXQpXS5tYXAoYWRkQ2xhc3MuYmluZChudWxsLCBlbCkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgYWRkQ2xhc3MoZGVjay5wYXJlbnQsICdwYXJlbnQnKTtcbiAgICBkZWNrLnNsaWRlcy5tYXAoZnVuY3Rpb24oZWwpIHsgYWRkQ2xhc3MoZWwsICdzbGlkZScpOyB9KTtcblxuICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgZGVjay5zbGlkZXMubWFwKGRlYWN0aXZhdGUpO1xuICAgICAgYWRkQ2xhc3MoZS5zbGlkZSwgJ2FjdGl2ZScpO1xuICAgICAgcmVtb3ZlQ2xhc3MoZS5zbGlkZSwgJ2luYWN0aXZlJyk7XG4gICAgfSk7XG4gIH07XG59O1xuXG59LHt9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpbnNlcnRlZCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MsIG9wdGlvbnMpIHtcbiAgICBpZiAoaW5zZXJ0ZWRbY3NzXSkgcmV0dXJuO1xuICAgIGluc2VydGVkW2Nzc10gPSB0cnVlO1xuICAgIFxuICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuXG4gICAgaWYgKCd0ZXh0Q29udGVudCcgaW4gZWxlbSkge1xuICAgICAgZWxlbS50ZXh0Q29udGVudCA9IGNzcztcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgfVxuICAgIFxuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnByZXBlbmQpIHtcbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoZWxlbSwgaGVhZC5jaGlsZE5vZGVzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgIH1cbn07XG5cbn0se31dfSx7fSxbMV0pXG4oMSlcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLXRoZW1lLW5lYnVsYS9kaXN0L2Jlc3Bva2UtdGhlbWUtbmVidWxhLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBpc0hvcml6b250YWwgPSBvcHRpb25zICE9PSAndmVydGljYWwnO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDM0IHx8IC8vIFBBR0UgRE9XTlxuICAgICAgICAoZS53aGljaCA9PSAzMiAmJiAhZS5zaGlmdEtleSkgfHwgLy8gU1BBQ0UgV0lUSE9VVCBTSElGVFxuICAgICAgICAoaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzkpIHx8IC8vIFJJR0hUXG4gICAgICAgICghaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gNDApIC8vIERPV05cbiAgICAgICkgeyBkZWNrLm5leHQoKTsgfVxuXG4gICAgICBpZiAoZS53aGljaCA9PSAzMyB8fCAvLyBQQUdFIFVQXG4gICAgICAgIChlLndoaWNoID09IDMyICYmIGUuc2hpZnRLZXkpIHx8IC8vIFNQQUNFICsgU0hJRlRcbiAgICAgICAgKGlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM3KSB8fCAvLyBMRUZUXG4gICAgICAgICghaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzgpIC8vIFVQXG4gICAgICApIHsgZGVjay5wcmV2KCk7IH1cbiAgICB9KTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS1rZXlzL2xpYi9iZXNwb2tlLWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGF4aXMgPSBvcHRpb25zID09ICd2ZXJ0aWNhbCcgPyAnWScgOiAnWCcsXG4gICAgICBzdGFydFBvc2l0aW9uLFxuICAgICAgZGVsdGE7XG5cbiAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICBzdGFydFBvc2l0aW9uID0gZS50b3VjaGVzWzBdWydwYWdlJyArIGF4aXNdO1xuICAgICAgICBkZWx0YSA9IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZGVsdGEgPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc10gLSBzdGFydFBvc2l0aW9uO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVjay5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiA1MCkge1xuICAgICAgICBkZWNrW2RlbHRhID4gMCA/ICdwcmV2JyA6ICduZXh0J10oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmVzcG9rZS10b3VjaC9saWIvYmVzcG9rZS10b3VjaC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgYWN0aXZlU2xpZGVJbmRleCxcbiAgICAgIGFjdGl2ZUJ1bGxldEluZGV4LFxuXG4gICAgICBidWxsZXRzID0gZGVjay5zbGlkZXMubWFwKGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/IG9wdGlvbnMgOiAnW2RhdGEtYmVzcG9rZS1idWxsZXRdJykpLCAwKTtcbiAgICAgIH0pLFxuXG4gICAgICBuZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXh0U2xpZGVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXggKyAxO1xuXG4gICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KDEpKSB7XG4gICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggKyAxKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1tuZXh0U2xpZGVJbmRleF0pIHtcbiAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChuZXh0U2xpZGVJbmRleCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHByZXYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHByZXZTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCAtIDE7XG5cbiAgICAgICAgaWYgKGFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQoLTEpKSB7XG4gICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggLSAxKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1twcmV2U2xpZGVJbmRleF0pIHtcbiAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChwcmV2U2xpZGVJbmRleCwgYnVsbGV0c1twcmV2U2xpZGVJbmRleF0ubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGFjdGl2YXRlQnVsbGV0ID0gZnVuY3Rpb24oc2xpZGVJbmRleCwgYnVsbGV0SW5kZXgpIHtcbiAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IHNsaWRlSW5kZXg7XG4gICAgICAgIGFjdGl2ZUJ1bGxldEluZGV4ID0gYnVsbGV0SW5kZXg7XG5cbiAgICAgICAgYnVsbGV0cy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlLCBzKSB7XG4gICAgICAgICAgc2xpZGUuZm9yRWFjaChmdW5jdGlvbihidWxsZXQsIGIpIHtcbiAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldCcpO1xuXG4gICAgICAgICAgICBpZiAocyA8IHNsaWRlSW5kZXggfHwgcyA9PT0gc2xpZGVJbmRleCAmJiBiIDw9IGJ1bGxldEluZGV4KSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWluYWN0aXZlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtaW5hY3RpdmUnKTtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWFjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocyA9PT0gc2xpZGVJbmRleCAmJiBiID09PSBidWxsZXRJbmRleCkge1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtY3VycmVudCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWN1cnJlbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0ID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBidWxsZXRzW2FjdGl2ZVNsaWRlSW5kZXhdW2FjdGl2ZUJ1bGxldEluZGV4ICsgb2Zmc2V0XSAhPT0gdW5kZWZpbmVkO1xuICAgICAgfTtcblxuICAgIGRlY2sub24oJ25leHQnLCBuZXh0KTtcbiAgICBkZWNrLm9uKCdwcmV2JywgcHJldik7XG5cbiAgICBkZWNrLm9uKCdzbGlkZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGFjdGl2YXRlQnVsbGV0KGUuaW5kZXgsIDApO1xuICAgIH0pO1xuXG4gICAgYWN0aXZhdGVCdWxsZXQoMCwgMCk7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtYnVsbGV0cy9saWIvYmVzcG9rZS1idWxsZXRzLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGJhY2tkcm9wcztcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhY2tkcm9wRm9yU2xpZGUoc2xpZGUpIHtcbiAgICAgIHZhciBiYWNrZHJvcEF0dHJpYnV0ZSA9IHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWJhY2tkcm9wJyk7XG5cbiAgICAgIGlmIChiYWNrZHJvcEF0dHJpYnV0ZSkge1xuICAgICAgICB2YXIgYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYmFja2Ryb3AuY2xhc3NOYW1lID0gYmFja2Ryb3BBdHRyaWJ1dGU7XG4gICAgICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYmFja2Ryb3AnKTtcbiAgICAgICAgZGVjay5wYXJlbnQuYXBwZW5kQ2hpbGQoYmFja2Ryb3ApO1xuICAgICAgICByZXR1cm4gYmFja2Ryb3A7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NlcyhlbCkge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhY2tkcm9wcy5pbmRleE9mKGVsKSxcbiAgICAgICAgICBjdXJyZW50SW5kZXggPSBkZWNrLnNsaWRlKCk7XG5cbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdhY3RpdmUnKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdpbmFjdGl2ZScpO1xuICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2JlZm9yZScpO1xuICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2FmdGVyJyk7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2luYWN0aXZlJyk7XG4gICAgICAgICAgYWRkQ2xhc3MoZWwsIGluZGV4IDwgY3VycmVudEluZGV4ID8gJ2JlZm9yZScgOiAnYWZ0ZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRDbGFzcyhlbCwgJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1iYWNrZHJvcC0nICsgY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJhY2tkcm9wLScgKyBjbGFzc05hbWUpO1xuICAgIH1cblxuICAgIGJhY2tkcm9wcyA9IGRlY2suc2xpZGVzXG4gICAgICAubWFwKGNyZWF0ZUJhY2tkcm9wRm9yU2xpZGUpO1xuXG4gICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGJhY2tkcm9wcy5mb3JFYWNoKHVwZGF0ZUNsYXNzZXMpO1xuICAgIH0pO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLWJhY2tkcm9wL2xpYi9iZXNwb2tlLWJhY2tkcm9wLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBwYXJlbnQgPSBkZWNrLnBhcmVudCxcbiAgICAgIGZpcnN0U2xpZGUgPSBkZWNrLnNsaWRlc1swXSxcbiAgICAgIHNsaWRlSGVpZ2h0ID0gZmlyc3RTbGlkZS5vZmZzZXRIZWlnaHQsXG4gICAgICBzbGlkZVdpZHRoID0gZmlyc3RTbGlkZS5vZmZzZXRXaWR0aCxcbiAgICAgIHVzZVpvb20gPSBvcHRpb25zID09PSAnem9vbScgfHwgKCd6b29tJyBpbiBwYXJlbnQuc3R5bGUgJiYgb3B0aW9ucyAhPT0gJ3RyYW5zZm9ybScpLFxuXG4gICAgICB3cmFwID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXNjYWxlLXBhcmVudCc7XG4gICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWxlbWVudCk7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgICAgfSxcblxuICAgICAgZWxlbWVudHMgPSB1c2Vab29tID8gZGVjay5zbGlkZXMgOiBkZWNrLnNsaWRlcy5tYXAod3JhcCksXG5cbiAgICAgIHRyYW5zZm9ybVByb3BlcnR5ID0gKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgIHZhciBwcmVmaXhlcyA9ICdNb3ogV2Via2l0IE8gbXMnLnNwbGl0KCcgJyk7XG4gICAgICAgIHJldHVybiBwcmVmaXhlcy5yZWR1Y2UoZnVuY3Rpb24oY3VycmVudFByb3BlcnR5LCBwcmVmaXgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyBwcm9wZXJ0eSBpbiBwYXJlbnQuc3R5bGUgPyBwcmVmaXggKyBwcm9wZXJ0eSA6IGN1cnJlbnRQcm9wZXJ0eTtcbiAgICAgICAgICB9LCBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH0oJ1RyYW5zZm9ybScpKSxcblxuICAgICAgc2NhbGUgPSB1c2Vab29tID9cbiAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnpvb20gPSByYXRpbztcbiAgICAgICAgfSA6XG4gICAgICAgIGZ1bmN0aW9uKHJhdGlvLCBlbGVtZW50KSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZVt0cmFuc2Zvcm1Qcm9wZXJ0eV0gPSAnc2NhbGUoJyArIHJhdGlvICsgJyknO1xuICAgICAgICB9LFxuXG4gICAgICBzY2FsZUFsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeFNjYWxlID0gcGFyZW50Lm9mZnNldFdpZHRoIC8gc2xpZGVXaWR0aCxcbiAgICAgICAgICB5U2NhbGUgPSBwYXJlbnQub2Zmc2V0SGVpZ2h0IC8gc2xpZGVIZWlnaHQ7XG5cbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChzY2FsZS5iaW5kKG51bGwsIE1hdGgubWluKHhTY2FsZSwgeVNjYWxlKSkpO1xuICAgICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzY2FsZUFsbCk7XG4gICAgc2NhbGVBbGwoKTtcbiAgfTtcblxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLXNjYWxlL2xpYi9iZXNwb2tlLXNjYWxlLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGFjdGl2YXRlU2xpZGUgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgdmFyIGluZGV4VG9BY3RpdmF0ZSA9IC0xIDwgaW5kZXggJiYgaW5kZXggPCBkZWNrLnNsaWRlcy5sZW5ndGggPyBpbmRleCA6IDA7XG4gICAgICBpZiAoaW5kZXhUb0FjdGl2YXRlICE9PSBkZWNrLnNsaWRlKCkpIHtcbiAgICAgICAgZGVjay5zbGlkZShpbmRleFRvQWN0aXZhdGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcGFyc2VIYXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLFxuICAgICAgICBzbGlkZU51bWJlck9yTmFtZSA9IHBhcnNlSW50KGhhc2gsIDEwKTtcblxuICAgICAgaWYgKGhhc2gpIHtcbiAgICAgICAgaWYgKHNsaWRlTnVtYmVyT3JOYW1lKSB7XG4gICAgICAgICAgYWN0aXZhdGVTbGlkZShzbGlkZU51bWJlck9yTmFtZSAtIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlY2suc2xpZGVzLmZvckVhY2goZnVuY3Rpb24oc2xpZGUsIGkpIHtcbiAgICAgICAgICAgIGlmIChzbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1oYXNoJykgPT09IGhhc2ggfHwgc2xpZGUuaWQgPT09IGhhc2gpIHtcbiAgICAgICAgICAgICAgYWN0aXZhdGVTbGlkZShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgcGFyc2VIYXNoKCk7XG5cbiAgICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgc2xpZGVOYW1lID0gZS5zbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1oYXNoJykgfHwgZS5zbGlkZS5pZDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBzbGlkZU5hbWUgfHwgZS5pbmRleCArIDE7XG4gICAgICB9KTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBwYXJzZUhhc2gpO1xuICAgIH0sIDApO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLWhhc2gvbGliL2Jlc3Bva2UtaGFzaC5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkZWNrKSB7XG4gICAgdmFyIHByb2dyZXNzUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgcHJvcCA9IG9wdGlvbnMgPT09ICd2ZXJ0aWNhbCcgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgICBwcm9ncmVzc1BhcmVudC5jbGFzc05hbWUgPSAnYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnQnO1xuICAgIHByb2dyZXNzQmFyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXByb2dyZXNzLWJhcic7XG4gICAgcHJvZ3Jlc3NQYXJlbnQuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCYXIpO1xuICAgIGRlY2sucGFyZW50LmFwcGVuZENoaWxkKHByb2dyZXNzUGFyZW50KTtcblxuICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGVbcHJvcF0gPSAoZS5pbmRleCAqIDEwMCAvIChkZWNrLnNsaWRlcy5sZW5ndGggLSAxKSkgKyAnJSc7XG4gICAgfSk7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtcHJvZ3Jlc3MvbGliL2Jlc3Bva2UtcHJvZ3Jlc3MuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qZ2xvYmFsIG1vZHVsZTp0cnVlLCByZXF1aXJlOnRydWUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBwbHVnaW5OYW1lID0gXCJpbmRleGZpbmdlclwiLFxuICAgIC8vIEhhY2sgdG8gZ2V0IGFyb3VuZCBoYXZpbmcgdG8gd3JpdGUgYWxsIGJyb3dzZXIgY29kZSB3aXRoIHJlcXVpcmUoKS5cbiAgICBicm93c2VyR2xvYmFsID0gKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIGYoXCJyZXR1cm4gdGhpc1wiKSgpO1xuICAgIH0oRnVuY3Rpb24pKSxcbiAgICBjb252ZW5pZW50ID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuY29udmVuaWVudCkgfHwgcmVxdWlyZShcImJlc3Bva2UtY29udmVuaWVudFwiKSksXG4gICAgY3YgPSBjb252ZW5pZW50LmJ1aWxkZXIocGx1Z2luTmFtZSksXG5cbiAgICBwbHVnaW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWNrZXIgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgY3ZCb3VuZFRvRGVjayA9IGN2LmFjdGl2YXRlRGVjayhkZWNrKSxcblxuICAgICAgICAgICAgICAgIG9mZiA9IHt9LFxuXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBudWxsLFxuXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IC0xLFxuXG4gICAgICAgICAgICAgICAgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2ZmLnNhdmVBY3RpdmVTbGlkZSA9IHRoaXMub24oXCJhY3RpdmF0ZVwiLCB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5zYXZlQWN0aXZlU2xpZGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc2F2ZUFjdGl2ZVNsaWRlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZSA9IGUuc2xpZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gZS5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0QWN0aXZlU2xpZGVJbmRleDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suZ2V0QWN0aXZlU2xpZGUgPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZS5iaW5kKGRlY2spO1xuICAgICAgICAgICAgICAgICAgICBkZWNrLmdldEFjdGl2ZVNsaWRlSW5kZXggPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZUluZGV4LmJpbmQoZGVjayk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5lbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyLmNhbGwoZGVjayk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlY2tlcjtcbiAgICB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLWluZGV4ZmluZ2VyL2xpYi9iZXNwb2tlLWluZGV4ZmluZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgY29uc29sZTp0cnVlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgcGx1Z2luTmFtZSA9IFwiY29udmVuaWVudFwiLFxuICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfShGdW5jdGlvbikpLFxuXG4gICAgY3YsXG5cbiAgICAvLyBUaGUgZGVmYXVsdHMgb2JqZWN0IGlzIHBhc3NlZCBhcyBhIHJlZmVyZW5jZSwgYW5kIGNhbiBiZSBtb2RpZmllZCBieSBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRJbml0XG4gICAgZGVmYXVsdHMgPSB7XG4gICAgICAgIGxvZ2dlcjoge1xuICAgICAgICAgICAgbG9nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBwaGFudG9tLXBvbHlmaWxsLmpzIHByb2JsZW1zIGJpbmRpbmcgY29uc29sZS5sb2cgKHdpbmRvdy5jb25zb2xlLmxvZylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtZXJnZWQgPSB7fTtcblxuICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcbiAgICAgICAgbWVyZ2VkLmxvZ2dlciA9IHt9O1xuICAgICAgICBtZXJnZWQubG9nZ2VyLmxvZyA9IChicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zICYmIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyICYmIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZykgfHwgZGVmYXVsdHMubG9nZ2VyLmxvZztcblxuICAgICAgICBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zID0gbWVyZ2VkO1xuICAgIH0sXG5cbiAgICBwbHVnaW4gPSB7fSxcblxuICAgIGRlY2tzU3RvcmFnZXMgPSBbXSxcblxuICAgIGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVja0FscmVhZHlTdG9yZWQgPSBkZWNrc1N0b3JhZ2VzLnNvbWUoZnVuY3Rpb24oZGVja1N0b3JhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNrU3RvcmFnZS5kZWNrID09PSBkZWNrO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGVja0FscmVhZHlTdG9yZWQ7XG4gICAgfSxcblxuICAgIHN0b3JlRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgdmFyIGRlY2tBbHJlYWR5U3RvcmVkID0gaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2soZGVjayk7XG5cbiAgICAgICAgaWYgKCFkZWNrQWxyZWFkeVN0b3JlZCkge1xuICAgICAgICAgICAgZGVja3NTdG9yYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkZWNrOiBkZWNrLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IHt9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbiA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcbiAgICAgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWNrKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayksXG4gICAgICAgICAgICBpc1N0b3JhZ2VJbml0aWF0ZWQgPSAhIShzdG9yYWdlICYmIHN0b3JhZ2VbcGx1Z2luTmFtZV0pO1xuXG4gICAgICAgIHJldHVybiBpc1N0b3JhZ2VJbml0aWF0ZWQ7XG4gICAgfSxcblxuICAgIGluaXRpYXRlRGVja1BsdWdpblN0b3JhZ2UgPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG4gICAgICAgIGlmICghcGx1Z2luTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVjaykge1xuICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXG4gICAgICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgICAgICAgc3RvcmVEZWNrKGRlY2spO1xuICAgICAgICAgICAgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3JhZ2VbcGx1Z2luTmFtZV0gPSB7fTtcbiAgICB9LFxuXG4gICAgaXNOdW1iZXIgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgwODIvdmFsaWRhdGUtbnVtYmVycy1pbi1qYXZhc2NyaXB0LWlzbnVtZXJpY1xuICAgICAgICAvLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE4MzA4NDRcbiAgICAgICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbiAgICB9LFxuXG4gICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpbml0T3B0aW9ucygpO1xuICAgIH07XG5cbi8vIEZvciBwbHVnaW5zIHRoZW1zZWx2ZXNcbnBsdWdpbi5idWlsZGVyID0gZnVuY3Rpb24gc2VsZihvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgcGx1Z2luIG9wdGlvbnMgd2VyZSBub3QgcHJvcGVybHkgZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBwbHVnaW5OYW1lOiBvcHRpb25zXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnBsdWdpbk5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSBwbHVnaW4gbmFtZSB3YXMgbm90IHByb3Blcmx5IGRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIHZhciBleHRlcm5hbCA9IHt9LFxuXG4gICAgICAgIHRhZyA9IFwiYmVzcG9rZS5cIiArIG9wdGlvbnMucGx1Z2luTmFtZSxcblxuICAgICAgICBnZW5lcmF0ZUVycm9yT2JqZWN0ID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcih0YWcgKyBcIjogXCIgKyBtZXNzYWdlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudE5hbWVzcGFjZSA9IG9wdGlvbnMucGx1Z2luTmFtZSxcblxuICAgICAgICBldmVudEluTmFtZXNwYWNlID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnROYW1lc3BhY2UgKyBcIi5cIiArIGV2ZW50TmFtZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuICAgICAgICAvLyBNaW1pY2luZywgYW5kIGV4dGVuZGluZyx0aGUgaW50ZXJuYWwgY3JlYXRlRXZlbnREYXRhIGJlc3Bva2UgdXNlc1xuICAgICAgICBjcmVhdGVFdmVudERhdGEgPSBmdW5jdGlvbihkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcGx1Z2luLmNyZWF0ZUV2ZW50RGF0YS5jYWxsKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFRPRE86IGNyZWF0ZSBhIHNlY29uZCBvYmplY3QgYm91bmQgdG8gYm90aCB0aGlzIGV4dGVybmFsIG9iamVjdCBhbmQgdGhlIGRlY2ssXG4gICAgICAgIC8vIHRvIGF2b2lkIHBhc3NpbmcgdGhlIGRlY2sgcGFyYW1ldGVyIGV2ZXJ5IHRpbWUuIChXaGljaCBjYW4gYmUgYWxsZXZpYXRlZCB3aXRoIHNpbXBsZXIgZnVuY3Rpb24gYmluZGluZyB0aG91Z2guKVxuICAgICAgICBmaXJlID0gZnVuY3Rpb24oZGVjaywgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgY3VzdG9tRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlY2suZmlyZShldmVudEluTmFtZXNwYWNlKGV2ZW50TmFtZSksIGNyZWF0ZUV2ZW50RGF0YShkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgY3VzdG9tRGF0YSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxvZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHByZWZpeGVzID0gW3RhZ107XG5cbiAgICAgICAgICAgIC8vIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZyBpcyBkeW5hbWljLCBzbyBjYW4ndCBiaW5kIGRpcmVjdGx5IHRvIGl0XG4gICAgICAgICAgICBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cuYXBwbHkoYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nLCBwcmVmaXhlcy5jb25jYXQocGx1Z2luLmNvcHlBcnJheShhcmd1bWVudHMpKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICAgICAgdmFyIGlzU3RvcmFnZUluaXRpYXRlZCA9IGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luKG9wdGlvbnMucGx1Z2luTmFtZSwgZGVjayk7XG5cbiAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VJbml0aWF0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlICdcIiArIG9wdGlvbnMucGx1Z2luTmFtZSArIFwiJyBwbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhY3RpdmF0ZWQgZm9yIHRoaXMgZGVjaywgY2FuJ3QgYWN0aXZhdGUgaXQgdHdpY2UuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmRUb0RlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgZGVja0JvdW5kID0ge307XG5cbiAgICAgICAgICAgIGRlY2tCb3VuZC5jcmVhdGVFdmVudERhdGEgPSBleHRlcm5hbC5jcmVhdGVFdmVudERhdGEuYmluZCh0aGlzLCBkZWNrKTtcbiAgICAgICAgICAgIGRlY2tCb3VuZC5maXJlID0gZXh0ZXJuYWwuZmlyZS5iaW5kKHRoaXMsIGRlY2spO1xuICAgICAgICAgICAgZGVja0JvdW5kLmdldFN0b3JhZ2UgPSBleHRlcm5hbC5nZXRTdG9yYWdlLmJpbmQodGhpcywgZGVjayk7XG4gICAgICAgICAgICBkZWNrQm91bmQubG9nID0gZXh0ZXJuYWwubG9nLmJpbmQodGhpcywgZGVjayk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWNrQm91bmQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWN0aXZhdGVEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICAgICAgdmFyIGRlY2tCb3VuZDtcblxuICAgICAgICAgICAgdGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrKGRlY2spO1xuICAgICAgICAgICAgaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZShvcHRpb25zLnBsdWdpbk5hbWUsIGRlY2spO1xuXG4gICAgICAgICAgICBkZWNrQm91bmQgPSBiaW5kVG9EZWNrKGRlY2spO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVja0JvdW5kO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmRFeHRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXh0ZXJuYWwuY3JlYXRlRXZlbnREYXRhID0gY3JlYXRlRXZlbnREYXRhLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5nZW5lcmF0ZUVycm9yT2JqZWN0ID0gZ2VuZXJhdGVFcnJvck9iamVjdC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZXh0ZXJuYWwuZmlyZSA9IGZpcmUuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGV4dGVybmFsLmxvZyA9IGxvZy5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZXh0ZXJuYWwuYWN0aXZhdGVEZWNrID0gYWN0aXZhdGVEZWNrLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5nZXRTdG9yYWdlID0gcGx1Z2luLmdldERlY2tQbHVnaW5TdG9yYWdlLmJpbmQodGhpcywgb3B0aW9ucy5wbHVnaW5OYW1lKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBiaW5kRXh0ZXJuYWwoKTtcbiAgICAgICAgfTtcblxuICAgIGluaXQoKTtcblxuICAgIHJldHVybiBleHRlcm5hbDtcbn07XG5cbnBsdWdpbi5nZXREZWNrU3RvcmFnZSA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgc3RvcmFnZSA9IG51bGw7XG5cbiAgICBkZWNrc1N0b3JhZ2VzLnNvbWUoZnVuY3Rpb24oZGVja1N0b3JhZ2UpIHtcbiAgICAgICAgaWYgKGRlY2tTdG9yYWdlLmRlY2sgPT09IGRlY2spIHtcbiAgICAgICAgICAgIHN0b3JhZ2UgPSBkZWNrU3RvcmFnZS5zdG9yYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RvcmFnZTtcbn07XG5cbnBsdWdpbi5nZXREZWNrUGx1Z2luU3RvcmFnZSA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcbiAgICBpZiAoIXBsdWdpbk5hbWUpIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcblxuICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwic3RvcmFnZSB3YXMgbm90IGluaXRpYXRlZCBmb3IgdGhpcyBkZWNrLlwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RvcmFnZVtwbHVnaW5OYW1lXTtcbn07XG5cbi8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4vLyBNaW1pY2luZywgYW5kIGV4dGVuZGluZyx0aGUgaW50ZXJuYWwgY3JlYXRlRXZlbnREYXRhIGJlc3Bva2UgdXNlc1xucGx1Z2luLmNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpIHtcbiAgICBldmVudERhdGEgPSBldmVudERhdGEgfHwge307XG5cbiAgICBldmVudERhdGEuZXZlbnROYW1lc3BhY2UgPSBldmVudE5hbWVzcGFjZSB8fCBudWxsO1xuXG4gICAgZXZlbnREYXRhLmV2ZW50TmFtZSA9IGV2ZW50TmFtZSB8fCBudWxsO1xuXG4gICAgLy8gQ2FuIGJlIGVpdGhlciBhIERPTS9icm93c2VyIGV2ZW50IG9yIGEgYmVzcG9rZSBldmVudFxuICAgIGV2ZW50RGF0YS5pbm5lckV2ZW50ID0gaW5uZXJFdmVudCB8fCBudWxsO1xuXG4gICAgaWYgKGlzTnVtYmVyKHNsaWRlKSkge1xuICAgICAgICBldmVudERhdGEuaW5kZXggPSBzbGlkZTtcbiAgICAgICAgZXZlbnREYXRhLnNsaWRlID0gdGhpcy5zbGlkZXNbc2xpZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHRoaXMuc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuICAgICAgICBldmVudERhdGEuc2xpZGUgPSBzbGlkZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXZlbnREYXRhO1xufTtcblxucGx1Z2luLmNvcHlBcnJheSA9IGZ1bmN0aW9uKGFycikge1xuICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGFyciwgMCk7XG59O1xuXG5jdiA9IHBsdWdpbi5idWlsZGVyKHBsdWdpbk5hbWUpO1xuXG5pbml0KCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jlc3Bva2UtY29udmVuaWVudC9saWIvYmVzcG9rZS1jb252ZW5pZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgcmVxdWlyZTp0cnVlLCB3aW5kb3c6dHJ1ZSwgZG9jdW1lbnQ6dHJ1ZSwgTWF0aDp0cnVlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgcGx1Z2luTmFtZSA9IFwic2Vjb25kYXJ5XCIsXG4gICAgLy8gSGFjayB0byBnZXQgYXJvdW5kIGhhdmluZyB0byB3cml0ZSBhbGwgYnJvd3NlciBjb2RlIHdpdGggcmVxdWlyZSgpLlxuICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfShGdW5jdGlvbikpLFxuICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCByZXF1aXJlKFwiYmVzcG9rZS1jb252ZW5pZW50XCIpKSxcbiAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblxuICAgIC8vIE1ha2luZyBzdXJlIGluZGV4ZmluZ2VyIGlzIGF2YWlsYWJsZS5cbiAgICAvLyBUT0RPOiBjaGVjayB0aGF0IGluZGV4ZmluZ2VyIGhhcyBiZWVuIGxvYWRlZDsgbWF5YmUgY2hlY2tpbmcgZm9yIGRlY2suZ2V0QWN0aXZlU2xpZGUoKS5cbiAgICBpbmRleGZpbmdlciA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmluZGV4ZmluZ2VyKSB8fCByZXF1aXJlKFwiYmVzcG9rZS1pbmRleGZpbmdlclwiKSksXG5cbiAgICBLZXlDb25zdGFudHMgPSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50I1ZpcnR1YWxfa2V5X2NvZGVzXG4gICAgICAgIFM6IDB4NTMsIC8vICg4MykgXCJTXCIga2V5LlxuICAgIH0sXG5cbiAgICBkZWZhdWx0cyA9IHtcbiAgICAgICAgbm90ZXM6IFwiYXNpZGVcIixcbiAgICAgICAga2V5czoge1xuICAgICAgICAgICAgdG9nZ2xlOiBLZXlDb25zdGFudHMuU1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHJhbmRvbUludGVnZXIgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICAgICAgICAvLyBUT0RPOiBsb29rIGZvciBzb21lb25lIGVsc2UncyBpbXBsZW1lbnRhdGlvbiAtIHRoZXkndmUgcHJvYmFibHkgY292ZXJlZCBhbGwgdGhlIGNvcm5lciBjYXNlcy5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgZG8gZm9yIDAgPD0gZnJvbSA8IHRvIDwgKHJhbmRvbSdzIHJlc29sdXRpb24pIHRob3VnaC5cbiAgICAgICAgdmFyIGRpZmYsXG4gICAgICAgICAgICBybmQ7XG5cbiAgICAgICAgaWYgKHRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRvID0gZnJvbTtcbiAgICAgICAgICAgIGZyb20gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlmZiA9IHRvIC0gZnJvbTtcblxuICAgICAgICBybmQgPSBmcm9tICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGlmZik7XG5cbiAgICAgICAgcmV0dXJuIHJuZDtcbiAgICB9LFxuXG4gICAgYmFzZVdpbmRvd05hbWUgPSBwbHVnaW5OYW1lICsgXCItd2luZG93LVwiLFxuXG4gICAgZ2VuZXJhdGVXaW5kb3dOYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBybmQgPSByYW5kb21JbnRlZ2VyKDEwMDAsIDEwMDAwKSxcbiAgICAgICAgICAgIHdpbmRvd05hbWUgPSBiYXNlV2luZG93TmFtZSArIHJuZDtcblxuICAgICAgICByZXR1cm4gd2luZG93TmFtZTtcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgIGRvYy5ib2R5LmlubmVySFRNTCA9IFwiPGgxPk5vdGVzPC9oMT48ZGl2IGlkPSdub3Rlcyc+PC9kaXY+XCI7XG4gICAgfSxcblxuICAgIHBsdWdpbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlY2tlciA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgICAgIHZhciBjdkJvdW5kVG9EZWNrID0gY3YuYWN0aXZhdGVEZWNrKGRlY2spLFxuXG4gICAgICAgICAgICAgICAgb2ZmID0ge30sXG5cbiAgICAgICAgICAgICAgICB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGdldE5vdGVzRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkud2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudCAmJiB0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3Rlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBpc09wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnNlY29uZGFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ID0gcy53aW5kb3csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXNJbml0aWFsaXplZCwgaXNOb3ROdWxsLCBpc05vdENsb3NlZCwgaXNPd25lZEJ5VGhpc1dpbmRvdywgY29udGFpbnNOb3Rlc0VsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAhIShzICE9PSB1bmRlZmluZWQgJiYgdyAhPT0gbnVsbCAmJiB3LmNsb3NlZCAhPT0gdHJ1ZSAmJiB3Lm9wZW5lciA9PT0gd2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpICE9PSBudWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBvcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cgPSB3aW5kb3cub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVTZWNvbmRhcnlXaW5kb3dDb250ZW50cyh0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOb3RlcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUgPSB0aGlzLmdldEFjdGl2ZVNsaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlTm90ZXMgPSBjb252ZW5pZW50LmNvcHlBcnJheShzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMubm90ZXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm90ZXMgPSBzbGlkZU5vdGVzLnJlZHVjZShmdW5jdGlvbihub3Rlc0h0bWwsIHNsaWRlTm90ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3Rlc0h0bWwgKyBzbGlkZU5vdGUub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gYWxsTm90ZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5V2luZG93TmFtZTogZ2VuZXJhdGVXaW5kb3dOYW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXROb3Rlc0VsZW1lbnQ6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5nZXROb3Rlc0VsZW1lbnQuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmlzT3Blbi5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLm9wZW4uYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuY2xvc2UuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuZm9jdXMuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLnRvZ2dsZS5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5zeW5jaHJvbml6ZS5iaW5kKGRlY2spXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG1lcmdlIGZ1bmN0aW9uP1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzID0ge307XG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzLnRvZ2dsZSA9IChvcHRpb25zLmtleXMgJiYgb3B0aW9ucy5rZXlzLnRvZ2dsZSkgfHwgZGVmYXVsdHMua2V5cy50b2dnbGU7XG5cbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLm5vdGVzID0gb3B0aW9ucy5ub3RlcyB8fCBkZWZhdWx0cy5ub3RlcztcblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gbWVyZ2VkO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBrZXlEb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudEhhbmRsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBObyBtb2RpZmllciBrZXlzLCBwbGVhc2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlLmFsdEtleSAmJiAhZS5jdHJsS2V5ICYmICFlLm1ldGFLZXkgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlZCA9IGV2ZW50SGFuZGxlZCB8fCAoZS53aGljaCA9PT0gb3B0aW9ucy5rZXlzLnRvZ2dsZSAmJiBjdkJvdW5kVG9EZWNrLmZpcmUoXCJ0b2dnbGVcIiwgZSkgJiYgZGVjay5zZWNvbmRhcnkudG9nZ2xlKCkgJiYgZGVjay5zZWNvbmRhcnkuc3luY2hyb25pemUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWV2ZW50SGFuZGxlZDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgb25CZWZvcmVVbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjay5zZWNvbmRhcnkuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgb25BY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeS5zeW5jaHJvbml6ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBlbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgZG9lc24ndCBzZWVtIHRvIHdvcmsgZm9yIG9uYmVmb3JldW5sb2FkXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IG9uQmVmb3JlVW5sb2FkO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleURvd25MaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBvZmYuYWN0aXZhdGUgPSBkZWNrLm9uKFwiYWN0aXZhdGVcIiwgb25BY3RpdmF0ZSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlY2tlcjtcbiAgICB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iZXNwb2tlLXNlY29uZGFyeS9saWIvYmVzcG9rZS1zZWNvbmRhcnkuanNcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdfQ==
